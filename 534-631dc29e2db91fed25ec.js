/*! For license information please see 534-631dc29e2db91fed25ec.js.LICENSE.txt */
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="73567d34-14a8-45fd-abac-9fbd8f4ab1bc",e._sentryDebugIdIdentifier="sentry-dbid-73567d34-14a8-45fd-abac-9fbd8f4ab1bc")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"9daa02d3c0fa9083f334e8dceb3865c8cc81df1a"},(self.webpackChunksignal=self.webpackChunksignal||[]).push([[248,534],{97855:(e,t,n)=>{"use strict";n.d(t,{Aw:()=>a,L4:()=>o,bO:()=>s});var r=n(63696);const i={display:"none"};function a(e){let{id:t,value:n}=e;return r.createElement("div",{id:t,style:i},n)}function o(e){let{id:t,announcement:n,ariaLiveType:i="assertive"}=e;return r.createElement("div",{id:t,style:{position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":i,"aria-atomic":!0},n)}function s(){const[e,t]=(0,r.useState)("");return{announce:(0,r.useCallback)((e=>{null!=e&&t(e)}),[]),announcement:e}}},93275:(e,t,n)=>{"use strict";n.d(t,{AN:()=>oe,FR:()=>p,MS:()=>f,Mp:()=>De,PM:()=>Ve,Sj:()=>O,Vy:()=>y,fF:()=>He,fp:()=>S,sl:()=>I,uN:()=>te,vL:()=>$,y$:()=>k,zM:()=>Ge});var r=n(63696),i=n(78325),a=n(39391),o=n(97855);const s=(0,r.createContext)(null),c={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},l={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function u(e){let{announcements:t=l,container:n,hiddenTextDescribedById:u,screenReaderInstructions:h=c}=e;const{announce:d,announcement:f}=(0,o.bO)(),p=(0,a.YG)("DndLiveRegion"),[m,g]=(0,r.useState)(!1);if((0,r.useEffect)((()=>{g(!0)}),[]),function(e){const t=(0,r.useContext)(s);(0,r.useEffect)((()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)}),[e,t])}((0,r.useMemo)((()=>({onDragStart(e){let{active:n}=e;d(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&d(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;d(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;d(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;d(t.onDragCancel({active:n,over:r}))}})),[d,t])),!m)return null;const v=r.createElement(r.Fragment,null,r.createElement(o.Aw,{id:u,value:h.draggable}),r.createElement(o.L4,{id:p,announcement:f}));return n?(0,i.createPortal)(v,n):v}var h;function d(){}function f(e,t){return(0,r.useMemo)((()=>({sensor:e,options:null!=t?t:{}})),[e,t])}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)((()=>[...t].filter((e=>null!=e))),[...t])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(h||(h={}));const m=Object.freeze({x:0,y:0});function g(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function v(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function b(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function _(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function y(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}function w(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const S=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=w(t,t.left,t.top),a=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=g(w(r),i);a.push({id:t,data:{droppableContainer:e,value:n}})}}return a.sort(v)},k=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=_(t),a=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=_(r),o=i.reduce(((e,t,r)=>e+g(n[r],t)),0),s=Number((o/4).toFixed(4));a.push({id:t,data:{droppableContainer:e,value:s}})}}return a.sort(v)};function x(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-r,s=a-n;if(r<i&&n<a){const n=t.width*t.height,r=e.width*e.height,i=o*s;return Number((i/(n+r-i)).toFixed(4))}return 0}const M=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const e of r){const{id:r}=e,a=n.get(r);if(a){const n=x(a,t);n>0&&i.push({id:r,data:{droppableContainer:e,value:n}})}}return i.sort(b)};function E(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:m}function T(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce(((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x})),{...t})}}const C=T(1);const A={ignoreTransform:!1};function O(e,t){void 0===t&&(t=A);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=(0,a.zk)(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=function(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!r)return e;const{scaleX:i,scaleY:a,x:o,y:s}=r,c=e.left-o-(1-i)*parseFloat(n),l=e.top-s-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),u=i?e.width/i:e.width,h=a?e.height/a:e.height;return{width:u,height:h,top:l,right:c+u,bottom:l+h,left:c}}(n,t,r))}const{top:r,left:i,width:o,height:s,bottom:c,right:l}=n;return{top:r,left:i,width:o,height:s,bottom:c,right:l}}function P(e){return O(e,{ignoreTransform:!0})}function I(e,t){const n=[];return e?function r(i){if(null!=t&&n.length>=t)return n;if(!i)return n;if((0,a.wz)(i)&&null!=i.scrollingElement&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!(0,a.sb)(i)||(0,a.xZ)(i))return n;if(n.includes(i))return n;const o=(0,a.zk)(e).getComputedStyle(i);return i!==e&&function(e,t){void 0===t&&(t=(0,a.zk)(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some((e=>{const r=t[e];return"string"==typeof r&&n.test(r)}))}(i,o)&&n.push(i),function(e,t){return void 0===t&&(t=(0,a.zk)(e).getComputedStyle(e)),"fixed"===t.position}(i,o)?n:r(i.parentNode)}(e):n}function R(e){const[t]=I(e,1);return null!=t?t:null}function B(e){return a.Sw&&e?(0,a.l6)(e)?e:(0,a.Ll)(e)?(0,a.wz)(e)||e===(0,a.TW)(e).scrollingElement?window:(0,a.sb)(e)?e:null:null:null}function N(e){return(0,a.l6)(e)?e.scrollX:e.scrollLeft}function L(e){return(0,a.l6)(e)?e.scrollY:e.scrollTop}function D(e){return{x:N(e),y:L(e)}}var j;function z(e){return!(!a.Sw||!e)&&e===document.scrollingElement}function F(e){const t={x:0,y:0},n=z(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(j||(j={}));const V={x:.2,y:.2};function H(e,t,n,r,i){let{top:a,left:o,right:s,bottom:c}=n;void 0===r&&(r=10),void 0===i&&(i=V);const{isTop:l,isBottom:u,isLeft:h,isRight:d}=F(e),f={x:0,y:0},p={x:0,y:0},m=t.height*i.y,g=t.width*i.x;return!l&&a<=t.top+m?(f.y=j.Backward,p.y=r*Math.abs((t.top+m-a)/m)):!u&&c>=t.bottom-m&&(f.y=j.Forward,p.y=r*Math.abs((t.bottom-m-c)/m)),!d&&s>=t.right-g?(f.x=j.Forward,p.x=r*Math.abs((t.right-g-s)/g)):!h&&o<=t.left+g&&(f.x=j.Backward,p.x=r*Math.abs((t.left+g-o)/g)),{direction:f,speed:p}}function W(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function U(e){return e.reduce(((e,t)=>(0,a.WQ)(e,D(t))),m)}const G=[["x",["left","right"],function(e){return e.reduce(((e,t)=>e+N(t)),0)}],["y",["top","bottom"],function(e){return e.reduce(((e,t)=>e+L(t)),0)}]];class q{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=I(t),r=U(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,i]of G)for(const a of t)Object.defineProperty(this,a,{get:()=>{const t=i(n),o=r[e]-t;return this.rect[a]+o},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Y{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function X(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var K,$;function Z(e){e.preventDefault()}function J(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(K||(K={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"}($||($={}));const Q={start:[$.Space,$.Enter],cancel:[$.Esc],end:[$.Space,$.Enter]},ee=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case $.Right:return{...n,x:n.x+25};case $.Left:return{...n,x:n.x-25};case $.Down:return{...n,y:n.y+25};case $.Up:return{...n,y:n.y-25}}};class te{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Y((0,a.TW)(t)),this.windowListeners=new Y((0,a.zk)(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(K.Resize,this.handleCancel),this.windowListeners.add(K.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(K.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&function(e,t){if(void 0===t&&(t=O),!e)return;const{top:n,left:r,bottom:i,right:a}=t(e);R(e)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(n),t(m)}handleKeyDown(e){if((0,a.kx)(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:i=Q,coordinateGetter:o=ee,scrollBehavior:s="smooth"}=r,{code:c}=e;if(i.end.includes(c))return void this.handleEnd(e);if(i.cancel.includes(c))return void this.handleCancel(e);const{collisionRect:l}=n.current,u=l?{x:l.left,y:l.top}:m;this.referenceCoordinates||(this.referenceCoordinates=u);const h=o(e,{active:t,context:n.current,currentCoordinates:u});if(h){const t=(0,a.Re)(h,u),r={x:0,y:0},{scrollableAncestors:i}=n.current;for(const n of i){const i=e.code,{isTop:a,isRight:o,isLeft:c,isBottom:l,maxScroll:u,minScroll:d}=F(n),f=W(n),p={x:Math.min(i===$.Right?f.right-f.width/2:f.right,Math.max(i===$.Right?f.left:f.left+f.width/2,h.x)),y:Math.min(i===$.Down?f.bottom-f.height/2:f.bottom,Math.max(i===$.Down?f.top:f.top+f.height/2,h.y))},m=i===$.Right&&!o||i===$.Left&&!c,g=i===$.Down&&!l||i===$.Up&&!a;if(m&&p.x!==h.x){const e=n.scrollLeft+t.x,a=i===$.Right&&e<=u.x||i===$.Left&&e>=d.x;if(a&&!t.y)return void n.scrollTo({left:e,behavior:s});r.x=a?n.scrollLeft-e:i===$.Right?n.scrollLeft-u.x:n.scrollLeft-d.x,r.x&&n.scrollBy({left:-r.x,behavior:s});break}if(g&&p.y!==h.y){const e=n.scrollTop+t.y,a=i===$.Down&&e<=u.y||i===$.Up&&e>=d.y;if(a&&!t.x)return void n.scrollTo({top:e,behavior:s});r.y=a?n.scrollTop-e:i===$.Down?n.scrollTop-u.y:n.scrollTop-d.y,r.y&&n.scrollBy({top:-r.y,behavior:s});break}}this.handleMove(e,(0,a.WQ)((0,a.Re)(h,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function ne(e){return Boolean(e&&"distance"in e)}function re(e){return Boolean(e&&"delay"in e)}te.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Q,onActivation:i}=t,{active:a}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const t=a.activatorNode.current;return!(t&&e.target!==t||(e.preventDefault(),null==i||i({event:e.nativeEvent}),0))}return!1}}];class ie{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=(0,a.zk)(e);return e instanceof t?e:(0,a.TW)(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:i}=e,{target:o}=i;this.props=e,this.events=t,this.document=(0,a.TW)(o),this.documentListeners=new Y(this.document),this.listeners=new Y(n),this.windowListeners=new Y((0,a.zk)(o)),this.initialCoordinates=null!=(r=(0,a.e_)(i))?r:m,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(K.Resize,this.handleCancel),this.windowListeners.add(K.DragStart,Z),this.windowListeners.add(K.VisibilityChange,this.handleCancel),this.windowListeners.add(K.ContextMenu,Z),this.documentListeners.add(K.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(re(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay));if(ne(t))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(K.Click,J,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(K.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:i}=this,{onMove:o,options:{activationConstraint:s}}=i;if(!r)return;const c=null!=(t=(0,a.e_)(e))?t:m,l=(0,a.Re)(r,c);if(!n&&s){if(ne(s)){if(null!=s.tolerance&&X(l,s.tolerance))return this.handleCancel();if(X(l,s.distance))return this.handleStart()}return re(s)&&X(l,s.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),o(c)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===$.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const ae={move:{name:"pointermove"},end:{name:"pointerup"}};class oe extends ie{constructor(e){const{event:t}=e,n=(0,a.TW)(t.target);super(e,ae,n)}}oe.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button||(null==r||r({event:n}),0))}}];const se={move:{name:"mousemove"},end:{name:"mouseup"}};var ce;!function(e){e[e.RightClick=2]="RightClick"}(ce||(ce={})),class extends ie{constructor(e){super(e,se,(0,a.TW)(e.event.target))}}.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==ce.RightClick&&(null==r||r({event:n}),!0)}}];const le={move:{name:"touchmove"},end:{name:"touchend"}};var ue,he;(class extends ie{constructor(e){super(e,le)}static setup(){return window.addEventListener(le.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(le.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return!(i.length>1||(null==r||r({event:n}),0))}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(ue||(ue={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(he||(he={}));const de={x:{[j.Backward]:!1,[j.Forward]:!1},y:{[j.Backward]:!1,[j.Forward]:!1}};var fe,pe;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(fe||(fe={})),function(e){e.Optimized="optimized"}(pe||(pe={}));const me=new Map;function ge(e,t){return(0,a.KG)((n=>e?n||("function"==typeof t?t(e):e):null),[t,e])}function ve(e){let{callback:t,disabled:n}=e;const i=(0,a._q)(t),o=(0,r.useMemo)((()=>{if(n||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(i)}),[n]);return(0,r.useEffect)((()=>()=>null==o?void 0:o.disconnect()),[o]),o}function be(e){return new q(O(e),e)}function _e(e,t,n){void 0===t&&(t=be);const[i,o]=(0,r.useReducer)((function(r){if(!e)return null;var i;if(!1===e.isConnected)return null!=(i=null!=r?r:n)?i:null;const a=t(e);return JSON.stringify(r)===JSON.stringify(a)?r:a}),null),s=function(e){let{callback:t,disabled:n}=e;const i=(0,a._q)(t),o=(0,r.useMemo)((()=>{if(n||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(i)}),[i,n]);return(0,r.useEffect)((()=>()=>null==o?void 0:o.disconnect()),[o]),o}({callback(t){if(e)for(const n of t){const{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){o();break}}}}),c=ve({callback:o});return(0,a.Es)((()=>{o(),e?(null==c||c.observe(e),null==s||s.observe(document.body,{childList:!0,subtree:!0})):(null==c||c.disconnect(),null==s||s.disconnect())}),[e]),i}const ye=[];function we(e,t){void 0===t&&(t=[]);const n=(0,r.useRef)(null);return(0,r.useEffect)((()=>{n.current=null}),t),(0,r.useEffect)((()=>{const t=e!==m;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)}),[e]),n.current?(0,a.Re)(e,n.current):m}function Se(e){return(0,r.useMemo)((()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null),[e])}const ke=[];const xe=[{sensor:oe,options:{}},{sensor:te,options:{}}],Me={current:{}},Ee={draggable:{measure:P},droppable:{measure:P,strategy:fe.WhileDragging,frequency:pe.Optimized},dragOverlay:{measure:O}};class Te extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((e=>{let{disabled:t}=e;return!t}))}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const Ce={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Te,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:d},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ee,measureDroppableContainers:d,windowRect:null,measuringScheduled:!1},Ae={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:d,draggableNodes:new Map,over:null,measureDroppableContainers:d},Oe=(0,r.createContext)(Ae),Pe=(0,r.createContext)(Ce);function Ie(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Te}}}function Re(e,t){switch(t.type){case h.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case h.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case h.DragEnd:case h.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case h.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new Te(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case h.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const o=new Te(e.droppable.containers);return o.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case h.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new Te(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function Be(e){let{disabled:t}=e;const{active:n,activatorEvent:i,draggableNodes:o}=(0,r.useContext)(Oe),s=(0,a.ZC)(i),c=(0,a.ZC)(null==n?void 0:n.id);return(0,r.useEffect)((()=>{if(!t&&!i&&s&&null!=c){if(!(0,a.kx)(s))return;if(document.activeElement===s.target)return;const e=o.get(c);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame((()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=(0,a.ag)(e);if(t){t.focus();break}}}))}}),[i,t,o,c,s]),null}const Ne=(0,r.createContext)({...m,scaleX:1,scaleY:1});var Le;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(Le||(Le={}));const De=(0,r.memo)((function(e){var t,n,o,c;let{id:l,accessibility:d,autoScroll:f=!0,children:p,sensors:g=xe,collisionDetection:v=M,measuring:b,modifiers:_,...w}=e;const S=(0,r.useReducer)(Re,void 0,Ie),[k,x]=S,[T,A]=function(){const[e]=(0,r.useState)((()=>new Set)),t=(0,r.useCallback)((t=>(e.add(t),()=>e.delete(t))),[e]);return[(0,r.useCallback)((t=>{let{type:n,event:r}=t;e.forEach((e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)}))}),[e]),t]}(),[P,N]=(0,r.useState)(Le.Uninitialized),L=P===Le.Initialized,{draggable:{active:F,nodes:V,translate:W},droppable:{containers:G}}=k,Y=F?V.get(F):null,X=(0,r.useRef)({initial:null,translated:null}),K=(0,r.useMemo)((()=>{var e;return null!=F?{id:F,data:null!=(e=null==Y?void 0:Y.data)?e:Me,rect:X}:null}),[F,Y]),$=(0,r.useRef)(null),[Z,J]=(0,r.useState)(null),[Q,ee]=(0,r.useState)(null),te=(0,a.YN)(w,Object.values(w)),ne=(0,a.YG)("DndDescribedBy",l),re=(0,r.useMemo)((()=>G.getEnabled()),[G]),ie=(ae=b,(0,r.useMemo)((()=>({draggable:{...Ee.draggable,...null==ae?void 0:ae.draggable},droppable:{...Ee.droppable,...null==ae?void 0:ae.droppable},dragOverlay:{...Ee.dragOverlay,...null==ae?void 0:ae.dragOverlay}})),[null==ae?void 0:ae.draggable,null==ae?void 0:ae.droppable,null==ae?void 0:ae.dragOverlay]));var ae;const{droppableRects:oe,measureDroppableContainers:se,measuringScheduled:ce}=function(e,t){let{dragging:n,dependencies:i,config:o}=t;const[s,c]=(0,r.useState)(null),{frequency:l,measure:u,strategy:h}=o,d=(0,r.useRef)(e),f=function(){switch(h){case fe.Always:return!1;case fe.BeforeDragging:return n;default:return!n}}(),p=(0,a.YN)(f),m=(0,r.useCallback)((function(e){void 0===e&&(e=[]),p.current||c((t=>null===t?e:t.concat(e.filter((e=>!t.includes(e))))))}),[p]),g=(0,r.useRef)(null),v=(0,a.KG)((t=>{if(f&&!n)return me;if(!t||t===me||d.current!==e||null!=s){const t=new Map;for(let n of e){if(!n)continue;if(s&&s.length>0&&!s.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,r=e?new q(u(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t}),[e,s,n,f,u]);return(0,r.useEffect)((()=>{d.current=e}),[e]),(0,r.useEffect)((()=>{f||m()}),[n,f]),(0,r.useEffect)((()=>{s&&s.length>0&&c(null)}),[JSON.stringify(s)]),(0,r.useEffect)((()=>{f||"number"!=typeof l||null!==g.current||(g.current=setTimeout((()=>{m(),g.current=null}),l))}),[l,f,m,...i]),{droppableRects:v,measureDroppableContainers:m,measuringScheduled:null!=s}}(re,{dragging:L,dependencies:[W.x,W.y],config:ie.droppable}),le=function(e,t){const n=null!==t?e.get(t):void 0,r=n?n.node.current:null;return(0,a.KG)((e=>{var n;return null===t?null:null!=(n=null!=r?r:e)?n:null}),[r,t])}(V,F),pe=(0,r.useMemo)((()=>Q?(0,a.e_)(Q):null),[Q]),be=function(){const e=!1===(null==Z?void 0:Z.autoScrollEnabled),t="object"==typeof f?!1===f.enabled:!1===f,n=L&&!e&&!t;return"object"==typeof f?{...f,enabled:n}:{enabled:n}}(),Te=function(e,t){return ge(e,t)}(le,ie.draggable.measure);!function(e){let{activeNode:t,measure:n,initialRect:i,config:o=!0}=e;const s=(0,r.useRef)(!1),{x:c,y:l}="boolean"==typeof o?{x:o,y:o}:o;(0,a.Es)((()=>{if(!c&&!l||!t)return void(s.current=!1);if(s.current||!i)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const r=E(n(e),i);if(c||(r.x=0),l||(r.y=0),s.current=!0,Math.abs(r.x)>0||Math.abs(r.y)>0){const t=R(e);t&&t.scrollBy({top:r.y,left:r.x})}}),[t,c,l,i,n])}({activeNode:F?V.get(F):null,config:be.layoutShiftCompensation,initialRect:Te,measure:ie.draggable.measure});const Ce=_e(le,ie.draggable.measure,Te),Ae=_e(le?le.parentElement:null),De=(0,r.useRef)({activatorEvent:null,active:null,activeNode:le,collisionRect:null,collisions:null,droppableRects:oe,draggableNodes:V,draggingNode:null,draggingNodeRect:null,droppableContainers:G,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),je=G.getNodeFor(null==(t=De.current.over)?void 0:t.id),ze=function(e){let{measure:t}=e;const[n,i]=(0,r.useState)(null),o=ve({callback:(0,r.useCallback)((e=>{for(const{target:n}of e)if((0,a.sb)(n)){i((e=>{const r=t(n);return e?{...e,width:r.width,height:r.height}:r}));break}}),[t])}),s=(0,r.useCallback)((e=>{const n=function(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return(0,a.sb)(t)?t:e}(e);null==o||o.disconnect(),n&&(null==o||o.observe(n)),i(n?t(n):null)}),[t,o]),[c,l]=(0,a.lk)(s);return(0,r.useMemo)((()=>({nodeRef:c,rect:n,setRef:l})),[n,c,l])}({measure:ie.dragOverlay.measure}),Fe=null!=(n=ze.nodeRef.current)?n:le,Ve=L?null!=(o=ze.rect)?o:Ce:null,He=Boolean(ze.nodeRef.current&&ze.rect),We=E(Ue=He?null:Ce,ge(Ue));var Ue;const Ge=Se(Fe?(0,a.zk)(Fe):null),qe=function(e){const t=(0,r.useRef)(e),n=(0,a.KG)((n=>e?n&&n!==ye&&e&&t.current&&e.parentNode===t.current.parentNode?n:I(e):ye),[e]);return(0,r.useEffect)((()=>{t.current=e}),[e]),n}(L?null!=je?je:le:null),Ye=function(e,t){void 0===t&&(t=O);const[n]=e,i=Se(n?(0,a.zk)(n):null),[o,s]=(0,r.useReducer)((function(){return e.length?e.map((e=>z(e)?i:new q(t(e),e))):ke}),ke),c=ve({callback:s});return e.length>0&&o===ke&&s(),(0,a.Es)((()=>{e.length?e.forEach((e=>null==c?void 0:c.observe(e))):(null==c||c.disconnect(),s())}),[e]),o}(qe),Xe=function(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce(((e,t)=>t({transform:e,...r})),n):n}(_,{transform:{x:W.x-We.x,y:W.y-We.y,scaleX:1,scaleY:1},activatorEvent:Q,active:K,activeNodeRect:Ce,containerNodeRect:Ae,draggingNodeRect:Ve,over:De.current.over,overlayNodeRect:ze.rect,scrollableAncestors:qe,scrollableAncestorRects:Ye,windowRect:Ge}),Ke=pe?(0,a.WQ)(pe,W):null,$e=function(e){const[t,n]=(0,r.useState)(null),i=(0,r.useRef)(e),o=(0,r.useCallback)((e=>{const t=B(e.target);t&&n((e=>e?(e.set(t,D(t)),new Map(e)):null))}),[]);return(0,r.useEffect)((()=>{const t=i.current;if(e!==t){r(t);const a=e.map((e=>{const t=B(e);return t?(t.addEventListener("scroll",o,{passive:!0}),[t,D(t)]):null})).filter((e=>null!=e));n(a.length?new Map(a):null),i.current=e}return()=>{r(e),r(t)};function r(e){e.forEach((e=>{const t=B(e);null==t||t.removeEventListener("scroll",o)}))}}),[o,e]),(0,r.useMemo)((()=>e.length?t?Array.from(t.values()).reduce(((e,t)=>(0,a.WQ)(e,t)),m):U(e):m),[e,t])}(qe),Ze=we($e),Je=we($e,[Ce]),Qe=(0,a.WQ)(Xe,Ze),et=Ve?C(Ve,Xe):null,tt=K&&et?v({active:K,collisionRect:et,droppableRects:oe,droppableContainers:re,pointerCoordinates:Ke}):null,nt=y(tt,"id"),[rt,it]=(0,r.useState)(null),at=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(He?Xe:(0,a.WQ)(Xe,Je),null!=(c=null==rt?void 0:rt.rect)?c:null,Ce),ot=(0,r.useCallback)(((e,t)=>{let{sensor:n,options:r}=t;if(null==$.current)return;const a=V.get($.current);if(!a)return;const o=e.nativeEvent,s=new n({active:$.current,activeNode:a,event:o,options:r,context:De,onStart(e){const t=$.current;if(null==t)return;const n=V.get(t);if(!n)return;const{onDragStart:r}=te.current,a={active:{id:t,data:n.data,rect:X}};(0,i.unstable_batchedUpdates)((()=>{null==r||r(a),N(Le.Initializing),x({type:h.DragStart,initialCoordinates:e,active:t}),T({type:"onDragStart",event:a})}))},onMove(e){x({type:h.DragMove,coordinates:e})},onEnd:c(h.DragEnd),onCancel:c(h.DragCancel)});function c(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:a}=De.current;let s=null;if(t&&a){const{cancelDrop:i}=te.current;s={activatorEvent:o,active:t,collisions:n,delta:a,over:r},e===h.DragEnd&&"function"==typeof i&&await Promise.resolve(i(s))&&(e=h.DragCancel)}$.current=null,(0,i.unstable_batchedUpdates)((()=>{x({type:e}),N(Le.Uninitialized),it(null),J(null),ee(null);const t=e===h.DragEnd?"onDragEnd":"onDragCancel";if(s){const e=te.current[t];null==e||e(s),T({type:t,event:s})}}))}}(0,i.unstable_batchedUpdates)((()=>{J(s),ee(e.nativeEvent)}))}),[V]),st=(0,r.useCallback)(((e,t)=>(n,r)=>{const i=n.nativeEvent,a=V.get(r);if(null!==$.current||!a||i.dndKit||i.defaultPrevented)return;const o={active:a};!0===e(n,t.options,o)&&(i.dndKit={capturedBy:t.sensor},$.current=r,ot(n,t))}),[V,ot]),ct=function(e,t){return(0,r.useMemo)((()=>e.reduce(((e,n)=>{const{sensor:r}=n;return[...e,...r.activators.map((e=>({eventName:e.eventName,handler:t(e.handler,n)})))]}),[])),[e,t])}(g,st);!function(e){(0,r.useEffect)((()=>{if(!a.Sw)return;const t=e.map((e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()}));return()=>{for(const e of t)null==e||e()}}),e.map((e=>{let{sensor:t}=e;return t})))}(g),(0,a.Es)((()=>{Ce&&P===Le.Initializing&&N(Le.Initialized)}),[Ce,P]),(0,r.useEffect)((()=>{const{onDragMove:e}=te.current,{active:t,activatorEvent:n,collisions:r,over:a}=De.current;if(!t||!n)return;const o={active:t,activatorEvent:n,collisions:r,delta:{x:Qe.x,y:Qe.y},over:a};(0,i.unstable_batchedUpdates)((()=>{null==e||e(o),T({type:"onDragMove",event:o})}))}),[Qe.x,Qe.y]),(0,r.useEffect)((()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:a}=De.current;if(!e||null==$.current||!t||!a)return;const{onDragOver:o}=te.current,s=r.get(nt),c=s&&s.rect.current?{id:s.id,rect:s.rect.current,data:s.data,disabled:s.disabled}:null,l={active:e,activatorEvent:t,collisions:n,delta:{x:a.x,y:a.y},over:c};(0,i.unstable_batchedUpdates)((()=>{it(c),null==o||o(l),T({type:"onDragOver",event:l})}))}),[nt]),(0,a.Es)((()=>{De.current={activatorEvent:Q,active:K,activeNode:le,collisionRect:et,collisions:tt,droppableRects:oe,draggableNodes:V,draggingNode:Fe,draggingNodeRect:Ve,droppableContainers:G,over:rt,scrollableAncestors:qe,scrollAdjustedTranslate:Qe},X.current={initial:Ve,translated:et}}),[K,le,tt,et,V,Fe,Ve,oe,G,rt,qe,Qe]),function(e){let{acceleration:t,activator:n=ue.Pointer,canScroll:i,draggingRect:o,enabled:s,interval:c=5,order:l=he.TreeOrder,pointerCoordinates:u,scrollableAncestors:h,scrollableAncestorRects:d,delta:f,threshold:p}=e;const m=function(e){let{delta:t,disabled:n}=e;const r=(0,a.ZC)(t);return(0,a.KG)((e=>{if(n||!r||!e)return de;const i=Math.sign(t.x-r.x),a=Math.sign(t.y-r.y);return{x:{[j.Backward]:e.x[j.Backward]||-1===i,[j.Forward]:e.x[j.Forward]||1===i},y:{[j.Backward]:e.y[j.Backward]||-1===a,[j.Forward]:e.y[j.Forward]||1===a}}}),[n,t,r])}({delta:f,disabled:!s}),[g,v]=(0,a.$$)(),b=(0,r.useRef)({x:0,y:0}),_=(0,r.useRef)({x:0,y:0}),y=(0,r.useMemo)((()=>{switch(n){case ue.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case ue.DraggableRect:return o}}),[n,o,u]),w=(0,r.useRef)(null),S=(0,r.useCallback)((()=>{const e=w.current;if(!e)return;const t=b.current.x*_.current.x,n=b.current.y*_.current.y;e.scrollBy(t,n)}),[]),k=(0,r.useMemo)((()=>l===he.TreeOrder?[...h].reverse():h),[l,h]);(0,r.useEffect)((()=>{if(s&&h.length&&y){for(const e of k){if(!1===(null==i?void 0:i(e)))continue;const n=h.indexOf(e),r=d[n];if(!r)continue;const{direction:a,speed:o}=H(e,r,y,t,p);for(const e of["x","y"])m[e][a[e]]||(o[e]=0,a[e]=0);if(o.x>0||o.y>0)return v(),w.current=e,g(S,c),b.current=o,void(_.current=a)}b.current={x:0,y:0},_.current={x:0,y:0},v()}else v()}),[t,S,i,v,s,c,JSON.stringify(y),JSON.stringify(m),g,h,k,d,JSON.stringify(p)])}({...be,delta:W,draggingRect:et,pointerCoordinates:Ke,scrollableAncestors:qe,scrollableAncestorRects:Ye});const lt=(0,r.useMemo)((()=>({active:K,activeNode:le,activeNodeRect:Ce,activatorEvent:Q,collisions:tt,containerNodeRect:Ae,dragOverlay:ze,draggableNodes:V,droppableContainers:G,droppableRects:oe,over:rt,measureDroppableContainers:se,scrollableAncestors:qe,scrollableAncestorRects:Ye,measuringConfiguration:ie,measuringScheduled:ce,windowRect:Ge})),[K,le,Ce,Q,tt,Ae,ze,V,G,oe,rt,se,qe,Ye,ie,ce,Ge]),ut=(0,r.useMemo)((()=>({activatorEvent:Q,activators:ct,active:K,activeNodeRect:Ce,ariaDescribedById:{draggable:ne},dispatch:x,draggableNodes:V,over:rt,measureDroppableContainers:se})),[Q,ct,K,Ce,x,ne,V,rt,se]);return r.createElement(s.Provider,{value:A},r.createElement(Oe.Provider,{value:ut},r.createElement(Pe.Provider,{value:lt},r.createElement(Ne.Provider,{value:at},p)),r.createElement(Be,{disabled:!1===(null==d?void 0:d.restoreFocus)})),r.createElement(u,{...d,hiddenTextDescribedById:ne}))})),je=(0,r.createContext)(null),ze="button",Fe="Droppable";function Ve(e){let{id:t,data:n,disabled:i=!1,attributes:o}=e;const s=(0,a.YG)(Fe),{activators:c,activatorEvent:l,active:u,activeNodeRect:h,ariaDescribedById:d,draggableNodes:f,over:p}=(0,r.useContext)(Oe),{role:m=ze,roleDescription:g="draggable",tabIndex:v=0}=null!=o?o:{},b=(null==u?void 0:u.id)===t,_=(0,r.useContext)(b?Ne:je),[y,w]=(0,a.lk)(),[S,k]=(0,a.lk)(),x=function(e,t){return(0,r.useMemo)((()=>e.reduce(((e,n)=>{let{eventName:r,handler:i}=n;return e[r]=e=>{i(e,t)},e}),{})),[e,t])}(c,t),M=(0,a.YN)(n);return(0,a.Es)((()=>(f.set(t,{id:t,key:s,node:y,activatorNode:S,data:M}),()=>{const e=f.get(t);e&&e.key===s&&f.delete(t)})),[f,t]),{active:u,activatorEvent:l,activeNodeRect:h,attributes:(0,r.useMemo)((()=>({role:m,tabIndex:v,"aria-disabled":i,"aria-pressed":!(!b||m!==ze)||void 0,"aria-roledescription":g,"aria-describedby":d.draggable})),[i,m,v,b,g,d.draggable]),isDragging:b,listeners:i?void 0:x,node:y,over:p,setNodeRef:w,setActivatorNodeRef:k,transform:_}}function He(){return(0,r.useContext)(Pe)}const We="Droppable",Ue={timeout:25};function Ge(e){let{data:t,disabled:n=!1,id:i,resizeObserverConfig:o}=e;const s=(0,a.YG)(We),{active:c,dispatch:l,over:u,measureDroppableContainers:d}=(0,r.useContext)(Oe),f=(0,r.useRef)({disabled:n}),p=(0,r.useRef)(!1),m=(0,r.useRef)(null),g=(0,r.useRef)(null),{disabled:v,updateMeasurementsFor:b,timeout:_}={...Ue,...o},y=(0,a.YN)(null!=b?b:i),w=ve({callback:(0,r.useCallback)((()=>{p.current?(null!=g.current&&clearTimeout(g.current),g.current=setTimeout((()=>{d(Array.isArray(y.current)?y.current:[y.current]),g.current=null}),_)):p.current=!0}),[_]),disabled:v||!c}),S=(0,r.useCallback)(((e,t)=>{w&&(t&&(w.unobserve(t),p.current=!1),e&&w.observe(e))}),[w]),[k,x]=(0,a.lk)(S),M=(0,a.YN)(t);return(0,r.useEffect)((()=>{w&&k.current&&(w.disconnect(),p.current=!1,w.observe(k.current))}),[k,w]),(0,a.Es)((()=>(l({type:h.RegisterDroppable,element:{id:i,key:s,disabled:n,node:k,rect:m,data:M}}),()=>l({type:h.UnregisterDroppable,key:s,id:i}))),[i]),(0,r.useEffect)((()=>{n!==f.current.disabled&&(l({type:h.SetDroppableDisabled,id:i,key:s,disabled:n}),f.current.disabled=n)}),[i,s,n,l]),{active:c,rect:m,isOver:(null==u?void 0:u.id)===i,node:k,over:u,setNodeRef:x}}},87211:(e,t,n)=>{"use strict";n.d(t,{FN:()=>r}),n(39391);const r=e=>{let{transform:t}=e;return{...t,x:0}}},68775:(e,t,n)=>{"use strict";n.d(t,{JR:()=>x,_G:()=>h,be:()=>o,gB:()=>p,gl:()=>w});var r=n(63696),i=n(93275),a=n(39391);function o(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function s(e,t){return e.reduce(((e,n,r)=>{const i=t.get(n);return i&&(e[r]=i),e}),Array(e.length))}function c(e){return null!==e&&e>=0}const l=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const a=o(t,r,n),s=t[i],c=a[i];return c&&s?{x:c.left-s.left,y:c.top-s.top,scaleX:c.width/s.width,scaleY:c.height/s.height}:null},u={scaleX:1,scaleY:1},h=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:a,overIndex:o}=e;const s=null!=(t=a[n])?t:r;if(!s)return null;if(i===n){const e=a[o];return e?{x:0,y:n<o?e.top+e.height-(s.top+s.height):e.top-s.top,...u}:null}const c=function(e,t,n){const r=e[t],i=e[t-1],a=e[t+1];return r?n<t?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}(a,i,n);return i>n&&i<=o?{x:0,y:-s.height-c,...u}:i<n&&i>=o?{x:0,y:s.height+c,...u}:{x:0,y:0,...u}},d="Sortable",f=r.createContext({activeIndex:-1,containerId:d,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:l,disabled:{draggable:!1,droppable:!1}});function p(e){let{children:t,id:n,items:o,strategy:c=l,disabled:u=!1}=e;const{active:h,dragOverlay:p,droppableRects:m,over:g,measureDroppableContainers:v}=(0,i.fF)(),b=(0,a.YG)(d,n),_=Boolean(null!==p.rect),y=(0,r.useMemo)((()=>o.map((e=>"object"==typeof e&&"id"in e?e.id:e))),[o]),w=null!=h,S=h?y.indexOf(h.id):-1,k=g?y.indexOf(g.id):-1,x=(0,r.useRef)(y),M=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(y,x.current),E=-1!==k&&-1===S||M,T=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(u);(0,a.Es)((()=>{M&&w&&v(y)}),[M,y,w,v]),(0,r.useEffect)((()=>{x.current=y}),[y]);const C=(0,r.useMemo)((()=>({activeIndex:S,containerId:b,disabled:T,disableTransforms:E,items:y,overIndex:k,useDragOverlay:_,sortedRects:s(y,m),strategy:c})),[S,b,T.draggable,T.droppable,E,y,k,m,_,c]);return r.createElement(f.Provider,{value:C},t)}const m=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return o(n,r,i).indexOf(t)},g=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:a,newIndex:o,previousItems:s,previousContainerId:c,transition:l}=e;return!(!l||!r||s!==a&&i===o||!n&&(o===i||t!==c))},v={duration:200,easing:"ease"},b="transform",_=a.Ks.Transition.toString({property:b,duration:0,easing:"linear"}),y={roleDescription:"sortable"};function w(e){let{animateLayoutChanges:t=g,attributes:n,disabled:o,data:s,getNewIndex:l=m,id:u,strategy:h,resizeObserverConfig:d,transition:p=v}=e;const{items:w,containerId:S,activeIndex:k,disabled:x,disableTransforms:M,sortedRects:E,overIndex:T,useDragOverlay:C,strategy:A}=(0,r.useContext)(f),O=function(e,t){var n,r;return"boolean"==typeof e?{draggable:e,droppable:!1}:{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(o,x),P=w.indexOf(u),I=(0,r.useMemo)((()=>({sortable:{containerId:S,index:P,items:w},...s})),[S,s,P,w]),R=(0,r.useMemo)((()=>w.slice(w.indexOf(u))),[w,u]),{rect:B,node:N,isOver:L,setNodeRef:D}=(0,i.zM)({id:u,data:I,disabled:O.droppable,resizeObserverConfig:{updateMeasurementsFor:R,...d}}),{active:j,activatorEvent:z,activeNodeRect:F,attributes:V,setNodeRef:H,listeners:W,isDragging:U,over:G,setActivatorNodeRef:q,transform:Y}=(0,i.PM)({id:u,data:I,attributes:{...y,...n},disabled:O.draggable}),X=(0,a.jn)(D,H),K=Boolean(j),$=K&&!M&&c(k)&&c(T),Z=!C&&U,J=Z&&$?Y:null,Q=$?null!=J?J:(null!=h?h:A)({rects:E,activeNodeRect:F,activeIndex:k,overIndex:T,index:P}):null,ee=c(k)&&c(T)?l({id:u,items:w,activeIndex:k,overIndex:T}):P,te=null==j?void 0:j.id,ne=(0,r.useRef)({activeId:te,items:w,newIndex:ee,containerId:S}),re=w!==ne.current.items,ie=t({active:j,containerId:S,isDragging:U,isSorting:K,id:u,index:P,items:w,newIndex:ne.current.newIndex,previousItems:ne.current.items,previousContainerId:ne.current.containerId,transition:p,wasDragging:null!=ne.current.activeId}),ae=function(e){let{disabled:t,index:n,node:o,rect:s}=e;const[c,l]=(0,r.useState)(null),u=(0,r.useRef)(n);return(0,a.Es)((()=>{if(!t&&n!==u.current&&o.current){const e=s.current;if(e){const t=(0,i.Sj)(o.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&l(n)}}n!==u.current&&(u.current=n)}),[t,n,o,s]),(0,r.useEffect)((()=>{c&&l(null)}),[c]),c}({disabled:!ie,index:P,node:N,rect:B});return(0,r.useEffect)((()=>{K&&ne.current.newIndex!==ee&&(ne.current.newIndex=ee),S!==ne.current.containerId&&(ne.current.containerId=S),w!==ne.current.items&&(ne.current.items=w)}),[K,ee,S,w]),(0,r.useEffect)((()=>{if(te===ne.current.activeId)return;if(te&&!ne.current.activeId)return void(ne.current.activeId=te);const e=setTimeout((()=>{ne.current.activeId=te}),50);return()=>clearTimeout(e)}),[te]),{active:j,activeIndex:k,attributes:V,data:I,rect:B,index:P,newIndex:ee,items:w,isOver:L,isSorting:K,isDragging:U,listeners:W,node:N,overIndex:T,over:G,setNodeRef:X,setActivatorNodeRef:q,setDroppableNodeRef:D,setDraggableNodeRef:H,transform:null!=ae?ae:Q,transition:ae||re&&ne.current.newIndex===P?_:Z&&!(0,a.kx)(z)||!p?void 0:K||ie?a.Ks.Transition.toString({...p,property:b}):void 0}}function S(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const k=[i.vL.Down,i.vL.Right,i.vL.Up,i.vL.Left],x=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:s,over:c,scrollableAncestors:l}}=t;if(k.includes(e.code)){if(e.preventDefault(),!n||!r)return;const t=[];s.getEnabled().forEach((n=>{if(!n||null!=n&&n.disabled)return;const a=o.get(n.id);if(a)switch(e.code){case i.vL.Down:r.top<a.top&&t.push(n);break;case i.vL.Up:r.top>a.top&&t.push(n);break;case i.vL.Left:r.left>a.left&&t.push(n);break;case i.vL.Right:r.left<a.left&&t.push(n)}}));const d=(0,i.y$)({active:n,collisionRect:r,droppableRects:o,droppableContainers:t,pointerCoordinates:null});let f=(0,i.Vy)(d,"id");if(f===(null==c?void 0:c.id)&&d.length>1&&(f=d[1].id),null!=f){const e=s.get(n.id),t=s.get(f),c=t?o.get(t.id):null,d=null==t?void 0:t.node.current;if(d&&c&&e&&t){const n=(0,i.sl)(d).some(((e,t)=>l[t]!==e)),o=M(e,t),s=(h=t,!(!S(u=e)||!S(h))&&!!M(u,h)&&u.data.current.sortable.index<h.data.current.sortable.index),f=n||!o?{x:0,y:0}:{x:s?r.width-c.width:0,y:s?r.height-c.height:0},p={x:c.left,y:c.top};return f.x&&f.y?p:(0,a.Re)(p,f)}}}var u,h};function M(e,t){return!(!S(e)||!S(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}},39391:(e,t,n)=>{"use strict";n.d(t,{$$:()=>m,Es:()=>f,KG:()=>v,Ks:()=>T,Ll:()=>s,Re:()=>x,Sw:()=>a,TW:()=>d,WQ:()=>k,YG:()=>w,YN:()=>g,ZC:()=>_,_q:()=>p,ag:()=>A,e_:()=>E,jn:()=>i,kx:()=>M,l6:()=>o,lk:()=>b,sb:()=>u,wz:()=>l,xZ:()=>h,zk:()=>c});var r=n(63696);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)((()=>e=>{t.forEach((t=>t(e)))}),t)}const a="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function o(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function s(e){return"nodeType"in e}function c(e){var t,n;return e?o(e)?e:s(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function l(e){const{Document:t}=c(e);return e instanceof t}function u(e){return!o(e)&&e instanceof c(e).HTMLElement}function h(e){return e instanceof c(e).SVGElement}function d(e){return e?o(e)?e.document:s(e)?l(e)?e:u(e)||h(e)?e.ownerDocument:document:document:document}const f=a?r.useLayoutEffect:r.useEffect;function p(e){const t=(0,r.useRef)(e);return f((()=>{t.current=e})),(0,r.useCallback)((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}function m(){const e=(0,r.useRef)(null);return[(0,r.useCallback)(((t,n)=>{e.current=setInterval(t,n)}),[]),(0,r.useCallback)((()=>{null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]}function g(e,t){void 0===t&&(t=[e]);const n=(0,r.useRef)(e);return f((()=>{n.current!==e&&(n.current=e)}),t),n}function v(e,t){const n=(0,r.useRef)();return(0,r.useMemo)((()=>{const t=e(n.current);return n.current=t,t}),[...t])}function b(e){const t=p(e),n=(0,r.useRef)(null),i=(0,r.useCallback)((e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e}),[]);return[n,i]}function _(e){const t=(0,r.useRef)();return(0,r.useEffect)((()=>{t.current=e}),[e]),t.current}let y={};function w(e,t){return(0,r.useMemo)((()=>{if(t)return t;const n=null==y[e]?0:y[e]+1;return y[e]=n,e+"-"+n}),[e,t])}function S(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce(((t,n)=>{const r=Object.entries(n);for(const[n,i]of r){const r=t[n];null!=r&&(t[n]=r+e*i)}return t}),{...t})}}const k=S(1),x=S(-1);function M(e){if(!e)return!1;const{KeyboardEvent:t}=c(e.target);return t&&e instanceof t}function E(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=c(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const T=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[T.Translate.toString(e),T.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),C="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function A(e){return e.matches(C)?e:e.querySelector(C)}},5442:(e,t,n)=>{"use strict";n.d(t,{Qg:()=>S,Uz:()=>w});var r=n(69971),i=n(84187),a=n(49623);const o="type.googleapis.com/google.protobuf.Int64Value",s="type.googleapis.com/google.protobuf.UInt64Value";function c(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function l(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((e=>l(e)));if("function"==typeof e||"object"==typeof e)return c(e,(e=>l(e)));throw new Error("Data cannot be encoded in JSON: "+e)}function u(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case o:case s:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((e=>u(e))):"function"==typeof e||"object"==typeof e?c(e,(e=>u(e))):e}const h="functions",d={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class f extends i.g{constructor(e,t,n){super(`${h}/${e}`,t||""),this.details=n}}class p{constructor(e,t,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((e=>this.auth=e),(()=>{})),this.messaging||t.get().then((e=>this.messaging=e),(()=>{})),this.appCheck||n.get().then((e=>this.appCheck=e),(()=>{}))}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null==e?void 0:e.accessToken}catch(e){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(e){return}}async getAppCheckToken(e){if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}const m="us-central1";class g{constructor(e,t,n,r,i=m,a){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new p(t,n,r),this.cancelAllRequests=new Promise((e=>{this.deleteService=()=>Promise.resolve(e())}));try{const e=new URL(i);this.customDomain=e.origin,this.region=m}catch(e){this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function v(e,t,n){return r=>function(e,t,n,r){const i=e._url(t);return async function(e,t,n,r){const i={data:n=l(n)},a={},o=await e.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(a.Authorization="Bearer "+o.authToken),o.messagingToken&&(a["Firebase-Instance-ID-Token"]=o.messagingToken),null!==o.appCheckToken&&(a["X-Firebase-AppCheck"]=o.appCheckToken);const s=function(e){let t=null;return{promise:new Promise(((n,r)=>{t=setTimeout((()=>{r(new f("deadline-exceeded","deadline-exceeded"))}),e)})),cancel:()=>{t&&clearTimeout(t)}}}(r.timeout||7e4),c=await Promise.race([b(t,i,a,e.fetchImpl),s.promise,e.cancelAllRequests]);if(s.cancel(),!c)throw new f("cancelled","Firebase Functions instance was deleted.");const h=function(e,t){let n,r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r;try{const e=t&&t.error;if(e){const t=e.status;if("string"==typeof t){if(!d[t])return new f("internal","internal");r=d[t],i=t}const a=e.message;"string"==typeof a&&(i=a),n=e.details,void 0!==n&&(n=u(n))}}catch(e){}return"ok"===r?null:new f(r,i,n)}(c.status,c.json);if(h)throw h;if(!c.json)throw new f("internal","Response is not valid JSON object.");let p=c.json.data;if(void 0===p&&(p=c.json.result),void 0===p)throw new f("internal","Response is missing data field.");return{data:u(p)}}(e,i,n,r)}(e,t,r,n||{})}async function b(e,t,n,r){let i;n["Content-Type"]="application/json";try{i=await r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch(e){return{status:0,json:null}}let a=null;try{a=await i.json()}catch(e){}return{status:i.status,json:a}}const _="@firebase/functions",y="0.11.5";function w(e=(0,r.getApp)(),t=m){const n=(0,r._getProvider)((0,i.Ku)(e),h).getImmediate({identifier:t}),a=(0,i.yU)("functions");return a&&function(e,t,n){!function(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}((0,i.Ku)(e),t,n)}(n,...a),n}function S(e,t,n){return v((0,i.Ku)(e),t,n)}var k;k=fetch.bind(self),(0,r._registerComponent)(new a.uA(h,((e,{instanceIdentifier:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("messaging-internal"),a=e.getProvider("app-check-internal");return new g(n,r,i,a,t,k)}),"PUBLIC").setMultipleInstances(!0)),(0,r.registerVersion)(_,y,undefined),(0,r.registerVersion)(_,y,"esm2017")},96604:(e,t,n)=>{"use strict";var r=n(63696),i=r.useState,a=r.useCallback,o=r.useLayoutEffect;function s(e){return e?{width:e.offsetWidth,height:e.offsetHeight}:{width:0,height:0}}e.exports=function(e){var t=i(s(e?e.current:{})),n=t[0],r=t[1],c=a((function(){e.current&&r(s(e.current))}),[e]);return o((function(){if(e.current){if(c(),"function"==typeof ResizeObserver){var t=new ResizeObserver((function(){c()}));return t.observe(e.current),function(){t.disconnect(e.current),t=null}}return window.addEventListener("resize",c),function(){window.removeEventListener("resize",c)}}}),[e.current]),n}},28465:(e,t,n)=>{"use strict";n.d(t,{A:()=>E});var r=n(63696),i=n(62688),a=n.n(i),o=n(40063),s=n.n(o),c=n(96853);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return function(){var t,n=g(e);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var r=g(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?b(e):t}(this,t)}}var y=function(e){m(n,e);var t=_(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,i=e.split,a=e.style,o=e.size,s=e.eleRef,c=["Pane",i,n],l={flex:1,position:"relative",outline:"none"};return void 0!==o&&("vertical"===i?l.width=o:(l.height=o,l.display="flex"),l.flex="none"),l=Object.assign({},l,a||{}),r.createElement("div",{ref:s,className:c.join(" "),style:l},t)}}]),n}(r.PureComponent);y.propTypes={className:a().string.isRequired,children:a().node.isRequired,size:a().oneOfType([a().string,a().number]),split:a().oneOf(["vertical","horizontal"]),style:s(),eleRef:a().func},y.defaultProps={};var w="Resizer",S=function(e){m(n,e);var t=_(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.onClick,i=e.onDoubleClick,a=e.onMouseDown,o=e.onTouchEnd,s=e.onTouchStart,c=e.resizerClassName,l=e.split,u=e.style,h=[c,l,t];return r.createElement("span",{role:"presentation",className:h.join(" "),style:u,onMouseDown:function(e){return a(e)},onTouchStart:function(e){e.preventDefault(),s(e)},onTouchEnd:function(e){e.preventDefault(),o(e)},onClick:function(e){n&&(e.preventDefault(),n(e))},onDoubleClick:function(e){i&&(e.preventDefault(),i(e))}})}}]),n}(r.Component);function k(e,t){if(e.selection)e.selection.empty();else try{t.getSelection().removeAllRanges()}catch(e){}}function x(e,t,n,r){if("number"==typeof r){var i="number"==typeof t?t:0,a="number"==typeof n&&n>=0?n:1/0;return Math.max(i,Math.min(a,r))}return void 0!==e?e:t}S.propTypes={className:a().string.isRequired,onClick:a().func,onDoubleClick:a().func,onMouseDown:a().func.isRequired,onTouchStart:a().func.isRequired,onTouchEnd:a().func.isRequired,split:a().oneOf(["vertical","horizontal"]),style:s(),resizerClassName:a().string.isRequired},S.defaultProps={resizerClassName:w};var M=function(e){m(n,e);var t=_(n);function n(e){var r;l(this,n),(r=t.call(this,e)).onMouseDown=r.onMouseDown.bind(b(r)),r.onTouchStart=r.onTouchStart.bind(b(r)),r.onMouseMove=r.onMouseMove.bind(b(r)),r.onTouchMove=r.onTouchMove.bind(b(r)),r.onMouseUp=r.onMouseUp.bind(b(r));var i=e.size,a=e.defaultSize,o=e.minSize,s=e.maxSize,c=e.primary,u=void 0!==i?i:x(a,o,s,null);return r.state={active:!1,resized:!1,pane1Size:"first"===c?u:void 0,pane2Size:"second"===c?u:void 0,instanceProps:{size:i}},r}return h(n,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove),this.setState(n.getSizeUpdate(this.props,this.state))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove)}},{key:"onMouseDown",value:function(e){var t=Object.assign({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchStart(t)}},{key:"onTouchStart",value:function(e){var t=this.props,n=t.allowResize,r=t.onDragStarted,i=t.split;if(n){k(document,window);var a="vertical"===i?e.touches[0].clientX:e.touches[0].clientY;"function"==typeof r&&r(),this.setState({active:!0,position:a})}}},{key:"onMouseMove",value:function(e){var t=Object.assign({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchMove(t)}},{key:"onTouchMove",value:function(e){var t=this.props,n=t.allowResize,r=t.maxSize,i=t.minSize,a=t.onChange,o=t.split,s=t.step,c=this.state,l=c.active,u=c.position;if(n&&l){k(document,window);var h="first"===this.props.primary,f=h?this.pane1:this.pane2,p=h?this.pane2:this.pane1;if(f){var m=f,g=p;if(m.getBoundingClientRect){var v=m.getBoundingClientRect().width,b=m.getBoundingClientRect().height,_="vertical"===o?v:b,y=u-("vertical"===o?e.touches[0].clientX:e.touches[0].clientY);if(s){if(Math.abs(y)<s)return;y=~~(y/s)*s}var w=h?y:-y;parseInt(window.getComputedStyle(m).order)>parseInt(window.getComputedStyle(g).order)&&(w=-w);var S=r;if(void 0!==r&&r<=0){var x=this.splitPane;S="vertical"===o?x.getBoundingClientRect().width+r:x.getBoundingClientRect().height+r}var M=_-w,E=u-y;M<i?M=i:void 0!==r&&M>S?M=S:this.setState({position:E,resized:!0}),a&&a(M),this.setState(d({draggedSize:M},h?"pane1Size":"pane2Size",M))}}}}},{key:"onMouseUp",value:function(){var e=this.props,t=e.allowResize,n=e.onDragFinished,r=this.state,i=r.active,a=r.draggedSize;t&&i&&("function"==typeof n&&n(a),this.setState({active:!1}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.allowResize,i=t.children,a=t.className,o=t.onResizerClick,s=t.onResizerDoubleClick,c=t.paneClassName,l=t.pane1ClassName,u=t.pane2ClassName,h=t.paneStyle,d=t.pane1Style,f=t.pane2Style,m=t.resizerClassName,g=t.resizerStyle,v=t.split,b=t.style,_=this.state,k=_.pane1Size,x=_.pane2Size,M=n?"":"disabled",E=m?"".concat(m," ").concat(w):m,T=function(e){return r.Children.toArray(e).filter((function(e){return e}))}(i),C=p({display:"flex",flex:1,height:"100%",position:"absolute",outline:"none",overflow:"hidden",MozUserSelect:"text",WebkitUserSelect:"text",msUserSelect:"text",userSelect:"text"},b);"vertical"===v?Object.assign(C,{flexDirection:"row",left:0,right:0}):Object.assign(C,{bottom:0,flexDirection:"column",minHeight:"100%",top:0,width:"100%"});var A=["SplitPane",a,v,M],O=p({},h,{},d),P=p({},h,{},f),I=["Pane1",c,l].join(" "),R=["Pane2",c,u].join(" ");return r.createElement("div",{className:A.join(" "),ref:function(t){e.splitPane=t},style:C},r.createElement(y,{className:I,key:"pane1",eleRef:function(t){e.pane1=t},size:k,split:v,style:O},T[0]),r.createElement(S,{className:M,onClick:o,onDoubleClick:s,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onTouchEnd:this.onMouseUp,key:"resizer",resizerClassName:E,split:v,style:g||{}}),r.createElement(y,{className:R,key:"pane2",eleRef:function(t){e.pane2=t},size:x,split:v,style:P},T[1]))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return n.getSizeUpdate(e,t)}},{key:"getSizeUpdate",value:function(e,t){var n={};if(t.instanceProps.size===e.size&&void 0!==e.size)return{};var r=void 0!==e.size?e.size:x(e.defaultSize,e.minSize,e.maxSize,t.draggedSize);void 0!==e.size&&(n.draggedSize=r);var i="first"===e.primary;return n[i?"pane1Size":"pane2Size"]=r,n[i?"pane2Size":"pane1Size"]=void 0,n.instanceProps={size:e.size},n}}]),n}(r.Component);M.propTypes={allowResize:a().bool,children:a().arrayOf(a().node).isRequired,className:a().string,primary:a().oneOf(["first","second"]),minSize:a().oneOfType([a().string,a().number]),maxSize:a().oneOfType([a().string,a().number]),defaultSize:a().oneOfType([a().string,a().number]),size:a().oneOfType([a().string,a().number]),split:a().oneOf(["vertical","horizontal"]),onDragStarted:a().func,onDragFinished:a().func,onChange:a().func,onResizerClick:a().func,onResizerDoubleClick:a().func,style:s(),resizerStyle:s(),paneClassName:a().string,pane1ClassName:a().string,pane2ClassName:a().string,paneStyle:s(),pane1Style:s(),pane2Style:s(),resizerClassName:a().string,step:a().number},M.defaultProps={allowResize:!0,minSize:50,primary:"first",split:"vertical",paneClassName:"",pane1ClassName:"",pane2ClassName:""},(0,c.M)(M);const E=M},9788:(e,t,n)=>{var r=n(46256),i=n(83327),a=n(63866),o=n(59236),s=n(56576),c={};c.signature="abcjs-basic v"+r,Object.keys(i).forEach((function(e){c[e]=i[e]})),Object.keys(a).forEach((function(e){c[e]=a[e]})),c.renderAbc=n(87639),c.tuneMetrics=n(92506),c.TimingCallbacks=n(13888);var l=n(75096);c.setGlyph=l.setSymbol,c.strTranspose=s;var u=n(75337),h=n(14524),d=n(70487),f=n(24242),p=n(59237),m=n(86318),g=n(43097),v=n(31193),b=n(52753),_=n(8299),y=n(59679),w=n(33998);c.synth={CreateSynth:u,instrumentIndexToName:h,pitchToNoteName:d,SynthController:_,SynthSequence:f,CreateSynthControl:p,registerAudioContext:m,activeAudioContext:g,supportsAudio:v,playEvent:b,getMidiFile:y,sequence:o,midiRenderer:w},c.Editor=n(45472),c.EditArea=n(26680),e.exports=c},83327:(e,t,n)=>{var r=n(13888),i={};!function(){"use strict";var e,t;i.startAnimation=function(n,i,a){function o(e){for(var t=0;t<e.length;t++){var n=e[t];n.classList.contains("abcjs-bar")||(n.style.display="none")}}var s;e&&(e.stop(),e=void 0),a.showCursor&&((t=n.querySelector(".abcjs-cursor"))||((t=document.createElement("DIV")).className="abcjs-cursor cursor",t.style.position="absolute",n.appendChild(t),n.style.position="relative")),(e=new r(i,{qpm:a.bpm,eventCallback:function(r){if(r){if(r.measureStart){var i=".abcjs-l"+(c=r).line+".abcjs-m"+c.measureNumber;i&&function(e){a.hideCurrentMeasure?function(e){o(n.querySelectorAll(e))}(e):a.hideFinishedMeasures&&function(e){s&&o(n.querySelectorAll(s)),s=e}(e)}(i)}t&&(t.style.left=r.left+"px",t.style.top=r.top+"px",t.style.width=r.width+"px",t.style.height=r.height+"px")}else e.stop(),e=void 0;var c}})).start()},i.pauseAnimation=function(t){e&&(t?e.pause():e.start())},i.stopAnimation=function(){e&&(e.stop(),e=void 0)}}(),e.exports=i},13888:e=>{e.exports=function(e,t){var n=this;if(t||(t={}),n.qpm=t.qpm?parseInt(t.qpm,10):null,!n.qpm){var r=e.metaText?e.metaText.tempo:null;n.qpm=e.getBpm(r)}n.extraMeasuresAtBeginning=t.extraMeasuresAtBeginning?parseInt(t.extraMeasuresAtBeginning,10):0,n.beatCallback=t.beatCallback,n.eventCallback=t.eventCallback,n.lineEndCallback=t.lineEndCallback,n.lineEndAnticipation=t.lineEndAnticipation?parseInt(t.lineEndAnticipation,10):0,n.beatSubdivisions=t.beatSubdivisions?parseInt(t.beatSubdivisions,10):1,n.joggerTimer=null,n.replaceTarget=function(e){n.noteTimings=e.setTiming(n.qpm,n.extraMeasuresAtBeginning),0===e.noteTimings.length&&(n.noteTimings=e.setTiming(0,0)),n.lineEndCallback&&(n.lineEndTimings=function(e,t){for(var n=[],r=null,i=0;i<e.length;i++){var a=e[i];"end"!==a.type&&a.top!==r&&(n.push({measureNumber:a.measureNumber,milliseconds:a.milliseconds-t,top:a.top,bottom:a.top+a.height}),r=a.top)}return n}(e.noteTimings,n.lineEndAnticipation)),n.startTime=null,n.currentBeat=0,n.currentEvent=0,n.currentLine=0,n.currentTime=0,n.isPaused=!1,n.isRunning=!1,n.pausedPercent=null,n.justUnpaused=!1,n.newSeekPercent=0,n.lastTimestamp=0,0!==n.noteTimings.length&&(n.millisecondsPerBeat=1e3/(n.qpm/60)/n.beatSubdivisions,n.lastMoment=n.noteTimings[n.noteTimings.length-1].milliseconds,n.totalBeats=Math.round(n.lastMoment/n.millisecondsPerBeat))},n.replaceTarget(e),n.doTiming=function(e){if(n.lastTimestamp!==e&&(n.lastTimestamp=e,n.startTime||(n.startTime=e),!n.isPaused&&n.isRunning)){for(n.currentTime=e-n.startTime,n.currentTime+=16;n.noteTimings.length>n.currentEvent&&n.noteTimings[n.currentEvent].milliseconds<n.currentTime;){if(n.eventCallback&&"event"===n.noteTimings[n.currentEvent].type){var t=n.startTime;n.eventCallback(n.noteTimings[n.currentEvent]),t!==n.startTime&&(n.currentTime=e-n.startTime)}n.currentEvent++}if(n.lineEndCallback&&n.lineEndTimings.length>n.currentLine&&n.lineEndTimings[n.currentLine].milliseconds<n.currentTime&&n.currentEvent<n.noteTimings.length){var r=n.noteTimings[n.currentEvent].milliseconds===n.currentTime?n.noteTimings[n.currentEvent]:n.noteTimings[n.currentEvent-1];n.lineEndCallback(n.lineEndTimings[n.currentLine],r,{line:n.currentLine,endTimings:n.lineEndTimings,currentTime:n.currentTime}),n.currentLine++}if(n.currentTime<n.lastMoment){if(requestAnimationFrame(n.doTiming),n.currentBeat*n.millisecondsPerBeat<n.currentTime){var i=n.doBeatCallback(e);null!==i&&(n.currentTime=i)}}else if(n.currentBeat<=n.totalBeats&&n.beatCallback){var a=n.doBeatCallback(e);null!==a&&(n.currentTime=a),requestAnimationFrame(n.doTiming)}if(n.currentTime>=n.lastMoment)if(n.eventCallback){var o=n.eventCallback(null);n.shouldStop(o).then((function(e){e&&n.stop()}))}else n.stop()}},n.shouldStop=function(e){return new Promise((function(t){return e?"continue"===e?t(!1):void(e.then&&e.then((function(e){t("continue"!==e)}))):t(!0)}))},n.doBeatCallback=function(e){if(n.beatCallback){for(var t,r,i=n.currentEvent;i<n.noteTimings.length&&null===n.noteTimings[i].left;)i++;if(i<n.noteTimings.length){for(t=n.noteTimings[i].milliseconds,i=Math.max(0,n.currentEvent-1);i>=0&&null===n.noteTimings[i].left;)i--;r=n.noteTimings[i]}var a={},o={};if(r){a.top=r.top,a.height=r.height;var s=Math.max(0,e-n.startTime-r.milliseconds),c=t-r.milliseconds,l=r.endX-r.left,u=c?s*l/c:0;a.left=r.left+u,0===n.currentEvent&&r.milliseconds>e-n.startTime&&(a.left=void 0),o={timestamp:e,startTime:n.startTime,ev:r,endMs:t,offMs:s,offPx:u,gapMs:c,gapPx:l}}else o={timestamp:e,startTime:n.startTime};var h=n.startTime;if(n.beatCallback(n.currentBeat/n.beatSubdivisions,n.totalBeats/n.beatSubdivisions,n.lastMoment,a,o),h!==n.startTime)return e-n.startTime;n.currentBeat++}return null},n.animationJogger=function(){n.isRunning&&(n.doTiming(performance.now()),n.joggerTimer=setTimeout(n.animationJogger,60))},n.start=function(e,t){if(n.isRunning=!0,n.isPaused&&(n.isPaused=!1,void 0===e&&(n.justUnpaused=!0)),e)n.setProgress(e,t);else if(0===e)n.reset();else if(null!==n.pausedPercent){var r=performance.now();n.currentTime=n.lastMoment*n.pausedPercent,n.startTime=r-n.currentTime,n.pausedPercent=null,n.reportNext=!0}requestAnimationFrame(n.doTiming),n.joggerTimer=setTimeout(n.animationJogger,60)},n.pause=function(){n.isPaused=!0;var e=performance.now();n.pausedPercent=(e-n.startTime)/n.lastMoment,n.isRunning=!1,n.joggerTimer&&(clearTimeout(n.joggerTimer),n.joggerTimer=null)},n.currentMillisecond=function(){return n.currentTime},n.reset=function(){n.currentBeat=0,n.currentEvent=0,n.currentLine=0,n.startTime=null,n.pausedPercent=null},n.stop=function(){n.pause(),n.reset()},n.setProgress=function(e,t){var r;switch(t){case"seconds":n.currentTime=1e3*e,n.currentTime<0&&(n.currentTime=0),n.currentTime>n.lastMoment&&(n.currentTime=n.lastMoment),r=n.currentTime/n.lastMoment;break;case"beats":n.currentTime=e*n.millisecondsPerBeat*n.beatSubdivisions,n.currentTime<0&&(n.currentTime=0),n.currentTime>n.lastMoment&&(n.currentTime=n.lastMoment),r=n.currentTime/n.lastMoment;break;default:(r=e)<0&&(r=0),r>1&&(r=1),n.currentTime=n.lastMoment*r}n.isRunning||(n.pausedPercent=r);var i=performance.now();for(n.startTime=i-n.currentTime,n.currentEvent,n.currentEvent=0;n.noteTimings.length>n.currentEvent&&n.noteTimings[n.currentEvent].milliseconds<n.currentTime;)n.currentEvent++;if(n.lineEndCallback)for(n.currentLine=0;n.lineEndTimings.length>n.currentLine&&n.lineEndTimings[n.currentLine].milliseconds+n.lineEndAnticipation<n.currentTime;)n.currentLine++;var a=n.currentBeat;n.currentBeat=Math.floor(n.currentTime/n.millisecondsPerBeat),n.beatCallback&&a!==n.currentBeat&&n.doBeatCallback(n.startTime+n.currentTime),n.eventCallback&&n.currentEvent>=0&&"event"===n.noteTimings[n.currentEvent].type&&n.eventCallback(n.noteTimings[n.currentEvent]),n.lineEndCallback&&n.lineEndCallback(n.lineEndTimings[n.currentLine],n.noteTimings[n.currentEvent],{line:n.currentLine,endTimings:n.lineEndTimings}),n.joggerTimer=setTimeout(n.animationJogger,60)}}},63866:(e,t,n)=>{var r=n(29585),i=n(25473),a=n(98827),o={};!function(){"use strict";o.numberOfTunes=function(e){var t=e.split("\nX:").length;return 0===t&&(t=1),t};var e=o.TuneBook=function(e){var t=i(e);this.header=t.header,this.tunes=t.tunes};e.prototype.getTuneById=function(e){for(var t=0;t<this.tunes.length;t++)if(this.tunes[t].id===""+e)return this.tunes[t];return null},e.prototype.getTuneByTitle=function(e){for(var t=0;t<this.tunes.length;t++)if(this.tunes[t].title===e)return this.tunes[t];return null},o.parseOnly=function(e,t){for(var n=o.numberOfTunes(e),r=[],i=0;i<n;i++)r.push(1);return o.renderEngine((function(){}),r,e,t)},o.renderEngine=function(t,n,i,o){var s=[];if(void 0!==n&&void 0!==i){var c;(!(c=n)||c.propertyIsEnumerable("length")||"object"!=typeof c||"number"!=typeof c.length)&&(n=[n]),void 0===o&&(o={});for(var l=o.startingTune?parseInt(o.startingTune,10):0,u=new e(i),h=new r,d=0;d<n.length;d++){var f=n[d];if("*"===f||"string"==typeof f&&(f=document.getElementById(f)),f)if(l>=0&&l<u.tunes.length){h.parse(u.tunes[l].abc,o,u.tunes[l].startPos-u.header.length);var p=h.getTune();o.tablature&&(p.tablatures=a.preparePlugins(p,l,o));var m=h.getWarnings();m&&(p.warnings=m);var g=t(f,p,d,u.tunes[l].abc);s.push(g||p)}else f.innerHTML&&(f.innerHTML="");l++}return s}},o.extractMeasures=function(t){for(var n=[],r=new e(t),i=0;i<r.tunes.length;i++){for(var a=r.tunes[i],s=a.abc.split("K:"),c=s[1].split("\n"),l=s[0]+"K:"+c[0]+"\n",u=null,h=null,d=null,f=[],p=!1,m=o.parseOnly(a.abc)[0],g=m.getPickupLength()>0,v=0;v<m.lines.length;v++){var b=m.lines[v];if(b.staff)for(var _=0;_<1;_++)for(var y=b.staff[_],w=0;w<1;w++)for(var S=y.voices[w],k=0;k<S.length;k++){var x=S[k];if(null===d&&x.startChar>=0&&(d=x.startChar,h=void 0===x.chord?u:null),x.chord&&(u=x),"bar"===x.el_type){if(p){var M={abc:a.abc.substring(d,x.endChar)};(u=h&&h.chord&&h.chord.length>0?h.chord[0].name:null)&&(M.lastChord=u),x.startEnding&&(M.startEnding=x.startEnding),x.endEnding&&(M.endEnding=x.endEnding),f.push(M),d=null,p=!1}}else"note"===x.el_type&&(p=!0)}}n.push({header:l,measures:f,hasPickup:g})}return n}}(),e.exports=o},87639:(e,t,n)=>{var r=n(63866),i=(n(70847),n(58748)),a=n(29585),o=n(71705),s={};function c(){var e=window.innerWidth;for(var t in s)if(s.hasOwnProperty(t)){var n=s[t];e-=2*n.offsetLeft,n.style.width=e+"px"}}try{window.addEventListener("resize",c),window.addEventListener("orientationChange",c)}catch(e){}function l(e,t,n,r,a){n.viewportHorizontal?(e.innerHTML='<div class="abcjs-inner"></div>',n.scrollHorizontal?(e.style.overflowX="auto",e.style.overflowY="hidden"):e.style.overflow="hidden",s[e.id]=e,e=e.children[0]):n.viewportVertical?(e.innerHTML='<div class="abcjs-inner scroll-amount"></div>',e.style.overflowX="hidden",e.style.overflowY="auto",e=e.children[0]):e.innerHTML="";var o=new i(e,n);o.engraveABC(t,r,a),t.engraver=o,(n.viewportVertical||n.viewportHorizontal)&&(e.parentNode.style.width=e.style.width)}e.exports=function(e,t,n,s,c){var u,h={};if(n){for(u in n)n.hasOwnProperty(u)&&(h[u]=n[u]);h.warnings_id&&h.tablature&&(h.tablature.warning_id=h.warnings_id)}if(s)for(u in s)s.hasOwnProperty(u)&&("listener"===u?s[u].highlight&&(h.clickListener=s[u].highlight):h[u]=s[u]);if(c)for(u in c)c.hasOwnProperty(u)&&(h[u]=c[u]);return r.renderEngine((function(e,t,n,r){var s=!1;return"*"===e&&(s=!0,(e=document.createElement("div")).setAttribute("style","visibility: hidden;"),document.body.appendChild(e)),!s&&h.wrap&&h.staffwidth?(t=function(e,t,n,r,s){var c=new i(e,s).getMeasureWidths(t),u=o.calcLineWraps(t,c,s);if(u.reParse){var h=new a;h.parse(r,u.revisedParams),t=h.getTune();var d=h.getWarnings();d&&(t.warnings=d)}return s.afterParsing&&s.afterParsing(t,n,r),l(e,t,u.revisedParams,n,0),t.explanation=u.explanation,t}(e,t,n,r,h),t):(h.afterParsing&&h.afterParsing(t,n,r),l(e,t,h,n,0),s&&e.parentNode.removeChild(e),null)}),e,t,h)}},92506:(e,t,n)=>{var r=n(63866),i=n(58748);e.exports=function(e,t){return r.renderEngine((function(e,n,r,a){(e=document.createElement("div")).setAttribute("style","visibility: hidden;"),document.body.appendChild(e);var o=new i(e,t).getMeasureWidths(n);return e.parentNode.removeChild(e),{sections:o}}),"*",e,t)}},69926:(e,t,n)=>{var{relativeMajor:r}=n(30889),i={acc:"sharp",note:"f"},a={acc:"sharp",note:"c"},o={acc:"sharp",note:"g"},s={acc:"sharp",note:"d"},c={acc:"sharp",note:"A"},l={acc:"sharp",note:"e"},u={acc:"flat",note:"B"},h={acc:"flat",note:"e"},d={acc:"flat",note:"A"},f={acc:"flat",note:"d"},p={acc:"flat",note:"G"},m={acc:"flat",note:"c"},g={"C#":[i,a,o,s,c,l,{acc:"sharp",note:"B"}],"F#":[i,a,o,s,c,l],B:[i,a,o,s,c],E:[i,a,o,s],A:[i,a,o],D:[i,a],G:[i],C:[],F:[u],Bb:[u,h],Eb:[u,h,d],Cm:[u,h,d],Ab:[u,h,d,f],Db:[u,h,d,f,p],Gb:[u,h,d,f,p,m],Cb:[u,h,d,f,p,m,{acc:"flat",note:"F"}],"A#":[u,h],"B#":[],"D#":[u,h,d],"E#":[u],"G#":[u,h,d,f],none:[]};e.exports=function(e){var t=g[r(e)];return t?JSON.parse(JSON.stringify(t)):null}},30889:e=>{var t={C:{modes:["CMaj","Amin","Am","GMix","DDor","EPhr","FLyd","BLoc"],stepsFromC:0},Db:{modes:["DbMaj","Bbmin","Bbm","AbMix","EbDor","FPhr","GbLyd","CLoc"],stepsFromC:1},D:{modes:["DMaj","Bmin","Bm","AMix","EDor","F#Phr","GLyd","C#Loc"],stepsFromC:2},Eb:{modes:["EbMaj","Cmin","Cm","BbMix","FDor","GPhr","AbLyd","DLoc"],stepsFromC:3},E:{modes:["EMaj","C#min","C#m","BMix","F#Dor","G#Phr","ALyd","D#Loc"],stepsFromC:4},F:{modes:["FMaj","Dmin","Dm","CMix","GDor","APhr","BbLyd","ELoc"],stepsFromC:5},Gb:{modes:["GbMaj","Ebmin","Ebm","DbMix","AbDor","BbPhr","CbLyd","FLoc"],stepsFromC:6},G:{modes:["GMaj","Emin","Em","DMix","ADor","BPhr","CLyd","F#Loc"],stepsFromC:7},Ab:{modes:["AbMaj","Fmin","Fm","EbMix","BbDor","CPhr","DbLyd","GLoc"],stepsFromC:8},A:{modes:["AMaj","F#min","F#m","EMix","BDor","C#Phr","DLyd","G#Loc"],stepsFromC:9},Bb:{modes:["BbMaj","Gmin","Gm","FMix","CDor","DPhr","EbLyd","ALoc"],stepsFromC:10},B:{modes:["BMaj","G#min","G#m","F#Mix","C#Dor","D#Phr","ELyd","A#Loc"],stepsFromC:11},"C#":{modes:["C#Maj","A#min","A#m","G#Mix","D#Dor","E#Phr","F#Lyd","B#Loc"],stepsFromC:1},"F#":{modes:["F#Maj","D#min","D#m","C#Mix","G#Dor","A#Phr","BLyd","E#Loc"],stepsFromC:6},Cb:{modes:["CbMaj","Abmin","Abm","GbMix","DbDor","EbPhr","FbLyd","BbLoc"],stepsFromC:11}},n=null;e.exports={relativeMajor:function(e){n||function(){n={};for(var e=Object.keys(t),r=0;r<e.length;r++){var i=t[e[r]];n[e[r].toLowerCase()]=e[r];for(var a=0;a<i.modes.length;a++){var o=i.modes[a].toLowerCase();n[o]=e[r]}}}();var r=e.toLowerCase().match(/([a-g][b#]?)(maj|min|mix|dor|phr|lyd|loc|m)?/);return r&&r[2]?(r=r[1]+r[2],n[r]||e):e},relativeMode:function(e,n){var r=t[e];if(!r)return e;if(""===n)return e;var i=n.toLowerCase().match(/^(maj|min|mix|dor|phr|lyd|loc|m)/);if(!i)return e;for(var a=i[1],o=0;o<r.modes.length;o++){var s=r.modes[o],c=s.toLowerCase().indexOf(a);if(-1!==c&&c===s.length-a.length)return s.substring(0,s.length-a.length)}return e},transposeKey:function(e,n){var r=t[e];if(!r)return e;for(;n<0;)n+=12;for(var i=(r.stepsFromC+n)%12,a=0;a<Object.keys(t).length;a++){var o=Object.keys(t)[a];if(t[o].stepsFromC===i)return o}return e}}},70847:(e,t,n)=>{var r=n(53181),i=n(91786),a=n(59236),o=n(28572),s=n(89880);e.exports=function(){function e(e,t,n,r){for(var i=0;i<r.length;i++)e[n][r[i]]=t[n][r[i]]}function t(e,t){for(;t<e.length&&null===e[t].left;)t++;return e[t]}this.reset=function(){this.version="1.1.0",this.media="screen",this.metaText={},this.metaTextInfo={},this.formatting={},this.lines=[],this.staffNum=0,this.voiceNum=0,this.lineNum=0,this.runningFonts={},delete this.visualTranspose},this.reset(),this.copyTopInfo=function(t){var n=["tempo","title","header","rhythm","origin","composer","author","partOrder"];e(this,t,"metaText",n),e(this,t,"metaTextInfo",n)},this.copyBottomInfo=function(t){var n=["unalignedWords","book","source","discography","notes","transcription","history","abc-copyright","abc-creator","abc-edited-by","footer"];e(this,t,"metaText",n),e(this,t,"metaTextInfo",n)},this.getBeatLength=function(){var e=this.getMeterFraction(),t=1;return(6===e.num||9===e.num||12===e.num||3===e.num&&8===e.den)&&(t=3),t/e.den},this.getPickupLength=function(){var e=this.getBarLength(),t=function(e,t){for(var n=0,r=0;r<e.length;r++)if(e[r].staff)for(var i=0;i<e[r].staff.length;i++)for(var a=0;a<e[r].staff[i].voices.length;a++)for(var o=e[r].staff[i].voices[a],s=1,c=0;c<o.length;c++){var l=o[c].rest&&"spacer"===o[c].rest.type;if(o[c].startTriplet&&(s=o[c].tripletMultiplier),o[c].duration&&!l&&"tempo"!==o[c].el_type&&(n+=o[c].duration*s),o[c].endTriplet&&(s=1),n>=t&&(n-=t),"bar"===o[c].el_type)return n}return n}(this.lines,e);return t<1e-8||e-t<1e-8?0:t},this.getBarLength=function(){var e=this.getMeterFraction();return e.num/e.den},this.getTotalTime=function(){return this.totalTime},this.getTotalBeats=function(){return this.totalBeats},this.millisecondsPerMeasure=function(e){var t;if(e)t=e;else{var n=this.metaText?this.metaText.tempo:null;t=this.getBpm(n)}return t<=0&&(t=1),this.getBeatsPerMeasure()/t*6e4},this.getBeatsPerMeasure=function(){var e=this.getBeatLength();return this.getBarLength()/e},this.getMeter=function(){for(var e=0;e<this.lines.length;e++){var t=this.lines[e];if(t.staff)for(var n=0;n<t.staff.length;n++){var r=t.staff[n].meter;if(r)return r}}return{type:"common_time"}},this.getMeterFraction=function(){var e=this.getMeter(),t=4,n=4;return e&&("specified"===e.type?(t=parseInt(e.value[0].num,10),n=parseInt(e.value[0].den,10)):"cut_time"===e.type?(t=2,n=2):"common_time"===e.type&&(t=4,n=4)),this.meter={num:t,den:n},this.meter},this.getKeySignature=function(){for(var e=0;e<this.lines.length;e++){var t=this.lines[e];if(t.staff)for(var n=0;n<t.staff.length;n++)if(t.staff[n].key)return t.staff[n].key}return{}},this.getElementFromChar=function(e){for(var t=0;t<this.lines.length;t++){var n=this.lines[t];if(n.staff)for(var r=0;r<n.staff.length;r++)for(var i=n.staff[r],a=0;a<i.voices.length;a++)for(var o=i.voices[a],s=0;s<o.length;s++){var c=o[s];if(c.startChar&&c.endChar&&c.startChar<=e&&c.endChar>e)return c}}return null},this.addElementToEvents=function(e,t,n,i,a,o,s,c,l,u){if(t.hint)return{isTiedState:void 0,duration:0};var h=t.durationClass?t.durationClass:t.duration;if(t.abcelem.rest&&"spacer"===t.abcelem.rest.type&&(h=0),h>0){for(var d=[],f=0;f<t.elemset.length;f++)null!==t.elemset[f]&&d.push(t.elemset[f]);var p=t.startTie;if(void 0!==l)e["event"+l].elements.push(d),u&&(e["event"+n]||(e["event"+n]={type:"event",milliseconds:n,line:o,measureNumber:s,top:i,height:a,left:null,width:0,elements:[],startChar:null,endChar:null,startCharArray:[],endCharArray:[]}),e["event"+n].measureStart=!0,u=!1),p||(l=void 0);else{if(e["event"+n]){if(e["event"+n].left?e["event"+n].left=Math.min(e["event"+n].left,t.x):e["event"+n].left=t.x,e["event"+n].elements.push(d),e["event"+n].startCharArray.push(t.abcelem.startChar),e["event"+n].endCharArray.push(t.abcelem.endChar),null===e["event"+n].startChar&&(e["event"+n].startChar=t.abcelem.startChar),null===e["event"+n].endChar&&(e["event"+n].endChar=t.abcelem.endChar),t.abcelem.midiPitches&&t.abcelem.midiPitches.length)for(e["event"+n].midiPitches||(e["event"+n].midiPitches=[]),f=0;f<t.abcelem.midiPitches.length;f++)e["event"+n].midiPitches.push(t.abcelem.midiPitches[f]);if(t.abcelem.midiGraceNotePitches&&t.abcelem.midiGraceNotePitches.length){e["event"+n].midiGraceNotePitches||(e["event"+n].midiGraceNotePitches=[]);for(var m=0;m<t.abcelem.midiGraceNotePitches.length;m++)e["event"+n].midiGraceNotePitches.push(t.abcelem.midiGraceNotePitches[m])}}else e["event"+n]={type:"event",milliseconds:n,line:o,measureNumber:s,top:i,height:a,left:t.x,width:t.w,elements:[d],startChar:t.abcelem.startChar,endChar:t.abcelem.endChar,startCharArray:[t.abcelem.startChar],endCharArray:[t.abcelem.endChar],midiPitches:t.abcelem.midiPitches?r.cloneArray(t.abcelem.midiPitches):[]},t.abcelem.midiGraceNotePitches&&(e["event"+n].midiGraceNotePitches=r.cloneArray(t.abcelem.midiGraceNotePitches));u&&(e["event"+n].measureStart=!0,u=!1)}}return{isTiedState:l,duration:h/c,nextIsBar:u||"bar"===t.type}},this.makeVoicesArray=function(){for(var e=[],t=[],n={},r=0;r<this.engraver.staffgroups.length;r++){var a=this.engraver.staffgroups[r];if(a&&a.staffs&&a.staffs.length>0)for(var o=a.staffs[0],s=o.absoluteY,c=s-o.top*i.STEP,l=a.staffs[a.staffs.length-1],u=(s=l.absoluteY)-l.bottom*i.STEP-c,h=a.voices,d=0;d<h.length;d++)if(!h[d].staff||!h[d].staff.isTabStaff){var f=!1;e[d]||(e[d]=[]),void 0===t[d]&&(t[d]=0);for(var p=h[d].children,m=0;m<p.length;m++)"tempo"===p[m].type&&(n[t[d]]=this.getBpm(p[m].abcelem)),e[d].push({top:c,height:u,line:a.line,measureNumber:t[d],elem:p[m]}),"bar"===p[m].type&&f&&t[d]++,"note"!==p[m].type&&"rest"!==p[m].type||(f=!0)}}return this.tempoLocations=n,e},this.setupEvents=function(e,n,r,i){i||(i=1);for(var a,o=[],s={},c=e,l=!0,u=this.makeVoicesArray(),h=0,d=0;d<u.length;d++){var f=c,p=Math.round(1e3*f),m=0,g=-1,v=u[d],b=r;n=this.getBeatLength()*b/60;for(var _=-1,y=0;y<v.length;y++){var w=v[y].measureNumber;_!==w&&this.tempoLocations[w]&&(b=this.tempoLocations[w],n=i*this.getBeatLength()*b/60,_=w);var S,k=v[y].elem,x=this.addElementToEvents(s,k,p,v[y].top,v[y].height,v[y].line,v[y].measureNumber,n,a,l);if(a=x.isTiedState,l=x.nextIsBar,f+=x.duration,k.duration>0&&s["event"+p]&&(S="event"+p),p=Math.round(1e3*f),"bar"===k.type){var M=k.abcelem.type,E="bar_right_repeat"===M||"bar_dbl_repeat"===M,T="1"===k.abcelem.startEnding,C="bar_left_repeat"===M||"bar_dbl_repeat"===M||"bar_right_repeat"===M;if(E){y>0&&(s[S].endX=k.x),-1===g&&(g=y);var A=0;_=-1;for(var O=m;O<g;O++){_!==(w=v[O].measureNumber)&&this.tempoLocations[w]&&(b=this.tempoLocations[w],n=i*this.getBeatLength()*b/60,_=w);var P=v[O].elem;a=(x=this.addElementToEvents(s,P,p,v[O].top,v[O].height,v[O].line,v[O].measureNumber,n,a,l)).isTiedState,l=x.nextIsBar,f+=x.duration,A=p,p=Math.round(1e3*f)}s["event"+A]&&(s["event"+A].endX=v[g].elem.x),l=!0,g=-1}T&&(g=y),C&&(m=y)}}h=Math.max(h,p)}return function(e){for(var t,n,r,i,a=e.length-1;a>=0;a--){var o=e[a];"bar"===o.type?(o.top=r,o.nextTop=t,t=r,o.bottom=i,o.nextBottom=n,n=i):"event"===o.type&&(r=o.top,i=o.top+o.height)}}(o=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t.sort((function(e,t){var n=e.milliseconds-t.milliseconds;return 0!==n?n:"bar"===e.type?-1:1}))}(s)),function(e,n){if(!(n.length<1)){for(var r=0;r<n.length-1;r++){var i=n[r],a=t(n,r+1);if(null!==i.left){var o=a&&i.top===a.top?a.left:e[i.line].staffGroup.w;void 0!==i.endX?o>i.left&&(i.endX=Math.min(i.endX,o)):i.endX=o}}var s=n[n.length-1];s.endX=e[s.line].staffGroup.w}}(this.lines,o),o.push({type:"end",milliseconds:h}),this.addUsefulCallbackInfo(o,b*i),o},this.addUsefulCallbackInfo=function(e,t){for(var n=this.millisecondsPerMeasure(t),r=0;r<e.length;r++)e[r].millisecondsPerMeasure=n},this.getBpm=function(e){var t;if(e||(e=this.metaText?this.metaText.tempo:null),e){t=e.bpm;var n=this.getBeatLength();t=t*(e.duration&&e.duration.length>0?e.duration[0]:n)/n}if(!t){t=180;var r=this.getMeterFraction();r&&3!==r.num&&r.num%3==0&&(t=120)}return t},this.setTiming=function(e,t){if(t=t||0,!this.engraver||!this.engraver.staffgroups)return console.log("setTiming cannot be called before the tune is drawn."),this.noteTimings=[],this.noteTimings;var n=this.metaText?this.metaText.tempo:null,r=this.getBpm(n),i=1;e?n&&(i=e/r):e=r;var a=this.getBeatLength(),o=e/60,s=this.getBarLength()/a*t/o;s&&(s-=this.getPickupLength()/a/o);var c=a*o;return this.noteTimings=this.setupEvents(s,c,e,i),this.noteTimings.length>0?(this.totalTime=this.noteTimings[this.noteTimings.length-1].milliseconds/1e3,this.totalBeats=this.totalTime*o):(this.totalTime=void 0,this.totalBeats=void 0),this.noteTimings},this.setUpAudio=function(e){e||(e={});var t=a(this,e);return o(t,e,this.formatting.percmap,this.formatting.midi)},this.deline=function(e){return s(this.lines,e)},this.findSelectableElement=function(e){return this.engraver&&this.engraver.selectables?this.engraver.findSelectableElement(e):null},this.getSelectableArray=function(){return this.engraver&&this.engraver.selectables?this.engraver.selectables:[]}}},89880:e=>{function t(e,t){return"abselem"===e?"abselem":t}function n(e,t){e.el_type="meter",e.startChar=-1,e.endChar=-1;for(var n=0;n<t.length;n++)t[n].unshift(e)}function r(e,t){e.el_type="key",e.startChar=-1,e.endChar=-1;for(var n=0;n<t.length;n++)t[n].unshift(e)}function i(e,t){e.el_type="clef",e.startChar=-1,e.endChar=-1;for(var n=0;n<t.length;n++)t[n].unshift(e)}function a(e,t,n){e.el_type="font",e.type=n,e.startChar=-1,e.endChar=-1;for(var r=0;r<t.length;r++)t[r].unshift(e)}function o(e,n){return!e||JSON.stringify(e,t)===JSON.stringify(n,t)}function s(e){for(var t={},n=Object.keys(e),r=0;r<n.length;r++)if("staff"!==n[r])t[n[r]]=e[n[r]];else{t.staff=[];for(var i=0;i<e.staff.length;i++){for(var a={},o=Object.keys(e.staff[i]),s=0;s<o.length;s++)if("voices"!==o[s])a[o[s]]=e.staff[i][o[s]];else{a.voices=[];for(var c=0;c<e.staff[i].voices.length;c++)a.voices.push([].concat(e.staff[i].voices[c]))}t.staff.push(a)}}return t}e.exports=function(e,t){t||(t={});for(var c=!!t.lineBreaks,l=[],u=!1,h=[],d=[],f=[],p=[],m=[],g=[],v=[],b=0;b<e.length;b++){var _=e[b];if(_.staff){if(u&&!_.vskip)for(var y=l[l.length-1],w=0;w<y.staff.length;w++){var S=_.staff[w],k=y.staff[w];if(S&&(o(S.meter,h[w])||(n(S.meter,S.voices),h[w]=S.meter,delete S.meter),o(S.key,d[w])||(r(S.key,S.voices),d[w]=S.key,delete S.key),S.title&&(k.abbrevTitle=S.title),o(S.clef,f[w])||(i(S.clef,S.voices),f[w]=S.clef,delete S.clef),o(S.vocalfont,p[w])||(a(S.vocalfont,S.voices,"vocalfont"),p[w]=S.vocalfont,delete S.vocalfont),o(S.gchordfont,m[w])||(a(S.gchordfont,S.voices,"gchordfont"),m[w]=S.gchordfont,delete S.gchordfont),o(S.tripletfont,g[w])||(a(S.tripletfont,S.voices,"tripletfont"),g[w]=S.tripletfont,delete S.tripletfont),o(S.annotationfont,v[w])||(a(S.annotationfont,S.voices,"annotationfont"),v[w]=S.annotationfont,delete S.annotationfont)),S)for(var x=0;x<k.voices.length;x++){var M=k.voices[x],E=S.voices[x];c&&M.push({el_type:"break"}),E&&(k.voices[x]=M.concat(E))}}else{for(var T=0;T<_.staff.length;T++)d[T]=_.staff[T].key,h[T]=_.staff[T].meter,f[T]=_.staff[T].clef;l.push(s(_))}u=!0}else u=!1,l.push(_)}return l}},26680:e=>{try{if("function"!=typeof window.CustomEvent){var t=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};t.prototype=window.Event.prototype,window.CustomEvent=t}}catch(e){}var n=function(e){this.textarea="string"==typeof e?document.getElementById(e):e,this.initialText=this.textarea.value,this.isDragging=!1};n.prototype.addSelectionListener=function(e){this.textarea.onmousemove=function(t){this.isDragging&&e.fireSelectionChanged()}},n.prototype.addChangeListener=function(e){this.changelistener=e,this.textarea.onkeyup=function(){e.fireChanged()},this.textarea.onmousedown=function(){this.isDragging=!0,e.fireSelectionChanged()},this.textarea.onmouseup=function(){this.isDragging=!1,e.fireChanged()},this.textarea.onchange=function(){e.fireChanged()}},n.prototype.getSelection=function(){return{start:this.textarea.selectionStart,end:this.textarea.selectionEnd}},n.prototype.setSelection=function(e,t){if(this.textarea.setSelectionRange)this.textarea.setSelectionRange(e,t);else if(this.textarea.createTextRange){var n=this.textarea.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select()}this.textarea.focus()},n.prototype.getString=function(){return this.textarea.value},n.prototype.setString=function(e){this.textarea.value=e,this.initialText=this.getString(),this.changelistener&&this.changelistener.fireChanged()},n.prototype.getElem=function(){return this.textarea},e.exports=n},45472:(e,t,n)=>{var r=n(53181),i=n(8299),a=n(31193),o=n(87639),s=n(26680),c=function(e,t){this.abcjsParams=function(e){var t,n={};if(e.abcjsParams)for(t in e.abcjsParams)e.abcjsParams.hasOwnProperty(t)&&(n[t]=e.abcjsParams[t]);if(e.midi_options)for(t in e.midi_options)e.midi_options.hasOwnProperty(t)&&(n[t]=e.midi_options[t]);if(e.parser_options)for(t in e.parser_options)e.parser_options.hasOwnProperty(t)&&(n[t]=e.parser_options[t]);if(e.render_options)for(t in e.render_options)e.render_options.hasOwnProperty(t)&&(n[t]=e.render_options[t]);return n.tablature&&e.warnings_id&&(n.tablature.warnings_id=e.warnings_id),n}(t),t.indicate_changed&&(this.indicate_changed=!0),this.editarea="string"==typeof e?new s(e):e,this.editarea.addSelectionListener(this),this.editarea.addChangeListener(this),t.canvas_id?this.div=t.canvas_id:t.paper_id?this.div=t.paper_id:(this.div=document.createElement("DIV"),this.editarea.getElem().parentNode.insertBefore(this.div,this.editarea.getElem())),"string"==typeof this.div&&(this.div=document.getElementById(this.div)),t.selectionChangeCallback&&(this.selectionChangeCallback=t.selectionChangeCallback),this.clientClickListener=this.abcjsParams.clickListener,this.abcjsParams.clickListener=this.highlight.bind(this),t.synth&&a()&&(this.synth={el:t.synth.el,cursorControl:t.synth.cursorControl,options:t.synth.options}),t.generate_midi&&(this.generate_midi=t.generate_midi,this.abcjsParams.generateDownload&&("string"==typeof t.midi_download_id?this.downloadMidi=document.getElementById(t.midi_download_id):t.midi_download_id&&(this.downloadMidi=t.midi_download_id)),!1!==this.abcjsParams.generateInline&&("string"==typeof t.midi_id?this.inlineMidi=document.getElementById(t.midi_id):t.midi_id&&(this.inlineMidi=t.midi_id))),t.warnings_id?"string"==typeof t.warnings_id?this.warningsdiv=document.getElementById(t.warnings_id):this.warningsdiv=t.warnings_id:t.generate_warnings&&(this.warningsdiv=document.createElement("div"),this.div.parentNode.insertBefore(this.warningsdiv,this.div)),this.onchangeCallback=t.onchange,this.currentAbc="",this.tunes=[],this.bReentry=!1,this.parseABC(),this.modelChanged(),this.addClassName=function(e,t){return function(e,t){var n=e.className;return n.length>0&&(n===t||new RegExp("(^|\\s)"+t+"(\\s|$)").test(n))}(e,t)||(e.className+=(e.className?" ":"")+t),e},this.removeClassName=function(e,t){return e.className=r.strip(e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ")),e},this.setReadOnly=function(e){var t="abc_textarea_readonly",n=this.editarea.getElem();e?(n.setAttribute("readonly","yes"),this.addClassName(n,t)):(n.removeAttribute("readonly"),this.removeClassName(n,t))}};c.prototype.redrawMidi=function(){if(this.generate_midi&&!this.midiPause){var e=new window.CustomEvent("generateMidi",{detail:{tunes:this.tunes,abcjsParams:this.abcjsParams,downloadMidiEl:this.downloadMidi,inlineMidiEl:this.inlineMidi,engravingEl:this.div}});window.dispatchEvent(e)}if(this.synth){var t=this.synth.synthControl;this.synth.synthControl||(this.synth.synthControl=new i,this.synth.synthControl.load(this.synth.el,this.synth.cursorControl,this.synth.options)),this.synth.synthControl.setTune(this.tunes[0],t,this.synth.options)}},c.prototype.modelChanged=function(){if(!this.bReentry){this.bReentry=!0;try{this.timerId=null,this.synth&&this.synth.synthControl&&this.synth.synthControl.disable(!0),this.tunes=o(this.div,this.currentAbc,this.abcjsParams),this.tunes.length>0&&(this.warnings=this.tunes[0].warnings),this.redrawMidi()}catch(e){console.error("ABCJS error: ",e),this.warnings||(this.warnings=[]),this.warnings.push(e.message)}this.warningsdiv&&(this.warningsdiv.innerHTML=this.warnings?this.warnings.join("<br />"):"No errors"),this.updateSelection(),this.bReentry=!1}},c.prototype.paramChanged=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&(this.abcjsParams[t]=e[t]);this.currentAbc="",this.fireChanged()},c.prototype.synthParamChanged=function(e){if(this.synth){if(this.synth.options={},e)for(var t in e)e.hasOwnProperty(t)&&(this.synth.options[t]=e[t]);this.currentAbc="",this.fireChanged()}},c.prototype.parseABC=function(){var e=this.editarea.getString();return e===this.currentAbc?(this.updateSelection(),!1):(this.currentAbc=e,!0)},c.prototype.updateSelection=function(){var e=this.editarea.getSelection();try{this.tunes.length>0&&this.tunes[0].engraver&&this.tunes[0].engraver.rangeHighlight(e.start,e.end)}catch(e){}this.selectionChangeCallback&&this.selectionChangeCallback(e.start,e.end)},c.prototype.fireSelectionChanged=function(){this.updateSelection()},c.prototype.setDirtyStyle=function(e){if(void 0!==this.indicate_changed){var t,n,i="abc_textarea_dirty",a=this.editarea.getElem();e?function(e,t){var n=e.className;return n.length>0&&(n===t||new RegExp("(^|\\s)"+t+"(\\s|$)").test(n))}(t=a,n=i)||(t.className+=(t.className?" ":"")+n):function(e,t){e.className=r.strip(e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," "))}(a,i)}},c.prototype.fireChanged=function(){if(!this.bIsPaused&&this.parseABC()){var e=this;this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout((function(){e.modelChanged()}),300);var t=this.isDirty();this.wasDirty!==t&&(this.wasDirty=t,this.setDirtyStyle(t)),this.onchangeCallback&&this.onchangeCallback(this)}},c.prototype.setNotDirty=function(){this.editarea.initialText=this.editarea.getString(),this.wasDirty=!1,this.setDirtyStyle(!1)},c.prototype.isDirty=function(){return void 0!==this.indicate_changed&&this.editarea.initialText!==this.editarea.getString()},c.prototype.highlight=function(e,t,n,r,i,a){this.editarea.setSelection(e.startChar,e.endChar),this.selectionChangeCallback&&this.selectionChangeCallback(e.startChar,e.endChar),this.clientClickListener&&this.clientClickListener(e,t,n,r,i,a)},c.prototype.pause=function(e){this.bIsPaused=e,e||this.fireChanged()},c.prototype.millisecondsPerMeasure=function(){return this.synth&&this.synth.synthControl&&this.synth.synthControl.visualObj?this.synth.synthControl.visualObj.millisecondsPerMeasure():0},c.prototype.pauseMidi=function(e){this.midiPause=e,e||this.redrawMidi()},e.exports=c},91098:(e,t,n)=>{var r,i=n(33998);!function(){"use strict";function e(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;i++)r[i]=parseFloat(r[i]);r.sort((function(e,t){return e-t}));for(var a=0,o=0;o<r.length;o++){var s=t[r[o]];if(r[o]>a){var c=(r[o]-a)*n;e.addRest(c),a=r[o]}for(var l=0;l<s.length;l++){var u=s[l];u.volume?e.startNote(u.pitch,u.volume,u.cents):e.endNote(u.pitch)}}}r=function(t,n){void 0===n&&(n={});var r=t.setUpAudio(n),a=i(),o=t.metaText?t.metaText.title:void 0;o&&o.length>128&&(o=o.substring(0,124)+"...");var s=t.getKeySignature(),c=t.getMeterFraction(),l=r.tempo,u=l/60;8==c.den&&(u=(l=6e4/(t.millisecondsPerMeasure()/c.num)/2)/60),a.setGlobalInfo(l,o,s,c);for(var h=0;h<r.tracks.length;h++){a.startTrack();for(var d={},f=0;f<r.tracks[h].length;f++){var p=r.tracks[h][f];switch(p.cmd){case"text":a.setText(p.type,p.text);break;case"program":var m=0;n.pan&&n.pan.length>h&&(m=n.pan[h]),128===p.instrument?(a.setChannel(9,m),a.setInstrument(0)):(a.setChannel(p.channel,m),a.setInstrument(p.instrument));break;case"note":var g=p.gap*u,v=p.start,b=v+p.duration-g;d[v]||(d[v]=[]),d[v].push({pitch:p.pitch,volume:p.volume,cents:p.cents}),d[b]||(d[b]=[]),d[b].push({pitch:p.pitch,volume:0});break;default:console.log("MIDI create Unknown: "+p.cmd)}}e(a,d,1920),a.endTrack()}return a.getData()}}(),e.exports=r},53181:e=>{var t={cloneArray:function(e){for(var t=[],n=0;n<e.length;n++)t.push(Object.assign({},e[n]));return t},cloneHashOfHash:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=Object.assign({},e[n]));return t},cloneHashOfArrayOfHash:function(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t.cloneArray(e[r]));return n},strip:function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")},startsWith:function(e,t){return 0===e.indexOf(t)},endsWith:function(e,t){var n=e.length-t.length;return n>=0&&e.lastIndexOf(t)===n},last:function(e){return 0===e.length?null:e[e.length-1]}};e.exports=t},29585:(e,t,n)=>{var r=n(53181),i=n(31351),a=n(49925),o=n(11017),s=n(27695),c=n(71705),l=n(70847),u=n(74477);e.exports=function(){"use strict";var e,t=new l,n=new u(t),h="",d="";function f(e,t,n){e.positioning||(e.positioning={}),e.positioning[t]=n}function p(e,t,n){e.fonts||(e.fonts={}),e.fonts[t]=n}this.getTune=function(){var e={formatting:t.formatting,lines:t.lines,media:t.media,metaText:t.metaText,metaTextInfo:t.metaTextInfo,version:t.version,addElementToEvents:t.addElementToEvents,addUsefulCallbackInfo:t.addUsefulCallbackInfo,getTotalTime:t.getTotalTime,getTotalBeats:t.getTotalBeats,getBarLength:t.getBarLength,getBeatLength:t.getBeatLength,getBeatsPerMeasure:t.getBeatsPerMeasure,getBpm:t.getBpm,getMeter:t.getMeter,getMeterFraction:t.getMeterFraction,getPickupLength:t.getPickupLength,getKeySignature:t.getKeySignature,getElementFromChar:t.getElementFromChar,makeVoicesArray:t.makeVoicesArray,millisecondsPerMeasure:t.millisecondsPerMeasure,setupEvents:t.setupEvents,setTiming:t.setTiming,setUpAudio:t.setUpAudio,deline:t.deline,findSelectableElement:t.findSelectableElement,getSelectableArray:t.getSelectableArray};return t.lineBreaks&&(e.lineBreaks=t.lineBreaks),t.visualTranspose&&(e.visualTranspose=t.visualTranspose),e};var m,g,v={reset:function(){for(var e in this)this.hasOwnProperty(e)&&"function"!=typeof this[e]&&delete this[e];this.iChar=0,this.key={accidentals:[],root:"none",acc:"",mode:""},this.meter=null,this.origMeter=null,this.hasMainTitle=!1,this.default_length=.125,this.clef={type:"treble",verticalPos:0},this.octave=0,this.next_note_duration=0,this.start_new_line=!0,this.is_in_header=!0,this.partForNextLine={},this.tempoForNextLine=[],this.havent_set_length=!0,this.voices={},this.staves=[],this.macros={},this.currBarNumber=1,this.barCounter={},this.ignoredDecorations=[],this.score_is_present=!1,this.inEnding=!1,this.inTie=[],this.inTieChord={},this.vocalPosition="auto",this.dynamicPosition="auto",this.chordPosition="auto",this.ornamentPosition="auto",this.volumePosition="auto",this.openSlurs=[],this.freegchord=!1,this.endingHoldOver={}},differentFont:function(e,t){return this[e].decoration!==t[e].decoration||this[e].face!==t[e].face||this[e].size!==t[e].size||this[e].style!==t[e].style||this[e].weight!==t[e].weight},addFormattingOptions:function(e,t,n){"note"===n?("auto"!==this.vocalPosition&&f(e,"vocalPosition",this.vocalPosition),"auto"!==this.dynamicPosition&&f(e,"dynamicPosition",this.dynamicPosition),"auto"!==this.chordPosition&&f(e,"chordPosition",this.chordPosition),"auto"!==this.ornamentPosition&&f(e,"ornamentPosition",this.ornamentPosition),"auto"!==this.volumePosition&&f(e,"volumePosition",this.volumePosition),this.differentFont("annotationfont",t)&&p(e,"annotationfont",this.annotationfont),this.differentFont("gchordfont",t)&&p(e,"gchordfont",this.gchordfont),this.differentFont("vocalfont",t)&&p(e,"vocalfont",this.vocalfont),this.differentFont("tripletfont",t)&&p(e,"tripletfont",this.tripletfont)):"bar"===n&&("auto"!==this.dynamicPosition&&f(e,"dynamicPosition",this.dynamicPosition),"auto"!==this.chordPosition&&f(e,"chordPosition",this.chordPosition),"auto"!==this.ornamentPosition&&f(e,"ornamentPosition",this.ornamentPosition),"auto"!==this.volumePosition&&f(e,"volumePosition",this.volumePosition),this.differentFont("measurefont",t)&&p(e,"measurefont",this.measurefont),this.differentFont("repeatfont",t)&&p(e,"repeatfont",this.repeatfont))},duplicateStartEndingHoldOvers:function(){this.endingHoldOver={inTie:[],inTieChord:{}};for(var e=0;e<this.inTie.length;e++)if(this.endingHoldOver.inTie.push([]),this.inTie[e])for(var t=0;t<this.inTie[e].length;t++)this.endingHoldOver.inTie[e].push(this.inTie[e][t]);for(var n in this.inTieChord)this.inTieChord.hasOwnProperty(n)&&(this.endingHoldOver.inTieChord[n]=this.inTieChord[n])},restoreStartEndingHoldOvers:function(){if(this.endingHoldOver.inTie){this.inTie=[],this.inTieChord={};for(var e=0;e<this.endingHoldOver.inTie.length;e++){this.inTie.push([]);for(var t=0;t<this.endingHoldOver.inTie[e].length;t++)this.inTie[e].push(this.endingHoldOver.inTie[e][t])}for(var n in this.endingHoldOver.inTieChord)this.endingHoldOver.inTieChord.hasOwnProperty(n)&&(this.inTieChord[n]=this.endingHoldOver.inTieChord[n])}}},b=function(e){var t=e.replace(/\x12/g," ");return(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")},_=function(t,n,r){n||(n=" ");var i=n[r];" "!==i&&i||(i="SPACE");var a,o=b(n.substring(r-64,r))+'<span style="text-decoration:underline;font-size:1.3em;font-weight:bold;">'+i+"</span>"+b(n.substring(r+1).substring(0,64));!function(e){v.warnings||(v.warnings=[]),v.warnings.push(e)}("Music Line:"+e.lineIndex+":"+(r+1)+": "+t+":  "+o),a={message:t,line:n,startChar:v.iChar+r,column:r},v.warningObjects||(v.warningObjects=[]),v.warningObjects.push(a)};this.getWarnings=function(){return v.warnings},this.getWarningObjects=function(){return v.warningObjects};var y=function(t,n){if(n.indexOf("")>=0)h+=n;else if(n=h+n,h="",t){"-"!==(n=r.strip(n))[n.length-1]&&(n+=" ");for(var i=[],a=0,o=!1,s=function(t){var s=r.strip(n.substring(a,t));if(s=s.replace(/\\([-_*|~])/g,"$1"),a=t+1,s.length>0){o&&(s=s.replace(/~/g," "));var c=n[t];return"_"!==c&&"-"!==c&&(c=" "),i.push({syllable:e.translateString(s),divider:c}),o=!1,!0}return!1},c=!1,l=0;l<n.length;l++){switch(n[l]){case" ":case"":s(l);break;case"-":!c&&!s(l)&&i.length>0&&(r.last(i).divider="-",i.push({skip:!0,to:"next"}));break;case"_":c||(s(l),i.push({skip:!0,to:"slur"}));break;case"*":c||(s(l),i.push({skip:!0,to:"next"}));break;case"|":c||(s(l),i.push({skip:!0,to:"bar"}));break;case"~":c||(o=!0)}c="\\"===n[l]}t.forEach((function(e){if(0!==i.length)if(i[0].skip){switch(i[0].to){case"next":case"slur":"note"===e.el_type&&null!==e.pitches&&i.shift();break;case"bar":"bar"===e.el_type&&i.shift()}"bar"!==e.el_type&&(void 0===e.lyric?e.lyric=[{syllable:"",divider:" "}]:e.lyric.push({syllable:"",divider:" "}))}else if("note"===e.el_type&&void 0===e.rest){var t=i.shift();t.syllable&&(t.syllable=t.syllable.replace(/ +/g,"")),void 0===e.lyric?e.lyric=[t]:e.lyric.push(t)}}))}else _("Can't add words before the first line of music",t,0)},w=function(t,n){if(n.indexOf("")>=0)d+=n;else if(n=d+n,d="",t){"-"!==(n=r.strip(n))[n.length-1]&&(n+=" ");for(var i=[],a=0,o=!1,s=function(t){var s=r.strip(n.substring(a,t));if(a=t+1,s.length>0){o&&(s=s.replace(/~/g," "));var c=n[t];return"_"!==c&&"-"!==c&&(c=" "),i.push({syllable:e.translateString(s),divider:c}),o=!1,!0}return!1},c=0;c<n.length;c++)switch(n[c]){case" ":case"":s(c);break;case"-":!s(c)&&i.length>0&&(r.last(i).divider="-",i.push({skip:!0,to:"next"}));break;case"_":s(c),i.push({skip:!0,to:"slur"});break;case"*":s(c),i.push({skip:!0,to:"next"});break;case"|":s(c),i.push({skip:!0,to:"bar"});break;case"~":o=!0}t.forEach((function(e){if(0!==i.length)if(i[0].skip)switch(i[0].to){case"next":case"slur":"note"===e.el_type&&null!==e.pitches&&i.shift();break;case"bar":"bar"===e.el_type&&i.shift()}else if("note"===e.el_type&&void 0===e.rest){var t=i.shift();void 0===e.lyric?e.lyric=[t]:e.lyric.push(t)}}))}else _("Can't add symbols before the first line of music",t,0)},S=function(e){if(r.startsWith(e,"%%")){var t=i.addDirective(e.substring(2));t&&_(t,e,2)}else{var a=e.indexOf("%");if(a>=0&&(e=e.substring(0,a)),0!==(e=e.replace(/\s+$/,"")).length)if(h)y(n.getCurrentVoice(),e.substring(2));else if(d)w(n.getCurrentVoice(),e.substring(2));else if(e.length<2||":"!==e[1]||g.lineContinuation)g.parseMusic(e);else{var o=m.parseHeader(e);o.regular&&g.parseMusic(e),o.newline&&g.startNewLine(),o.words&&y(n.getCurrentVoice(),e.substring(2)),o.symbols&&w(n.getCurrentVoice(),e.substring(2))}}};function k(e,t){e.push({el_type:"hint"});for(var n=0;n<t.length;n++){var r=t[n],i=Object.assign({},r);if(e.push(i),"bar"===r.el_type)return}}function x(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(i)for(var a=0;a<i.voices.length;a++){var o=i.voices[a],s=r.voices[a];s&&k(s,o)}}}this.parse=function(l,u,f){u||(u={}),f||(f=0),t.reset();var p=(l=l.replace(/\r\n?/g,"\n")+"\n").split("\n\\");if(p.length>1){for(var b=1;b<p.length;b++)for(;p[b].length>0&&"\n"!==p[b][0];)p[b]=p[b].substr(1),p[b-1]+=" ";l=p.join("  ")}var k=(l=l.replace(/\\([ \t]*)(%.*)*\n/g,(function(e,t,n){return t+""+(n?Array(n.length+1).join(" "):"")+"\n"}))).split("\n");0===r.last(k).length&&k.pop(),e=new s(k,v),m=new a(e,_,v,t,n),g=new o(e,_,v,t,n,m),u.print&&(t.media="print"),v.reset(),v.iChar=f,u.visualTranspose?(v.globalTranspose=parseInt(u.visualTranspose),0===v.globalTranspose?v.globalTranspose=void 0:n.setVisualTranspose(u.visualTranspose)):v.globalTranspose=void 0,u.lineBreaks&&(v.lineBreaks=u.lineBreaks),m.reset(e,_,v,t);try{u.format&&i.globalFormatting(u.format);for(var M=e.nextLine();M;){if(u.header_only&&!1===v.is_in_header)throw"normal_abort";if(u.stop_on_warning&&v.warnings)throw"normal_abort";var E=v.is_in_header;S(M),E&&!v.is_in_header&&(n.setRunningFont("annotationfont",v.annotationfont),n.setRunningFont("gchordfont",v.gchordfont),n.setRunningFont("tripletfont",v.tripletfont),n.setRunningFont("vocalfont",v.vocalfont)),M=e.nextLine()}h&&y(n.getCurrentVoice(),""),d&&w(n.getCurrentVoice(),""),v.openSlurs=n.cleanUp(v.barsperstaff,v.staffnonote,v.openSlurs)}catch(e){if("normal_abort"!==e)throw e}var T=792,C=612;switch(v.papersize){case"legal":T=1008,C=612;break;case"A4":T=842.4,C=597.6}if(v.landscape){var A=T;T=C,C=A}t.formatting.pagewidth||(t.formatting.pagewidth=C),t.formatting.pageheight||(t.formatting.pageheight=T),u.hint_measures&&function(){for(var e=0;e<t.lines.length;e++){var n=t.lines[e].staff;if(n){for(var r=e+1;r<t.lines.length&&void 0===t.lines[r].staff;)r++;r<t.lines.length&&x(n,t.lines[r].staff)}}}(),c.wrapLines(t,v.lineBreaks,v.barNumbers)}}},25473:(e,t,n)=>{var r=n(53181);e.exports=function(e){"use strict";for(var t="",n=e.match(/(\s*)/),i=(e=r.strip(e)).split("\nX:"),a=1;a<i.length;a++)i[a]="X:"+i[a];var o=n?n[0].length:0,s=[];i.forEach((function(e){s.push({abc:e,startPos:o}),o+=e.length+1})),s.length>1&&!r.startsWith(s[0].abc,"X:")&&s.shift().abc.split("\n").forEach((function(e){r.startsWith(e,"%%")&&(t+=e+"\n")}));var c=t;return s.forEach((function(e){var n=e.abc.indexOf("\n\n");n>0&&(e.abc=e.abc.substring(0,n)),e.pure=e.abc,e.abc=t+e.abc,e.title="";var i=e.pure.split("T:");i.length>1&&(i=i[1].split("\n"),e.title=r.strip(i[0]));var a=e.pure.substring(2,e.pure.indexOf("\n"));e.id=r.strip(a)})),{header:c,tunes:s}}},31351:(e,t,n)=>{var r=n(53181),i={};!function(){"use strict";var e,t,n,a,o;i.initialize=function(r,i,s,c,l){e=r,t=i,a=c,o=l,(n=s).annotationfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},n.gchordfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},n.historyfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},n.infofont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},n.measurefont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},n.partsfont={face:'"Times New Roman"',size:15,weight:"normal",style:"normal",decoration:"none"},n.repeatfont={face:'"Times New Roman"',size:13,weight:"normal",style:"normal",decoration:"none"},n.textfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},n.tripletfont={face:"Times",size:11,weight:"normal",style:"italic",decoration:"none"},n.vocalfont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},n.wordsfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},a.formatting.composerfont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},a.formatting.subtitlefont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},a.formatting.tempofont={face:'"Times New Roman"',size:15,weight:"bold",style:"normal",decoration:"none"},a.formatting.titlefont={face:'"Times New Roman"',size:20,weight:"normal",style:"normal",decoration:"none"},a.formatting.footerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},a.formatting.headerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},a.formatting.voicefont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},a.formatting.tablabelfont={face:'"Trebuchet MS"',size:16,weight:"normal",style:"normal",decoration:"none"},a.formatting.tabnumberfont={face:'"Arial"',size:11,weight:"normal",style:"normal",decoration:"none"},a.formatting.tabgracefont={face:'"Arial"',size:8,weight:"normal",style:"normal",decoration:"none"},a.formatting.annotationfont=n.annotationfont,a.formatting.gchordfont=n.gchordfont,a.formatting.historyfont=n.historyfont,a.formatting.infofont=n.infofont,a.formatting.measurefont=n.measurefont,a.formatting.partsfont=n.partsfont,a.formatting.repeatfont=n.repeatfont,a.formatting.textfont=n.textfont,a.formatting.tripletfont=n.tripletfont,a.formatting.vocalfont=n.vocalfont,a.formatting.wordsfont=n.wordsfont};var s={gchordfont:!0,measurefont:!0,partsfont:!0,annotationfont:!0,composerfont:!0,historyfont:!0,infofont:!0,subtitlefont:!0,textfont:!0,titlefont:!0,voicefont:!0},c=function(e,n,r,i,a){function o(){var o=parseInt(e[0].token);return e.shift(),n?0===e.length?{face:n.face,weight:n.weight,style:n.style,decoration:n.decoration,size:o}:1===e.length&&"box"===e[0].token&&s[a]?{face:n.face,weight:n.weight,style:n.style,decoration:n.decoration,size:o,box:!0}:(t("Extra parameters in font definition.",r,i),{face:n.face,weight:n.weight,style:n.style,decoration:n.decoration,size:o}):(t("Can't set just the size of the font since there is no default value.",r,i),{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none",size:o})}if("*"===e[0].token){if(e.shift(),"number"===e[0].type)return o();t("Expected font size number after *.",r,i)}if("number"===e[0].type)return o();for(var c,l=[],u="normal",h="normal",d="none",f=!1,p="face",m=!1;e.length;){var g=e.shift(),v=g.token.toLowerCase();switch(p){case"face":m||"utf"!==v&&"number"!==g.type&&"bold"!==v&&"italic"!==v&&"underline"!==v&&"box"!==v?l.length>0&&"-"===g.token?(m=!0,l[l.length-1]=l[l.length-1]+g.token):m?(m=!1,l[l.length-1]=l[l.length-1]+g.token):l.push(g.token):"number"===g.type?(c?t("Font size specified twice in font definition.",r,i):c=g.token,p="modifier"):"bold"===v?u="bold":"italic"===v?h="italic":"underline"===v?d="underline":"box"===v?(s[a]?f=!0:t('This font style doesn\'t support "box"',r,i),p="finished"):"utf"===v?(g=e.shift(),p="size"):t("Unknown parameter "+g.token+" in font definition.",r,i);break;case"size":"number"===g.type?c?t("Font size specified twice in font definition.",r,i):c=g.token:t("Expected font size in font definition.",r,i),p="modifier";break;case"modifier":"bold"===v?u="bold":"italic"===v?h="italic":"underline"===v?d="underline":"box"===v?(s[a]?f=!0:t('This font style doesn\'t support "box"',r,i),p="finished"):t("Unknown parameter "+g.token+" in font definition.",r,i);break;case"finished":t('Extra characters found after "box" in font definition.',r,i)}}void 0===c?n?c=n.size:(t("Must specify the size of the font since there is no default value.",r,i),c=12):c=parseFloat(c),""===(l=l.join(" "))&&(n?l=n.face:(t("Must specify the name of the font since there is no default value.",r,i),l="sans-serif"));var b=function(e){switch(e){case"Arial-Italic":return{face:"Arial",weight:"normal",style:"italic",decoration:"none"};case"Arial-Bold":return{face:"Arial",weight:"bold",style:"normal",decoration:"none"};case"Bookman-Demi":return{face:"Bookman,serif",weight:"bold",style:"normal",decoration:"none"};case"Bookman-DemiItalic":return{face:"Bookman,serif",weight:"bold",style:"italic",decoration:"none"};case"Bookman-Light":return{face:"Bookman,serif",weight:"normal",style:"normal",decoration:"none"};case"Bookman-LightItalic":return{face:"Bookman,serif",weight:"normal",style:"italic",decoration:"none"};case"Courier":return{face:'"Courier New"',weight:"normal",style:"normal",decoration:"none"};case"Courier-Oblique":return{face:'"Courier New"',weight:"normal",style:"italic",decoration:"none"};case"Courier-Bold":return{face:'"Courier New"',weight:"bold",style:"normal",decoration:"none"};case"Courier-BoldOblique":return{face:'"Courier New"',weight:"bold",style:"italic",decoration:"none"};case"AvantGarde-Book":return{face:"AvantGarde,Arial",weight:"normal",style:"normal",decoration:"none"};case"AvantGarde-BookOblique":return{face:"AvantGarde,Arial",weight:"normal",style:"italic",decoration:"none"};case"AvantGarde-Demi":case"Avant-Garde-Demi":return{face:"AvantGarde,Arial",weight:"bold",style:"normal",decoration:"none"};case"AvantGarde-DemiOblique":return{face:"AvantGarde,Arial",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Oblique":return{face:"Helvetica",weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Bold":return{face:"Helvetica",weight:"bold",style:"normal",decoration:"none"};case"Helvetica-BoldOblique":return{face:"Helvetica",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Narrow":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"normal",decoration:"none"};case"Helvetica-Narrow-Oblique":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Narrow-Bold":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"normal",decoration:"none"};case"Helvetica-Narrow-BoldOblique":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"italic",decoration:"none"};case"Palatino-Roman":return{face:"Palatino",weight:"normal",style:"normal",decoration:"none"};case"Palatino-Italic":return{face:"Palatino",weight:"normal",style:"italic",decoration:"none"};case"Palatino-Bold":return{face:"Palatino",weight:"bold",style:"normal",decoration:"none"};case"Palatino-BoldItalic":return{face:"Palatino",weight:"bold",style:"italic",decoration:"none"};case"NewCenturySchlbk-Roman":return{face:'"New Century",serif',weight:"normal",style:"normal",decoration:"none"};case"NewCenturySchlbk-Italic":return{face:'"New Century",serif',weight:"normal",style:"italic",decoration:"none"};case"NewCenturySchlbk-Bold":return{face:'"New Century",serif',weight:"bold",style:"normal",decoration:"none"};case"NewCenturySchlbk-BoldItalic":return{face:'"New Century",serif',weight:"bold",style:"italic",decoration:"none"};case"Times":case"Times-Roman":case"Times-Narrow":case"Times-Courier":case"Times-New-Roman":return{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none"};case"Times-Italic":case"Times-Italics":return{face:'"Times New Roman"',weight:"normal",style:"italic",decoration:"none"};case"Times-Bold":return{face:'"Times New Roman"',weight:"bold",style:"normal",decoration:"none"};case"Times-BoldItalic":return{face:'"Times New Roman"',weight:"bold",style:"italic",decoration:"none"};case"ZapfChancery-MediumItalic":return{face:'"Zapf Chancery",cursive,serif',weight:"normal",style:"normal",decoration:"none"};default:return null}}(l),_={};return b?(_.face=b.face,_.weight=b.weight,_.style=b.style,_.decoration=b.decoration,_.size=c,f&&(_.box=!0),_):(_.face=l,_.weight=u,_.style=h,_.decoration=d,_.size=c,f&&(_.box=!0),_)},l=function(e,t,r){return 0===t.length?'Directive "'+e+'" requires a font as a parameter.':(n[e]=c(t,n[e],r,0,e),n.is_in_header&&(a.formatting[e]=n[e]),null)},u=function(e,t){var n="";t.forEach((function(e){n+=e.token}));var r=parseFloat(n);if(isNaN(r)||0===r)return'Directive "'+e+'" requires a number as a parameter.';a.formatting.scale=r},h=["acoustic-bass-drum","bass-drum-1","side-stick","acoustic-snare","hand-clap","electric-snare","low-floor-tom","closed-hi-hat","high-floor-tom","pedal-hi-hat","low-tom","open-hi-hat","low-mid-tom","hi-mid-tom","crash-cymbal-1","high-tom","ride-cymbal-1","chinese-cymbal","ride-bell","tambourine","splash-cymbal","cowbell","crash-cymbal-2","vibraslap","ride-cymbal-2","hi-bongo","low-bongo","mute-hi-conga","open-hi-conga","low-conga","high-timbale","low-timbale","high-agogo","low-agogo","cabasa","maracas","short-whistle","long-whistle","short-guiro","long-guiro","claves","hi-wood-block","low-wood-block","mute-cuica","open-cuica","mute-triangle","open-triangle"],d=function(e,t,r,i,a){if(1!==r.length||"number"!==r[0].type)return'Directive "'+t+'" requires a number as a parameter.';var o=r[0].intt;return void 0!==i&&o<i?'Directive "'+t+'" requires a number greater than or equal to '+i+" as a parameter.":void 0!==a&&o>a?'Directive "'+t+'" requires a number less than or equal to '+a+" as a parameter.":(n[e]=o,null)},f=function(e,t,r){if(1===r.length&&("true"===r[0].token||"false"===r[0].token))return n[e]="true"===r[0].token,null;var i=d(e,t,r,0,1);return null!==i?i:(n[e]=1===n[e],null)},p=function(e,t,r,i){if(1!==r.length)return'Directive "'+t+'" requires one of [ '+i.join(", ")+" ] as a parameter.";for(var a=r[0].token,o=!1,s=0;!o&&s<i.length;s++)i[s]===a&&(o=!0);return o?(n[e]=a,null):'Directive "'+t+'" requires one of [ '+i.join(", ")+" ] as a parameter."},m=["nobarlines","barlines","beataccents","nobeataccents","droneon","droneoff","drumon","drumoff","fermatafixed","fermataproportional","gchordon","gchordoff","controlcombo","temperamentnormal","noportamento"],g=["gchord","ptstress","beatstring"],v=["bassvol","chordvol","c","channel","beatmod","deltaloudness","drumbars","gracedivider","makechordchannels","randomchordattack","chordattack","stressmodel","transpose","rtranspose","vol","volinc","gchordbars"],b=["program"],_=["ratio","snt","bendvelocity","pitchbend","control","temperamentlinear"],y=["beat"],w=["drone"],S=["portamento"],k=["expand","grace","trim"],x=["drum","chordname"],M=["bassprog","chordprog"];i.parseFontChangeLine=function(e){var t=(e=e.replace(/\$\$/g,"")).split("$");if(t.length>1&&n.setfont){var r=[];""!==t[0]&&r.push({text:t[0]});for(var i=1;i<t.length;i++)if("0"===t[i][0])r.push({text:t[i].substring(1).replace(/\x03/g,"$$")});else{var a=parseInt(t[i][0],10);n.setfont[a]?r.push({font:n.setfont[a],text:t[i].substring(1).replace(/\x03/g,"$$")}):r[r.length-1].text+="$"+t[i].replace(/\x03/g,"$$")}return r}return e.replace(/\x03/g,"$$")};var E=["auto","above","below","hidden"];function T(e){if(0===e.length)return{value:1};if(1===e.length)if("number"===e[0].type){if(e[0].floatt>=0||e[0].floatt<=1)return{value:e[0].floatt}}else{if("false"===e[0].token)return{value:0};if("true"===e[0].token)return{value:1}}return{error:"Directive stretchlast requires zero or one parameter: false, true, or number between 0 and 1 (received "+e[0].token+")"}}i.addDirective=function(s){var C=e.tokenize(s,0,s.length);if(0===C.length||"alpha"!==C[0].type)return null;var A=s.substring(s.indexOf(C[0].token)+C[0].token.length);A=e.stripComment(A);var O,P=C.shift().token.toLowerCase(),I="";switch(P){case"bagpipes":a.formatting.bagpipes=!0;break;case"flatbeams":a.formatting.flatbeams=!0;break;case"jazzchords":a.formatting.jazzchords=!0;break;case"accentAbove":a.formatting.accentAbove=!0;break;case"germanAlphabet":a.formatting.germanAlphabet=!0;break;case"landscape":n.landscape=!0;break;case"papersize":n.papersize=A;break;case"graceslurs":if(1!==C.length)return"Directive graceslurs requires one parameter: 0 or 1";if("0"===C[0].token||"false"===C[0].token)a.formatting.graceSlurs=!1;else{if("1"!==C[0].token&&"true"!==C[0].token)return"Directive graceslurs requires one parameter: 0 or 1 (received "+C[0].token+")";a.formatting.graceSlurs=!0}break;case"lineThickness":var R=T(C);if(void 0!==R.value&&(a.formatting.lineThickness=R.value),R.error)return R.error;break;case"stretchlast":var B=T(C);if(void 0!==B.value&&(a.formatting.stretchlast=B.value),B.error)return B.error;break;case"titlecaps":n.titlecaps=!0;break;case"titleleft":a.formatting.titleleft=!0;break;case"measurebox":a.formatting.measurebox=!0;break;case"vocal":return p("vocalPosition",P,C,E);case"dynamic":return p("dynamicPosition",P,C,E);case"gchord":return p("chordPosition",P,C,E);case"ornament":return p("ornamentPosition",P,C,E);case"volume":return p("volumePosition",P,C,E);case"botmargin":case"botspace":case"composerspace":case"indent":case"leftmargin":case"linesep":case"musicspace":case"partsspace":case"pageheight":case"pagewidth":case"rightmargin":case"stafftopmargin":case"staffsep":case"staffwidth":case"subtitlespace":case"sysstaffsep":case"systemsep":case"textspace":case"titlespace":case"topmargin":case"topspace":case"vocalspace":case"wordsspace":return function(t,n){var r=e.getMeasurement(n);return 0===r.used||0!==n.length?'Directive "'+t+'" requires a measurement as a parameter.':(a.formatting[t]=r.value,null)}(P,C);case"voicescale":if(1!==C.length||"number"!==C[0].type)return"voicescale requires one float as a parameter";var N=C.shift();return n.currentVoice&&(n.currentVoice.scale=N.floatt,o.changeVoiceScale(n.currentVoice.scale)),null;case"voicecolor":if(1!==C.length)return"voicecolor requires one string as a parameter";var L=C.shift();return n.currentVoice&&(n.currentVoice.color=L.token,o.changeVoiceColor(n.currentVoice.color)),null;case"vskip":var D=Math.round(function(t,n){var r=e.getMeasurement(n);return 0===r.used||0!==n.length?{error:'Directive "'+t+'" requires a measurement as a parameter.'}:r.value}(P,C));return D.error?D.error:(o.addSpacing(D),null);case"scale":u(P,C);break;case"sep":if(0===C.length)o.addSeparator(14,14,85,{startChar:n.iChar,endChar:n.iChar+5});else{var j=e.getMeasurement(C);if(0===j.used)return'Directive "'+P+'" requires 3 numbers: space above, space below, length of line';var z=j.value;if(0===(j=e.getMeasurement(C)).used)return'Directive "'+P+'" requires 3 numbers: space above, space below, length of line';var F=j.value;if(0===(j=e.getMeasurement(C)).used||0!==C.length)return'Directive "'+P+'" requires 3 numbers: space above, space below, length of line';var V=j.value;o.addSeparator(z,F,V,{startChar:n.iChar,endChar:n.iChar+A.length})}break;case"barsperstaff":if(null!==(I=d("barsperstaff",P,C)))return I;break;case"staffnonote":if(1!==C.length)return"Directive staffnonote requires one parameter: 0 or 1";if("0"===C[0].token)n.staffnonote=!0;else{if("1"!==C[0].token)return"Directive staffnonote requires one parameter: 0 or 1 (received "+C[0].token+")";n.staffnonote=!1}break;case"printtempo":if(null!==(I=f("printTempo",P,C)))return I;break;case"partsbox":if(null!==(I=f("partsBox",P,C)))return I;n.partsfont.box=n.partsBox;break;case"freegchord":if(null!==(I=f("freegchord",P,C)))return I;break;case"measurenb":case"barnumbers":if(null!==(I=d("barNumbers",P,C)))return I;break;case"setbarnb":if(1!==C.length||"number"!==C[0].type)return"Directive setbarnb requires a number as a parameter.";n.currBarNumber=o.setBarNumberImmediate(C[0].intt);break;case"begintext":var H="";for(O=e.nextLine();O&&0!==O.indexOf("%%endtext");)r.startsWith(O,"%%")?H+=O.substring(2)+"\n":H+=O+"\n",O=e.nextLine();o.addText(H,{startChar:n.iChar,endChar:n.iChar+H.length+7});break;case"continueall":n.continueall=!0;break;case"beginps":for(O=e.nextLine();O&&0!==O.indexOf("%%endps");)e.nextLine();t("Postscript ignored",s,0);break;case"deco":A.length>0&&n.ignoredDecorations.push(A.substring(0,A.indexOf(" "))),t("Decoration redefinition ignored",s,0);break;case"text":var W=e.translateString(A);o.addText(i.parseFontChangeLine(W),{startChar:n.iChar,endChar:n.iChar+A.length+7});break;case"center":var U=e.translateString(A);o.addCentered(i.parseFontChangeLine(U));break;case"font":break;case"setfont":var G=e.tokenize(A,0,A.length);if(G.length>=4&&"-"===G[0].token&&"number"===G[1].type){var q=parseInt(G[1].token);q>=1&&q<=9&&(n.setfont||(n.setfont=[]),G.shift(),G.shift(),n.setfont[q]=c(G,n.setfont[q],s,0,"setfont"))}break;case"gchordfont":case"partsfont":case"tripletfont":case"vocalfont":case"textfont":case"annotationfont":case"historyfont":case"infofont":case"measurefont":case"repeatfont":case"wordsfont":return l(P,C,s);case"composerfont":case"subtitlefont":case"tempofont":case"titlefont":case"voicefont":case"footerfont":case"headerfont":return function(e,t,n){return 0===t.length?'Directive "'+e+'" requires a font as a parameter.':(a.formatting[e]=c(t,a.formatting[e],n,0,e),null)}(P,C,s);case"barlabelfont":case"barnumberfont":case"barnumfont":return l("measurefont",C,s);case"staves":case"score":n.score_is_present=!0;for(var Y,X=function(e,t,i,a,o){(t||0===n.staves.length)&&n.staves.push({index:n.staves.length,numVoices:0});var s=r.last(n.staves);void 0!==i&&void 0===s.bracket&&(s.bracket=i),void 0!==a&&void 0===s.brace&&(s.brace=a),o&&(s.connectBarLines="end"),void 0===n.voices[e]&&(n.voices[e]={staffNum:s.index,index:s.numVoices},s.numVoices++)},K=!1,$=!1,Z=!1,J=!1,Q=!1,ee=!1,te=!1,ne=function(){if(te=!0,Y){var e="start";Y.staffNum>0&&("start"!==n.staves[Y.staffNum-1].connectBarLines&&"continue"!==n.staves[Y.staffNum-1].connectBarLines||(e="continue")),n.staves[Y.staffNum].connectBarLines=e}};C.length;){var re=C.shift();switch(re.token){case"(":K?t("Can't nest parenthesis in %%score",s,re.start):(K=!0,J=!0);break;case")":!K||J?t("Unexpected close parenthesis in %%score",s,re.start):K=!1;break;case"[":$?t("Can't nest brackets in %%score",s,re.start):($=!0,Q=!0);break;case"]":!$||Q?t("Unexpected close bracket in %%score",s,re.start):($=!1,n.staves[Y.staffNum].bracket="end");break;case"{":Z?t("Can't nest braces in %%score",s,re.start):(Z=!0,ee=!0);break;case"}":!Z||ee?t("Unexpected close brace in %%score",s,re.start):(Z=!1,n.staves[Y.staffNum].brace="end");break;case"|":ne();break;default:for(var ie="";("alpha"===re.type||"number"===re.type)&&(ie+=re.token,re.continueId);)re=C.shift();X(ie,!K||J,Q?"start":$?"continue":void 0,ee?"start":Z?"continue":void 0,te),J=!1,Q=!1,ee=!1,te=!1,Y=n.voices[ie],"staves"===P&&ne()}}break;case"newpage":var ae=e.getInt(A);o.addNewPage(0===ae.digits?-1:ae.value);break;case"abc":var oe=A.split(" ");switch(oe[0]){case"-copyright":case"-creator":case"-edited-by":case"-version":case"-charset":var se=oe.shift();o.addMetaText(P+se,oe.join(" "),{startChar:n.iChar,endChar:n.iChar+A.length+5});break;default:return"Unknown directive: "+P+oe[0]}break;case"header":case"footer":var ce=e.getMeat(A,0,A.length);'"'===(ce=A.substring(ce.start,ce.end))[0]&&'"'===ce[ce.length-1]&&(ce=ce.substring(1,ce.length-1));var le,ue=ce.split("\t");le=1===ue.length?{left:"",center:ue[0],right:""}:2===ue.length?{left:ue[0],center:ue[1],right:""}:{left:ue[0],center:ue[1],right:ue[2]},ue.length>3&&t("Too many tabs in "+P+": "+ue.length+" found.",A,0),o.addMetaTextObj(P,le,{startChar:n.iChar,endChar:n.iChar+s.length});break;case"midi":var he=e.tokenize(A,0,A.length,!0);he.length>0&&"="===he[0].token&&he.shift(),0===he.length?t("Expected midi command",A,0):function(e,n,r){var i=e.shift().token,a=[];if(m.indexOf(i)>=0)0!==e.length&&t("Unexpected parameter in MIDI "+i,r,0);else if(g.indexOf(i)>=0)1!==e.length?t("Expected one parameter in MIDI "+i,r,0):a.push(e[0].token);else if(v.indexOf(i)>=0)1!==e.length?t("Expected one parameter in MIDI "+i,r,0):"number"!==e[0].type?t("Expected one integer parameter in MIDI "+i,r,0):a.push(e[0].intt);else if(b.indexOf(i)>=0)1!==e.length&&2!==e.length?t("Expected one or two parameters in MIDI "+i,r,0):"number"!==e[0].type||2===e.length&&"number"!==e[1].type?t("Expected integer parameter in MIDI "+i,r,0):(a.push(e[0].intt),2===e.length&&a.push(e[1].intt));else if(_.indexOf(i)>=0)2!==e.length?t("Expected two parameters in MIDI "+i,r,0):"number"!==e[0].type||"number"!==e[1].type?t("Expected two integer parameters in MIDI "+i,r,0):(a.push(e[0].intt),a.push(e[1].intt));else if(S.indexOf(i)>=0)2!==e.length?t("Expected two parameters in MIDI "+i,r,0):"alpha"!==e[0].type||"number"!==e[1].type?t("Expected one string and one integer parameters in MIDI "+i,r,0):(a.push(e[0].token),a.push(e[1].intt));else if("drummap"===i)2===e.length&&"alpha"===e[0].type&&"number"===e[1].type?(n.formatting||(n.formatting={}),n.formatting.midi||(n.formatting.midi={}),n.formatting.midi.drummap||(n.formatting.midi.drummap={}),n.formatting.midi.drummap[e[0].token]=e[1].intt,a=n.formatting.midi.drummap):3===e.length&&"punct"===e[0].type&&"alpha"===e[1].type&&"number"===e[2].type?(n.formatting||(n.formatting={}),n.formatting.midi||(n.formatting.midi={}),n.formatting.midi.drummap||(n.formatting.midi.drummap={}),n.formatting.midi.drummap[e[0].token+e[1].token]=e[2].intt,a=n.formatting.midi.drummap):t("Expected one note name and one integer parameter in MIDI "+i,r,0);else if(k.indexOf(i)>=0)3!==e.length||"number"!==e[0].type||"/"!==e[1].token||"number"!==e[2].type?t("Expected fraction parameter in MIDI "+i,r,0):(a.push(e[0].intt),a.push(e[2].intt));else if(y.indexOf(i)>=0)4!==e.length?t("Expected four parameters in MIDI "+i,r,0):"number"!==e[0].type||"number"!==e[1].type||"number"!==e[2].type||"number"!==e[3].type?t("Expected four integer parameters in MIDI "+i,r,0):(a.push(e[0].intt),a.push(e[1].intt),a.push(e[2].intt),a.push(e[3].intt));else if(w.indexOf(i)>=0)5!==e.length?t("Expected five parameters in MIDI "+i,r,0):"number"!==e[0].type||"number"!==e[1].type||"number"!==e[2].type||"number"!==e[3].type||"number"!==e[4].type?t("Expected five integer parameters in MIDI "+i,r,0):(a.push(e[0].intt),a.push(e[1].intt),a.push(e[2].intt),a.push(e[3].intt),a.push(e[4].intt));else if(b.indexOf(i)>=0)1!==e.length||4!==e.length?t("Expected one or two parameters in MIDI "+i,r,0):"number"!==e[0].type?t("Expected integer parameter in MIDI "+i,r,0):4===e.length?("octave"!==e[1].token&&t("Expected octave parameter in MIDI "+i,r,0),"="!==e[2].token&&t("Expected octave parameter in MIDI "+i,r,0),"number"!==e[3].type&&t("Expected integer parameter for octave in MIDI "+i,r,0)):(a.push(e[0].intt),4===e.length&&a.push(e[3].intt));else if(x.indexOf(i)>=0)if(e.length<2)t("Expected string parameter and at least one integer parameter in MIDI "+i,r,0);else if("alpha"!==e[0].type)t("Expected string parameter and at least one integer parameter in MIDI "+i,r,0);else{var s=e.shift();for(a.push(s.token);e.length>0;)"number"!==(s=e.shift()).type&&t("Expected integer parameter in MIDI "+i,r,0),a.push(s.intt)}else if(M.indexOf(i)>=0)if(1!==e.length&&2!==e.length)t("Expected one or two parameters in MIDI "+i,r,0);else if("number"!==e[0].type)t("Expected integer parameter in MIDI "+i,r,0);else if(2===e.length&&"alpha"!==e[1].type)t("Expected alpha parameter in MIDI "+i,r,0);else if(a.push(e[0].intt),2===e.length){var c=e[1].token;-1!=c.indexOf("octave=")?(c=c.replace("octave=",""),c=parseInt(c),isNaN(c)?t("Expected octave value in MIDI"+i):(c<-1&&(t("Expected octave= in MIDI "+i+" to be >= -1 (recv:"+c+")"),c=-1),c>3&&(t("Expected octave= in MIDI "+i+" to be <= 3 (recv:"+c+")"),c=3),a.push(c))):t("Expected octave= in MIDI"+i)}o.hasBeginMusic()?o.appendElement("midi",-1,-1,{cmd:i,params:a}):(void 0===n.formatting.midi&&(n.formatting.midi={}),n.formatting.midi[i]=a)}(he,a,A);break;case"percmap":var de=function(e){var t=e.split(/\s+/);if(2!==t.length&&3!==t.length)return{error:'Expected parameters "abc-note", "drum-sound", and optionally "note-head"'};var n=t[0],r=parseInt(t[1],10);if((isNaN(r)||r<35||r>81)&&t[1]&&(r=h.indexOf(t[1].toLowerCase())+35),isNaN(r)||r<35||r>81)return{error:'Expected drum name, received "'+t[1]+'"'};var i={sound:r};return 3===t.length&&(i.noteHead=t[2]),{key:n,value:i}}(A);de.error?t(de.error,s,8):(a.formatting.percmap||(a.formatting.percmap={}),a.formatting.percmap[de.key]=de.value);break;case"map":case"playtempo":case"auquality":case"continuous":case"nobarcheck":a.formatting[P]=A;break;default:return"Unknown directive: "+P}return null},i.globalFormatting=function(r){for(var i in r)if(r.hasOwnProperty(i)){var o,s=""+r[i],c=e.tokenize(s,0,s.length);switch(i){case"titlefont":case"gchordfont":case"composerfont":case"footerfont":case"headerfont":case"historyfont":case"infofont":case"measurefont":case"partsfont":case"repeatfont":case"subtitlefont":case"tempofont":case"textfont":case"voicefont":case"tripletfont":case"vocalfont":case"wordsfont":case"annotationfont":case"tablabelfont":case"tabnumberfont":case"tabgracefont":l(i,c,s);break;case"scale":u(i,c);break;case"partsbox":null!==(o=f("partsBox",i,c))&&t(o),n.partsfont.box=n.partsBox;break;case"freegchord":null!==(o=f("freegchord",i,c))&&t(o);break;case"fontboxpadding":1===c.length&&"number"===c[0].type||t('Directive "'+i+'" requires a number as a parameter.'),a.formatting.fontboxpadding=c[0].floatt;break;case"stafftopmargin":1===c.length&&"number"===c[0].type||t('Directive "'+i+'" requires a number as a parameter.'),a.formatting.stafftopmargin=c[0].floatt;break;case"stretchlast":var h=T(c);if(void 0!==h.value&&(a.formatting.stretchlast=h.value),h.error)return h.error;break;default:t("Formatting directive unrecognized: ",i,0)}}}}(),e.exports=i},49925:(e,t,n)=>{var r=n(53181),i=n(31351),a=n(99104);e.exports=function(e,t,n,o,s){this.reset=function(e,t,n,r){a.initialize(e,t,n,r,s),i.initialize(e,t,n,r,s)},this.reset(e,t,n,o),this.setTitle=function(e,t){n.hasMainTitle?s.addSubtitle(e,{startChar:n.iChar,endChar:n.iChar+t+2}):(s.addMetaText("title",e,{startChar:n.iChar,endChar:n.iChar+t+2}),n.hasMainTitle=!0)},this.setMeter=function(r){if("C"===(r=e.stripComment(r)))return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),{type:"common_time"};if("C|"===r)return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),{type:"cut_time"};if("o"===r)return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_perfectum"};if("c"===r)return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_imperfectum"};if("o."===r)return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_perfectum_prolatio"};if("c."===r)return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_imperfectum_prolatio"};if(0===r.length||"none"===r.toLowerCase())return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),null;var i=e.tokenize(r,0,r.length);try{var a=function(){var e=function(){var e={value:0,num:""},t=i.shift();for("("===t.token&&(t=i.shift());;){if("number"!==t.type)throw"Expected top number of meter";if(e.value+=parseInt(t.token),e.num+=t.token,0===i.length||"/"===i[0].token)return e;if(")"===(t=i.shift()).token){if(0===i.length||"/"===i[0].token)return e;throw"Unexpected paren in meter"}if("."!==t.token&&"+"!==t.token)throw"Expected top number of meter";if(e.num+=t.token,0===i.length)throw"Expected top number of meter";t=i.shift()}return e}();if(0===i.length)return e;var t=i.shift();if("/"!==t.token)throw"Expected slash in meter";if("number"!==(t=i.shift()).type)throw"Expected bottom number of meter";return e.den=t.token,e.value=e.value/parseInt(e.den),e};if(0===i.length)throw"Expected meter definition in M: line";for(var o={type:"specified",value:[]},s=0;;){var c=a();s+=c.value;var l={num:c.num};if(void 0!==c.den&&(l.den=c.den),o.value.push(l),0===i.length)break}return!0===n.havent_set_length&&(n.default_length=s<.75?.0625:.125,n.havent_set_length=!1),o}catch(e){t(e,r,0)}return null},this.calcTempo=function(e){var t=1/4;n.meter&&"specified"===n.meter.type?t=1/parseInt(n.meter.value[0].den):n.origMeter&&"specified"===n.origMeter.type&&(t=1/parseInt(n.origMeter.value[0].den));for(var r=0;r<e.duration;r++)e.duration[r]=t*e.duration[r];return e},this.resolveTempo=function(){n.tempo&&(this.calcTempo(n.tempo),o.metaText.tempo=n.tempo,delete n.tempo)},this.addUserDefinition=function(e,i,a){var o=e.indexOf("=",i);if(-1!==o){var s=r.strip(e.substring(i,o)),c=r.strip(e.substring(o+1));1===s.length?-1!=="HIJKLMNOPQRSTUVWXYhijklmnopqrstuvw~".indexOf(s)?0!==c.length?(void 0===n.macros&&(n.macros={}),n.macros[s]=c):t("Missing macro definition",e,i):t("Macro definitions must be H-Y, h-w, or tilde",e,i):t("Macro definitions can only be one character",e,i)}else t("Need an = in a macro definition",e,i)},this.setDefaultLength=function(e,t,r){var i=e.substring(t,r).replace(/ /g,"").split("/");if(2===i.length){var a=parseInt(i[0]),o=parseInt(i[1]);o>0&&(n.default_length=a/o,n.havent_set_length=!1)}else 1===i.length&&"1"===i[0]&&(n.default_length=1,n.havent_set_length=!1)};var c={larghissimo:20,adagissimo:24,sostenuto:28,grave:32,largo:40,lento:50,larghetto:60,adagio:68,adagietto:74,andante:80,andantino:88,"marcia moderato":84,"andante moderato":100,moderato:112,allegretto:116,"allegro moderato":120,allegro:126,animato:132,agitato:140,veloce:148,"mosso vivo":156,vivace:164,vivacissimo:172,allegrissimo:176,presto:184,prestissimo:210};this.setTempo=function(r,i,a,o){try{var s=e.tokenize(r,i,a);if(0===s.length)throw"Missing parameter in Q: field";var l={startChar:o+i-2,endChar:o+a},u=!0,h=s.shift();if("quote"===h.type&&(l.preString=h.token,h=s.shift(),0===s.length))return c[l.preString.toLowerCase()]&&(l.bpm=c[l.preString.toLowerCase()],l.suppressBpm=!0),{type:"immediate",tempo:l};if("alpha"===h.type&&"C"===h.token){if(0===s.length)throw"Missing tempo after C in Q: field";if("punct"===(h=s.shift()).type&&"="===h.token){if(0===s.length)throw"Missing tempo after = in Q: field";if("number"!==(h=s.shift()).type)throw"Expected number after = in Q: field";l.duration=[1],l.bpm=parseInt(h.token)}else{if("number"!==h.type)throw"Expected number or equal after C in Q: field";if(l.duration=[parseInt(h.token)],0===s.length)throw"Missing = after duration in Q: field";if("punct"!==(h=s.shift()).type||"="!==h.token)throw"Expected = after duration in Q: field";if(0===s.length)throw"Missing tempo after = in Q: field";if("number"!==(h=s.shift()).type)throw"Expected number after = in Q: field";l.bpm=parseInt(h.token)}}else{if("number"!==h.type)throw"Unknown value in Q: field";var d=parseInt(h.token);if(0===s.length||"quote"===s[0].type)l.duration=[1],l.bpm=d;else{if(u=!1,"punct"!==(h=s.shift()).type&&"/"!==h.token)throw"Expected fraction in Q: field";if("number"!==(h=s.shift()).type)throw"Expected fraction in Q: field";var f=parseInt(h.token);for(l.duration=[d/f];s.length>0&&"="!==s[0].token&&"quote"!==s[0].type;){if("number"!==(h=s.shift()).type)throw"Expected fraction in Q: field";if(d=parseInt(h.token),"punct"!==(h=s.shift()).type&&"/"!==h.token)throw"Expected fraction in Q: field";if("number"!==(h=s.shift()).type)throw"Expected fraction in Q: field";f=parseInt(h.token),l.duration.push(d/f)}if("punct"!==(h=s.shift()).type&&"="!==h.token)throw"Expected = in Q: field";if("number"!==(h=s.shift()).type)throw"Expected tempo in Q: field";l.bpm=parseInt(h.token)}}if(0!==s.length&&("quote"===(h=s.shift()).type&&(l.postString=h.token,h=s.shift()),0!==s.length))throw"Unexpected string at end of Q: field";return!1===n.printTempo&&(l.suppress=!0),{type:u?"delaySet":"immediate",tempo:l}}catch(e){return t(e,r,i),{type:"none"}}},this.letter_to_inline_header=function(r,c,l){var u=!1,h=e.eatWhiteSpace(r,c);if(c+=h,r.length>=c+5&&"["===r[c]&&":"===r[c+2]){var d=r.indexOf("]",c),f=n.iChar+c,p=n.iChar+d+1;switch(r.substring(c,c+3)){case"[I:":var m=i.addDirective(r.substring(c+3,d));return m&&t(m,r,c),[d-c+1+h];case"[M:":var g=this.setMeter(r.substring(c+3,d));return s.hasBeginMusic()&&g?s.appendStartingElement("meter",f,p,g):n.meter=g,[d-c+1+h];case"[K:":var v=a.parseKey(r.substring(c+3,d),!0);return v.foundClef&&s.hasBeginMusic()&&s.appendStartingElement("clef",f,p,n.clef),v.foundKey&&s.hasBeginMusic()&&s.appendStartingElement("key",f,p,a.fixKey(n.clef,n.key)),[d-c+1+h];case"[P:":var b=i.parseFontChangeLine(r.substring(c+3,d));return l||o.lines.length<=o.lineNum?n.partForNextLine={title:b,startChar:f,endChar:p}:s.appendElement("part",f,p,{title:b}),[d-c+1+h];case"[L:":return this.setDefaultLength(r,c+3,d),[d-c+1+h];case"[Q:":if(d>0){var _=this.setTempo(r,c+3,d,n.iChar);return"delaySet"===_.type?s.hasBeginMusic()?s.appendElement("tempo",f,p,this.calcTempo(_.tempo)):n.tempoForNextLine=["tempo",f,p,this.calcTempo(_.tempo)]:"immediate"===_.type&&(!l&&s.hasBeginMusic()?s.appendElement("tempo",f,p,_.tempo):n.tempoForNextLine=["tempo",f,p,_.tempo]),[d-c+1+h,r[c+1],r.substring(c+3,d)]}break;case"[V:":if(d>0)return u=a.parseVoice(r,c+3,d),[d-c+1+h,r[c+1],r.substring(c+3,d),u];break;case"[r:":return[d-c+1+h]}}return[0]},this.letter_to_body_header=function(e,o){var c=!1;if(e.length>=o+3)switch(e.substring(o,o+2)){case"I:":var l=i.addDirective(e.substring(o+2));return l&&t(l,e,o),[e.length];case"M:":var u=this.setMeter(e.substring(o+2));return s.hasBeginMusic()&&u&&s.appendStartingElement("meter",n.iChar+o,n.iChar+e.length,u),[e.length];case"K:":var h=a.parseKey(e.substring(o+2),s.hasBeginMusic());return h.foundClef&&s.hasBeginMusic()&&s.appendStartingElement("clef",n.iChar+o,n.iChar+e.length,n.clef),h.foundKey&&s.hasBeginMusic()&&s.appendStartingElement("key",n.iChar+o,n.iChar+e.length,a.fixKey(n.clef,n.key)),[e.length];case"P:":return s.hasBeginMusic()&&s.appendElement("part",n.iChar+o,n.iChar+e.length,{title:e.substring(o+2)}),[e.length];case"L:":return this.setDefaultLength(e,o+2,e.length),[e.length];case"Q:":var d=e.indexOf("",o+2);-1===d&&(d=e.length);var f=this.setTempo(e,o+2,d,n.iChar);return"delaySet"===f.type?s.appendElement("tempo",n.iChar+o,n.iChar+e.length,this.calcTempo(f.tempo)):"immediate"===f.type&&s.appendElement("tempo",n.iChar+o,n.iChar+e.length,f.tempo),[d,e[o],r.strip(e.substring(o+2))];case"V:":return c=a.parseVoice(e,o+2,e.length),[e.length,e[o],r.strip(e.substring(o+2)),c]}return[0]};var l={A:"author",B:"book",C:"composer",D:"discography",F:"url",G:"group",I:"instruction",N:"notes",O:"origin",R:"rhythm",S:"source",W:"unalignedWords",Z:"transcription"};this.parseHeader=function(r){var c=l[r[0]],u=r.length-2,h=e.translateString(e.stripComment(r.substring(2)));if("unalignedWords"===c||"notes"===c)s.addMetaTextArray(c,i.parseFontChangeLine(h),{startChar:n.iChar,endChar:n.iChar+r.length});else if(void 0!==c)s.addMetaText(c,i.parseFontChangeLine(h),{startChar:n.iChar,endChar:n.iChar+r.length});else{var d=n.iChar,f=d+r.length;switch(r[0]){case"H":for(s.addMetaTextArray("history",i.parseFontChangeLine(h),{startChar:n.iChar,endChar:n.iChar+r.length}),r=e.peekLine();r&&":"!==r[1];)e.nextLine(),s.addMetaTextArray("history",i.parseFontChangeLine(e.translateString(e.stripComment(r))),{startChar:n.iChar,endChar:n.iChar+r.length}),r=e.peekLine();break;case"K":this.resolveTempo();var p=a.parseKey(r.substring(2),!1);!n.is_in_header&&s.hasBeginMusic()&&(p.foundClef&&s.appendStartingElement("clef",d,f,n.clef),p.foundKey&&s.appendStartingElement("key",d,f,a.fixKey(n.clef,n.key))),n.is_in_header=!1;break;case"L":this.setDefaultLength(r,2,r.length);break;case"M":n.origMeter=n.meter=this.setMeter(r.substring(2));break;case"P":n.is_in_header?s.addMetaText("partOrder",i.parseFontChangeLine(h),{startChar:n.iChar,endChar:n.iChar+r.length}):n.partForNextLine={title:h,startChar:d,endChar:f};break;case"Q":var m=this.setTempo(r,2,r.length,n.iChar);"delaySet"===m.type?n.tempo=m.tempo:"immediate"===m.type&&(o.metaText.tempo?n.tempoForNextLine=["tempo",d,f,m.tempo]:o.metaText.tempo=m.tempo);break;case"T":n.titlecaps&&(h=h.toUpperCase()),this.setTitle(i.parseFontChangeLine(e.theReverser(h)),u);break;case"U":this.addUserDefinition(r,2,r.length);break;case"V":if(a.parseVoice(r,2,r.length),!n.is_in_header)return{newline:!0};break;case"s":return{symbols:!0};case"w":return{words:!0};case"X":break;case"E":case"m":t("Ignored header",r,0);break;default:return{regular:!0}}}return{}}}},99104:(e,t,n)=>{var r=n(31351),i=n(5441),a={};!function(){var e,t,n,o;a.initialize=function(r,i,a,s,c){e=r,t=i,n=a,o=c},a.standardKey=function(e,t,r,a){return i.keySignature(n,e,t,r,a)};var s={treble:{clef:"treble",pitch:4,mid:0},"treble+8":{clef:"treble+8",pitch:4,mid:0},"treble-8":{clef:"treble-8",pitch:4,mid:0},"treble^8":{clef:"treble+8",pitch:4,mid:0},treble_8:{clef:"treble-8",pitch:4,mid:0},treble1:{clef:"treble",pitch:2,mid:2},treble2:{clef:"treble",pitch:4,mid:0},treble3:{clef:"treble",pitch:6,mid:-2},treble4:{clef:"treble",pitch:8,mid:-4},treble5:{clef:"treble",pitch:10,mid:-6},perc:{clef:"perc",pitch:6,mid:0},none:{clef:"none",mid:0},bass:{clef:"bass",pitch:8,mid:-12},"bass+8":{clef:"bass+8",pitch:8,mid:-12},"bass-8":{clef:"bass-8",pitch:8,mid:-12},"bass^8":{clef:"bass+8",pitch:8,mid:-12},bass_8:{clef:"bass-8",pitch:8,mid:-12},"bass+16":{clef:"bass",pitch:8,mid:-12},"bass-16":{clef:"bass",pitch:8,mid:-12},"bass^16":{clef:"bass",pitch:8,mid:-12},bass_16:{clef:"bass",pitch:8,mid:-12},bass1:{clef:"bass",pitch:2,mid:-6},bass2:{clef:"bass",pitch:4,mid:-8},bass3:{clef:"bass",pitch:6,mid:-10},bass4:{clef:"bass",pitch:8,mid:-12},bass5:{clef:"bass",pitch:10,mid:-14},tenor:{clef:"alto",pitch:8,mid:-8},tenor1:{clef:"alto",pitch:2,mid:-2},tenor2:{clef:"alto",pitch:4,mid:-4},tenor3:{clef:"alto",pitch:6,mid:-6},tenor4:{clef:"alto",pitch:8,mid:-8},tenor5:{clef:"alto",pitch:10,mid:-10},alto:{clef:"alto",pitch:6,mid:-6},alto1:{clef:"alto",pitch:2,mid:-2},alto2:{clef:"alto",pitch:4,mid:-4},alto3:{clef:"alto",pitch:6,mid:-6},alto4:{clef:"alto",pitch:8,mid:-8},alto5:{clef:"alto",pitch:10,mid:-10},"alto+8":{clef:"alto+8",pitch:6,mid:-6},"alto-8":{clef:"alto-8",pitch:6,mid:-6},"alto^8":{clef:"alto+8",pitch:6,mid:-6},alto_8:{clef:"alto-8",pitch:6,mid:-6}},c=function(e,t){var n=s[e];return(n?n.mid:0)+t};a.fixClef=function(e){var t=s[e.type];t&&(e.clefPos=t.pitch,e.type=t.clef)},a.deepCopyKey=function(e){var t={accidentals:[],root:e.root,acc:e.acc,mode:e.mode};return e.accidentals.forEach((function(e){t.accidentals.push(Object.assign({},e))})),t};var l={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};a.addPosToKey=function(e,t){var n=e.verticalPos;t.accidentals.forEach((function(e){var t=l[e.note];t-=n,e.verticalPos=t})),t.impliedNaturals&&t.impliedNaturals.forEach((function(e){var t=l[e.note];t-=n,e.verticalPos=t})),n<-10?(t.accidentals.forEach((function(e){e.verticalPos-=7,(e.verticalPos>=11||10===e.verticalPos&&"flat"===e.acc)&&(e.verticalPos-=7),"A"===e.note&&"sharp"===e.acc&&(e.verticalPos-=7),"G"!==e.note&&"F"!==e.note||"flat"!==e.acc||(e.verticalPos-=7)})),t.impliedNaturals&&t.impliedNaturals.forEach((function(e){e.verticalPos-=7,(e.verticalPos>=11||10===e.verticalPos&&"flat"===e.acc)&&(e.verticalPos-=7),"A"===e.note&&"sharp"===e.acc&&(e.verticalPos-=7),"G"!==e.note&&"F"!==e.note||"flat"!==e.acc||(e.verticalPos-=7)}))):n<-4?(t.accidentals.forEach((function(e){e.verticalPos-=7,-8!==n||"f"!==e.note&&"g"!==e.note||"sharp"!==e.acc||(e.verticalPos-=7)})),t.impliedNaturals&&t.impliedNaturals.forEach((function(e){e.verticalPos-=7,-8!==n||"f"!==e.note&&"g"!==e.note||"sharp"!==e.acc||(e.verticalPos-=7)}))):n>=7&&(t.accidentals.forEach((function(e){e.verticalPos+=7})),t.impliedNaturals&&t.impliedNaturals.forEach((function(e){e.verticalPos+=7})))},a.fixKey=function(e,t){var n=Object.assign({},t);return a.addPosToKey(e,n),n};var u=function(e){var t=0,n=e[t++];"^"!==n&&"_"!==n||(n=e[t++]);var r=l[n];for(void 0===r&&(r=6);t<e.length;t++)if(","===e[t])r-=7;else{if("'"!==e[t])break;r+=7}return{mid:r-6,str:e.substring(t)}};a.parseKey=function(i,o){0===i.length&&(i="none");var s=e.tokenize(i,0,i.length),l={};if(0===s.length)return t("Must pass in key signature.",i,0),l;switch(s[0].token){case"HP":r.addDirective("bagpipes"),n.key={root:"HP",accidentals:[],acc:"",mode:""},l.foundKey=!0,s.shift();break;case"Hp":r.addDirective("bagpipes"),n.key={root:"Hp",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}],acc:"",mode:""},l.foundKey=!0,s.shift();break;case"none":n.key={root:"none",accidentals:[],acc:"",mode:""},l.foundKey=!0,s.shift();break;default:var u=e.getKeyPitch(s[0].token);if(u.len>0){l.foundKey=!0;var h="",d="";s[0].token.length>1?s[0].token=s[0].token.substring(1):s.shift();var f=u.token;if(s.length>0){var p=e.getSharpFlat(s[0].token);if(p.len>0&&(s[0].token.length>1?s[0].token=s[0].token.substring(1):s.shift(),f+=p.token,h=p.token),s.length>0){var m=e.getMode(s[0].token);m.len>0&&(s.shift(),f+=m.token,d=m.token)}if(void 0===a.standardKey(f,u.token,h,0))return t("Unsupported key signature: "+f,i,0),l}var g,v=a.deepCopyKey(n.key),b=!o&&n.globalTranspose?-n.globalTranspose:0;if(o&&(g=n.globalTransposeOrigKeySig),n.key=a.deepCopyKey(a.standardKey(f,u.token,h,b)),o&&(n.globalTransposeOrigKeySig=g),n.key.mode=d,v){for(var _,y=0;y<n.key.accidentals.length;y++)for(_=0;_<v.accidentals.length;_++)v.accidentals[_].note&&n.key.accidentals[y].note.toLowerCase()===v.accidentals[_].note.toLowerCase()&&(v.accidentals[_].note=null);for(_=0;_<v.accidentals.length;_++)v.accidentals[_].note&&(n.key.impliedNaturals||(n.key.impliedNaturals=[]),n.key.impliedNaturals.push({acc:"natural",note:v.accidentals[_].note}))}}}if(0===s.length)return l;if("exp"===s[0].token&&s.shift(),0===s.length)return l;if("oct"===s[0].token&&s.shift(),0===s.length)return l;var w,S=e.getKeyAccidentals2(s);if(S.warn&&t(S.warn,i,0),S.accs){l.foundKey||(l.foundKey=!0,n.key={root:"none",acc:"",mode:"",accidentals:[]}),function(e){for(var t=0;t<e.length;t++)"b"===e[t].note?e[t].note="B":"a"===e[t].note?e[t].note="A":"F"===e[t].note?e[t].note="f":"E"===e[t].note?e[t].note="e":"D"===e[t].note?e[t].note="d":"C"===e[t].note?e[t].note="c":"G"===e[t].note&&"sharp"===e[t].acc?e[t].note="g":"g"===e[t].note&&"flat"===e[t].acc&&(e[t].note="G")}(S.accs);for(var k=0;k<S.accs.length;k++){for(var x=!1,M=0;M<n.key.accidentals.length&&!x;M++)n.key.accidentals[M].note===S.accs[k].note&&(x=!0,n.key.accidentals[M].acc!==S.accs[k].acc&&(n.key.accidentals[M].acc=S.accs[k].acc,n.key.explicitAccidentals||(n.key.explicitAccidentals=[]),n.key.explicitAccidentals.push(S.accs[k])));if(!x&&(n.key.explicitAccidentals||(n.key.explicitAccidentals=[]),n.key.explicitAccidentals.push(S.accs[k]),n.key.accidentals.push(S.accs[k]),n.key.impliedNaturals))for(var E=0;E<n.key.impliedNaturals.length;E++)n.key.impliedNaturals[E].note===S.accs[k].note&&n.key.impliedNaturals.splice(E,1)}}for(;s.length>0;)switch(s[0].token){case"m":case"middle":if(s.shift(),0===s.length)return t("Expected = after middle",i,0),l;if("="!==(w=s.shift()).token){t("Expected = after middle",i,w.start);break}if(0===s.length)return t("Expected parameter after middle=",i,0),l;var T=e.getPitchFromTokens(s);T.warn&&t(T.warn,i,0),T.position&&(n.clef.verticalPos=T.position-6);break;case"transpose":if(s.shift(),0===s.length)return t("Expected = after transpose",i,0),l;if("="!==(w=s.shift()).token){t("Expected = after transpose",i,w.start);break}if(0===s.length)return t("Expected parameter after transpose=",i,0),l;if("number"!==s[0].type){t("Expected number after transpose",i,s[0].start);break}n.clef.transpose=s[0].intt,s.shift();break;case"stafflines":if(s.shift(),0===s.length)return t("Expected = after stafflines",i,0),l;if("="!==(w=s.shift()).token){t("Expected = after stafflines",i,w.start);break}if(0===s.length)return t("Expected parameter after stafflines=",i,0),l;if("number"!==s[0].type){t("Expected number after stafflines",i,s[0].start);break}n.clef.stafflines=s[0].intt,s.shift();break;case"staffscale":if(s.shift(),0===s.length)return t("Expected = after staffscale",i,0),l;if("="!==(w=s.shift()).token){t("Expected = after staffscale",i,w.start);break}if(0===s.length)return t("Expected parameter after staffscale=",i,0),l;if("number"!==s[0].type){t("Expected number after staffscale",i,s[0].start);break}n.clef.staffscale=s[0].floatt,s.shift();break;case"octave":if(s.shift(),0===s.length)return t("Expected = after octave",i,0),l;if("="!==(w=s.shift()).token){t("Expected = after octave",i,w.start);break}if(0===s.length)return t("Expected parameter after octave=",i,0),l;if("number"!==s[0].type){t("Expected number after octave",i,s[0].start);break}n.octave=s[0].intt,s.shift();break;case"style":if(s.shift(),0===s.length)return t("Expected = after style",i,0),l;if("="!==(w=s.shift()).token){t("Expected = after style",i,w.start);break}if(0===s.length)return t("Expected parameter after style=",i,0),l;switch(s[0].token){case"normal":case"harmonic":case"rhythm":case"x":case"triangle":n.style=s[0].token,s.shift();break;default:t("error parsing style element: "+s[0].token,i,s[0].start)}break;case"clef":if(s.shift(),0===s.length)return t("Expected = after clef",i,0),l;if("="!==(w=s.shift()).token){t("Expected = after clef",i,w.start);break}if(0===s.length)return t("Expected parameter after clef=",i,0),l;case"treble":case"bass":case"alto":case"tenor":case"perc":case"none":var C=s.shift();switch(C.token){case"treble":case"tenor":case"alto":case"bass":case"perc":case"none":break;case"C":case"c":C.token="alto";break;case"F":case"f":C.token="bass";break;case"G":case"g":C.token="treble";break;default:t("Expected clef name. Found "+C.token,i,C.start)}s.length>0&&"number"===s[0].type&&(C.token+=s[0].token,s.shift()),s.length>1&&("-"===s[0].token||"+"===s[0].token||"^"===s[0].token||"_"===s[0].token)&&"8"===s[1].token&&(C.token+=s[0].token+s[1].token,s.shift(),s.shift()),n.clef={type:C.token,verticalPos:c(C.token,0)},n.currentVoice&&void 0!==n.currentVoice.transpose&&(n.clef.transpose=n.currentVoice.transpose),l.foundClef=!0;break;default:t("Unknown parameter: "+s[0].token,i,s[0].start),s.shift()}return l},a.parseVoice=function(r,i,a){var s=e.getMeat(r,i,a),l=s.start,h=s.end,d=e.getToken(r,l,h);if(0!==d.length){var f=!1;void 0===n.voices[d]&&(n.voices[d]={},f=!0,n.score_is_present&&t("Can't have an unknown V: id when the %score directive is present",r,l)),l+=d.length,l+=e.eatWhiteSpace(r,l);for(var p={startStaff:f},m=function(n){var i=e.getVoiceToken(r,l,h);void 0!==i.warn?t("Expected value for "+n+" in voice: "+i.warn,r,l):void 0!==i.err?t("Expected value for "+n+" in voice: "+i.err,r,l):0===i.token.length&&'"'!==r[l]?t("Expected value for "+n+" in voice",r,l):p[n]=i.token,l+=i.len},g=function(i,a,o){var s=e.getVoiceToken(r,l,h);void 0!==s.warn?t("Expected value for "+a+" in voice: "+s.warn,r,l):void 0!==s.err?t("Expected value for "+a+" in voice: "+s.err,r,l):0===s.token.length&&'"'!==r[l]?t("Expected value for "+a+" in voice",r,l):("number"===o&&(s.token=parseFloat(s.token)),n.voices[i][a]=s.token),l+=s.len},v=function(n,i){var a=e.getVoiceToken(r,l,h);if(void 0!==a.warn)t("Expected value for "+n+" in voice: "+a.warn,r,l);else if(void 0!==a.err)t("Expected value for "+n+" in voice: "+a.err,r,l);else{if(0!==a.token.length||'"'===r[l])return"number"===i&&(a.token=parseFloat(a.token)),a.token;t("Expected value for "+n+" in voice",r,l)}l+=a.len},b=function(i,a){var o=e.getVoiceToken(r,l,h);if(void 0!==o.warn)t("Expected one of (_B, _E, _b, _e) for "+a+" in voice: "+o.warn,r,l);else if(0===o.token.length&&'"'!==r[l])t("Expected one of (_B, _E, _b, _e) for "+a+" in voice",r,l);else{var s={_B:2,_E:9,_b:-10,_e:-3}[o.token];s?n.voices[i][a]=s:t("Expected one of (_B, _E, _b, _e) for "+a+" in voice",r,l)}l+=o.len};l<h;){var _=e.getVoiceToken(r,l,h);if(l+=_.len,_.warn)t("Error parsing voice: "+_.warn,r,l);else{var y=null;switch(_.token){case"clef":case"cl":m("clef");var w=0;void 0!==p.clef&&(p.clef=p.clef.replace(/[',]/g,""),-1!==p.clef.indexOf("+16")&&(w+=14,p.clef=p.clef.replace("+16","")),p.verticalPos=c(p.clef,w));break;case"treble":case"bass":case"tenor":case"alto":case"perc":case"none":case"treble'":case"bass'":case"tenor'":case"alto'":case"none'":case"treble''":case"bass''":case"tenor''":case"alto''":case"none''":case"treble,":case"bass,":case"tenor,":case"alto,":case"none,":case"treble,,":case"bass,,":case"tenor,,":case"alto,,":case"none,,":p.clef=_.token.replace(/[',]/g,""),p.verticalPos=c(p.clef,0),n.voices[d].clef=_.token;break;case"staves":case"stave":case"stv":m("staves");break;case"brace":case"brc":m("brace");break;case"bracket":case"brk":m("bracket");break;case"name":case"nm":m("name");break;case"subname":case"sname":case"snm":m("subname");break;case"merge":p.startStaff=!1;break;case"stem":case"stems":void 0!==(y=e.getVoiceToken(r,l,h)).warn?t("Expected value for stems in voice: "+y.warn,r,l):void 0!==y.err?t("Expected value for stems in voice: "+y.err,r,l):"up"===y.token||"down"===y.token?n.voices[d].stem=y.token:t("Expected up or down for voice stem",r,l),l+=y.len;break;case"up":case"down":n.voices[d].stem=_.token;break;case"middle":case"m":m("verticalPos"),p.verticalPos=u(p.verticalPos).mid;break;case"gchords":case"gch":n.voices[d].suppressChords=!0,"0"===(y=e.getVoiceToken(r,l,h)).token&&(l+=y.len);break;case"space":case"spc":m("spacing");break;case"scale":g(d,"scale","number");break;case"score":b(d,"scoreTranspose");break;case"transpose":g(d,"transpose","number");break;case"stafflines":g(d,"stafflines","number");break;case"staffscale":g(d,"staffscale","number");break;case"octave":g(d,"octave","number");break;case"volume":g(d,"volume","number");break;case"cue":var S=v("cue","string");n.voices[d].scale="on"===S?.6:1;break;case"style":void 0!==(y=e.getVoiceToken(r,l,h)).warn?t("Expected value for style in voice: "+y.warn,r,l):void 0!==y.err?t("Expected value for style in voice: "+y.err,r,l):"normal"===y.token||"harmonic"===y.token||"rhythm"===y.token||"x"===y.token||"triangle"===y.token?n.voices[d].style=y.token:t("Expected one of [normal, harmonic, rhythm, x, triangle] for voice style",r,l),l+=y.len}}l+=e.eatWhiteSpace(r,l)}if((p.startStaff||0===n.staves.length)&&(n.staves.push({index:n.staves.length,meter:n.origMeter}),n.score_is_present||(n.staves[n.staves.length-1].numVoices=0)),void 0===n.voices[d].staffNum){n.voices[d].staffNum=n.staves.length-1;var k=0;for(var x in n.voices)n.voices.hasOwnProperty(x)&&n.voices[x].staffNum===n.voices[d].staffNum&&k++;n.voices[d].index=k-1}var M=n.staves[n.voices[d].staffNum];return n.score_is_present||M.numVoices++,p.clef&&(M.clef={type:p.clef,verticalPos:p.verticalPos}),p.spacing&&(M.spacing_below_offset=p.spacing),p.verticalPos&&(M.verticalPos=p.verticalPos),p.name&&(M.name?M.name.push(p.name):M.name=[p.name]),p.subname&&(M.subname?M.subname.push(p.subname):M.subname=[p.subname]),function(e){var t=n.voices[e];if(!n.currentVoice||n.currentVoice.index!==t.index||n.currentVoice.staffNum!==t.staffNum)return n.currentVoice=t,o.setCurrentVoice(t.staffNum,t.index,e)}(d)}t("Expected a voice id",r,l)}}(),e.exports=a},11017:(e,t,n)=>{var r,i,a,o,s,c,l=n(99104),u=n(5441),{legalAccents:h,volumeDecorations:d,dynamicDecorations:f,accentPseudonyms:p,accentDynamicPseudonyms:m,nonDecorations:g,durations:v,pitches:b,rests:_,accMap:y,tripletQ:w}=n(78697),S=function(e,t,n,l,u,h){r=e,i=t,a=n,o=l,s=u,c=h,this.lineContinuation=!1},k=function(e,t,n){if(void 0===e.inTie[t])return!1;var r=e.currentVoice?100*e.currentVoice.staffNum+e.currentVoice.index:0;return!(!e.inTie[t][r]||void 0===n.pitches&&"spacer"===n.rest.type)},x={};S.prototype.parseMusic=function(e){c.resolveTempo(),a.is_in_header=!1;for(var t=0,n=a.iChar;r.isWhiteSpace(e[t])&&t<e.length;)t++;if(t!==e.length&&"%"!==e[t]){var l=a.start_new_line;void 0===a.continueall?a.start_new_line=!0:a.start_new_line=!1;var u=0,h=c.letter_to_body_header(e,t);h[0]>0&&(t+=h[0],"V"===h[1]&&this.startNewLine());for(var d=0;t<e.length;){var f=t;if("%"===e[t])break;var p=c.letter_to_inline_header(e,t,l);if(p[0]>0)t+=p[0],"V"===p[1]&&(l=!0);else{var m;for((!s.hasBeginMusic()||l&&!this.lineContinuation)&&(this.startNewLine(),l=!1);;)if((m=r.eatWhiteSpace(e,t))>0&&(t+=m),t>0&&""===e[t-1]&&(m=c.letter_to_body_header(e,t))[0]>0&&("V"===m[1]&&this.startNewLine(),t=m[0],a.start_new_line=!1),(m=P(e,t))[0]>0&&(t+=m[0]),(m=E(e,t))[0]>0){x.chord||(x.chord=[]);var b=r.translateString(m[1]);b=b.replace(/;/g,"\n");for(var _=!1,y=0;y<x.chord.length;y++)x.chord[y].position===m[2]&&(_=!0,x.chord[y].name+="\n"+b);!1===_&&(null===m[2]&&m[3]?x.chord.push({name:b,rel_position:m[3]}):x.chord.push({name:b,position:m[2]})),t+=m[0];var w=r.skipWhiteSpace(e.substring(t));w>0&&(x.force_end_beam_last=!0),t+=w}else if((m=-1===g.indexOf(e[t])?O(e,t):[0])[0]>0)null===m[1]?t+1<e.length&&this.startNewLine():m[1].length>0&&(0===m[1].indexOf("style=")?x.style=m[1].substr(6):(void 0===x.decoration&&(x.decoration=[]),"beambr1"===m[1]?x.beambr=1:"beambr2"===m[1]?x.beambr=2:x.decoration.push(m[1]))),t+=m[0];else{if(!((m=T(e,t))[0]>0))break;x.gracenotes=m[1],t+=m[0]}if((m=I(e,t))[0]>0){d=0,void 0!==x.gracenotes&&(x.rest={type:"spacer"},x.duration=.125,a.addFormattingOptions(x,o.formatting,"note"),s.appendElement("note",n+t,n+t+m[0],x),a.measureNotEmpty=!0,x={});var S={type:m[1]};0===S.type.length?i("Unknown bar type",e,t):(a.inEnding&&"bar_thin"!==S.type&&(S.endEnding=!0,a.inEnding=!1),m[2]&&(S.startEnding=m[2],a.inEnding&&(S.endEnding=!0),a.inEnding=!0,"bar_right_repeat"===m[1]?a.restoreStartEndingHoldOvers():a.duplicateStartEndingHoldOvers()),void 0!==x.decoration&&(S.decoration=x.decoration),void 0!==x.chord&&(S.chord=x.chord),S.startEnding&&void 0===a.barFirstEndingNum?a.barFirstEndingNum=a.currBarNumber:S.startEnding&&S.endEnding&&a.barFirstEndingNum?a.currBarNumber=a.barFirstEndingNum:S.endEnding&&(a.barFirstEndingNum=void 0),"bar_invisible"!==S.type&&a.measureNotEmpty&&D()&&(a.currBarNumber++,a.barNumbers&&a.currBarNumber%a.barNumbers==0&&(S.barNumber=a.currBarNumber)),a.addFormattingOptions(x,o.formatting,"bar"),s.appendElement("bar",n+f,n+t+m[0],S),a.measureNotEmpty=!1,x={}),t+=m[0]}else if("&"===e[t])(m=C(e,t))[0]>0&&(s.appendElement("overlay",n,n+1,{}),t+=1,d++);else{if((m=R(e,t)).consumed>0&&(void 0!==m.startSlur&&(x.startSlur=m.startSlur),m.dottedSlur&&(x.dottedSlur=!0),void 0!==m.triplet&&(u>0?i("Can't nest triplets",e,t):(x.startTriplet=m.triplet,x.tripletMultiplier=m.tripletQ/m.triplet,x.tripletR=m.num_notes,u=void 0===m.num_notes?m.triplet:m.num_notes)),t+=m.consumed),"["===e[t]){t++;for(var j=null,z=!1,F=!1;!F;){var V=O(e,t);V[0]>0&&(t+=V[0]);var H=N(e,t,{},!1);if(null!==H&&void 0!==H.pitch)V[0]>0&&0!==V[1].indexOf("style=")&&(void 0===x.decoration&&(x.decoration=[]),x.decoration.push(V[1])),H.end_beam&&(x.end_beam=!0,delete H.end_beam),void 0===x.pitches?(x.duration=H.duration,x.pitches=[H]):x.pitches.push(H),delete H.duration,V[0]>0&&0===V[1].indexOf("style=")&&(x.pitches[x.pitches.length-1].style=V[1].substr(6)),a.inTieChord[x.pitches.length]&&(H.endTie=!0,a.inTieChord[x.pitches.length]=void 0),H.startTie&&(a.inTieChord[x.pitches.length]=!0),t=H.endChar,delete H.endChar;else if(" "===e[t])i("Spaces are not allowed in chords",e,t),t++;else{if(t<e.length&&"]"===e[t]){t++,0!==a.next_note_duration&&(x.duration=x.duration*a.next_note_duration,a.next_note_duration=0),k(a,d,x)&&(x.pitches.forEach((function(e){e.endTie=!0})),M(a,d,!1)),u>0&&(!x.rest||"spacer"!==x.rest.type)&&0==--u&&(x.endTriplet=!0);for(var W=!1;t<e.length&&!W;){switch(e[t]){case" ":case"\t":B(x);break;case")":void 0===x.endSlur?x.endSlur=1:x.endSlur++;break;case"-":x.pitches.forEach((function(e){e.startTie={}})),M(a,d,!0);break;case">":case"<":var U=L(e,t);t+=U[0]-1,a.next_note_duration=U[2],j?j*=U[1]:j=U[1];break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"/":var G=r.getFraction(e,t);j=G.value;var q=e[t=G.index];" "===q&&(z=!0),"-"===q||")"===q||" "===q||"<"===q||">"===q?t--:W=!0;break;case"0":j=0;break;default:W=!0}W||t++}}else i("Expected ']' to end the chords",e,t);void 0!==x.pitches&&(null!==j&&(x.duration=x.duration*j,z&&B(x)),a.addFormattingOptions(x,o.formatting,"note"),s.appendElement("note",n+f,n+t,x),a.measureNotEmpty=!0,x={}),F=!0}}}else{var Y={},X=N(e,t,Y,!0);void 0!==Y.endTie&&M(a,d,!0),null!==X&&(void 0!==X.pitch?(x.pitches=[{}],void 0!==X.accidental&&(x.pitches[0].accidental=X.accidental),x.pitches[0].pitch=X.pitch,x.pitches[0].name=X.name,(X.midipitch||0===X.midipitch)&&(x.pitches[0].midipitch=X.midipitch),void 0!==X.endSlur&&(x.pitches[0].endSlur=X.endSlur),void 0!==X.endTie&&(x.pitches[0].endTie=X.endTie),void 0!==X.startSlur&&(x.pitches[0].startSlur=X.startSlur),void 0!==x.startSlur&&(x.pitches[0].startSlur=x.startSlur),void 0!==x.dottedSlur&&(x.pitches[0].dottedSlur=!0),void 0!==X.startTie&&(x.pitches[0].startTie=X.startTie),void 0!==x.startTie&&(x.pitches[0].startTie=x.startTie)):(x.rest=X.rest,"multimeasure"===X.rest.type&&D()&&(a.currBarNumber+=X.rest.text-1),void 0!==X.endSlur&&(x.endSlur=X.endSlur),void 0!==X.endTie&&(x.rest.endTie=X.endTie),void 0!==X.startSlur&&(x.startSlur=X.startSlur),void 0!==X.startTie&&(x.rest.startTie=X.startTie),void 0!==x.startTie&&(x.rest.startTie=x.startTie)),void 0!==X.chord&&(x.chord=X.chord),void 0!==X.duration&&(x.duration=X.duration),void 0!==X.decoration&&(x.decoration=X.decoration),void 0!==X.graceNotes&&(x.graceNotes=X.graceNotes),delete x.startSlur,delete x.dottedSlur,k(a,d,x)&&(void 0!==x.pitches?x.pitches[0].endTie=!0:"spacer"!==x.rest.type&&(x.rest.endTie=!0),M(a,d,!1)),(X.startTie||x.startTie)&&M(a,d,!0),t=X.endChar,u>0&&(!X.rest||"spacer"!==X.rest.type)&&0==--u&&(x.endTriplet=!0),X.end_beam&&B(x),x.rest&&"rest"===x.rest.type&&1===x.duration&&A(a)<=1&&(x.rest.type="whole",x.duration=A(a)),x.duration<1&&-1===v.indexOf(x.duration)&&0!==x.duration&&(x.rest&&"spacer"===x.rest.type||i("Duration not representable: "+e.substring(f,t),e,t)),a.addFormattingOptions(x,o.formatting,"note"),s.appendElement("note",n+f,n+t,x)||(this.startNewLine(),s.appendElement("note",n+f,n+t,x)),a.measureNotEmpty=!0,x={})}t===f&&(" "!==e[t]&&"`"!==e[t]&&i("Unknown character ignored",e,t),t++)}}}this.lineContinuation=e.indexOf("")>=0||h[0]>0,this.lineContinuation||(x={})}};var M=function(e,t,n){var r=e.currentVoice?100*e.currentVoice.staffNum+e.currentVoice.index:0;void 0===e.inTie[t]&&(e.inTie[t]=[]),e.inTie[t][r]=n},E=function(e,t){if('"'===e[t]){var n=r.getBrackettedSubstring(e,t,5);if(n[2]||i("Missing the closing quote while parsing the chord symbol",e,t),n[0]>0&&n[1].length>0&&"^"===n[1][0])n[1]=n[1].substring(1),n[2]="above";else if(n[0]>0&&n[1].length>0&&"_"===n[1][0])n[1]=n[1].substring(1),n[2]="below";else if(n[0]>0&&n[1].length>0&&"<"===n[1][0])n[1]=n[1].substring(1),n[2]="left";else if(n[0]>0&&n[1].length>0&&">"===n[1][0])n[1]=n[1].substring(1),n[2]="right";else if(n[0]>0&&n[1].length>0&&"@"===n[1][0]){n[1]=n[1].substring(1);var o=r.getFloat(n[1]);if(0===o.digits)return i("Missing first position in absolutely positioned annotation.",e,t),n[1]=n[1].replace("@",""),n[2]="above",n;if(n[1]=n[1].substring(o.digits),","!==n[1][0])return i("Missing comma absolutely positioned annotation.",e,t),n[1]=n[1].replace("@",""),n[2]="above",n;n[1]=n[1].substring(1);var s=r.getFloat(n[1]);if(0===s.digits)return i("Missing second position in absolutely positioned annotation.",e,t),n[1]=n[1].replace("@",""),n[2]="above",n;n[1]=n[1].substring(s.digits);var c=r.skipWhiteSpace(n[1]);n[1]=n[1].substring(c),n[2]=null,n[3]={x:o.value,y:s.value}}else!0!==a.freegchord&&(n[1]=n[1].replace(/([ABCDEFG0-9])b/g,"$1"),n[1]=n[1].replace(/([ABCDEFG0-9])#/g,"$1"),n[1]=n[1].replace(/^([ABCDEFG])([]?)o([^A-Za-z])/g,"$1$2$3"),n[1]=n[1].replace(/^([ABCDEFG])([]?)o$/g,"$1$2"),n[1]=n[1].replace(/^([ABCDEFG])([]?)0([^A-Za-z])/g,"$1$2$3"),n[1]=n[1].replace(/^([ABCDEFG])([]?)\^([^A-Za-z])/g,"$1$2$3")),n[2]="default",n[1]=u.chordName(a,n[1]);return n}return[0,""]},T=function(e,t){if("{"===e[t]){var n=r.getBrackettedSubstring(e,t,1,"}");n[2]||i("Missing the closing '}' while parsing grace note",e,t),")"===e[t+n[0]]&&(n[0]++,n[1]+=")");for(var o=[],s=0,c=!1;s<n[1].length;){var l=!1;"/"===n[1][s]&&(l=!0,s++);var u=N(n[1],s,{},!1);null!==u?(u.duration=u.duration/(8*a.default_length),l&&(u.acciaccatura=!0),u.rest?i("Rests not allowed as grace notes '"+n[1][s]+"' while parsing grace note",e,t):o.push(u),c&&(u.endTie=!0,c=!1),u.startTie&&(c=!0),s=u.endChar,delete u.endChar,u.end_beam&&(u.endBeam=!0,delete u.end_beam)):(" "===n[1][s]?o.length>0&&(o[o.length-1].endBeam=!0):i("Unknown character '"+n[1][s]+"' while parsing grace note",e,t),s++)}if(o.length)return[n[0],o]}return[0]};function C(e,t){if("&"===e[t]){for(var n=t;e[t]&&":"!==e[t]&&"|"!==e[t];)t++;return[t-n,e.substring(n+1,t)]}return[0]}function A(e){var t=e.origMeter;return t&&"specified"===t.type&&t.value&&0!==t.value.length?parseInt(t.value[0].num,10)/parseInt(t.value[0].den,10):1}var O=function(e,t){var n=a.macros[e[t]];if(void 0!==n)return"!"!==n[0]&&"+"!==n[0]||(n=n.substring(1)),"!"!==n[n.length-1]&&"+"!==n[n.length-1]||(n=n.substring(0,n.length-1)),h.includes(n)?[1,n]:d.includes(n)?("hidden"===a.volumePosition&&(n=""),[1,n]):f.includes(n)?("hidden"===a.dynamicPosition&&(n=""),[1,n]):(a.ignoredDecorations.includes(n)||i("Unknown macro: "+n,e,t),[1,""]);switch(e[t]){case".":if("("===e[t+1]||"-"===e[t+1])break;return[1,"staccato"];case"u":return[1,"upbow"];case"v":return[1,"downbow"];case"~":return[1,"irishroll"];case"!":case"+":var o=r.getBrackettedSubstring(e,t,5);if(o[1].length>1&&("^"===o[1][0]||"_"===o[1][0])&&(o[1]=o[1].substring(1)),h.includes(o[1]))return o;if(d.includes(o[1]))return"hidden"===a.volumePosition&&(o[1]=""),o;if(f.includes(o[1]))return"hidden"===a.dynamicPosition&&(o[1]=""),o;var s=p.findIndex((function(e){return o[1]===e[0]}));return s>=0?(o[1]=p[s][1],o):(s=m.findIndex((function(e){return o[1]===e[0]})))>=0?(o[1]=m[s][1],"hidden"===a.dynamicPosition&&(o[1]=""),o):"!"!==e[t]||1!==o[0]&&"!"===e[t+o[0]-1]?(i("Unknown decoration: "+o[1],e,t),o[1]="",o):[1,null];case"H":return[1,"fermata"];case"J":return[1,"slide"];case"L":return[1,"accent"];case"M":return[1,"mordent"];case"O":return[1,"coda"];case"P":return[1,"pralltriller"];case"R":return[1,"roll"];case"S":return[1,"segno"];case"T":return[1,"trill"]}return[0,0]},P=function(e,t){for(var n=t;r.isWhiteSpace(e[t]);)t++;return[t-n]},I=function(e,t){var n=r.getBarLine(e,t);if(0===n.len)return[0,""];if(n.warn)return i(n.warn,e,t),[n.len,""];for(var a=0;a<e.length&&" "===e[t+n.len+a];a++);var o=n.len;if("["===e[t+n.len+a]&&(n.len+=a+1),'"'===e[t+n.len]&&"["===e[t+n.len-1]){var s=r.getBrackettedSubstring(e,t+n.len,5);return[n.len+s[0],n.token,s[1]]}var c=r.getTokenOf(e.substring(t+n.len),"1234567890-,");return 0===c.len||"-"===c.token[0]?[o,n.token]:[n.len+c.len,n.token,c.token]},R=function(e,t){var n={},a=t;for("."===e[t]&&"("===e[t+1]&&(n.dottedSlur=!0,t++);"("===e[t]||r.isWhiteSpace(e[t]);)"("===e[t]&&(t+1<e.length&&e[t+1]>="2"&&e[t+1]<="9"?(void 0!==n.triplet?i("Can't nest triplets",e,t):(n.triplet=e[t+1]-"0",n.tripletQ=w[n.triplet],n.num_notes=n.triplet,t+2<e.length&&":"===e[t+2]&&(t+3<e.length&&":"===e[t+3]?t+4<e.length&&e[t+4]>="1"&&e[t+4]<="9"?(n.num_notes=e[t+4]-"0",t+=3):i("expected number after the two colons after the triplet to mark the duration",e,t):t+3<e.length&&e[t+3]>="1"&&e[t+3]<="9"?(n.tripletQ=e[t+3]-"0",t+4<e.length&&":"===e[t+4]?t+5<e.length&&e[t+5]>="1"&&e[t+5]<="9"&&(n.num_notes=e[t+5]-"0",t+=4):t+=2):i("expected number after the triplet to mark the duration",e,t))),t++):void 0===n.startSlur?n.startSlur=1:n.startSlur++),t++;return n.consumed=t-a,n};S.prototype.startNewLine=function(){var e={startChar:-1,endChar:-1};a.partForNextLine.title&&(e.part=a.partForNextLine),e.clef=a.currentVoice&&void 0!==a.staves[a.currentVoice.staffNum].clef?Object.assign({},a.staves[a.currentVoice.staffNum].clef):Object.assign({},a.clef);var t=a.currentVoice?a.currentVoice.scoreTranspose:0;if(e.key=l.standardKey(a.key.root+a.key.acc+a.key.mode,a.key.root,a.key.acc,t),e.key.mode=a.key.mode,a.key.impliedNaturals&&(e.key.impliedNaturals=a.key.impliedNaturals),a.key.explicitAccidentals)for(var n=0;n<a.key.explicitAccidentals.length;n++){for(var r=!1,i=0;i<e.key.accidentals.length;i++)e.key.accidentals[i].note===a.key.explicitAccidentals[n].note&&(e.key.accidentals[i].acc=a.key.explicitAccidentals[n].acc,r=!0);r||e.key.accidentals.push(a.key.explicitAccidentals[n])}if(a.targetKey=e.key,e.key.explicitAccidentals&&delete e.key.explicitAccidentals,l.addPosToKey(e.clef,e.key),null!==a.meter?(a.currentVoice?(a.staves.forEach((function(e){e.meter=a.meter})),e.meter=a.staves[a.currentVoice.staffNum].meter,a.staves[a.currentVoice.staffNum].meter=null):e.meter=a.meter,a.meter=null):a.currentVoice&&a.staves[a.currentVoice.staffNum].meter&&(e.meter=a.staves[a.currentVoice.staffNum].meter,a.staves[a.currentVoice.staffNum].meter=null),a.currentVoice&&a.currentVoice.name&&(e.name=a.currentVoice.name),a.vocalfont&&(e.vocalfont=a.vocalfont),a.tripletfont&&(e.tripletfont=a.tripletfont),a.gchordfont&&(e.gchordfont=a.gchordfont),a.style&&(e.style=a.style),a.currentVoice){var o=a.staves[a.currentVoice.staffNum];o.brace&&(e.brace=o.brace),o.bracket&&(e.bracket=o.bracket),o.connectBarLines&&(e.connectBarLines=o.connectBarLines),o.name&&(e.name=o.name[a.currentVoice.index]),o.subname&&(e.subname=o.subname[a.currentVoice.index]),a.currentVoice.stem&&(e.stem=a.currentVoice.stem),a.currentVoice.stafflines&&(e.stafflines=a.currentVoice.stafflines),a.currentVoice.staffscale&&(e.staffscale=a.currentVoice.staffscale),a.currentVoice.scale&&(e.scale=a.currentVoice.scale),a.currentVoice.color&&(e.color=a.currentVoice.color),a.currentVoice.style&&(e.style=a.currentVoice.style),a.currentVoice.transpose&&(e.clef.transpose=a.currentVoice.transpose),e.currentVoice=a.currentVoice;for(var c=Object.keys(a.voices),u=0;u<c.length;u++)e.currentVoice.staffNum===a.voices[c[u]].staffNum&&e.currentVoice.index===a.voices[c[u]].index&&(e.currentVoiceName=c[u])}0===a.barNumbers&&D()&&1!==a.currBarNumber&&(e.barNumber=a.currBarNumber),s.startNewLine(e),a.key.impliedNaturals&&delete a.key.impliedNaturals,a.partForNextLine={},4===a.tempoForNextLine.length&&s.appendElement(a.tempoForNextLine[0],a.tempoForNextLine[1],a.tempoForNextLine[2],a.tempoForNextLine[3]),a.tempoForNextLine=[]};var B=function(e){return void 0!==e.duration&&e.duration<.25&&(e.end_beam=!0),e},N=function(e,t,n,i){var c,l=function(e){return"octave"===e||"duration"===e||"Zduration"===e||"broken_rhythm"===e||"end_slur"===e};"."===e[t]&&"-"===e[t+1]&&(c=!0,t++);for(var h="startSlur",d=!1;;){switch(e[t]){case"(":if("startSlur"!==h)return l(h)?(n.endChar=t,n):null;void 0===n.startSlur?n.startSlur=1:n.startSlur++;break;case")":if(!l(h))return null;void 0===n.endSlur?n.endSlur=1:n.endSlur++;break;case"^":if("startSlur"===h)n.accidental="sharp",h="sharp2";else{if("sharp2"!==h)return l(h)?(n.endChar=t,n):null;n.accidental="dblsharp",h="pitch"}break;case"_":if("startSlur"===h)n.accidental="flat",h="flat2";else{if("flat2"!==h)return l(h)?(n.endChar=t,n):null;n.accidental="dblflat",h="pitch"}break;case"=":if("startSlur"!==h)return l(h)?(n.endChar=t,n):null;n.accidental="natural",h="pitch";break;case"A":case"B":case"C":case"D":case"E":case"F":case"G":case"a":case"b":case"c":case"d":case"e":case"f":case"g":if("startSlur"!==h&&"sharp2"!==h&&"flat2"!==h&&"pitch"!==h)return l(h)?(n.endChar=t,n):null;if(n.pitch=b[e[t]],n.pitch+=7*(a.currentVoice&&void 0!==a.currentVoice.octave?a.currentVoice.octave:a.octave),n.name=e[t],n.accidental&&(n.name=y[n.accidental]+n.name),u.note(a,n),h="octave",i&&0!==a.next_note_duration?(n.duration=a.default_length*a.next_note_duration,a.next_note_duration=0,d=!0):n.duration=a.default_length,a.clef&&"perc"===a.clef.type||a.currentVoice&&"perc"===a.currentVoice.clef){var f=e[t];n.accidental&&(f=y[n.accidental]+f),o.formatting&&o.formatting.midi&&o.formatting.midi.drummap&&(n.midipitch=o.formatting.midi.drummap[f])}break;case",":if("octave"!==h)return l(h)?(n.endChar=t,n):null;n.pitch-=7,n.name+=",";break;case"'":if("octave"!==h)return l(h)?(n.endChar=t,n):null;n.pitch+=7,n.name+="'";break;case"x":case"X":case"y":case"z":case"Z":if("startSlur"!==h)return l(h)?(n.endChar=t,n):null;n.rest={type:_[e[t]]},delete n.accidental,delete n.startSlur,delete n.startTie,delete n.endSlur,delete n.endTie,delete n.end_beam,delete n.grace_notes,n.rest.type.indexOf("multimeasure")>=0?(n.duration=o.getBarLength(),n.rest.text=1,h="Zduration"):(i&&0!==a.next_note_duration?(n.duration=a.default_length*a.next_note_duration,a.next_note_duration=0,d=!0):n.duration=a.default_length,h="duration");break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"/":if("octave"===h||"duration"===h){var p=r.getFraction(e,t);for(n.duration=n.duration*p.value,n.endChar=p.index;p.index<e.length&&(r.isWhiteSpace(e[p.index])||"-"===e[p.index]);)"-"===e[p.index]?n.startTie={}:n=B(n),p.index++;t=p.index-1,h="broken_rhythm"}else if("sharp2"===h)n.accidental="quartersharp",h="pitch";else{if("flat2"!==h){if("Zduration"===h){var m=r.getNumber(e,t);return n.duration=m.num*o.getBarLength(),n.rest.text=m.num,n.endChar=m.index,n}return null}n.accidental="quarterflat",h="pitch"}break;case"-":if("startSlur"===h)s.addTieToLastNote(c),n.endTie=!0;else{if("octave"!==h&&"duration"!==h&&"end_slur"!==h)return"broken_rhythm"===h?(n.endChar=t,n):null;if(n.startTie={},d||!i)return r.isWhiteSpace(e[t+1])&&B(n),n.endChar=t+1,n;h="broken_rhythm"}break;case" ":case"\t":if(!l(h))return null;n.end_beam=!0,c=!1;do{"."===e[t]&&"-"===e[t+1]&&(c=!0,t++),"-"===e[t]&&(n.startTie={},c&&(n.startTie.style="dotted")),t++}while(t<e.length&&(r.isWhiteSpace(e[t])||"-"===e[t])||"."===e[t]&&"-"===e[t+1]);if(n.endChar=t,d||!i||"<"!==e[t]&&">"!==e[t])return n;t--,h="broken_rhythm";break;case">":case"<":if(!l(h))return null;if(!i)return n.endChar=t,n;var g=L(e,t);t+=g[0]-1,a.next_note_duration=g[2],n.duration=g[1]*n.duration,h="end_slur";break;default:return l(h)?(n.endChar=t,n):null}if(++t===e.length)return l(h)?(n.endChar=t,n):null}return null},L=function(e,t){switch(e[t]){case">":return t<e.length-2&&">"===e[t+1]&&">"===e[t+2]?[3,1.875,.125]:t<e.length-1&&">"===e[t+1]?[2,1.75,.25]:[1,1.5,.5];case"<":return t<e.length-2&&"<"===e[t+1]&&"<"===e[t+2]?[3,.125,1.875]:t<e.length-1&&"<"===e[t+1]?[2,.25,1.75]:[1,.5,1.5]}return null};function D(){return void 0===a.currentVoice||0===a.currentVoice.staffNum&&0===a.currentVoice.index}e.exports=S},78697:e=>{e.exports.legalAccents=["trill","lowermordent","uppermordent","mordent","pralltriller","accent","fermata","invertedfermata","tenuto","0","1","2","3","4","5","+","wedge","open","thumb","snap","turn","roll","breath","shortphrase","mediumphrase","longphrase","segno","coda","D.S.","D.C.","fine","beambr1","beambr2","slide","marcato","upbow","downbow","/","//","///","////","trem1","trem2","trem3","trem4","turnx","invertedturn","invertedturnx","trill(","trill)","arpeggio","xstem","mark","umarcato","style=normal","style=harmonic","style=rhythm","style=x","style=triangle","D.C.alcoda","D.C.alfine","D.S.alcoda","D.S.alfine","editorial","courtesy"],e.exports.volumeDecorations=["p","pp","f","ff","mf","mp","ppp","pppp","fff","ffff","sfz"],e.exports.dynamicDecorations=["crescendo(","crescendo)","diminuendo(","diminuendo)","glissando(","glissando)","~(","~)"],e.exports.accentPseudonyms=[["<","accent"],[">","accent"],["tr","trill"],["plus","+"],["emphasis","accent"],["^","umarcato"],["marcato","umarcato"]],e.exports.accentDynamicPseudonyms=[["<(","crescendo("],["<)","crescendo)"],[">(","diminuendo("],[">)","diminuendo)"]],e.exports.nonDecorations="ABCDEFGabcdefgxyzZ[]|^_{",e.exports.durations=[.5,.75,.875,.9375,.96875,.984375,.25,.375,.4375,.46875,.484375,.4921875,.125,.1875,.21875,.234375,.2421875,.24609375,.0625,.09375,.109375,.1171875,.12109375,.123046875,.03125,.046875,.0546875,.05859375,.060546875,.0615234375,.015625,.0234375,.02734375,.029296875,.0302734375,.03076171875],e.exports.pitches={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11},e.exports.rests={x:"invisible",X:"invisible-multimeasure",y:"spacer",z:"rest",Z:"multimeasure"},e.exports.accMap={dblflat:"__",flat:"_",natural:"=",sharp:"^",dblsharp:"^^",quarterflat:"_/",quartersharp:"^/"},e.exports.tripletQ={2:3,3:2,4:3,5:2,6:2,7:2,8:3,9:2}},27695:(e,t,n)=>{var r=n(53181),i=function(e,t){this.lineIndex=0,this.lines=e,this.multilineVars=t,this.skipWhiteSpace=function(e){for(var t=0;t<e.length;t++)if(!this.isWhiteSpace(e[t]))return t;return e.length};var n=function(e,t){return t>=e.length};this.eatWhiteSpace=function(e,t){for(var n=t;n<e.length;n++)if(!this.isWhiteSpace(e[n]))return n-t;return n-t},this.getKeyPitch=function(e){var t=this.skipWhiteSpace(e);if(n(e,t))return{len:0};switch(e[t]){case"A":return{len:t+1,token:"A"};case"B":return{len:t+1,token:"B"};case"C":return{len:t+1,token:"C"};case"D":return{len:t+1,token:"D"};case"E":return{len:t+1,token:"E"};case"F":return{len:t+1,token:"F"};case"G":return{len:t+1,token:"G"}}return{len:0}},this.getSharpFlat=function(e){if("bass"===e)return{len:0};switch(e[0]){case"#":return{len:1,token:"#"};case"b":return{len:1,token:"b"}}return{len:0}},this.getMode=function(e){var t=function(e,t){for(;t<e.length&&(e[t]>="a"&&e[t]<="z"||e[t]>="A"&&e[t]<="Z");)t++;return t},r=this.skipWhiteSpace(e);if(n(e,r))return{len:0};var i=e.substring(r,r+3).toLowerCase();switch((i.length>1&&" "===i[1]||"^"===i[1]||"_"===i[1]||"="===i[1])&&(i=i[0]),i){case"mix":return{len:t(e,r),token:"Mix"};case"dor":return{len:t(e,r),token:"Dor"};case"phr":return{len:t(e,r),token:"Phr"};case"lyd":return{len:t(e,r),token:"Lyd"};case"loc":return{len:t(e,r),token:"Loc"};case"aeo":case"min":case"m":return{len:t(e,r),token:"m"};case"maj":case"ion":return{len:t(e,r),token:""}}return{len:0}},this.getClef=function(e,t){var i=e,a=this.skipWhiteSpace(e);if(n(e,a))return{len:0};var o=!1,s=e.substring(a);if(r.startsWith(s,"clef=")&&(o=!0,s=s.substring(5),a+=5),0===s.length&&o)return{len:a+5,warn:"No clef specified: "+i};var c=this.skipWhiteSpace(s);if(n(s,c))return{len:0};c>0&&(a+=c,s=s.substring(c));var l=null;if(r.startsWith(s,"treble"))l="treble";else if(r.startsWith(s,"bass3"))l="bass3";else if(r.startsWith(s,"bass"))l="bass";else if(r.startsWith(s,"tenor"))l="tenor";else if(r.startsWith(s,"alto2"))l="alto2";else if(r.startsWith(s,"alto1"))l="alto1";else if(r.startsWith(s,"alto"))l="alto";else if(!t&&o&&r.startsWith(s,"none"))l="none";else if(r.startsWith(s,"perc"))l="perc";else if(!t&&o&&r.startsWith(s,"C"))l="tenor";else if(!t&&o&&r.startsWith(s,"F"))l="bass";else{if(t||!o||!r.startsWith(s,"G"))return{len:a+5,warn:"Unknown clef specified: "+i};l="treble"}return s=s.substring(l.length),(c=this.isMatch(s,"+8"))>0?l+="+8":(c=this.isMatch(s,"-8"))>0&&(l+="-8"),{len:a+l.length,token:l,explicit:o}},this.getBarLine=function(e,t){switch(e[t]){case"]":switch(e[++t]){case"|":return{len:2,token:"bar_thick_thin"};case"[":return e[++t]>="1"&&e[t]<="9"||'"'===e[t]?{len:2,token:"bar_invisible"}:{len:1,warn:"Unknown bar symbol"};default:return{len:1,token:"bar_invisible"}}break;case":":switch(e[++t]){case":":return{len:2,token:"bar_dbl_repeat"};case"|":switch(e[++t]){case"]":return"|"===e[++t]&&":"===e[++t]?{len:5,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};case"|":return":"===e[++t]?{len:4,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:2,token:"bar_right_repeat"}}break;default:return{len:1,warn:"Unknown bar symbol"}}break;case"[":if("|"!==e[++t])return e[t]>="1"&&e[t]<="9"||'"'===e[t]?{len:1,token:"bar_invisible"}:{len:0};switch(e[++t]){case":":return{len:3,token:"bar_left_repeat"};case"]":return{len:3,token:"bar_invisible"};default:return{len:2,token:"bar_thick_thin"}}break;case"|":switch(e[++t]){case"]":return{len:2,token:"bar_thin_thick"};case"|":return":"===e[++t]?{len:3,token:"bar_left_repeat"}:{len:2,token:"bar_thin_thin"};case":":for(var n=0;":"===e[t+n];)n++;return{len:1+n,token:"bar_left_repeat"};default:return{len:1,token:"bar_thin"}}}return{len:0}},this.getTokenOf=function(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])<0)return{len:n,token:e.substring(0,n)};return{len:n,token:e}},this.getToken=function(e,t,n){for(var r=t;r<n&&!this.isWhiteSpace(e[r]);)r++;return e.substring(t,r)},this.isMatch=function(e,t){var i=this.skipWhiteSpace(e);return n(e,i)?0:r.startsWith(e.substring(i),t)?i+t.length:0},this.getPitchFromTokens=function(e){var t={};if(t.position={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11}[e[0].token],void 0===t.position)return{warn:"Pitch expected. Found: "+e[0].token};for(e.shift();e.length;)switch(e[0].token){case",":t.position-=7,e.shift();break;case"'":t.position+=7,e.shift();break;default:return t}return t},this.getKeyAccidentals2=function(e){for(var t;e.length>0;){var n;if("^"===e[0].token){if(n="sharp",e.shift(),0===e.length)return{accs:t,warn:"Expected note name after "+n};switch(e[0].token){case"^":n="dblsharp",e.shift();break;case"/":n="quartersharp",e.shift()}}else if("="===e[0].token)n="natural",e.shift();else{if("_"!==e[0].token)return{accs:t};if(n="flat",e.shift(),0===e.length)return{accs:t,warn:"Expected note name after "+n};switch(e[0].token){case"_":n="dblflat",e.shift();break;case"/":n="quarterflat",e.shift()}}if(0===e.length)return{accs:t,warn:"Expected note name after "+n};switch(e[0].token[0]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":void 0===t&&(t=[]),t.push({acc:n,note:e[0].token[0]}),1===e[0].token.length?e.shift():e[0].token=e[0].token.substring(1);break;default:return{accs:t,warn:"Expected note name after "+n+" Found: "+e[0].token}}}return{accs:t}},this.getKeyAccidental=function(e){var t={"^":"sharp","^^":"dblsharp","=":"natural",_:"flat",__:"dblflat","_/":"quarterflat","^/":"quartersharp"},r=this.skipWhiteSpace(e);if(n(e,r))return{len:0};var i=null;switch(e[r]){case"^":case"_":case"=":i=e[r];break;default:return{len:0}}if(r++,n(e,r))return{len:1,warn:"Expected note name after accidental"};switch(e[r]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:r+1,token:{acc:t[i],note:e[r]}};case"^":case"_":case"/":if(i+=e[r],r++,n(e,r))return{len:2,warn:"Expected note name after accidental"};switch(e[r]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:r+1,token:{acc:t[i],note:e[r]}};default:return{len:2,warn:"Expected note name after accidental"}}break;default:return{len:1,warn:"Expected note name after accidental"}}},this.isWhiteSpace=function(e){return" "===e||"\t"===e||""===e},this.getMeat=function(e,t,n){var r=e.indexOf("%",t);for(r>=0&&r<n&&(n=r);t<n&&(" "===e[t]||"\t"===e[t]||""===e[t]);)t++;for(;t<n&&(" "===e[n-1]||"\t"===e[n-1]||""===e[n-1]);)n--;return{start:t,end:n}};var i=function(e){return e>="A"&&e<="Z"||e>="a"&&e<="z"},a=function(e){return e>="0"&&e<="9"};this.tokenize=function(e,t,n,r){var o=this.getMeat(e,t,n);t=o.start,n=o.end;for(var s,c=[];t<n;){if('"'===e[t]){for(s=t+1;s<n&&'"'!==e[s];)s++;c.push({type:"quote",token:e.substring(t+1,s),start:t+1,end:s}),s++}else if(i(e[t])){if(s=t+1,r)for(;s<n&&!this.isWhiteSpace(e[s]);)s++;else for(;s<n&&i(e[s]);)s++;c.push({type:"alpha",token:e.substring(t,s),continueId:a(e[s]),start:t,end:s}),t=s+1}else if("."===e[t]&&a(e[s+1])){s=t+1;for(var l;s<n&&a(e[s]);)s++;l=parseFloat(e.substring(t,s)),c.push({type:"number",token:e.substring(t,s),intt:null,floatt:l,continueId:i(e[s]),start:t,end:s}),t=s+1}else if(a(e[t])||"-"===e[t]&&a(e[s+1])){s=t+1;for(var u,h=null;s<n&&a(e[s]);)s++;if("."===e[s]&&a(e[s+1]))for(s++;s<n&&a(e[s]);)s++;else h=parseInt(e.substring(t,s));u=parseFloat(e.substring(t,s)),c.push({type:"number",token:e.substring(t,s),intt:h,floatt:u,continueId:i(e[s]),start:t,end:s}),t=s+1}else" "===e[t]||"\t"===e[t]||c.push({type:"punct",token:e[t],start:t,end:t+1}),s=t+1;t=s}return c},this.getVoiceToken=function(e,t,n){for(var r=t;r<n&&this.isWhiteSpace(e[r])||"="===e[r];)r++;if('"'===e[r]){var i=e.indexOf('"',r+1);return-1===i||i>=n?{len:1,err:"Missing close quote"}:{len:i-t+1,token:this.translateString(e.substring(r+1,i))}}for(var a=r;a<n&&!this.isWhiteSpace(e[a])&&"="!==e[a];)a++;return{len:a-t+1,token:e.substring(r,a)}};var o={"`a":"","'a":"","^a":"","~a":"",'"a':"",oa:"",aa:"","=a":"",ua:"",";a":"","`e":"","'e":"","^e":"",'"e':"","=e":"",ue:"",";e":"",".e":"","`i":"","'i":"","^i":"",'"i':"","=i":"",ui:"",";i":"","`o":"","'o":"","^o":"","~o":"",'"o':"","=o":"",uo:"","/o":"","`u":"","'u":"","^u":"","~u":"",'"u':"",ou:"","=u":"",uu:"",";u":"","`A":"","'A":"","^A":"","~A":"",'"A':"",oA:"",AA:"","=A":"",uA:"",";A":"","`E":"","'E":"","^E":"",'"E':"","=E":"",uE:"",";E":"",".E":"","`I":"","'I":"","^I":"","~I":"",'"I':"","=I":"",uI:"",";I":"",".I":"","`O":"","'O":"","^O":"","~O":"",'"O':"","=O":"",uO:"","/O":"","`U":"","'U":"","^U":"","~U":"",'"U':"",oU:"","=U":"",uU:"",";U":"",ae:"",AE:"",oe:"",OE:"",ss:"","'c":"","^c":"",uc:"",cc:"",".c":"",cC:"","'C":"","^C":"",uC:"",".C":"","~N":"","~n":"","=s":"",vs:"",DH:"",dh:"",HO:"",Ho:"",HU:"",Hu:"","'Y":"","'y":"","^Y":"","^y":"",'"Y':"",'"y':"",vS:"",vZ:"",vz:""},s={"#":"",b:"","=":""},c={201:"",202:"",203:"",241:"",242:"",252:"a",262:"2",272:"o",302:"",312:"",322:"",332:"",342:"",352:"",362:"",372:"",243:"",253:"",263:"3",273:"",303:"",313:"",323:"",333:"",343:"",353:"",363:"",373:"",244:"",254:"",264:"  ",274:"14",304:"",314:"",324:"",334:"",344:"",354:"",364:"",374:"",245:"",255:"-",265:"",275:"12",305:"",315:"",325:"",335:"",345:"",355:"",365:"",375:"",246:"",256:"",266:"",276:"34",306:"",316:"",326:"",336:"",346:"",356:"",366:"",376:"",247:"",257:" ",267:"",277:"",307:"",317:"",327:"",337:"",347:"",357:"",367:"",377:"",250:" ",260:"",270:" ",300:"",310:"",320:"",330:"",340:"",350:"",360:"",370:"",251:"",261:"",271:"1",301:"",311:"",321:"",331:"",341:"",351:"",361:"",371:""};function l(e){const t=/^(\d+)\./.exec(e);return t?t[1]:null}this.translateString=function(e){var t=e.split("\\");if(1===t.length)return e;var n=null;return t.forEach((function(e){if(null===n)n=e;else{var t=o[e.substring(0,2)];void 0!==t?n+=t+e.substring(2):void 0!==(t=c[e.substring(0,3)])?n+=t+e.substring(3):(t=s[e.substring(0,1)],n+=void 0!==t?t+e.substring(1):"\\"+e)}})),n},this.getNumber=function(e,t){for(var n=0;t<e.length;)switch(e[t]){case"0":n*=10,t++;break;case"1":n=10*n+1,t++;break;case"2":n=10*n+2,t++;break;case"3":n=10*n+3,t++;break;case"4":n=10*n+4,t++;break;case"5":n=10*n+5,t++;break;case"6":n=10*n+6,t++;break;case"7":n=10*n+7,t++;break;case"8":n=10*n+8,t++;break;case"9":n=10*n+9,t++;break;default:return{num:n,index:t}}return{num:n,index:t}},this.getFraction=function(e,t){var n=1,r=1;if("/"!==e[t]){var i=this.getNumber(e,t);n=i.num,t=i.index}if("/"===e[t]){if("/"===e[++t]){for(var a=.5;"/"===e[t++];)a/=2;return{value:n*a,index:t-1}}var o=t,s=this.getNumber(e,t);0===s.num&&o===t&&(s.num=2),0!==s.num&&(r=s.num),t=s.index}return{value:n/r,index:t}};var u=[{match:/,\s*[Tt]he$/,replace:"The "},{match:/,\s*[Aa]$/,replace:"A "},{match:/,\s*[Aa]n$/,replace:"An "}];this.theReverser=function(e){for(var t=0;t<u.length;t++){var n=u[t],r=e.match(n.match);if(r){var i=l(e);i&&(e=(e=e.replace(i+".","")).trim());var a=r[0].length,o=n.replace+e.substring(0,e.length-a);return i&&(o=i+". "+o),o}}return e},this.stripComment=function(e){var t=e.indexOf("%");return t>=0?r.strip(e.substring(0,t)):r.strip(e)},this.getInt=function(e){var t=parseInt(e);if(isNaN(t))return{digits:0};var n=""+t;return{value:t,digits:e.indexOf(n)+n.length}},this.getFloat=function(e){var t=parseFloat(e);if(isNaN(t))return{digits:0};var n=""+t;return{value:t,digits:e.indexOf(n)+n.length}},this.getMeasurement=function(e){if(0===e.length)return{used:0};var t=1,n="";if("-"===e[0].token)e.shift(),n="-",t++;else if("number"!==e[0].type)return{used:0};if(n+=e.shift().token,0===e.length)return{used:1,value:parseInt(n)};var r=e.shift();if("."===r.token){if(t++,0===e.length)return{used:t,value:parseInt(n)};if("number"===e[0].type&&(n=n+"."+(r=e.shift()).token,t++,0===e.length))return{used:t,value:parseFloat(n)};r=e.shift()}switch(r.token){case"pt":case"px":return{used:t+1,value:parseFloat(n)};case"cm":return{used:t+1,value:parseFloat(n)/2.54*72};case"in":return{used:t+1,value:72*parseFloat(n)};default:return e.unshift(r),{used:t,value:parseFloat(n)}}};var h=function(e){return(e=e.replace(/\\n/g,"\n")).replace(/\\"/g,'"')};this.getBrackettedSubstring=function(e,t,n,r){for(var i=r||e[t],a=t+1,o=!1;a<e.length&&(o||e[a]!==i);)o="\\"===e[a],++a;return e[a]===i?[a-t+1,h(e.substring(t+1,a)),!0]:((a=t+n)>e.length-1&&(a=e.length-1),[a-t+1,h(e.substring(t+1,a)),!1])}};i.prototype.peekLine=function(){return this.lines[this.lineIndex]},i.prototype.nextLine=function(){if(this.lineIndex>0&&(this.multilineVars.iChar+=this.lines[this.lineIndex-1].length+1),this.lineIndex<this.lines.length){var e=this.lines[this.lineIndex];return this.lineIndex++,e}return null},e.exports=i},5441:(e,t,n)=>{var r=n(29962),i=n(48369),a=n(69926),o={},s={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},c=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],l=["C","C#","D","D#","E","F","F#","G","G#","A","Bb","B"];o.keySignature=function(e,t,n,r,i){if("perc"===e.clef.type||"none"===e.clef.type)return{accidentals:a(t),root:n,acc:r};i||(i=0),e.localTransposeVerticalMovement=0,e.localTransposePreferFlats=!1;var o=a(t);if(!o)return e.key;if(e.localTranspose=(e.globalTranspose?e.globalTranspose:0)+i,!e.localTranspose)return{accidentals:o,root:n,acc:r};if(e.globalTransposeOrigKeySig=o,e.localTranspose%12==0)return e.localTransposeVerticalMovement=e.localTranspose/12*7,{accidentals:o,root:n,acc:r};var u=t[0];"b"===t[1]||"#"===t[1]?(u+=t[1],t=t.substr(2)):t=t.substr(1);var h=s[u],d=void 0!==h;d||(h=0,u="C",t="");for(var f=h+e.localTranspose;f<0;)f+=12;f>11&&(f%=12);var p="m"===t[0]?l[f]:c[f],m=p+t,g=a(m);g.length>0&&"flat"===g[0].acc&&(e.localTransposePreferFlats=!0);var v=m.charCodeAt(0)-u.charCodeAt(0);return e.localTranspose>0?v<0?v+=7:0===v&&("#"!==u[1]&&"b"!==m[1]||(v+=7)):e.localTranspose<0&&(v>0?v-=7:0===v&&("b"!==u[1]&&"#"!==m[1]||(v-=7))),e.localTranspose>0?e.localTransposeVerticalMovement=v+7*Math.floor(e.localTranspose/12):e.localTransposeVerticalMovement=v+7*Math.ceil(e.localTranspose/12),d?{accidentals:g,root:p[0],acc:p.length>1?p[1]:""}:{accidentals:[],root:n,acc:r}},o.chordName=function(e,t){return i(t,e.localTranspose,e.localTransposePreferFlats,e.freegchord)};var u=["c","d","e","f","g","a","b"],h={dblflat:-2,flat:-1,natural:0,sharp:1,dblsharp:2},d={"-2":"dblflat","-1":"flat",0:"natural",1:"sharp",2:"dblsharp"},f={"-2":"__","-1":"_",0:"=",1:"^",2:"^^"};o.note=function(e,t){if(e.localTranspose&&"perc"!==e.clef.type){var n=t.pitch;if(e.localTransposeVerticalMovement&&(t.pitch=t.pitch+e.localTransposeVerticalMovement,t.name)){var i=t.accidental?t.name.substring(1):t.name,a=t.accidental?t.name[0]:"",o=r.pitchIndex(i);t.name=a+r.noteName(o+e.localTransposeVerticalMovement)}if(t.accidental){var s=function(e,t,n,r,i){for(var a=u[(e+49)%7],o=0,s=0;s<r.length;s++)r[s].note.toLowerCase()===a&&(o=h[r[s].acc]);for(var c=h[n]-o,l=u[(t+49)%7],d=0,f=0;f<i.accidentals.length;f++)i.accidentals[f].note.toLowerCase()===l&&(d=h[i.accidentals[f].acc]);var p=c+d;return p<-2&&(t--,p+="c"===l||"f"===l?1:2),p>2&&(t++,p-="b"===l||"e"===l?1:2),[t,p]}(n,t.pitch,t.accidental,e.globalTransposeOrigKeySig,e.targetKey);t.pitch=s[0],t.accidental=d[s[1]],t.name&&(t.name=f[s[1]]+t.name.replace(/[_^=]/g,""))}}},e.exports=o},29962:e=>{var t={};const n=["C,,,","D,,,","E,,,","F,,,","G,,,","A,,,","B,,,","C,,","D,,","E,,","F,,","G,,","A,,","B,,","C,","D,","E,","F,","G,","A,","B,","C","D","E","F","G","A","B","c","d","e","f","g","a","b","c'","d'","e'","f'","g'","a'","b'","c''","d''","e''","f''","g''","a''","b''","c'''","d'''","e'''","f'''","g'''","a'''","b'''"];t.pitchIndex=function(e){return n.indexOf(e)},t.noteName=function(e){return n[e]},e.exports=t},48369:e=>{var t=["C","C","D","D","E","F","F","G","G","A","A","B"],n=["C","D","D","E","E","F","G","G","A","A","B","B"],r=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],i=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];e.exports=function(e,a,o,s){if(!a||a%12==0)return e;for(;a<0;)a+=12;a>11&&(a%=12);var c=e.match(/^([A-G][b#]?)([^\/]+)?\/?([A-G][b#]?)?(.+)?/);if(!c)return e;var l,u=c[1],h=c[2],d=c[3],f=c[4];return(l=t.indexOf(u))<0&&(l=n.indexOf(u)),l<0&&(l=r.indexOf(u)),l<0&&(l=i.indexOf(u)),l<0||(l+=a,l%=12,e=o?s?i[l]:n[l]:s?r[l]:t[l],h&&(e+=h),d&&((l=t.indexOf(d))<0&&(l=n.indexOf(d)),l<0&&(l=r.indexOf(d)),l<0&&(l=i.indexOf(d)),e+="/",l>=0?(l+=a,l%=12,e+=o?s?i[l]:n[l]:s?r[l]:t[l]):e+=d),f&&(e+=f)),e}},74477:(e,t,n)=>{var r=n(99104);function a(e){if(!e)return!1;if("string"==typeof e)return!1;for(var t=0;t<e.length;t++)if("string"!=typeof e[t])return!1;return!0}function o(e){for(var t=!1,n=[],r=0;r<e.lines.length;r++){var i=e.lines[r];if(i.staff)for(var a=0;a<i.staff.length;a++){for(var o=i.staff[a],s=[],l=0;l<o.voices.length;l++){var u=o.voices[l];s.push({hasOverlay:!1,voice:[],snip:[]}),n[r]=0;for(var h=0,d=!1,f=0,p=-1,m=0;m<u.length;m++){var g=u[m];if("overlay"!==g.el_type||d)"bar"===g.el_type?(d?(d=!1,s[l].snip.push({start:p,len:m-p}),s[l].voice.push(g)):(h>0&&s[l].voice.push({el_type:"note",duration:h,rest:{type:"invisible"},startChar:g.startChar,endChar:g.endChar}),s[l].voice.push(g)),h=0):"note"===g.el_type?d?s[l].voice.push(g):(h+=g.duration,n[r]+=g.duration):"scale"!==g.el_type&&"stem"!==g.el_type&&"overlay"!==g.el_type&&"style"!==g.el_type&&"transpose"!==g.el_type&&"color"!==g.el_type||s[l].voice.push(g);else{t=!0,d=!0,p=m,s[l].hasOverlay=!0,0===f&&(f=n[r]);for(var v=0;v<r;v++)n[v]&&e.lines[v].staff&&o.voices.length>=e.lines[v].staff[0].voices.length&&e.lines[v].staff[0].voices.push([{el_type:"note",duration:n[v],rest:{type:"invisible"},startChar:g.startChar,endChar:g.endChar}])}}s[l].hasOverlay&&0===s[l].snip.length&&s[l].snip.push({start:p,len:u.length-p})}for(l=0;l<s.length;l++){var b=s[l];if(b.hasOverlay){b.voice.splice(0,0,{el_type:"stem",direction:"down"}),o.voices.push(b.voice);for(var _=b.snip.length-1;_>=0;_--){var y=b.snip[_];o.voices[l].splice(y.start,y.len),o.voices[l].splice(y.start+1,0,{el_type:"stem",direction:"auto"});var w=c(o.voices[l],y.start);o.voices[l].splice(w,0,{el_type:"stem",direction:"up"})}for(_=0;_<o.voices[o.voices.length-1].length;_++){o.voices[o.voices.length-1][_]=Object.assign({},o.voices[o.voices.length-1][_]);var S=o.voices[o.voices.length-1][_];"bar"===S.el_type&&S.startEnding&&delete S.startEnding,"bar"===S.el_type&&S.endEnding&&delete S.endEnding}}}}}return t}function c(e,t){for(var n=t-1;n>0&&"bar"!==e[n].el_type;n--);return n}function l(e,t,n,r){var i;r[t]||(r[t]=[]),r[t][n]||(r[t][n]=[]);for(var a=function(e,a,o){if(void 0===r[t][n][o]){for(i=0;i<r[t][n].length;i++)if(void 0!==r[t][n][i]){o=i;break}if(void 0===r[t][n][o]){var s=100*o+1;e.endSlur.forEach((function(e){s===e&&--s})),r[t][n][o]=[s]}}for(var c,l=0;l<a;l++)c=r[t][n][o].pop(),e.endSlur.push(c);return 0===r[t][n][o].length&&delete r[t][n][o],c},o=function(e,i,a,o){e.startSlur=[],void 0===r[t][n][a]&&(r[t][n][a]=[]);for(var s=100*a+1,c=0;c<i;c++)o&&(o.forEach((function(e){s===e&&++s})),o.forEach((function(e){s===e&&++s})),o.forEach((function(e){s===e&&++s}))),r[t][n][a].forEach((function(e){s===e&&++s})),r[t][n][a].forEach((function(e){s===e&&++s})),r[t][n][a].push(s),e.startSlur.push({label:s}),e.dottedSlur&&(e.startSlur[e.startSlur.length-1].style="dotted",delete e.dottedSlur),s++},s=0;s<e.length;s++){var c=e[s];if("note"===c.el_type){if(c.gracenotes)for(var l=0;l<c.gracenotes.length;l++){if(c.gracenotes[l].endSlur){var u=c.gracenotes[l].endSlur;c.gracenotes[l].endSlur=[];for(var h=0;h<u;h++)a(c.gracenotes[l],1,20)}c.gracenotes[l].startSlur&&(i=c.gracenotes[l].startSlur,o(c.gracenotes[l],i,20))}if(c.endSlur&&(i=c.endSlur,c.endSlur=[],a(c,i,0)),c.startSlur&&o(c,i=c.startSlur,0),c.pitches){for(var d=[],f=0;f<c.pitches.length;f++)if(c.pitches[f].endSlur){var p=c.pitches[f].endSlur;c.pitches[f].endSlur=[];for(var m=0;m<p;m++){var g=a(c.pitches[f],1,f+1);d.push(g)}}for(f=0;f<c.pitches.length;f++)c.pitches[f].startSlur&&(i=c.pitches[f].startSlur,o(c.pitches[f],i,f+1,d));c.gracenotes&&c.pitches[0].endSlur&&100===c.pitches[0].endSlur[0]&&c.pitches[0].startSlur&&(c.gracenotes[0].endSlur?c.gracenotes[0].endSlur.push(c.pitches[0].startSlur[0].label):c.gracenotes[0].endSlur=[c.pitches[0].startSlur[0].label],1===c.pitches[0].endSlur.length?delete c.pitches[0].endSlur:100===c.pitches[0].endSlur[0]?c.pitches[0].endSlur.shift():100===c.pitches[0].endSlur[c.pitches[0].endSlur.length-1]&&c.pitches[0].endSlur.pop(),1===r[t][n][1].length?delete r[t][n][1]:r[t][n][1].pop())}}}}function u(e,t){for(i=0;i<e.length;i++)if(void 0!==e[i].staff)for(s=0;s<e[i].staff.length;s++){var n=[];for(v=0;v<e[i].staff[s].voices.length;v++)for(var r=e[i].staff[s].voices[v],a=0,o=0;o<r.length;o++)if("bar"===r[o].el_type){if(++a>=t&&o<r.length-1){var c=h(e,i);if(!c){var l=JSON.parse(JSON.stringify(e[i]));e.push(Object.assign({},l)),c=e[e.length-1];for(var u=0;u<c.staff.length;u++)for(var d=0;d<c.staff[u].voices.length;d++)c.staff[u].voices[d]=[]}var f=o+1,p=e[i].staff[s].voices[v].slice(f);return e[i].staff[s].voices[v]=e[i].staff[s].voices[v].slice(0,f),c.staff[s].voices[v]=n.concat(p.concat(c.staff[s].voices[v])),!0}}else r[o].duration||n.push(r[o])}return!1}function h(e,t){for(t++;e.length>t;){if(e[t].staff)return e[t];t++}return null}function d(e){e.potentialStartBeam&&e.potentialEndBeam&&(e.potentialStartBeam.startBeam=!0,e.potentialEndBeam.endBeam=!0),delete e.potentialStartBeam,delete e.potentialEndBeam}function f(e){for(var t=0;t<e.length;t++)if("note"===e[t].el_type||"bar"===e[t].el_type)return!0;return!1}function p(e){for(var t=0;t<e.length;t++)if("note"===e[t].el_type&&(void 0===e[t].rest||void 0!==e[t].chord))return!0;return!1}function m(e,t){e.vskipPending&&(t.vskip=e.vskipPending,delete e.vskipPending),e.lines.push(t)}function g(e){void 0!==e.potentialStartBeam&&void 0!==e.potentialEndBeam&&(e.potentialStartBeam.startBeam=!0,e.potentialEndBeam.endBeam=!0),delete e.potentialStartBeam,delete e.potentialEndBeam}function b(e,t,n){if(e.runningFonts[t]){for(var r=!1,i=Object.keys(n),a=0;a<i.length;a++)e.runningFonts[t][i[a]]!==n[i[a]]&&(r=!0);r&&(e.lines[e.lineNum].staff[e.staffNum][t]=n)}e.runningFonts[t]=n}function _(e,t,n){var r=t.lines[t.lineNum].staff[t.staffNum];if(r.voices[t.voiceNum]=[],r.title||(r.title=[]),r.title[t.voiceNum]={name:n.name,subname:n.subname},n.style&&e.appendElement("style",null,null,{head:n.style}),n.stem)e.appendElement("stem",null,null,{direction:n.stem});else if(t.voiceNum>0){if(void 0!==r.voices[0]){for(var i=!1,a=0;a<r.voices[0].length;a++)"stem"===r.voices[0].el_type&&(i=!0);i||r.voices[0].splice(0,0,{el_type:"stem",direction:"up"})}e.appendElement("stem",null,null,{direction:"down"})}n.scale&&e.appendElement("scale",null,null,{size:n.scale}),n.color&&e.appendElement("color",null,null,{color:n.color})}function y(e,t,n){n.key&&n.key.impliedNaturals&&(n.key.accidentals=n.key.accidentals.concat(n.key.impliedNaturals),delete n.key.impliedNaturals),t.lines[t.lineNum].staff[t.staffNum]={voices:[],clef:n.clef,key:n.key,workingClef:n.clef};var r=t.lines[t.lineNum].staff[t.staffNum];void 0!==n.stafflines&&(r.clef.stafflines=n.stafflines,r.workingClef.stafflines=n.stafflines),n.staffscale&&(r.staffscale=n.staffscale),n.annotationfont&&b(t,"annotationfont",n.annotationfont),n.gchordfont&&b(t,"gchordfont",n.gchordfont),n.tripletfont&&b(t,"tripletfont",n.tripletfont),n.vocalfont&&b(t,"vocalfont",n.vocalfont),n.bracket&&(r.bracket=n.bracket),n.brace&&(r.brace=n.brace),n.connectBarLines&&(r.connectBarLines=n.connectBarLines),n.barNumber&&(r.barNumber=n.barNumber),_(e,t,n),n.part&&e.appendElement("part",n.part.startChar,n.part.endChar,{title:n.part.title}),void 0!==n.meter&&(r.meter=n.meter),t.vskipPending&&(t.lines[t.lineNum].vskip=t.vskipPending,delete t.vskipPending)}e.exports=function(e){var t=this,n={},i="";e.reset(),this.setVisualTranspose=function(t){t&&(e.visualTranspose=t)},this.cleanUp=function(t,n,i){d(e),delete e.runningFonts,function(e){a(e.metaText.notes)&&(e.metaText.notes=e.metaText.notes.join("\n")),a(e.metaText.history)&&(e.metaText.history=e.metaText.history.join("\n"))}(e),e.metaText.tempo&&e.metaText.tempo.bpm&&!e.metaText.tempo.duration&&(e.metaText.tempo.duration=[e.getBeatLength()]);var s,c,m=!1;for(b=0;b<e.lines.length;b++)if(void 0!==e.lines[b].staff){var g=!1;for(s=0;s<e.lines[b].staff.length;s++)if(void 0===e.lines[b].staff[s])m=!0,e.lines[b].staff[s]=null;else for(c=0;c<e.lines[b].staff[s].voices.length;c++)void 0===e.lines[b].staff[s].voices[c]?e.lines[b].staff[s].voices[c]=[]:f(e.lines[b].staff[s].voices[c])&&(g=!0);g||(e.lines[b]=null,m=!0)}if(m&&(e.lines=e.lines.filter((function(e){return!!e})),e.lines.forEach((function(e){e.staff&&(e.staff=e.staff.filter((function(e){return!!e})))}))),t)for(;u(e.lines,t););if(n){for(m=!1,b=0;b<e.lines.length;b++)if(void 0!==e.lines[b].staff)for(s=0;s<e.lines[b].staff.length;s++){var v=!1;for(c=0;c<e.lines[b].staff[s].voices.length;c++)p(e.lines[b].staff[s].voices[c])&&(v=!0);v||(m=!0,e.lines[b].staff[s]=null)}m&&e.lines.forEach((function(e){e.staff&&(e.staff=e.staff.filter((function(e){return!!e})))}))}for(function(e){for(var t=!0,n=0;n<e.length;n++){var r=e[n];if(r.staff){for(var i=0;i<r.staff.length;i++){var a=r.staff[i];if(a.title){for(var o=!1,s=0;s<a.title.length;s++)a.title[s]?(a.title[s]=t?a.title[s].name:a.title[s].subname,a.title[s]?o=!0:a.title[s]=""):a.title[s]="";o||delete a.title}}t=!1}}}(e.lines),b=0;b<e.lines.length;b++)if(e.lines[b].staff)for(s=0;s<e.lines[b].staff.length;s++)delete e.lines[b].staff[s].workingClef;for(;o(e););for(var b=0;b<e.lines.length;b++){var _=e.lines[b].staff;if(_)for(e.staffNum=0;e.staffNum<_.length;e.staffNum++)for(_[e.staffNum].clef&&r.fixClef(_[e.staffNum].clef),e.voiceNum=0;e.voiceNum<_[e.staffNum].voices.length;e.voiceNum++){var y=_[e.staffNum].voices[e.voiceNum];l(y,e.staffNum,e.voiceNum,i);for(var w=0;w<y.length;w++)"clef"===y[w].el_type&&r.fixClef(y[w]);if(y.length>0&&y[y.length-1].barNumber){var S=h(e.lines,b);S&&(S.staff[0].barNumber=y[y.length-1].barNumber),delete y[y.length-1].barNumber}}}return delete e.staffNum,delete e.voiceNum,delete e.lineNum,delete e.potentialStartBeam,delete e.potentialEndBeam,delete e.vskipPending,i},this.addTieToLastNote=function(t){var n=function(e){if(!e.lines[e.lineNum])return null;if(!e.lines[e.lineNum].staff)return null;if(!e.lines[e.lineNum].staff[e.staffNum])return null;var t=e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum];if(!t)return null;for(var n=t.length-1;n>=0;n--){var r=t[n];if("note"===r.el_type)return r}return null}(e);return!!(n&&n.pitches&&n.pitches.length>0)&&(n.pitches[0].startTie={},t&&(n.pitches[0].startTie.style="dotted"),!0)},this.appendElement=function(r,a,o,s){var c;return s.el_type=r,null!==a&&(s.startChar=a),null!==o&&(s.endChar=o),"note"===r?((c=s).duration?c.duration:0)>=.25||s.force_end_beam_last&&void 0!==e.potentialStartBeam?g(e):s.end_beam&&void 0!==e.potentialStartBeam?void 0===s.rest?function(e,t){t.potentialStartBeam.startBeam=!0,e.endBeam=!0,delete t.potentialStartBeam,delete t.potentialEndBeam}(s,e):g(e):void 0===s.rest&&(void 0===e.potentialStartBeam?s.end_beam||(e.potentialStartBeam=s,delete e.potentialEndBeam):e.potentialEndBeam=s):g(e),delete s.end_beam,delete s.force_end_beam_last,s.rest&&"invisible"===s.rest.type&&delete s.decoration,!(e.lines.length<=e.lineNum||e.lines[e.lineNum].staff.length<=e.staffNum||(function(e,t,n,r,i){var a=t.lines[t.lineNum].staff[t.staffNum];if(void 0!==n.pitches){var o=a.workingClef.verticalPos;n.pitches.forEach((function(e){e.verticalPos=e.pitch-o}))}if(void 0!==n.gracenotes){var s=a.workingClef.verticalPos;n.gracenotes.forEach((function(e){e.verticalPos=e.pitch-s}))}a.voices.length<=t.voiceNum&&(r[i]||(r[i]={}),_(e,t,r[i])),a.voices[t.voiceNum].push(n)}(t,e,s,n,i),0))},this.appendStartingElement=function(t,n,r,i){var a;d(e),"key"===t&&(a=i.impliedNaturals,delete i.impliedNaturals,delete i.explicitAccidentals);var o=Object.assign({},i);if(e.lines[e.lineNum]){var s=e.lines[e.lineNum].staff;if(s){s.length<=e.staffNum&&(s[e.staffNum]={},s[e.staffNum].clef=Object.assign({},s[0].clef),s[e.staffNum].key=Object.assign({},s[0].key),s[0].meter&&(s[e.staffNum].meter=Object.assign({},s[0].meter)),s[e.staffNum].workingClef=Object.assign({},s[0].workingClef),s[e.staffNum].voices=[[]]),"clef"===t&&(s[e.staffNum].workingClef=o);for(var c=s[e.staffNum].voices[e.voiceNum],l=0;l<c.length;l++){if("note"===c[l].el_type||"bar"===c[l].el_type)return o.el_type=t,o.startChar=n,o.endChar=r,a&&(o.accidentals=a.concat(o.accidentals)),void c.push(o);if(c[l].el_type===t)return o.el_type=t,o.startChar=n,o.endChar=r,a&&(o.accidentals=a.concat(o.accidentals)),void(c[l]=o)}s[e.staffNum][t]=i}}},this.addSubtitle=function(t,n){m(e,{subtitle:{text:t,startChar:n.startChar,endChar:n.endChar}})},this.addSpacing=function(t){e.vskipPending=t},this.addNewPage=function(t){m(e,{newpage:t})},this.addSeparator=function(t,n,r,i){m(e,{separator:{spaceAbove:Math.round(t),spaceBelow:Math.round(n),lineLength:Math.round(r),startChar:i.startChar,endChar:i.endChar}})},this.addText=function(t,n){m(e,{text:{text:t,startChar:n.startChar,endChar:n.endChar}})},this.addCentered=function(t){m(e,{text:[{text:t,center:!0}]})},this.changeVoiceScale=function(e){t.appendElement("scale",null,null,{size:e})},this.changeVoiceColor=function(e){t.appendElement("color",null,null,{color:e})},this.startNewLine=function(r){d(e),r.currentVoiceName&&(i=r.currentVoiceName,n[r.currentVoiceName]=r),void 0===e.lines[e.lineNum]?function(e,t,n){t.lines[t.lineNum]={staff:[]},y(e,t,n)}(t,e,r):void 0===e.lines[e.lineNum].staff?(e.lineNum++,this.startNewLine(r)):void 0===e.lines[e.lineNum].staff[e.staffNum]?y(t,e,r):void 0===e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum]?_(t,e,r):f(e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum])?(e.lineNum++,this.startNewLine(r)):r.part&&t.appendElement("part",r.part.startChar,r.part.endChar,{title:r.part.title})},this.setRunningFont=function(t,n){e.runningFonts[t]=n},this.setBarNumberImmediate=function(e){var t=this.getCurrentVoice();if(t&&t.length>0){var n=t[t.length-1];if("bar"!==n.el_type)return e-1;void 0!==n.barNumber&&(n.barNumber=e)}return e},this.hasBeginMusic=function(){for(var t=0;t<e.lines.length;t++)if(e.lines[t].staff)return!0;return!1},this.isFirstLine=function(t){for(var n=t-1;n>=0;n--)if(void 0!==e.lines[n].staff)return!1;return!0},this.getCurrentVoice=function(){var t=function(e,t){for(;t>=0;){if(e[t].staff)return e[t];t--}return null}(e.lines,e.lineNum);if(!t)return null;var n=t.staff[e.staffNum];return n&&void 0!==n.voices[e.voiceNum]?n.voices[e.voiceNum]:null},this.setCurrentVoice=function(t,n,r){e.staffNum=t,e.voiceNum=n,i=r;for(var a=0;a<e.lines.length;a++)if(e.lines[a].staff&&(void 0===e.lines[a].staff[t]||void 0===e.lines[a].staff[t].voices[n]||!f(e.lines[a].staff[t].voices[n])))return e.lineNum=a,!(e.lines[a].staff[t]&&!e.lines[a].staff[t].voices[n]);return e.lineNum=a,!1},this.addMetaText=function(t,n,r){void 0===e.metaText[t]?(e.metaText[t]=n,e.metaTextInfo[t]=r):("string"==typeof e.metaText[t]&&"string"==typeof n?e.metaText[t]+="\n"+n:("string"===e.metaText[t]&&(e.metaText[t]=[{text:e.metaText[t]}]),"string"==typeof n&&(n=[{text:n}]),e.metaText[t]=e.metaText[t].concat(n)),e.metaTextInfo[t].endChar=r.endChar)},this.addMetaTextArray=function(t,n,r){void 0===e.metaText[t]?(e.metaText[t]=[n],e.metaTextInfo[t]=r):(e.metaText[t].push(n),e.metaTextInfo[t].endChar=r.endChar)},this.addMetaTextObj=function(t,n,r){e.metaText[t]=n,e.metaTextInfo[t]=r}}},71705:e=>{function t(e,t){for(var n=[],r=[],i=0,a=0;a<e.length;a++){var o=e[a],s=i+o;s<t?i=s:t-i<s-t&&i>0?(n.push(a-1),r.push(Math.round(i-o)),i=o):a<e.length-1&&(n.push(a),r.push(Math.round(i)),i=0)}return r.push(Math.round(i)),{lineBreaks:n,totals:r}}function n(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function r(e,t,r,i,a,o,s,c,l,u,h){for(var d=u;d<e.length;d++){var f=e[d];r+=f,i+=f;var p=Math.abs(r-t[c]);if(Math.abs(p-o)<t[0]/10)if(p<o){var m=n(a),g=n(l);g.push(d-1),m.push(i-f),h.push({accumulator:r,lineAccumulator:f,lineWidths:m,lastVariance:Math.abs(r-t[c+1]),highestVariance:Math.max(s,o),currLine:c+1,lineBreaks:g,startIndex:d+1})}else p>o&&d<e.length-1&&(m=n(a),g=n(l),h.push({accumulator:r,lineAccumulator:i,lineWidths:m,lastVariance:p,highestVariance:Math.max(s,p),currLine:c,lineBreaks:g,startIndex:d+1}));p>o?(l.push(d-1),c++,s=Math.max(s,o),o=Math.abs(r-t[c]),a.push(i-f),i=f):o=p}a.push(i)}function i(e,t,n,i){for(var a=Math.ceil(e.total/t),o=Math.floor(e.total/a),s=[],c=0;c<a;c++)s.push(o*(c+1));var l=[];l.push({accumulator:0,lineAccumulator:0,lineWidths:[],lastVariance:999999,highestVariance:0,currLine:0,lineBreaks:[],startIndex:0});for(var u=0;u<l.length;)r(e.measureWidths,s,l[u].accumulator,l[u].lineAccumulator,l[u].lineWidths,l[u].lastVariance,l[u].highestVariance,l[u].currLine,l[u].lineBreaks,l[u].startIndex,l),u++;for(c=0;c<l.length;c++){var h=l[c];h.variances=[],h.aveVariance=0;for(var d=0;d<h.lineWidths.length;d++){var f=h.lineWidths[d];h.variances.push(f-s[0]),h.aveVariance+=Math.abs(f-s[0])}h.aveVariance=h.aveVariance/h.lineWidths.length,i.attempts.push({type:"optimizeLineWidths",lineBreaks:h.lineBreaks,variances:h.variances,aveVariance:h.aveVariance,widths:e.measureWidths})}var p=9999999,m=-1;for(c=0;c<l.length;c++)(h=l[c]).aveVariance<p&&(p=h.aveVariance,m=c);return{failed:!1,lineBreaks:l[m].lineBreaks,variance:l[m].highestVariance}}function a(e,t,n){for(var r=[],i=[],a=0,o=!1,s=0;s<e.length;s++)(a+=e[s])>t&&(o=!0),s%n==n-1&&(s!==e.length-1&&r.push(s),i.push(Math.round(a)),a=0);return{failed:o,totals:i,lineBreaks:r}}e.exports={wrapLines:function(e,t,n){if(t&&0!==e.lines.length){var r=e.deline({lineBreaks:!1}),i=function(e,t){for(var n=[],r=0,i=0,a=0,o=0;o<e.length;o++){var s=e[o];if(s.staff){var c=i,l=t[r];r++;for(var u=0;u<s.staff.length;u++)for(var h=s.staff[u],d=0;d<h.voices.length;d++){a=c;for(var f=0,p=0,m=h.voices[d],g=0,v=0;v<m.length;v++)"bar"===m[v].el_type&&(l[p]===f&&(n.push({ogLine:o,line:a,staff:u,voice:d,start:g,end:v}),g=v+1,a++,i=Math.max(i,a),p++),f++);n.push({ogLine:o,line:a,staff:u,voice:d,start:g,end:m.length}),a++,i=Math.max(i,a)}}else n.push({ogLine:o,line:a}),a++,i=Math.max(i,a)}return n}(r,t);e.lines=function(e,t,n){for(var r=[],i=[],a=[],o=1,s=0;s<t.length;s++){var c=t[s];if(e[c.ogLine].staff){var l=e[c.ogLine].staff[c.staff];if(r[c.line]||(r[c.line]={staff:[]}),!r[c.line].staff[c.staff]){r[c.line].staff[c.staff]={voices:[]},void 0!==n&&0===c.staff&&c.line>0&&(r[c.line].staff[c.staff].barNumber=o);for(var u=Object.keys(l),h=0;h<u.length;h++){var d="voices"===u[h];"meter"===u[h]&&0!==c.line&&(d=!0),d||(r[c.line].staff[c.staff][u[h]]=l[u[h]])}i[c.staff]&&(r[c.line].staff[c.staff].key=i[c.staff])}r[c.line].staff[c.staff].voices[c.voice]||(r[c.line].staff[c.staff].voices[c.voice]=[]),r[c.line].staff[c.staff].voices[c.voice]=e[c.ogLine].staff[c.staff].voices[c.voice].slice(c.start,c.end+1),a[10*c.staff+c.voice]&&r[c.line].staff[c.staff].voices[c.voice].unshift({el_type:"stem",direction:a[10*c.staff+c.voice].direction});for(var f=r[c.line].staff[c.staff].voices[c.voice],p=f.length-1;p>=0;p--)if("key"===f[p].el_type){i[c.staff]={root:f[p].root,acc:f[p].acc,mode:f[p].mode,accidentals:f[p].accidentals.filter((function(e){return"natural"!==e.acc}))};break}for(p=f.length-1;p>=0;p--)if("stem"===f[p].el_type){a[10*c.staff+c.voice]={direction:f[p].direction};break}if(void 0!==n&&0===c.staff&&0===c.voice)for(p=0;p<f.length;p++)"bar"===f[p].el_type&&(o++,p===f.length-1?delete f[p].barNumber:f[p].barNumber=o)}else r[c.line]=e[c.ogLine]}for(var m=0;m<r.length;m++)r[m].staff&&(r[m].staff=r[m].staff.filter((function(e){return null!=e})));return r}(r,i,n),e.lineBreaks=i}},calcLineWraps:function(e,n,r){if(0===n.length||r.staffwidth<n[0].left)return{reParse:!1,explanation:"Staff width is narrower than the margin",revisedParams:r};var o=r.scale?Math.max(r.scale,.1):1,s=r.wrap.minSpacing?Math.max(parseFloat(r.wrap.minSpacing),1):1,c=r.wrap.minSpacingLimit?Math.max(parseFloat(r.wrap.minSpacingLimit),1):s-.1,l=r.wrap.maxSpacing?Math.max(parseFloat(r.wrap.maxSpacing),1):void 0;r.wrap.lastLineLimit&&!l&&(l=Math.max(parseFloat(r.wrap.lastLineLimit),1));for(var u=r.wrap.preferredMeasuresPerLine?Math.max(parseInt(r.wrap.preferredMeasuresPerLine,10),0):void 0,h=[],d=[],f=0;f<n.length;f++){var p=n[f],m=r.staffwidth-p.left,g=m/s/o,v=m/c/o,b={widths:p,lineBreakPoint:g,minLineSize:m/l/o,attempts:[],staffWidth:r.staffwidth,minWidth:Math.round(v)},_=null;if(u){var y=a(p.measureWidths,g,u);b.attempts.push({type:"Fixed Measures Per Line",preferredMeasuresPerLine:u,lineBreaks:y.lineBreaks,failed:y.failed,totals:y.totals}),y.failed||(_=y.lineBreaks)}if(!_){var w=t(p.measureWidths,g);b.attempts.push({type:"Free Form",lineBreaks:w.lineBreaks,totals:w.totals}),(_=w.lineBreaks).length>0&&p.measureWidths.length<25&&(w=i(p,g,0,b),b.attempts.push({type:"Optimize",failed:w.failed,reason:w.reason,lineBreaks:w.lineBreaks,totals:w.totals}),w.failed||(_=w.lineBreaks))}h.push(_),d.push(b)}var S=function(e,t,n){var r={lineBreaks:e,staffwidth:t};for(var i in n)n.hasOwnProperty(i)&&"wrap"!==i&&"staffwidth"!==i&&(r[i]=n[i]);return{revisedParams:r}}(h,r.staffwidth,r);return S.explanation=d,S.reParse=!0,S}}},56576:(e,t,n)=>{var r,i=n(69926),{relativeMajor:a,transposeKey:o,relativeMode:s}=n(30889),c=n(48369);!function(){"use strict";function e(e,n,r){var i=[],a=n.getKeySignature();if("Hp"===a.root||"HP"===a.root)return i;i=i.concat(function(e,t){for(var n=[],r=e.split("K:"),i=r[0].length,a=1;a<r.length;a++){var o=r[a],s=o.match(/^( *)([A-G])([#b]?)(\w*)/);if(s){var c=i+2+s[1].length,l=s[2]+s[3]+s[4],u=f({root:s[2],acc:s[3],mode:s[4]},t),h=u.root+u.acc+u.mode;n.push({start:c,end:c+l.length,note:h})}i+=o.length+2}return n}(e,r));for(var o=0;o<n.lines.length;o++){var s=n.lines[o].staff;if(s)for(var c=0;c<s.length;c++){var l=s[c];"perc"!==l.clef.type&&(i=i.concat(t(e,l.voices,l.key,r)))}}return i}function t(e,t,r,i){for(var a=[],o=f(r,i),s=0;s<t.length;s++)a=a.concat(u(e,t[s],r.root,n(r),o,i));return a}function n(e){for(var t={},n=0;n<e.accidentals.length;n++){var r=e.accidentals[n];"flat"===r.acc?t[r.note.toUpperCase()]="_":"sharp"===r.acc&&(t[r.note.toUpperCase()]="^")}return t}function l(e,t,n){var r=h.indexOf(e.root)-h.indexOf(t);return"none"===t&&(r=h.indexOf(e.root)),0===r?n>2?r+=7:-12===n&&(r-=7):n>0&&r<0?r+=7:n<0&&r>0&&(r-=7),n>12?r+=7:n<-12&&(r-=7),r}function u(e,t,r,i,a,o){for(var s=[],u=l(a,r,o),h={},d={},m=0;m<t.length;m++){var g=t[m];if(g.chord)for(var v=0;v<g.chord.length;v++){var b=g.chord[v];if("default"===b.position){var k=a.accidentals.length&&"flat"===a.accidentals[0].acc,x=c(b.name,o,k,!0);(x=x.replace(//g,"b").replace(//g,"#"))!==b.name&&s.push(S(e,g.startChar,g.endChar,x))}}if("note"===g.el_type&&g.pitches){for(var M=0;M<g.pitches.length;M++){var E=_(g.pitches[M].name,r,i,h);E.acc&&(h[E.name.toUpperCase()]=E.acc);var T=p(E,a,u,d);T.acc&&(d[T.upper]=T.acc),s.push(y(e,g.startChar,g.endChar,T.acc+T.name,M))}if(g.gracenotes)for(var C=0;C<g.gracenotes.length;C++){var A=_(g.gracenotes[C].name,r,i,h);A.acc&&(h[A.name.toUpperCase()]=A.acc);var O=p(A,a,u,h);O.acc&&(d[O.upper]=O.acc),s.push(w(e,g.startChar,g.endChar,O.acc+O.name,C))}}else"bar"===g.el_type?(h={},d={}):"keySignature"===g.el_type&&(r=g.root,i=n(g),u=l(a=f(g,o),r,o))}return s}r=function(t,n,r){if("TEST"===n)return{keyAccidentals:i,relativeMajor:a,transposeKey:o,relativeMode:s,transposeChordName:c};r=parseInt(r,10);var l,u=[];for(l=0;l<n.length;l++)u=u.concat(e(t,n[l],r));u=u.sort((function(e,t){return t.start-e.start}));var h=t.split("");for(l=0;l<u.length;l++){var d=u[l];h.splice(d.start,d.end-d.start,d.note)}return h.join("")};var h="CDEFGAB",d=[",,,,",",,,",",,",",","","'","''","'''","''''"];function f(e,t){if("none"===e.root)return{root:o("C",t),mode:"",acc:"",accidentals:[]};var n=a(e.root+e.acc+e.mode),r=o(n,t),c=s(r,e.mode),l=i(r);return{root:c[0],mode:e.mode,acc:c.length>1?c[1]:"",accidentals:l}}function p(e,t,n,r){for(var i=e.pitch,a=h.indexOf(e.name),o=(h.indexOf(t.root)+i)%7,s=a+n,c=e.oct;s>6;)c++,s-=7;for(;s<0;)c--,s+=7;for(var l=h[o],u="",d=e.adj,f="=",m=0;m<t.accidentals.length;m++)if(t.accidentals[m].note.toLowerCase()===l.toLowerCase()){d+="flat"===t.accidentals[m].acc?-1:1,f="flat"===t.accidentals[m].acc?"_":"^";break}switch(d){case-2:u="__";break;case-1:u="_";break;case 0:u="=";break;case 1:u="^";break;case 2:u="^^";break;case-3:return(g={}).pitch=e.pitch-1,g.oct=e.oct,g.name=h[h.indexOf(e.name)-1],g.name||(g.name="B",g.oct--),"B"===g.name||"E"===g.name?g.adj=e.adj+1:g.adj=e.adj+2,p(g,t,n+1,r);case 3:var g;return(g={}).pitch=e.pitch+1,g.oct=e.oct,g.name=h[h.indexOf(e.name)+1],g.name||(g.name="C",g.oct++),"C"===g.name||"F"===g.name?g.adj=e.adj-1:g.adj=e.adj-2,p(g,t,n+1,r)}switch(r[l]!==u&&(r[l]||u!==f)||e.courtesy||(u=""),c){case 0:l+=",,,";break;case 1:l+=",,";break;case 2:l+=",";break;case 4:l=l.toLowerCase();break;case 5:l=l.toLowerCase()+"'";break;case 6:l=l.toLowerCase()+"''";break;case 7:l=l.toLowerCase()+"'''";break;case 8:l=l.toLowerCase()+"''''"}return c>4&&(l=l.toLowerCase()),{acc:u,name:l,upper:l.toUpperCase()}}var m=/([_^=]*)([A-Ga-g])([,']*)/,g=/([_^=]*[A-Ga-g][,']*)(\d*\/*\d*)([\>\<\-\)\.\s\\]*)/,v=/([_^=]*[A-Ga-g][,']*)?(\d*\/*\d*)?([\>\<\-\)]*)?/,b=/(\s*)$/;function _(e,t,n,r){var i="none"===t?0:h.indexOf(t),a=e.match(m),o=a[2].toUpperCase(),s=h.indexOf(o)-i;s<0&&(s+=7);var c=d.indexOf(a[3]);o===a[2]&&c--;var l=r[o]||n[o]||"=";return{acc:a[1],name:o,pitch:s,oct:c,adj:k(a[1],n[o],r[o]),courtesy:a[1]===l}}function y(e,t,n,r,i){var a=e.substring(t,n),o=a.match(new RegExp(g.source+b.source),"");if(o){var s=o[1].length,c=o[2].length+o[3].length+o[4].length;t+=n-t-s-c,n-=c}else if(o=a.match(new RegExp(/([^\[]*)/.source+/\[/.source+v.source+v.source+v.source+v.source+v.source+v.source+v.source+v.source+/\-?](\d*\/*\d*)?([\>\<\-\)]*)/.source+b.source))){for(var l=1+o[1].length,u=0;u<i;u++)o[3*u+2]&&(l+=o[3*u+2].length),o[3*u+3]&&(l+=o[3*u+3].length),o[3*u+4]&&(l+=o[3*u+4].length);n=(t+=l)+(o[3*i+2]?o[3*i+2].length:0)}return{start:t,end:n,note:r}}function w(e,t,n,r,i){var a=/(\/*)/,o=e.substring(t,n).match(new RegExp(/([^\{]*)/.source+/\{/.source+a.source+v.source+a.source+v.source+a.source+v.source+a.source+v.source+a.source+v.source+a.source+v.source+a.source+v.source+a.source+v.source+/\}/.source));if(o){for(var s=1+o[1].length,c=0;c<i;c++)o[3*c+2]&&(s+=o[3*c+2].length),o[3*c+3]&&(s+=o[3*c+3].length),o[3*c+4]&&(s+=o[3*c+4].length),o[3*c+5]&&(s+=o[3*c+5].length);o[3*i+2]&&(s+=o[3*c+2].length),t+=s;var l=o[3*i+3]?o[3*i+3].length:0;l+=o[3*i+4]?o[3*i+4].length:0,n=t+(l+=o[3*i+5]?o[3*i+5].length:0)}return{start:t,end:n,note:r}}function S(e,t,n,r){var i=e.substring(t,n).match(/([^"]+)?(".+")+/);return i[1]&&(t+=i[1].length),{start:t+1,end:(n=t+i[2].length)-1,note:r}}function k(e,t,n){if(!e&&n&&(e=n),!e)return 0;switch(t){case void 0:switch(e){case"__":return-2;case"_":return-1;case"=":default:return 0;case"^":return 1;case"^^":return 2}case"_":switch(e){case"__":return-1;case"_":default:return 0;case"=":return 1;case"^":return 2;case"^^":return 3}case"^":switch(e){case"__":return-3;case"_":return-2;case"=":return-1;case"^":default:return 0;case"^^":return 1}}return 0}}(),e.exports=r},28572:(e,t,n)=>{var r,i=n(89756),a=n(90823);!function(){"use strict";var e,t,n,o,s,c,l,u,h,d,f,p,m,g,v,b,_,y,w=1,S={num:4,den:4},k=128,x=!0,M=105,E=95,T=85,C=.25,A=0,O={},P=0;function I(e){for(var t=h.length-1;t>=0;t--)if("program"===h[t].cmd)return void(h[t].channel=e)}function R(e){return e/1e6}function B(e){return Math.round(e*w*1e6)/1e6}function N(e){switch(parseInt(e.den,10)){case 2:return.5;case 4:return.25;case 8:return e.num%3==0?.375:.125;case 16:return.125}return.25}function L(e,t){var n=t.start,r=t.duration,i=B(1/32);switch(e){case"trill":for(var a=2;r>0;)h.push({cmd:"note",pitch:t.pitch+a,volume:t.volume,start:n,duration:i,gap:0,instrument:u,style:"decoration"}),a=2===a?0:2,r-=i,n+=i;break;case"mordent":h.push({cmd:"note",pitch:t.pitch,volume:t.volume,start:n,duration:i,gap:0,instrument:u,style:"decoration"}),r-=i,n+=i,h.push({cmd:"note",pitch:t.pitch+2,volume:t.volume,start:n,duration:i,gap:0,instrument:u,style:"decoration"}),r-=i,n+=i,h.push({cmd:"note",pitch:t.pitch,volume:t.volume,start:n,duration:r,gap:0,instrument:u});break;case"lowermordent":h.push({cmd:"note",pitch:t.pitch,volume:t.volume,start:n,duration:i,gap:0,instrument:u,style:"decoration"}),r-=i,n+=i,h.push({cmd:"note",pitch:t.pitch-2,volume:t.volume,start:n,duration:i,gap:0,instrument:u,style:"decoration"}),r-=i,n+=i,h.push({cmd:"note",pitch:t.pitch,volume:t.volume,start:n,duration:r,gap:0,instrument:u});break;case"turn":i=t.duration/4,h.push({cmd:"note",pitch:t.pitch+2,volume:t.volume,start:n,duration:i,gap:0,instrument:u,style:"decoration"}),h.push({cmd:"note",pitch:t.pitch,volume:t.volume,start:n+i,duration:i,gap:0,instrument:u,style:"decoration"}),h.push({cmd:"note",pitch:t.pitch-1,volume:t.volume,start:n+2*i,duration:i,gap:0,instrument:u,style:"decoration"}),h.push({cmd:"note",pitch:t.pitch,volume:t.volume,start:n+3*i,duration:i,gap:0,instrument:u,style:"decoration"});break;case"roll":for(;r>0;)h.push({cmd:"note",pitch:t.pitch,volume:t.volume,start:n,duration:i,gap:0,instrument:u,style:"decoration"}),r-=2*i,n+=2*i}}function D(e,t){var n,r=function(e,t){if(t)return 0;var n;if(null!=g)n=g,g=void 0;else if(x)if(P>e)n=T;else{var r=(e-m)/N(S);n=0===r?M:parseInt(r,10)===r?E:T}else n=E;return v&&(n+=v,v=void 0),n<0&&(n=0),n>127&&(n=127),t?0:n}(R(e.time),t);if(p.processChord(e),e.gracenotes&&e.pitches&&e.pitches.length>0&&e.pitches[0]&&(n=function(e,t){for(var n,r=0,i=[],o=0;o<e.length;o++)r+=(n=e[o]).duration;var s=t/2/r;for(o=0;o<e.length;o++){var c=z(n=e[o]);if(u===k&&y){var l=a(n);l&&y[l]&&(c=y[l].sound)}var h={pitch:c,duration:n.duration*s};h=V(h),i.push(h)}return i}(e.gracenotes,e.pitches[0].duration),e.elem&&(e.elem.midiGraceNotePitches=function(e,t,n,r){var i=[];n=Math.round(n);for(var a=0;a<e.length;a++){var o=e[a];h.push({cmd:"note",pitch:o.pitch,volume:n,start:t,duration:o.duration,gap:0,instrument:r,style:"grace"}),i.push({pitch:o.pitch,durationInMeasures:o.duration,volume:n,instrument:r}),t+=o.duration}return i}(n,R(e.time),2*r/3,u))),e.elem){var i=R(e.time),o=i/C/s*60*1e3;if(void 0===e.elem.currentTrackMilliseconds)e.elem.currentTrackMilliseconds=o,e.elem.currentTrackWholeNotes=i;else if(void 0===e.elem.currentTrackMilliseconds.length)e.elem.currentTrackMilliseconds!==o&&(e.elem.currentTrackMilliseconds=[e.elem.currentTrackMilliseconds,o],e.elem.currentTrackWholeNotes=[e.elem.currentTrackWholeNotes,i]);else{for(var c=!1,l=0;l<e.elem.currentTrackMilliseconds.length;l++)e.elem.currentTrackMilliseconds[l]===o&&(c=!0);c||(e.elem.currentTrackMilliseconds.push(o),e.elem.currentTrackWholeNotes.push(i))}}if(e.pitches){var d="",b=function(e,t){var n={};if(e.decoration)for(var r=0;r<e.decoration.length;r++)"staccato"===e.decoration[r]?n.thisBreakBetweenNotes="staccato":"tenuto"===e.decoration[r]?n.thisBreakBetweenNotes="tenuto":"accent"===e.decoration[r]?n.velocity=Math.min(127,1.5*t):"trill"===e.decoration[r]?n.noteModification="trill":"lowermordent"===e.decoration[r]?n.noteModification="lowermordent":"uppermordent"===e.decoration[r]||"mordent"===e.decoration[r]?n.noteModification="mordent":"turn"===e.decoration[r]?n.noteModification="turn":"roll"===e.decoration[r]&&(n.noteModification="roll");return n}(e,r);b.thisBreakBetweenNotes&&(d=b.thisBreakBetweenNotes),b.velocity&&(r=b.velocity);var _=e.pitches;"rhythm"===e.style&&(_=p.setRhythmHead(!0,e)),e.elem&&(e.elem.midiPitches=[]);for(var w=0;w<_.length;w++){var O=_[w];if(O){O.startSlur&&(A+=O.startSlur.length),O.endSlur&&(A-=O.endSlur.length);var I=O.actualPitch?O.actualPitch:z(O);if(u===k&&y){var D=a(O);D&&y[D]&&(I=y[D].sound)}var j={cmd:"note",pitch:I,volume:r,start:R(e.time),duration:B(O.duration),instrument:u,startChar:e.elem.startChar,endChar:e.elem.endChar};if(j=V(j),e.gracenotes&&(j.duration=j.duration/2,j.start=j.start+j.duration),e.elem&&e.elem.midiPitches.push(j),b.noteModification)L(b.noteModification,j);else{switch(A>0?j.endType="tenuto":d&&(j.endType=d),j.endType){case"tenuto":j.gap=-.001;break;case"staccato":var F=.4*j.duration;j.gap=s/60*F;break;default:j.gap=0}h.push(j)}}}h.length}var H=function(e){return e.pitches&&e.pitches.length>0&&e.pitches[0]?e.pitches[0].duration:e.elem?e.elem.duration:e.duration}(e);f=Math.max(f,R(e.time)+B(H))}r=function(r,a,k,B){a||(a={}),B||(B={}),e=[],t=[0,0,0,0,0,0,0],o=[],s=a.qpm,c=void 0,w=1,l=void 0,u=void 0,h=void 0,d=void 0,f=0,y=k,S={num:4,den:4},x=!0,M=105,E=95,T=85,C=.25,g=void 0,v=void 0,A=0,b=[],O={},_=1,r.length>0&&r[0].length>0&&(P=r[0][0].pickupLength),void 0===a.bassprog||B.bassprog||(B.bassprog=[a.bassprog]),void 0===a.bassvol||B.bassvol||(B.bassvol=[a.bassvol]),void 0===a.chordprog||B.chordprog||(B.chordprog=[a.chordprog]),void 0===a.chordvol||B.chordvol||(B.chordvol=[a.chordvol]),void 0===a.gchord||B.gchord||(B.gchord=[a.gchord]),p=new i(r.length,a.chordsOff,B,S),function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n],i={},a=t.qpm,o=0,s=1,c=0;c<r.length;c++){var l=r[c];if("tempo"!==l.el_type){l.time=o;var u=l.duration?l.duration:0;if(o+=Math.round(u*s*1e6),l.pitches){for(var h=0;h<l.pitches.length;h++){var d=l.pitches[h];if(d)if(d.duration=l.duration,d.startTie)void 0===i[d.pitch]?i[d.pitch]={el:c,pitch:h}:(r[i[d.pitch].el].pitches[i[d.pitch].pitch].duration+=d.duration,l.pitches[h]=null);else if(d.endTie){var f=i[d.pitch];if(f){var p=d.duration;delete r[f.el].pitches[f.pitch].startTie,r[f.el].pitches[f.pitch].duration+=p,l.pitches[h]=null,delete i[d.pitch]}else delete d.endTie}}delete l.duration}}else a?s=l.qpm?a/l.qpm:1:a=l.qpm}for(var m in i)if(i.hasOwnProperty(m)){var g=i[m];delete r[g.el].pitches[g.pitch].startTie}}}(r,a);for(var L=0;L<r.length;L++){n=0,p.setTranspose(n);var j=r[L];h=[{cmd:"program",channel:L,instrument:l}],d=void 0,m=0,p.setLastBarTime(0);var z=!1;(!0===a.voicesOff||a.voicesOff&&a.voicesOff.length&&a.voicesOff.indexOf(L)>=0)&&(z=!0);for(var V=0;V<j.length;V++){var H=j[V];switch(H.el_type){case"name":d={cmd:"text",type:"name",text:H.trackName};break;case"note":D(H,z);break;case"key":t=F(H);break;case"meter":c||(c=H),S=H,p.setMeter(S),C=N(S),U();break;case"tempo":s?w=H.qpm?s/H.qpm:1:s=H.qpm,p.setTempoChangeFactor(w);break;case"transpose":n=H.transpose,p.setTranspose(n);break;case"bar":p.barEnd(H),e=[],0===L&&G(r.length+1),p.setRhythmHead(!1),m=R(H.time),p.setLastBarTime(m);break;case"bagpipes":break;case"instrument":if(void 0===l&&(l=H.program),u=H.program,h.length>0&&"program"===h[h.length-1].cmd)h[h.length-1].instrument=H.program;else{var q;for(q=h.length-1;q>=0&&"program"!==h[q].cmd;q--);(q<0||h[q].instrument!==H.program)&&h.push({cmd:"program",channel:0,instrument:H.program})}break;case"channel":I(H.channel);break;case"drum":O=W(H.params),U();break;case"gchordOn":p.gChordOn(H);break;case"beat":M=H.beats[0],E=H.beats[1],T=H.beats[2];break;case"vol":g=H.volume;break;case"volinc":v=H.volume;break;case"beataccents":x=H.value;break;case"gchord":case"bassprog":case"chordprog":case"bassvol":case"chordvol":case"gchordbars":p.paramChange(H);break;default:console.log("MIDI creation. Unknown el_type: "+H.el_type+"\n")}}void 0===h[0].instrument&&(h[0].instrument=l||0),d&&h.unshift(d),o.push(h),p.finish(),b.length}return a.detuneOctave&&function(e,t){for(var n={},r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++){var a=e[r][i];"note"===a.cmd&&(void 0===n[a.start]&&(n[a.start]=[]),n[a.start].push({track:r,event:i,pitch:a.pitch}))}var o=Object.keys(n);for(r=0;r<o.length;r++){var s=n[o[r]];if(s.length>1){var c=(s=s.sort((function(e,t){return e.pitch-t.pitch})))[s.length-1],l=c.pitch%12,u=!1;for(i=0;!u&&i<s.length-1;i++)s[i].pitch%12===l&&(u=!0);if(u){var h=e[c.track][c.event];h.cents||(h.cents=0),h.cents+=t}}}}(o,parseInt(a.detuneOctave,10)),p.addTrack(o),b.length>0&&o.push(b),{tempo:s,instrument:l,tracks:o,totalDuration:f}};var j=[0,2,4,5,7,9,11];function z(r){if(void 0!==r.midipitch)return r.midipitch;var i=r.pitch;if(r.accidental)switch(r.accidental){case"sharp":e[i]=1;break;case"flat":e[i]=-1;break;case"natural":e[i]=0;break;case"dblsharp":e[i]=2;break;case"dblflat":e[i]=-2;break;case"quartersharp":e[i]=.25;break;case"quarterflat":e[i]=-.25}var a=12*function(e){return Math.floor(e/7)}(i)+j[H(i)]+60;return void 0!==e[i]?a+=e[i]:a+=t[H(i)],a+n}function F(e){var t=[0,0,0,0,0,0,0];if(!e.accidentals)return t;for(var n=0;n<e.accidentals.length;n++){var r,i=e.accidentals[n];switch(i.acc){case"flat":r=-1;break;case"quarterflat":r=-.25;break;case"sharp":r=1;break;case"quartersharp":r=.25;break;default:r=0}t[H(i.note.toLowerCase().charCodeAt(0)-"c".charCodeAt(0))]+=r}return t}function V(e){var t=""+e.pitch;return t.indexOf(".75")>=0?(e.pitch=Math.round(e.pitch),e.cents=-50):t.indexOf(".25")>=0&&(e.pitch=Math.round(e.pitch),e.cents=50),e}function H(e){return(e%=7)<0&&(e+=7),e}function W(e){if(0===e.pattern.length||!1===e.on)return{on:!1};for(var t=e.pattern[0],n=[],r="",i=0,a=0;a<t.length;a++)if("d"===t[a]&&i++,"d"===t[a]||"z"===t[a])0!==r.length?(n.push(r),r=t[a]):r+=t[a];else{if(0===r.length)return{on:!1};r+=t[a]}if(0!==r.length&&n.push(r),e.pattern.length!==2*i+1)return{on:!1};for(var o={on:!0,bars:e.bars,pattern:[]},s=N(S),c=0,l=0;l<n.length;l++){r=n[l];for(var u=1,h=!1,d=0,f=1;f<r.length;f++)switch(r[f]){case"/":0!==d&&(u*=d),d=0,h=!0;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":d=10*d+r[f];break;default:return{on:!1}}h?(0===d&&(d=2),u/=d):d&&(u*=d),"d"===r[0]?(o.pattern.push({len:u*s,pitch:e.pattern[1+c],velocity:e.pattern[1+c+i]}),c++):o.pattern.push({len:u*s,pitch:null})}return _=e.bars?e.bars:1,o}function U(){if(O&&O.pattern){for(var e=O,t=0,n=S.num/S.den,r=0;r<e.pattern.length;r++)t+=e.pattern[r].len;var i=t/_/n;for(r=0;r<e.pattern.length;r++)e.pattern[r].len=e.pattern[r].len/i;O=e}}function G(e){if(0!==b.length||O.on){var t=S.num/S.den;if(0===b.length){if(f<t)return;b.push({cmd:"program",channel:e,instrument:k})}if(O.on)for(var n=m,r=0;r<O.pattern.length;r++){var i=B(O.pattern[r].len);O.pattern[r].pitch&&b.push({cmd:"note",pitch:O.pattern[r].pitch,volume:O.pattern[r].velocity,start:n,duration:i,gap:0,instrument:k}),n+=i}}}}(),e.exports=r},33998:(e,t,n)=>{var r,i=n(3565);!function(){"use strict";function e(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n]);return e}function t(){this.trackstrings="",this.trackcount=0,this.noteOnAndChannel="%90",this.noteOffAndChannel="%80"}function n(e,t){for(var n="",r=0;r<e.length;r++)n+=a(e.charCodeAt(r),2);return"%00%FF"+t+a(n.length/3,2)+n}function a(e,t){var n=e.toString(16);for(n=n.split(".")[0];n.length<t;)n="0"+n;return n.length>t&&(n=n.substring(0,t)),function(e){for(var t="",n=0;n<e.length;n+=2)t+="%",t+=e.substr(n,2);return t}(n)}function o(e){var t=(e=Math.round(e))%128;return a(2*(e-t)+t,4)}function s(e){var t=0,n=[];for(e=Math.round(e);0!==e;)n.push(127&e),e>>=7;for(var r=n.length-1;r>=0;r--){t<<=8;var i=n[r];0!==r&&(i|=128),t|=i}var o=t.toString(16).length;return a(t,o+=o%2)}t.prototype.setTempo=function(e){0===this.trackcount&&(this.startTrack(),this.track+="%00%FF%51%03"+a(Math.round(6e7/e),6),this.endTrack())},t.prototype.setGlobalInfo=function(e,t,r,i){if(0===this.trackcount){this.startTrack();var o=Math.round(6e7/e);this.track+="%00%FF%51%03"+a(o,6),r&&(this.track+=function(e){if(!e||!e.accidentals)return"";for(var t=0,n=256,r=0;r<e.accidentals.length;r++)"sharp"===e.accidentals[r].acc?t++:"flat"===e.accidentals[r].acc&&n--;return"%00%FF%59%02"+a(256!==n?n:t,2)+("m"===e.mode?"%01":"%00")}(r)),i&&(this.track+=function(e){var t,n="%00%FF%58%04"+a(e.num,2),r={1:0,2:1,4:2,8:3,16:4,32:5}[e.den];if(!r)return"";switch(n+=a(r,2),e.num+"/"+e.den){case"2/4":case"3/4":case"4/4":case"5/4":t=24;break;case"6/4":t=72;break;case"2/2":case"3/2":case"4/2":t=48;break;case"3/8":case"6/8":case"9/8":case"12/8":t=36}return t?(n+=a(t,2))+"%08":""}(i)),t&&(this.track+=n(t,"%01")),this.endTrack()}},t.prototype.startTrack=function(){this.noteWarped={},this.track="",this.trackName="",this.trackInstrument="",this.silencelength=0,this.trackcount++,this.instrument&&this.setInstrument(this.instrument)},t.prototype.endTrack=function(){this.track=this.trackName+this.trackInstrument+this.track;var e=a(this.track.length/3+4,8);this.track="MTrk"+e+this.track+"%00%FF%2F%00",this.trackstrings+=this.track},t.prototype.setText=function(e,t){"name"===e&&(this.trackName=n(t,"%03"))},t.prototype.setInstrument=function(e){this.trackInstrument="%00%C0"+a(e,2),this.instrument=e},t.prototype.setChannel=function(e,t){this.channel=e;var n="%00%B"+this.channel.toString(16);this.track+=n+"%79%00",this.track+=n+"%40%00",this.track+=n+"%5B%30",t||(t=0),t=Math.round(64*(t+1)),this.track+=n+"%0A"+a(t,2),this.track+=n+"%07%64",this.noteOnAndChannel="%9"+this.channel.toString(16),this.noteOffAndChannel="%8"+this.channel.toString(16)},t.prototype.startNote=function(e,t,n){if(this.track+=s(this.silencelength),this.silencelength=0,n){this.track+="%e"+this.channel.toString(16);var r=Math.round(4096*i(n));this.track+=o(8192+r),this.track+=s(0),this.noteWarped[e]=!0}this.track+=this.noteOnAndChannel,this.track+="%"+e.toString(16)+a(t,2)},t.prototype.endNote=function(e){this.track+=s(this.silencelength),this.silencelength=0,this.noteWarped[e]&&(this.track+="%e"+this.channel.toString(16),this.track+=o(8192),this.track+=s(0),this.noteWarped[e]=!1),this.track+=this.noteOffAndChannel,this.track+="%"+e.toString(16)+"%00"},t.prototype.addRest=function(e){this.silencelength+=e,this.silencelength<0&&(this.silencelength=0)},t.prototype.getData=function(){return"data:audio/midi,MThd%00%00%00%06%00%01"+a(this.trackcount,4)+"%01%e0"+this.trackstrings},t.prototype.embed=function(t,n){var r=this.getData(),i=e(document.createElement("a"),{href:r});if(i.innerHTML="download midi",t.insertBefore(i,t.firstChild),!n){var a=e(document.createElement("embed"),{src:r,type:"video/quicktime",controller:"true",autoplay:"false",loop:"false",enablejavascript:"true",style:"display:block; height: 20px;"});t.insertBefore(a,t.firstChild)}},r=function(){return new t}}(),e.exports=r},59236:(e,t,n)=>{var r,i=n(53181);!function(){"use strict";var e=1,t=128;function n(e,t,n){for(var r=0,i=t+1;i<e.length;i++)if("note"===e[i].el_type&&r++,e[i].decoration&&e[i].decoration.indexOf(n)>=0)return r;return r}function a(e,t,n){for(var r=Math.min(e.length,t+3),i=t;i<r;i++)if("note"===e[i].el_type&&e[i].decoration)for(var a=0;a<e[i].decoration.length;a++)if(n.indexOf(e[i].decoration[a])>=0)return e[i].decoration[a];return null}function o(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=n.length-1;r>=0&&"bar"!==n[r].el_type;)n[r].noChordVoice=!0,r--}function s(e,t){if(e&&!(e.length<=t)&&e[t].title)return e[t].title.join(" ")}function c(e,t){var n=1/4;e.duration&&(n=e.duration[0]);var r=60;return e.bpm&&(r=e.bpm),n*r/t}function l(t){var n;switch(t.type){case"common_time":n={el_type:"meter",num:4,den:4};break;case"cut_time":n={el_type:"meter",num:2,den:2};break;case"specified":n={el_type:"meter",num:t.value[0].num,den:t.value[0].den};break;default:n={el_type:"meter"}}return e=n.num/n.den,n}function u(e){for(var t=[],n=0;n<e.length;n++)"natural"!==e[n].acc&&t.push(e[n]);return t}function h(e,t){f(e,"HP"===t.root?{el_type:"key",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}]}:{el_type:"key",accidentals:u(t.accidentals)})}function d(e,t){f(e,l(t))}function f(e,t){for(var n=e.length-1;n>=0;n--)if(e[n].el_type===t.el_type)return void(JSON.stringify(e[n])!==JSON.stringify(t)&&e.push(t));e.push(t)}r=function(r,u){var p,m=(u=u||{}).program||0,g=u.midiTranspose||0;r.visualTranspose&&(g-=r.visualTranspose);var v=u.channel||0,b=!1,_=u.drum||"",y=u.drumBars||1,w=u.drumIntro||0,S=""!==_,k=!!u.drumOff,x=[];m=parseInt(m,10),g=parseInt(g,10),10===(v=parseInt(v,10))&&(m=t),_=_.split(" "),y=parseInt(y,10),w=parseInt(w,10);var M=r.formatting.bagpipes;M&&(m=71);var E=[];if(r.formatting.midi){var T=r.formatting.midi;T.program&&T.program.length>0&&(m=T.program[0],T.program.length>1&&(m=T.program[1],v=T.program[0]),b=!0),T.transpose&&(g=T.transpose[0]),T.channel&&(v=T.channel[0],b=!0),T.drum&&(_=T.drum),T.drumbars&&(y=T.drumbars[0]),T.drumon&&(S=!0),10===v&&(m=t),T.beat&&E.push({el_type:"beat",beats:T.beat}),T.nobeataccents&&E.push({el_type:"beataccents",value:!1})}p=u.qpm?parseInt(u.qpm,10):r.metaText.tempo?c(r.metaText.tempo,r.getBeatLength()):u.defaultQpm?u.defaultQpm:180;var C=[];M&&C.push({el_type:"bagpipes"}),C.push({el_type:"instrument",program:m}),v&&C.push({el_type:"channel",channel:v}),g&&C.push({el_type:"transpose",transpose:g}),C.push({el_type:"tempo",qpm:p});for(var A=0;A<E.length;A++)C.push(E[A]);var O,P=[],I=[],R=[],B=[0],N={};N[0]={el_type:"tempo",qpm:p,timing:0};for(var L=[],D=[],j=!1,z=r.lines,F=0;F<z.length;F++){var V=z[F];if(V.staff){for(var H=V.staff,W=0,U=0;U<H.length;U++){var G=H[U];if(!G.clef||"TAB"!==G.clef.type)for(var q=0;q<G.voices.length;q++){var Y=G.voices[q];if(!P[W]){P[W]=[].concat(JSON.parse(JSON.stringify(C)));var X=s(V.staff,W);X&&P[W].unshift({el_type:"name",trackName:X})}if(g&&"perc"===G.clef.type&&P[W].push({el_type:"transpose",transpose:0}),G.clef&&"perc"===G.clef.type&&!b)for(var K=0;K<P[W].length;K++)"instrument"===P[W][K].el_type&&(P[W][K].program=t);else G.key&&h(P[W],G.key);G.meter&&d(P[W],G.meter),!j&&S&&(P[W].push({el_type:"drum",params:{pattern:_,bars:y,on:S,intro:w}}),j=!0),G.clef&&"perc"!==G.clef.type&&G.clef.transpose&&(G.clef.el_type="clef",P[W].push({el_type:"transpose",transpose:G.clef.transpose})),G.clef&&G.clef.type&&(G.clef.type.indexOf("-8")>=0?P[W].push({el_type:"transpose",transpose:-12}):G.clef.type.indexOf("+8")>=0&&P[W].push({el_type:"transpose",transpose:12})),r.formatting.midi&&r.formatting.midi.drumoff&&(P[W].push({el_type:"bar"}),P[W].push({el_type:"drum",params:{pattern:"",on:!1}}));var $=0,Z=0,J=0,Q=0;O=[105,95,85,1];for(var ee=0;ee<Y.length;ee++){var te=Y[ee];switch(te.el_type){case"note":if(I[q]&&(O[0]+=I[q],O[1]+=I[q],O[2]+=I[q],P[W].push({el_type:"beat",beats:O.slice(0)})),R[q]&&(O[0]+=R[q],O[1]+=R[q],O[2]+=R[q],P[W].push({el_type:"beat",beats:O.slice(0)})),ge(te),!te.rest||"spacer"!==te.rest.type){var ne={elem:te,el_type:"note",timing:B[W]};if(te.style?ne.style=te.style:x[W]&&(ne.style=x[W]),ne.duration=0===te.duration?.25:te.duration,te.startTriplet){if(Z=te.tripletMultiplier,J=te.startTriplet*Z*te.duration,te.startTriplet!==te.tripletR&&ee+te.tripletR<=Y.length){for(var re=0,ie=ee;ie<ee+te.tripletR;ie++)re+=Y[ie].duration;J=Z*re}ne.duration=ne.duration*Z,ne.duration=Math.round(1e6*ne.duration)/1e6,Q=ne.duration}else Z&&(te.endTriplet?(Z=0,ne.duration=Math.round(1e6*(J-Q))/1e6):(ne.duration=ne.duration*Z,ne.duration=Math.round(1e6*ne.duration)/1e6,Q+=ne.duration));te.rest&&(ne.rest=te.rest),te.decoration&&(ne.decoration=te.decoration.slice(0)),te.pitches&&(ne.pitches=i.cloneArray(te.pitches)),te.gracenotes&&(ne.gracenotes=i.cloneArray(te.gracenotes)),te.chord&&(ne.chord=i.cloneArray(te.chord)),P[W].push(ne),"rhythm"===te.style&&o(P),$++,B[W]+=ne.duration}break;case"key":case"keySignature":h(P[W],te);break;case"meter":d(P[W],te);break;case"clef":te.transpose&&P[W].push({el_type:"transpose",transpose:te.transpose}),te.type&&(te.type.indexOf("-8")>=0?P[W].push({el_type:"transpose",transpose:-12}):te.type.indexOf("+8")>=0&&P[W].push({el_type:"transpose",transpose:12}));break;case"tempo":p=c(te,r.getBeatLength()),P[W].push({el_type:"tempo",qpm:p,timing:B[W]}),N[""+B[W]]={el_type:"tempo",qpm:p,timing:B[W]};break;case"bar":$>0&&P[W].push({el_type:"bar"}),ge(te),$=0;var ae="bar_right_repeat"===te.type||"bar_dbl_repeat"===te.type,oe="1"===te.startEnding,se="bar_left_repeat"===te.type||"bar_dbl_repeat"===te.type||"bar_right_repeat"===te.type;if(ae){var ce=L[W];ce||(ce=0);var le=D[W];le||(le=P[W].length);for(var ue=ce;ue<le;ue++){var he=Object.assign({},P[W][ue]);he.pitches&&(he.pitches=i.cloneArray(he.pitches)),P[W].push(he)}D[W]=void 0,L[W]=void 0}oe&&(D[W]=P[W].length),se&&(L[W]=P[W].length);break;case"style":x[W]=te.head;break;case"timeSignature":P[W].push(l(te));break;case"part":case"stem":case"scale":case"break":case"font":break;case"midi":var de=!1;switch(te.cmd){case"drumon":S=!0,de=!0;break;case"drumoff":S=!1,de=!0;break;case"drum":_=te.params,de=!0;break;case"drumbars":y=te.params[0],de=!0;break;case"drummap":break;case"channel":10===te.params[0]&&P[W].push({el_type:"instrument",program:t});break;case"program":f(P[W],{el_type:"instrument",program:te.params[0]}),b=!0;break;case"transpose":P[W].push({el_type:"transpose",transpose:te.params[0]});break;case"gchordoff":P[W].push({el_type:"gchordOn",tacet:!0});break;case"gchordon":P[W].push({el_type:"gchordOn",tacet:!1});break;case"beat":P[W].push({el_type:"beat",beats:te.params});break;case"nobeataccents":P[W].push({el_type:"beataccents",value:!1});break;case"beataccents":P[W].push({el_type:"beataccents",value:!0});break;case"vol":case"volinc":P[W].push({el_type:te.cmd,volume:te.params[0]});break;case"swing":case"gchord":case"bassvol":case"chordvol":case"gchordbars":P[W].push({el_type:te.cmd,param:te.params[0]});break;case"bassprog":case"chordprog":P[W].push({el_type:te.cmd,value:te.params[0],octaveShift:te.params[1]});break;default:console.log("MIDI seq: midi cmd not handled: ",te.cmd,te)}de&&(P[0].push({el_type:"drum",params:{pattern:_,bars:y,intro:w,on:S}}),j=!0);break;default:console.log("MIDI: element type "+te.el_type+" not handled.")}}B[++W]||(B[W]=0)}}function ge(e){var t,r={pppp:[15,10,5,1],ppp:[30,20,10,1],pp:[45,35,20,1],p:[60,50,35,1],mp:[75,65,50,1],mf:[90,80,65,1],f:[105,95,80,1],ff:[120,110,95,1],fff:[127,125,110,1],ffff:[127,125,110,1]};if(e.decoration)if(e.decoration.indexOf("pppp")>=0?t="pppp":e.decoration.indexOf("ppp")>=0?t="ppp":e.decoration.indexOf("pp")>=0?t="pp":e.decoration.indexOf("p")>=0?t="p":e.decoration.indexOf("mp")>=0?t="mp":e.decoration.indexOf("mf")>=0?t="mf":e.decoration.indexOf("f")>=0?t="f":e.decoration.indexOf("ff")>=0?t="ff":e.decoration.indexOf("fff")>=0?t="fff":e.decoration.indexOf("ffff")>=0&&(t="ffff"),t&&(O=r[t].slice(0),P[W].push({el_type:"beat",beats:O.slice(0)}),I[q]=!1,R[q]=!1),e.decoration.indexOf("crescendo(")>=0){var i=n(Y,ee,"crescendo)"),o=Math.min(127,O[0]+50),s=a(Y,ee+i+1,Object.keys(r));s&&(o=r[s][0]),I[q]=i>0&&Math.floor((o-O[0])/i),R[q]=!1}else if(e.decoration.indexOf("crescendo)")>=0)I[q]=!1;else if(e.decoration.indexOf("diminuendo(")>=0){var c=n(Y,ee,"diminuendo)"),l=Math.max(15,O[0]-50),u=a(Y,ee+c+1,Object.keys(r));u&&(l=r[u][0]),I[q]=!1,R[q]=c>0&&Math.floor((l-O[0])/c)}else e.decoration.indexOf("diminuendo)")>=0&&(R[q]=!1)}}}if(function(e,t){if(t&&0!==t.length)for(var n=Object.keys(t),r=0;r<e.length;r++)for(var i=e[r],a=t[0]?t[0].qpm:0,o=0;o<i.length;o++){var s=i[o];"tempo"===s.el_type&&(a=s.qpm),n.indexOf(""+s.timing)>=0&&a!==t[""+s.timing].qpm&&(a=t[""+s.timing].qpm,"tempo"===s.el_type?(s.qpm=t[""+s.timing].qpm,o++):(e[r].splice(o,0,{el_type:"tempo",qpm:t[""+s.timing].qpm,timing:s.timing}),o+=2))}}(P,N),w)for(var fe=r.getPickupLength(),pe=0;pe<P.length;pe++){for(var me=0;"note"!==P[pe][me].el_type&&P[pe].length>me;)me++;if(P[pe].length>me){for(ie=0;ie<w;ie++)0===fe||ie<w-1?(P[pe].splice(me,0,{el_type:"note",rest:{type:"rest"},duration:e},{el_type:"bar"}),me+=2):P[pe].splice(me++,0,{el_type:"note",rest:{type:"rest"},duration:e-fe});k&&(S=!1,P[pe].splice(me++,0,{el_type:"drum",params:{pattern:_,bars:y,intro:w,on:S}}),k=!1)}}return P.length>0&&P[0].length>0&&(P[0][0].pickupLength=r.getPickupLength()),P}}(),e.exports=r},43097:(e,t,n)=>{var r=n(86318);e.exports=function(){return window.abcjsAudioContext||r(),window.abcjsAudioContext}},3565:e=>{e.exports=function(e){return Math.pow(2,e/1200)}},89756:e=>{var t=function(e,t,n,r){this.chordTrack=[],this.chordTrackFinished=!1,this.chordChannel=e,this.currentChords=[],this.lastChord,this.chordLastBar,this.chordsOff=!!t,this.gChordTacet=this.chordsOff,this.hasRhythmHead=!1,this.transpose=0,this.lastBarTime=0,this.meter=r,this.tempoChangeFactor=1,this.bassInstrument=n.bassprog&&n.bassprog.length>=1?n.bassprog[0]:0,this.chordInstrument=n.chordprog&&n.chordprog.length>=1?n.chordprog[0]:0,this.bassOctaveShift=n.bassprog&&2===n.bassprog.length?n.bassprog[1]:0,this.chordOctaveShift=n.chordprog&&2===n.chordprog.length?n.chordprog[1]:0,this.boomVolume=n.bassvol&&1===n.bassvol.length?n.bassvol[0]:64,this.chickVolume=n.chordvol&&1===n.chordvol.length?n.chordvol[0]:48,n.gchord&&n.gchord.length>0?this.overridePattern=i(n.gchord[0]):this.overridePattern=void 0};function n(e,t,n,i){var a=[];if(!e)return a;t.indexOf("boom")>=0?a.push(n?e.boom:e.boom2):i&&a.push(e.boom);var o=e.chick.length;if(t.indexOf("chick")>=0)for(var s=0;s<o;s++)a.push(e.chick[s]);switch(t){case"DO":a.push(e.chick[0]);break;case"MI":a.push(e.chick[1]);break;case"SOL":a.push(r(e,2));break;case"TI":a.push(r(e,3));break;case"TOP":a.push(r(e,4));break;case"do":a.push(e.chick[0]+12);break;case"mi":a.push(e.chick[1]+12);break;case"sol":a.push(r(e,2)+12);break;case"ti":a.push(r(e,3)+12);break;case"top":a.push(r(e,4)+12)}return a}function r(e,t){var n=Math.floor(t/e.chick.length);return e.chick[t%e.chick.length]+12*n}function i(e){for(var t=[],n=0;n<e.length;n++)switch(e[n]){case"z":case"2":t.push("");break;case"c":t.push("chick");break;case"b":t.push("boom&chick");break;case"f":t.push("boom");break;case"G":t.push("DO");break;case"H":t.push("MI");break;case"I":t.push("SOL");break;case"J":t.push("TI");break;case"K":t.push("TOP");break;case"g":t.push("do");break;case"h":t.push("mi");break;case"i":t.push("sol");break;case"j":t.push("ti");break;case"k":t.push("top")}return t}function a(e){return e/1e6}function o(e,t){return Math.round(e*t*1e6)/1e6}t.prototype.setMeter=function(e){this.meter=e},t.prototype.setTempoChangeFactor=function(e){this.tempoChangeFactor=e},t.prototype.setLastBarTime=function(e){this.lastBarTime=e},t.prototype.setTranspose=function(e){this.transpose=e},t.prototype.setRhythmHead=function(e,t){this.hasRhythmHead=e;var n=[];if(e&&this.lastChord&&this.lastChord.chick)for(var r=0;r<this.lastChord.chick.length;r++){var i=Object.assign({},t.pitches[0]);i.actualPitch=this.lastChord.chick[r],n.push(i)}return n},t.prototype.barEnd=function(e){this.chordTrack.length>0&&!this.chordTrackFinished&&(this.resolveChords(this.lastBarTime,a(e.time)),this.currentChords=[]),this.chordLastBar=this.lastChord},t.prototype.gChordOn=function(e){this.chordsOff||(this.gChordTacet=e.tacet)},t.prototype.paramChange=function(e){switch(e.el_type){case"gchord":e.param&&e.param.length>0?this.overridePattern=i(e.param):this.overridePattern=void 0;break;case"bassprog":this.bassInstrument=e.value,null!=e.octaveShift&&null!=e.octaveShift?this.bassOctaveShift=e.octaveShift:this.bassOctaveShift=0;break;case"chordprog":this.chordInstrument=e.value,null!=e.octaveShift&&null!=e.octaveShift?this.chordOctaveShift=e.octaveShift:this.chordOctaveShift=0;break;case"bassvol":this.boomVolume=e.param;break;case"chordvol":this.chickVolume=e.param;break;default:console.log("unhandled midi param",e)}},t.prototype.finish=function(){this.chordTrackEmpty()||(this.chordTrackFinished=!0)},t.prototype.addTrack=function(e){this.chordTrackEmpty()||e.push(this.chordTrack)},t.prototype.findChord=function(e){if(this.gChordTacet)return"break";if(this.chordTrackFinished||!e.chord||0===e.chord.length)return null;for(var t=0;t<e.chord.length;t++){var n=e.chord[t];if("default"===n.position)return n.name;if(this.breakSynonyms.indexOf(n.name.toLowerCase())>=0)return"break"}return null},t.prototype.interpretChord=function(e){if(0!==e.length){if("break"===e)return{chick:[]};var t=e.substring(0,1);if("("===t){if(0===(e=e.substring(1,e.length-2)).length)return;t=e.substring(0,1)}var n=this.basses[t];if(n){for(var r=this.transpose;r<-8;)r+=12;for(;r>8;)r-=12;(n+=r)<33?n+=12:n>44&&(n-=12);var i,a=n,o=(n+=12*this.bassOctaveShift)-5;1===e.length&&(i=this.chordNotes(n,""));var s=e.substring(1),c=s.substring(0,1);"b"===c||""===c?(a--,n--,o--,s=s.substring(1)):"#"!==c&&""!==c||(a++,n++,o++,s=s.substring(1));var l=s.split("/");if((i=this.chordNotes(a,l[0])).length>=3&&(o=o+(i[2]-i[0])-7),2===l.length&&this.basses[l[1].substring(0,1)]){var u={"#":1,"":1,b:-1,"":-1}[l[1].substring(1)]||0;n=this.basses[l[1].substring(0,1)]+u+r,o=n+=12*this.bassOctaveShift}return{boom:n,boom2:o,chick:i}}}},t.prototype.chordNotes=function(e,t){var n=this.chordIntervals[t];n||(n="ma"===t.slice(0,2).toLowerCase()||"M"===t[0]?this.chordIntervals.M:"m"===t[0]||"-"===t[0]?this.chordIntervals.m:this.chordIntervals.M),e+=12,e+=12*this.chordOctaveShift;for(var r=[],i=0;i<n.length;i++)r.push(e+n[i]);return r},t.prototype.writeNote=function(e,t,n,r,i,a){void 0!==e&&this.chordTrack.push({cmd:"note",pitch:e,volume:n,start:this.lastBarTime+r*o(t,this.tempoChangeFactor),duration:o(i,this.tempoChangeFactor),gap:0,instrument:a})},t.prototype.chordTrackEmpty=function(){for(var e=!0,t=0;t<this.chordTrack.length&&e;t++)"note"===this.chordTrack[t].cmd&&(e=!1);return e},t.prototype.resolveChords=function(e,t){if(!this.hasRhythmHead){var r=this.meter.num,i=this.meter.den,a=1/i/2,o=parseInt(r,10)/parseInt(i,10)-(t-e)/this.tempoChangeFactor;Math.abs(o)<1e-5&&(o=0),0!==this.currentChords.length&&0===this.currentChords[0].beat||this.currentChords.unshift({beat:0,chord:this.chordLastBar});var s=function(e,t,n){var r=[];if(0===e.length)return r;for(var i=e[0].chord,a=1;a<e.length;a++){for(var o=e[a];r.length<o.beat;)r.push(i);i=o.chord}for(;r.length<t;)r.push(i);return r}(this.currentChords,8*r/i),c=this.overridePattern?this.overridePattern:this.rhythmPatterns[r+"/"+i];if(o){c=[];for(var l=(t-e)/this.tempoChangeFactor*8,u=0;u<l/2;u+=2)c.push("chick"),c.push("")}if(!c)for(c=[],u=0;u<8*r/i/2;u++)c.push("chick"),c.push("");var h=!0,d=Math.min(c.length,s.length);for(u=0;u<d;u++){u>0&&s[u-1]&&s[u]&&s[u-1].boom!==s[u].boom&&(h=!0);var f=c[u],p=f.indexOf("boom")>=0,m=!p&&0!==u&&c[0].indexOf("boom")>=0&&(!s[u-1]||s[u-1].boom!==s[u].boom),g=n(s[u],f,h,m);p&&(h=!1);for(var v=0;v<g.length;v++)this.writeNote(g[v],.125,p||m?this.boomVolume:this.chickVolume,u,a,p||m?this.bassInstrument:this.chordInstrument),m?m=!1:p=!1}}},t.prototype.processChord=function(e){if(!this.chordTrackFinished){var t,n=this.findChord(e);if(n){var r=this.interpretChord(n);if(r){0===this.chordTrack.length&&this.chordTrack.push({cmd:"program",channel:this.chordChannel,instrument:this.chordInstrument}),this.lastChord=r;var i=(t=this.lastBarTime,8*(a(e.time)-t));this.currentChords.push({chord:this.lastChord,beat:i,start:a(e.time)})}}}},t.prototype.breakSynonyms=["break","(break)","no chord","n.c.","tacet"],t.prototype.basses={A:33,B:35,C:36,D:38,E:40,F:41,G:43},t.prototype.chordIntervals={dim:[0,3,6],"":[0,3,6],"":[0,3,6],dim7:[0,3,6,9],"7":[0,3,6,9],"7":[0,3,6,9],7:[0,3,6,10],"m7(b5)":[0,3,6,10],m7b5:[0,3,6,10],"m75":[0,3,6,10],"-7(b5)":[0,3,6,10],"-7b5":[0,3,6,10],"7b5":[0,4,6,10],"7(b5)":[0,4,6,10],"75":[0,4,6,10],"7(b9,b5)":[0,4,6,10,13],"7b9,b5":[0,4,6,10,13],"7(#9,b5)":[0,4,6,10,15],"7#9b5":[0,4,6,10,15],"maj7(b5)":[0,4,6,11],maj7b5:[0,4,6,11],"13(b5)":[0,4,6,10,14,21],"13b5":[0,4,6,10,14,21],m:[0,3,7],"-":[0,3,7],m6:[0,3,7,9],"-6":[0,3,7,9],m7:[0,3,7,10],"-7":[0,3,7,10],"-(b6)":[0,3,7,8],"-b6":[0,3,7,8],"-6/9":[0,3,7,9,14],"-7(b9)":[0,3,7,10,13],"-7b9":[0,3,7,10,13],"-maj7":[0,3,7,11],"-9+7":[0,3,7,11,13],"-11":[0,3,7,11,14,17],m11:[0,3,7,11,14,17],"-maj9":[0,3,7,11,14],"-9":[0,3,7,11,14],mM9:[0,3,7,11,14],M:[0,4,7],6:[0,4,7,9],"6/9":[0,4,7,9,14],"6add9":[0,4,7,9,14],69:[0,4,7,9,14],7:[0,4,7,10],9:[0,4,7,10,14],11:[0,7,10,14,17],13:[0,4,7,10,14,21],"7b9":[0,4,7,10,13],"79":[0,4,7,10,13],"7(b9)":[0,4,7,10,13],"7(#9)":[0,4,7,10,15],"7#9":[0,4,7,10,15],"(13)":[0,4,7,10,14,21],"7(9,13)":[0,4,7,10,14,21],"7(#9,b13)":[0,4,7,10,15,20],"7(#11)":[0,4,7,10,14,18],"7#11":[0,4,7,10,14,18],"7(b13)":[0,4,7,10,20],"7b13":[0,4,7,10,20],"9(#11)":[0,4,7,10,14,18],"9#11":[0,4,7,10,14,18],"13(#11)":[0,4,7,10,18,21],"13#11":[0,4,7,10,18,21],maj7:[0,4,7,11],"7":[0,4,7,11],7:[0,4,7,11],maj9:[0,4,7,11,14],"maj7(9)":[0,4,7,11,14],"maj7(11)":[0,4,7,11,17],"maj7(#11)":[0,4,7,11,18],"maj7(13)":[0,4,7,14,21],"maj7(9,13)":[0,4,7,11,14,21],"7sus4":[0,5,7,10],m7sus4:[0,3,7,10,17],sus4:[0,5,7],sus2:[0,2,7],"7sus2":[0,2,7,10],"9sus4":[0,5,7,10,14],"13sus4":[0,5,7,10,14,21],aug7:[0,4,8,10],"+7":[0,4,8,10],"+":[0,4,8],"7#5":[0,4,8,10],"75":[0,4,8,10],"7+5":[0,4,8,10],"9#5":[0,4,8,10,14],"95":[0,4,8,10,14],"9+5":[0,4,8,10,14],"-7(#5)":[0,3,8,10],"-7#5":[0,3,8,10],"7(#5)":[0,4,8,10],"7(b9,#5)":[0,4,8,10,13],"7b9#5":[0,4,8,10,13],"maj7(#5)":[0,4,8,11],"maj7#5":[0,4,8,11],"maj7(#5,#11)":[0,4,8,11,18],"maj7#5#11":[0,4,8,11,18],"9(#5)":[0,4,8,10,14],"13(#5)":[0,4,8,10,14,21],"13#5":[0,4,8,10,14,21],5:[0,7],"5(8)":[0,7,12],"5add8":[0,7,12]},t.prototype.rhythmPatterns={"2/2":["boom","","","","chick","","",""],"3/2":["boom","","","","chick","","","","chick","","",""],"4/2":["boom","","","","chick","","","","boom","","","","chick","","",""],"2/4":["boom","","chick",""],"3/4":["boom","","chick","","chick",""],"4/4":["boom","","chick","","boom","","chick",""],"5/4":["boom","","chick","","chick","","boom","","chick",""],"6/4":["boom","","chick","","boom","","chick","","boom","","chick",""],"3/8":["boom","","chick"],"5/8":["boom","chick","chick","boom","chick"],"6/8":["boom","","chick","boom","","chick"],"7/8":["boom","chick","chick","boom","chick","boom","chick"],"9/8":["boom","","chick","boom","","chick","boom","","chick"],"10/8":["boom","chick","chick","boom","chick","chick","boom","chick","boom","chick"],"11/8":["boom","chick","chick","boom","chick","chick","boom","chick","boom","chick","chick"],"12/8":["boom","","chick","boom","","chick","boom","","chick","boom","","chick"]},e.exports=t},11528:(e,t,n)=>{var r=n(14524);e.exports=function(e){for(var t=[],n=0;n<e.tracks.length;n++)t.push([]);var i=r[0];return e.tracks.forEach((function(e,n){e.forEach((function(e){switch(e.cmd){case"note":var a=void 0!==e.instrument?r[e.instrument]:i;if(e.duration>0){var o=e.gap?e.gap:0,s=e.duration;o=Math.min(o,2*s/3);var c={pitch:e.pitch,instrument:a,start:Math.round(1e6*e.start)/1e6,end:Math.round(1e6*(e.start+s-o))/1e6,volume:e.volume};e.startChar&&(c.startChar=e.startChar),e.endChar&&(c.endChar=e.endChar),e.style&&(c.style=e.style),e.cents&&(c.cents=e.cents),t[n].push(c)}break;case"program":i=r[e.instrument];break;case"text":break;default:console.log("Unhandled midi event",e)}}))})),t}},59237:(e,t,n)=>{var r=n(31193),i=n(86318),a=n(43097),o=n(81213),s=n(83057),c=n(66769),l=n(19983),u=n(38224);function h(e,t,n,o,s){var c=!0;if(a()?c="suspended"===a().state:i(),!r())throw{status:"NotSupported",message:"This browser does not support audio."};(c||s)&&n&&n.classList.add("abcjs-loading"),c?a().resume().then((function(){o?o().then((function(r){d(e,t,n,s)})):d(e,t,n,s)})):d(e,t,n,s)}function d(e,t,n,r){r?e(t).then((function(){n&&n.classList.remove("abcjs-loading")})):(e(t),n&&n.classList.remove("abcjs-loading"))}e.exports=function(e,t){var n=this;if("string"==typeof e){var r=e;if(!(e=document.querySelector(r)))throw new Error('Cannot find element "'+r+'" in the DOM.')}else if(!(e instanceof HTMLElement))throw new Error("The first parameter must be a valid element or selector in the DOM.");if(n.parent=e,n.options={},t&&(n.options=Object.assign({},t)),n.options.ac&&i(n.options.ac),function(e,t){var n=!!t.loopHandler,r=!!t.restartHandler,i=!!t.playHandler||!!t.playPromiseHandler,a=!!t.progressHandler,h=!!t.warpHandler,d=!1!==t.hasClock,f='<div class="abcjs-inline-audio">\n';if(n){var p=t.repeatTitle?t.repeatTitle:"Click to toggle play once/repeat.";f+='<button type="button" class="abcjs-midi-loop abcjs-btn" title="'+p+'" aria-label="'+(t.repeatAria?t.repeatAria:p)+'">'+o+"</button>\n"}if(r){var m=t.restartTitle?t.restartTitle:"Click to go to beginning.";f+='<button type="button" class="abcjs-midi-reset abcjs-btn" title="'+m+'" aria-label="'+(t.restartAria?t.restartAria:m)+'">'+u+"</button>\n"}if(i){var g=t.playTitle?t.playTitle:"Click to play/pause.";f+='<button type="button" class="abcjs-midi-start abcjs-btn" title="'+g+'" aria-label="'+(t.playAria?t.playAria:g)+'">'+s+c+l+"</button>\n"}if(a){var v=t.randomTitle?t.randomTitle:"Click to change the playback position.";f+='<button type="button" class="abcjs-midi-progress-background" title="'+v+'" aria-label="'+(t.randomAria?t.randomAria:v)+'"><span class="abcjs-midi-progress-indicator"></span></button>\n'}if(d&&(f+='<span class="abcjs-midi-clock"></span>\n'),h){var b=t.warpTitle?t.warpTitle:"Change the playback speed.";f+='<span class="abcjs-tempo-wrapper"><label><input class="abcjs-midi-tempo" type="number" min="1" max="300" value="100" title="'+b+'" aria-label="'+(t.warpAria?t.warpAria:b)+'">%</label><span>&nbsp;(<span class="abcjs-midi-current-tempo"></span> '+(t.bpm?t.bpm:"BPM")+")</span></span>\n"}f+='<div class="abcjs-css-warning" style="font-size: 12px;color:red;border: 1px solid red;text-align: center;width: 300px;margin-top: 4px;font-weight: bold;border-radius: 4px;">CSS required: load abcjs-audio.css</div>',f+="</div>\n",e.innerHTML=f}(n.parent,n.options),function(e){var t=!!e.options.loopHandler,n=!!e.options.restartHandler,r=!!e.options.playHandler||!!e.options.playPromiseHandler,i=!!e.options.progressHandler,a=!!e.options.warpHandler,o=e.parent.querySelector(".abcjs-midi-start");t&&e.parent.querySelector(".abcjs-midi-loop").addEventListener("click",(function(t){h(e.options.loopHandler,t,o,e.options.afterResume)})),n&&e.parent.querySelector(".abcjs-midi-reset").addEventListener("click",(function(t){h(e.options.restartHandler,t,o,e.options.afterResume)})),r&&o.addEventListener("click",(function(t){h(e.options.playPromiseHandler||e.options.playHandler,t,o,e.options.afterResume,!!e.options.playPromiseHandler)})),i&&e.parent.querySelector(".abcjs-midi-progress-background").addEventListener("click",(function(t){h(e.options.progressHandler,t,o,e.options.afterResume)})),a&&e.parent.querySelector(".abcjs-midi-tempo").addEventListener("change",(function(t){h(e.options.warpHandler,t,o,e.options.afterResume)}))}(n),n.disable=function(e){var t=n.parent.querySelector(".abcjs-inline-audio");e?t.classList.add("abcjs-disabled"):t.classList.remove("abcjs-disabled")},n.setWarp=function(e,t){n.parent.querySelector(".abcjs-midi-tempo").value=Math.round(t),n.setTempo(e)},n.setTempo=function(e){var t=n.parent.querySelector(".abcjs-midi-current-tempo");t&&(t.innerHTML=Math.round(e))},n.resetAll=function(){for(var e=n.parent.querySelectorAll(".abcjs-pushed"),t=0;t<e.length;t++)e[t].classList.remove("abcjs-pushed")},n.pushPlay=function(e){var t=n.parent.querySelector(".abcjs-midi-start");t&&(e?t.classList.add("abcjs-pushed"):t.classList.remove("abcjs-pushed"))},n.pushLoop=function(e){var t=n.parent.querySelector(".abcjs-midi-loop");t&&(e?t.classList.add("abcjs-pushed"):t.classList.remove("abcjs-pushed"))},n.setProgress=function(e,t){var r=n.parent.querySelector(".abcjs-midi-progress-background"),i=n.parent.querySelector(".abcjs-midi-progress-indicator");if(r&&i){var a=r.clientWidth*e;i.style.left=a+"px";var o=n.parent.querySelector(".abcjs-midi-clock");if(o){var s=t*e/1e3,c=Math.floor(s/60),l=Math.floor(s%60),u=l<10?"0"+l:l;o.innerHTML=c+":"+u}}},n.options.afterResume){var d=!1;n.options.ac?d="suspended"!==n.options.ac.state:a()&&(d="suspended"!==a().state),d&&n.options.afterResume()}}},75337:(e,t,n)=>{var r=n(59335),i=n(11528),a=n(86318),o=n(43097),s=n(31193),c=n(70487),l=n(14524),u=n(4177),h=n(26632),d=n(12973),f="MIDI is not supported in this browser.",p="https://paulrosen.github.io/midi-js-soundfonts/abcjs/",m="https://paulrosen.github.io/midi-js-soundfonts/FluidR3_GM/";e.exports=function(){var e=this;e.audioBufferPossible=void 0,e.directSource=[],e.startTimeSec=void 0,e.pausedTimeSec=void 0,e.audioBuffers=[],e.duration=void 0,e.isRunning=!1,e.options=void 0,e.pickupLength=0,e.init=function(t){t||(t={}),t.options&&(e.options=t.options),a(t.audioContext);var n=o().currentTime;if(e.debugCallback=t.debugCallback,e.debugCallback&&e.debugCallback("init called"),e.audioBufferPossible=e._deviceCapable(),!e.audioBufferPossible)return Promise.reject({status:"NotSupported",message:f});var r=t.options?t.options:{};e.soundFontUrl=r.soundFontUrl?r.soundFontUrl:m,"/"!==e.soundFontUrl[e.soundFontUrl.length-1]&&(e.soundFontUrl+="/"),r.soundFontVolumeMultiplier||0===r.soundFontVolumeMultiplier?e.soundFontVolumeMultiplier=r.soundFontVolumeMultiplier:e.soundFontUrl===m||"https://paulrosen.github.io/midi-js-soundfonts/MusyngKite/"===e.soundFontUrl?e.soundFontVolumeMultiplier=3:e.soundFontUrl===p?e.soundFontVolumeMultiplier=.4:e.soundFontVolumeMultiplier=1,r.programOffsets?e.programOffsets=r.programOffsets:e.soundFontUrl===p?e.programOffsets={bright_acoustic_piano:20,honkytonk_piano:20,electric_piano_1:30,electric_piano_2:30,harpsichord:40,clavinet:20,celesta:20,glockenspiel:40,vibraphone:30,marimba:35,xylophone:30,tubular_bells:35,dulcimer:30,drawbar_organ:20,percussive_organ:25,rock_organ:20,church_organ:40,reed_organ:40,accordion:40,harmonica:40,acoustic_guitar_nylon:20,acoustic_guitar_steel:30,electric_guitar_jazz:25,electric_guitar_clean:15,electric_guitar_muted:35,overdriven_guitar:25,distortion_guitar:20,guitar_harmonics:30,electric_bass_finger:15,electric_bass_pick:30,fretless_bass:40,violin:105,viola:50,cello:40,contrabass:60,trumpet:10,trombone:90,alto_sax:20,tenor_sax:20,clarinet:20,flute:50,banjo:50,woodblock:20}:e.programOffsets={};var i=void 0!==r.fadeLength?parseInt(r.fadeLength,10):NaN;if(e.fadeLength=isNaN(i)?200:i,i=void 0!==r.noteEnd?parseInt(r.noteEnd,10):NaN,e.noteEnd=isNaN(i)?0:i,e.pan=r.pan,e.meterSize=1,t.visualObj)e.flattened=t.visualObj.setUpAudio(r),t.visualObj.getMeterFraction().den&&(e.meterSize=t.visualObj.getMeterFraction().num/t.visualObj.getMeterFraction().den),e.pickupLength=t.visualObj.getPickupLength();else{if(!t.sequence)return Promise.reject(new Error("Must pass in either a visualObj or a sequence"));e.flattened=t.sequence}e.millisecondsPerMeasure=t.millisecondsPerMeasure?t.millisecondsPerMeasure:t.visualObj?t.visualObj.millisecondsPerMeasure(e.flattened.tempo):1e3,e.beatsPerMeasure=t.visualObj?t.visualObj.getBeatsPerMeasure():4,e.sequenceCallback=r.sequenceCallback,e.callbackContext=r.callbackContext,e.onEnded=r.onEnded,e.meterFraction=t.visualObj?t.visualObj.getMeterFraction():{den:1};var s={},u=[],h=[],g=l[0];e.flattened.tracks.forEach((function(e){e.forEach((function(e){if("program"===e.cmd&&l[e.instrument]&&(g=l[e.instrument]),void 0!==e.pitch){var t=e.pitch,n=c[t],r=void 0!==e.instrument?l[e.instrument]:g;if(n)if(s[r]||(s[r]={}),d[r]&&d[r][n]){var i=r+":"+n;u.indexOf(i)<0&&u.push(i)}else s[r][n]=!0;else{var a=r+":"+n;console.log("Can't find note: ",t,a),h.indexOf(a)<0&&h.push(a)}}}))})),e.debugCallback&&e.debugCallback("note gathering time = "+Math.floor(1e3*(o().currentTime-n))+"ms"),n=o().currentTime;var v=[];Object.keys(s).forEach((function(e){Object.keys(s[e]).forEach((function(t){v.push({instrument:e,note:t})}))})),e.debugCallback&&e.debugCallback("notes "+JSON.stringify(v));for(var b=[],_=0;_<v.length;_+=256)b.push(v.slice(_,_+256));return new Promise((function(t,r){var i={cached:u,error:h,loaded:[]},a=0,s=function(){e.debugCallback&&e.debugCallback("loadBatch idx="+a+" len="+b.length),a<b.length?e._loadBatch(b[a],e.soundFontUrl,n).then((function(t){e.debugCallback&&e.debugCallback("loadBatch then"),n=o().currentTime,t&&(t.error&&(i.error=i.error.concat(t.error)),t.loaded&&(i.loaded=i.loaded.concat(t.loaded))),a++,s()}),r):(e.debugCallback&&e.debugCallback("resolve init"),t(i))};s()}))},e._loadBatch=function(t,n,i,a){var s=[];return t.forEach((function(t){e.debugCallback&&e.debugCallback("getNote "+t.instrument+":"+t.note),s.push(r(n,t.instrument,t.note,o()))})),Promise.all(s).then((function(r){e.debugCallback&&e.debugCallback("mp3 load time = "+Math.floor(1e3*(o().currentTime-i))+"ms");for(var s=[],c=[],l=[],u=[],h=0;h<r.length;h++){var d=r[h],f=d.instrument+":"+d.name;"loaded"===d.status?s.push(f):"pending"===d.status?l.push(f):"cached"===d.status?c.push(f):u.push(f+" "+d.message)}if(l.length>0){if(e.debugCallback&&e.debugCallback("pending "+JSON.stringify(l)),a?a*=2:a=50,a<9e4)return new Promise((function(t,r){setTimeout((function(){var o=[];for(h=0;h<l.length;h++)f=l[h].split(":"),o.push({instrument:f[0],note:f[1]});e.debugCallback&&e.debugCallback("retry "+JSON.stringify(o)),e._loadBatch(o,n,i,a).then((function(e){t(e)})).catch((function(e){r(e)}))}),a)}));for(var p=[],m=0;m<t.length;m++)p.push(t[m].instrument+"/"+t[m].note);return e.debugCallback&&e.debugCallback("loadBatch timeout"),Promise.reject(new Error("timeout attempting to load: "+p.join(", ")))}return e.debugCallback&&e.debugCallback("loadBatch resolve"),Promise.resolve({loaded:s,cached:c,error:u})})).catch((function(t){e.debugCallback&&e.debugCallback("loadBatch catch "+t.message)}))},e.prime=function(){var t=e.fadeLength/1e3;return e.isRunning=!1,e.audioBufferPossible?(e.debugCallback&&e.debugCallback("prime called"),new Promise((function(n){var r=o().currentTime,a=e.millisecondsPerMeasure/1e3/e.meterSize;if(e.duration=e.flattened.totalDuration*a,e.duration<=0)return e.audioBuffers=[],n({status:"empty",seconds:0});e.duration+=t;var s=Math.floor(o().sampleRate*e.duration);e.stop();var c=i(e.flattened);e.options.swing&&function(e,t,n,r){if(!(4!=n.den&&8!=n.den||(t=parseFloat(t),isNaN(t)||t<=50))){t>75&&(t=75),t=t/50-1;var i=.25;8===n.den&&(i/=2);for(var a=i/2,o=a*t,s=0;s<e.length;s++)for(var c=e[s],l=0;l<c.length;l++){var u=c[l];if((u.start-r)%a==0&&(u.start-r)%i!=0&&(0==l||c[l-1].start<=c[l].start-a)&&(l==c.length-1||c[l+1].start>=c[l].start+a)){var h=u.start;u.start+=o,u.volume*=1,l>0&&c[l-1].end==h&&(c[l-1].end=u.start,c[l-1].volume*=1)}}}}(c,e.options.swing,e.meterFraction,e.pickupLength),e.sequenceCallback&&e.sequenceCallback(c,e.callbackContext);var l=function(e,t){if(null==t)return null;var n=[];if(t.length){for(var r=0;r<e;r++)if(r<t.length){var i=parseFloat(t[r]);i<-1?i=-1:i>1&&(i=1),n.push(i)}else n.push(0);return n}var a=parseFloat(t);if(a*(e-1)>2)return null;for(var o=e%2==0,s=o?0-a/2:0,c=s+a,l=0;l<e;l++)(o=l%2==0)?(n.push(s),s-=a):(n.push(c),c+=a);return n}(c.length,e.pan),u={};c.forEach((function(t,n){var r=l&&l.length>n?l[n]:0;t.forEach((function(t){var n=t.instrument+":"+t.pitch+":"+t.volume+":"+Math.round(1e3*(t.end-t.start))/1e3+":"+r+":"+a+":"+(t.cents?t.cents:0);e.debugCallback&&e.debugCallback("noteMapTrack "+n),u[n]||(u[n]=[]),u[n].push(t.start)}))}));for(var d=[],f=o().createBuffer(2,s,o().sampleRate),p=0;p<Object.keys(u).length;p++){var m=Object.keys(u)[p],g=m.split(":"),v=void 0!==g[6]?parseFloat(g[6]):0;g={instrument:g[0],pitch:parseInt(g[1],10),volume:parseInt(g[2],10),len:parseFloat(g[3]),pan:parseFloat(g[4]),tempoMultiplier:parseFloat(g[5]),cents:v},d.push(h(f,o().sampleRate,g,u[m],e.soundFontVolumeMultiplier,e.programOffsets[g.instrument],t,e.noteEnd/1e3,e.debugCallback))}function b(e){var t=e&&e.audioBuffers&&e.audioBuffers.length>0?e.audioBuffers[0].duration:0;return{status:o().state,duration:t}}e.audioBuffers=[f],e.debugCallback&&(e.debugCallback("sampleRate = "+o().sampleRate),e.debugCallback("totalSamples = "+s),e.debugCallback("creationTime = "+Math.floor(1e3*(o().currentTime-r))+"ms")),Promise.all(d).then((function(){"suspended"===o().state?o().resume().then((function(){n(b(e))})):"interrupted"===o().state?o().suspend().then((function(){o().resume().then((function(){n(b(e))}))})):n(b(e))}))}))):Promise.reject(new Error(f))},e.start=function(){if(!e.audioBufferPossible)throw new Error(f);e.debugCallback&&e.debugCallback("start called");var t=e.pausedTimeSec?e.pausedTimeSec:0;e._kickOffSound(t),e.startTimeSec=o().currentTime-t,e.pausedTimeSec=void 0,e.debugCallback&&e.debugCallback("MIDI STARTED",e.startTimeSec)},e.pause=function(){if(!e.audioBufferPossible)throw new Error(f);return e.debugCallback&&e.debugCallback("pause called"),e.pausedTimeSec=e.stop(),e.pausedTimeSec},e.resume=function(){e.start()},e.seek=function(t,n){var r;switch(n){case"seconds":r=t;break;case"beats":r=t*e.millisecondsPerMeasure/e.beatsPerMeasure/1e3;break;default:r=(e.duration-e.fadeLength/1e3)*t}if(!e.audioBufferPossible)throw new Error(f);e.debugCallback&&e.debugCallback("seek called sec="+r),e.isRunning?(e.stop(),e._kickOffSound(r)):e.pausedTimeSec=r,e.pausedTimeSec=r},e.stop=function(){return e.isRunning=!1,e.pausedTimeSec=void 0,e.directSource.forEach((function(e){try{e.stop()}catch(e){console.log("direct source didn't stop:",e)}})),e.directSource=[],o().currentTime-e.startTimeSec},e.finished=function(){e.startTimeSec=void 0,e.pausedTimeSec=void 0,e.isRunning=!1},e.download=function(){return u(e)},e.getAudioBuffer=function(){return e.audioBuffers[0]},e.getIsRunning=function(){return e.isRunning},e._deviceCapable=function(){return!!s()||(console.warn(f),e.debugCallback&&e.debugCallback(f),!1)},e._kickOffSound=function(t){e.isRunning=!0,e.directSource=[],e.audioBuffers.forEach((function(t,n){e.directSource[n]=o().createBufferSource(),e.directSource[n].buffer=t,e.directSource[n].connect(o().destination)})),e.directSource.forEach((function(e){e.start(0,t)})),e.onEnded&&(e.directSource[0].onended=function(){e.onEnded(e.callbackContext)})}}},4177:e=>{e.exports=function(e){return window.URL.createObjectURL(function(e){var t,n,r=e[0],i=r.numberOfChannels,a=r.length*i*2+44,o=new ArrayBuffer(a),s=new DataView(o),c=[],l=0,u=0;for(d(1179011410),d(a-8),d(1163280727),d(544501094),d(16),h(1),h(i),d(r.sampleRate),d(2*r.sampleRate*i),h(2*i),h(16),d(1635017060),d(a-u-4),t=0;t<i;t++)c.push(r.getChannelData(t));for(;u<a;){for(t=0;t<c.length;t++)n=0|(.5+(n=Math.max(-1,Math.min(1,c[t][l])))<0?32768*n:32767*n),s.setInt16(u,n,!0),u+=2;l++}return new Blob([o],{type:"audio/wav"});function h(e){s.setUint16(u,e,!0),u+=2}function d(e){s.setUint32(u,e,!0),u+=4}}(e.audioBuffers))}},59679:(e,t,n)=>{var r=n(63866),i=n(91098);e.exports=function(e,t){var n={};if(t)for(var a in t)t.hasOwnProperty(a)&&(n[a]=t[a]);function o(e,t,r){var a=i(t,n);switch(n.midiOutputType){case"encoded":return a;case"binary":var o=a.replace("data:audio/midi,","");o=(o=o.replace(/MThd/g,"%4d%54%68%64")).replace(/MTrk/g,"%4d%54%72%6b");for(var s=new ArrayBuffer(o.length/3),c=new Uint8Array(s),l=0;l<o.length/3;l++){var u=3*l+1,h=parseInt(o.substring(u,u+2),16);c[l]=h}return c;default:return function(e,t,n,r){var i=["abcjs-download-midi","abcjs-midi-"+r];t.downloadClass&&i.push(t.downloadClass);var a='<div class="'+i.join(" ")+'">';t.preTextDownload&&(a+=t.preTextDownload);var o,s,c=e.metaText&&e.metaText.title?e.metaText.title:"Untitled";return o=t.downloadLabel&&(s=t.downloadLabel)&&"[object Function]"==={}.toString.call(s)?t.downloadLabel(e,r):t.downloadLabel?t.downloadLabel.replace(/%T/,c):'Download MIDI for "'+c+'"',c=c.toLowerCase().replace(/'/g,"").replace(/\W/g,"_").replace(/__/g,"_"),a+='<a download="'+(t.fileName?t.fileName:c+".midi")+'" href="'+n+'">'+o+"</a>",t.postTextDownload&&(a+=t.postTextDownload),a+"</div>"}(t,n,a,r)}}return n.generateInline=!1,"string"==typeof e?r.renderEngine(o,"*",e,n):o(0,e,0)}},19983:e=>{e.exports='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="abcjs-loading-svg">\n    <circle cx="50" cy="50" fill="none" stroke-width="20" r="35" stroke-dasharray="160 55"></circle>\n</svg>\n'},81213:e=>{e.exports='\n<svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 700" preserveAspectRatio="xMidYMid meet">\n\t<g transform="translate(0,700) scale(0.1,-0.1)" >\n\t<path d="M3111 6981 c-20 -37 -90 -55 -364 -96 -120 -18 -190 -33 -244 -55\n\t-42 -17 -124 -42 -182 -56 -78 -18 -119 -34 -157 -60 -28 -19 -86 -46 -128\n\t-60 -43 -13 -107 -42 -144 -64 -37 -23 -84 -46 -106 -52 -21 -7 -56 -29 -79\n\t-50 -22 -22 -61 -50 -86 -63 -26 -13 -67 -40 -91 -60 -24 -20 -65 -47 -90 -60\n\t-25 -13 -53 -31 -61 -41 -8 -9 -32 -30 -54 -46 -75 -54 -486 -460 -512 -507\n\t-15 -25 -48 -69 -75 -98 -26 -28 -48 -57 -48 -63 0 -6 -18 -29 -39 -53 -21\n\t-23 -56 -71 -77 -107 -20 -36 -50 -80 -65 -97 -16 -18 -33 -52 -40 -75 -12\n\t-47 -47 -115 -84 -166 -13 -18 -30 -56 -38 -83 -8 -27 -34 -80 -56 -118 -33\n\t-53 -46 -91 -62 -167 -12 -63 -34 -127 -59 -179 -42 -84 -60 -166 -60 -270 0\n\t-90 26 -122 125 -154 54 -17 96 -19 430 -20 305 -1 381 2 430 14 82 22 140 51\n\t153 78 6 12 22 47 37 77 14 30 38 77 54 103 15 27 34 73 40 103 7 30 28 78 48\n\t107 19 28 44 74 55 101 10 28 34 67 53 87 18 20 49 61 68 90 19 30 44 63 57\n\t74 13 11 36 40 52 65 59 94 232 270 306 313 20 11 57 37 82 58 25 20 70 52\n\t100 72 30 19 66 47 79 61 13 14 49 35 80 46 30 12 80 37 111 56 31 19 95 45\n\t143 58 48 12 110 37 139 55 63 40 127 55 323 76 83 9 208 28 279 41 156 29\n\t165 29 330 4 453 -71 514 -84 606 -130 31 -16 83 -36 116 -45 32 -9 84 -34\n\t115 -56 31 -21 82 -48 113 -60 32 -11 72 -33 89 -48 18 -16 59 -45 92 -65 33\n\t-21 74 -51 90 -66 17 -15 49 -40 73 -54 52 -32 65 -61 50 -113 -8 -31 -61 -90\n\t-277 -308 -300 -303 -361 -382 -369 -481 -2 -29 0 -66 6 -81 13 -40 88 -138\n\t115 -151 12 -6 54 -26 92 -44 l70 -33 945 -2 c520 -1 975 2 1012 7 64 8 191\n\t50 231 76 11 7 33 34 50 60 22 34 42 51 65 58 l32 9 0 1101 0 1102 -32 9 c-21\n\t7 -44 26 -64 55 -60 84 -77 97 -140 110 -44 9 -76 10 -127 2 -59 -9 -77 -17\n\t-134 -62 -37 -28 -172 -155 -301 -281 -129 -127 -249 -237 -267 -245 -25 -10\n\t-41 -11 -71 -2 -58 15 -112 45 -124 69 -6 11 -35 35 -64 54 -28 18 -58 41 -66\n\t50 -8 9 -41 35 -75 58 -33 22 -77 56 -99 75 -21 18 -64 46 -95 61 -31 14 -73\n\t39 -93 55 -20 15 -70 40 -110 55 -40 15 -97 44 -127 64 -29 21 -78 44 -107 53\n\t-30 8 -77 31 -105 51 -42 28 -73 39 -173 60 -68 14 -154 39 -196 58 -95 43\n\t-131 51 -343 76 -209 24 -242 32 -279 70 l-30 29 -328 0 c-312 0 -330 -1 -339\n\t-19z"></path>\n\t<path d="M254 2875 c-89 -16 -107 -26 -145 -78 -32 -44 -62 -66 -91 -67 -17 0\n\t-18 -61 -18 -1140 l0 -1140 24 0 c16 0 41 -17 72 -50 40 -42 61 -55 117 -72\n\tl69 -21 82 23 c44 12 96 30 114 39 18 9 148 132 290 272 141 141 267 261 279\n\t268 51 26 86 14 176 -61 32 -26 62 -48 66 -48 5 0 36 -25 70 -55 34 -30 74\n\t-61 89 -69 15 -8 37 -28 50 -45 12 -17 50 -45 84 -62 34 -17 78 -44 98 -60 19\n\t-16 61 -37 93 -48 32 -11 81 -37 107 -56 27 -20 76 -45 109 -56 33 -12 75 -31\n\t93 -44 62 -45 93 -58 191 -82 54 -12 130 -37 168 -54 68 -29 180 -58 226 -59\n\t62 0 183 -64 183 -96 0 -12 88 -14 639 -14 l639 0 12 30 c18 44 76 66 233 89\n\t89 14 160 30 200 47 34 15 106 42 159 60 54 18 112 44 130 57 47 35 85 52 146\n\t67 29 7 76 28 105 48 29 20 77 48 107 63 30 15 66 39 80 54 14 15 50 40 81 56\n\t31 15 78 46 104 69 26 22 61 46 79 54 17 7 43 26 56 42 14 16 41 41 60 56 64\n\t48 380 362 408 405 15 23 40 51 55 63 15 12 36 38 46 58 11 21 37 57 58 82 22\n\t25 49 62 62 83 13 20 38 56 57 78 19 23 50 74 69 113 19 39 46 86 59 104 14\n\t18 34 62 46 98 12 36 32 77 45 92 31 38 60 97 80 167 9 33 26 76 37 95 29 50\n\t47 103 68 206 10 52 32 117 51 155 29 56 33 74 34 140 0 94 -10 108 -101 138\n\t-61 20 -83 21 -463 21 -226 0 -421 -4 -451 -10 -63 -12 -86 -30 -110 -85 -10\n\t-22 -33 -63 -52 -92 -21 -31 -42 -80 -53 -123 -11 -44 -32 -93 -56 -128 -20\n\t-32 -47 -83 -59 -115 -12 -32 -37 -77 -56 -100 -19 -23 -50 -65 -69 -94 -19\n\t-29 -44 -57 -54 -63 -11 -5 -29 -27 -42 -47 -52 -85 -234 -277 -300 -315 -25\n\t-15 -53 -38 -62 -51 -9 -14 -42 -39 -74 -57 -32 -18 -75 -48 -95 -66 -21 -18\n\t-59 -44 -85 -58 -26 -13 -72 -40 -100 -59 -35 -24 -78 -41 -128 -52 -47 -11\n\t-99 -31 -139 -56 -69 -42 -94 -49 -391 -110 -245 -51 -425 -66 -595 -50 -168\n\t16 -230 27 -330 61 -47 16 -123 35 -170 44 -98 17 -123 25 -172 58 -20 14 -71\n\t37 -114 53 -44 15 -95 40 -115 56 -20 16 -70 42 -110 59 -40 16 -88 45 -108\n\t63 -20 19 -55 46 -78 61 -24 14 -49 35 -55 47 -7 11 -34 33 -60 49 -50 31 -65\n\t61 -53 102 4 13 130 147 281 298 236 238 277 283 299 335 15 32 35 71 46 86\n\t12 18 19 44 19 76 0 42 -8 63 -53 138 -92 151 11 139 -1207 141 -798 2 -1030\n\t0 -1086 -11z"></path>\n\t</g>\n</svg>\n'},66769:e=>{e.exports='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-pause-svg">\n  <g>\n    <rect width="8.23" height="25"/>\n    <rect width="8.23" height="25" x="17"/>\n  </g>\n</svg>\n'},83057:e=>{e.exports='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-play-svg">\n    <g>\n    <polygon points="4 0 23 12.5 4 25"/>\n    </g>\n</svg>\n'},38224:e=>{e.exports='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">\n  <g>\n    <polygon points="5 12.5 24 0 24 25"/>\n    <rect width="3" height="25" x="0" y="0"/>\n  </g>\n</svg>\n'},14524:e=>{e.exports=["acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_1","electric_piano_2","harpsichord","clavinet","celesta","glockenspiel","music_box","vibraphone","marimba","xylophone","tubular_bells","dulcimer","drawbar_organ","percussive_organ","rock_organ","church_organ","reed_organ","accordion","harmonica","tango_accordion","acoustic_guitar_nylon","acoustic_guitar_steel","electric_guitar_jazz","electric_guitar_clean","electric_guitar_muted","overdriven_guitar","distortion_guitar","guitar_harmonics","acoustic_bass","electric_bass_finger","electric_bass_pick","fretless_bass","slap_bass_1","slap_bass_2","synth_bass_1","synth_bass_2","violin","viola","cello","contrabass","tremolo_strings","pizzicato_strings","orchestral_harp","timpani","string_ensemble_1","string_ensemble_2","synth_strings_1","synth_strings_2","choir_aahs","voice_oohs","synth_choir","orchestra_hit","trumpet","trombone","tuba","muted_trumpet","french_horn","brass_section","synth_brass_1","synth_brass_2","soprano_sax","alto_sax","tenor_sax","baritone_sax","oboe","english_horn","bassoon","clarinet","piccolo","flute","recorder","pan_flute","blown_bottle","shakuhachi","whistle","ocarina","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass_lead","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","sitar","banjo","shamisen","koto","kalimba","bagpipe","fiddle","shanai","tinkle_bell","agogo","steel_drums","woodblock","taiko_drum","melodic_tom","synth_drum","reverse_cymbal","guitar_fret_noise","breath_noise","seashore","bird_tweet","telephone_ring","helicopter","applause","gunshot","percussion"]},59335:(e,t,n)=>{var r=n(12973);e.exports=function(e,t,n,i){r[t]||(r[t]={});var a=r[t];return a[n]||(a[n]=new Promise((function(r,a){var o=new XMLHttpRequest;let s=e+t+"-mp3/"+n+".mp3";o.open("GET",s,!0),o.responseType="arraybuffer",o.onload=function(){if(200===o.status){var e=i.decodeAudioData(o.response,(function(e){r({instrument:t,name:n,status:"loaded",audioBuffer:e})}),(function(){a(Error("Can't decode sound at "+s))}));e&&"function"==typeof e.catch&&e.catch(a)}else a(Error("Can't load sound at "+s+" status="+o.status))},o.onerror=function(){a(Error("Can't load sound at "+s))},o.send()})).catch((e=>{throw console.error("Didn't load note",t,n,":",e.message),e}))),a[n]}},50798:e=>{var t={__:-2,_:-1,"_/":-.5,"=":0,"":0,"^/":.5,"^":1,"^^":2},n=["C","-","D","-","E","F","-","G","-","A","-","B","c","-","d","-","e","f","-","g","-","a","-","b"];e.exports={noteToMidi:function(e){var r=e.match(/([_^\/]*)([ABCDEFGabcdefg])(,*)('*)/);if(r&&5===r.length){var i=t[r[1]];return 48+n.indexOf(r[2])+i+12*(r[4].length-r[3].length)}return 0},midiToNote:function(e){e=parseInt(e,10);var t=Math.floor(e/12),r=e%12,i=n[r];if("-"===i&&(i="^"+n[r-1]),t>4)for(i=i.toLowerCase(),t-=5;t>0;)i+="'",t--;else for(;t<4;)i+=",",t++;return i}}},70487:e=>{e.exports={21:"A0",22:"Bb0",23:"B0",24:"C1",25:"Db1",26:"D1",27:"Eb1",28:"E1",29:"F1",30:"Gb1",31:"G1",32:"Ab1",33:"A1",34:"Bb1",35:"B1",36:"C2",37:"Db2",38:"D2",39:"Eb2",40:"E2",41:"F2",42:"Gb2",43:"G2",44:"Ab2",45:"A2",46:"Bb2",47:"B2",48:"C3",49:"Db3",50:"D3",51:"Eb3",52:"E3",53:"F3",54:"Gb3",55:"G3",56:"Ab3",57:"A3",58:"Bb3",59:"B3",60:"C4",61:"Db4",62:"D4",63:"Eb4",64:"E4",65:"F4",66:"Gb4",67:"G4",68:"Ab4",69:"A4",70:"Bb4",71:"B4",72:"C5",73:"Db5",74:"D5",75:"Eb5",76:"E5",77:"F5",78:"Gb5",79:"G5",80:"Ab5",81:"A5",82:"Bb5",83:"B5",84:"C6",85:"Db6",86:"D6",87:"Eb6",88:"E6",89:"F6",90:"Gb6",91:"G6",92:"Ab6",93:"A6",94:"Bb6",95:"B6",96:"C7",97:"Db7",98:"D7",99:"Eb7",100:"E7",101:"F7",102:"Gb7",103:"G7",104:"Ab7",105:"A7",106:"Bb7",107:"B7",108:"C8",109:"Db8",110:"D8",111:"Eb8",112:"E8",113:"F8",114:"Gb8",115:"G8",116:"Ab8",117:"A8",118:"Bb8",119:"B8",120:"C9",121:"Db9"}},90823:e=>{var t={f0:"_C",n0:"=C",s0:"^C",x0:"C",f1:"_D",n1:"=D",s1:"^D",x1:"D",f2:"_E",n2:"=E",s2:"^E",x2:"E",f3:"_F",n3:"=F",s3:"^F",x3:"F",f4:"_G",n4:"=G",s4:"^G",x4:"G",f5:"_A",n5:"=A",s5:"^A",x5:"A",f6:"_B",n6:"=B",s6:"^B",x6:"B",f7:"_c",n7:"=c",s7:"^c",x7:"c",f8:"_d",n8:"=d",s8:"^d",x8:"d",f9:"_e",n9:"=e",s9:"^e",x9:"e",f10:"_f",n10:"=f",s10:"^f",x10:"f",f11:"_g",n11:"=g",s11:"^g",x11:"g",f12:"_a",n12:"=a",s12:"^a",x12:"a",f13:"_b",n13:"=b",s13:"^b",x13:"b",f14:"_c'",n14:"=c'",s14:"^c'",x14:"c'",f15:"_d'",n15:"=d'",s15:"^d'",x15:"d'",f16:"_e'",n16:"=e'",s16:"^e'",x16:"e'"};e.exports=function(e){var n=(e.accidental?e.accidental[0]:"x")+e.verticalPos;return t[n]}},26632:(e,t,n)=>{var r=n(12973),i=n(70487),a=n(3565),o=function(e,t,n){for(var r=0;r<2;r++)for(var i=t.getChannelData(r),a=e.getChannelData(r),o=0;o<i.length;o++)a[o+n]+=i[o]};e.exports=function(e,t,n,s,c,l,u,h,d){var f=window.OfflineAudioContext||window.webkitOfflineAudioContext,p=n.len*n.tempoMultiplier;l&&(p+=l/1e3),(p-=h)<0&&(p=.005);var m=new f(2,Math.floor((p+u)*t),t),g=i[n.pitch];if(!r[n.instrument])return d&&d("placeNote skipped (instrument empty): "+n.instrument+":"+g),Promise.resolve();var v=r[n.instrument][g];return v?v.then((function(r){var i=m.createBufferSource();i.buffer=r.audioBuffer;var h,f=n.volume/96*c;return i.gainNode=m.createGain(),n.pan&&m.createStereoPanner&&(i.panNode=m.createStereoPanner(),i.panNode.pan.setValueAtTime(n.pan,0)),i.gainNode.gain.value=f,i.gainNode.gain.linearRampToValueAtTime(i.gainNode.gain.value,p),i.gainNode.gain.linearRampToValueAtTime(0,p+u),n.cents&&(i.playbackRate.value=a(n.cents)),i.panNode?(i.panNode.connect(m.destination),i.gainNode.connect(i.panNode)):i.gainNode.connect(m.destination),i.connect(i.gainNode),i.start(0),i.noteOff?i.noteOff(p+u):i.stop(p+u),m.oncomplete=function(r){if(r.renderedBuffer&&r.renderedBuffer.getChannelData)for(var i=0;i<s.length;i++){var a=s[i]*n.tempoMultiplier;l&&(a-=l/1e3),a<0&&(a=0),a=Math.floor(a*t),o(e,r.renderedBuffer,a)}d&&d("placeNote: "+n.instrument+":"+g),h()},m.startRendering(),new Promise((function(e){h=e}))})).catch((function(e){return d&&d("placeNote catch: "+e.message),Promise.resolve()})):(d&&d("placeNote skipped: "+n.instrument+":"+g),Promise.resolve())}},52753:(e,t,n)=>{var r=n(24242),i=n(75337),a=n(43097);function o(e,t,n,r){var a=new i;return a.init({sequence:e,millisecondsPerMeasure:t,options:{soundFontUrl:n},debugCallback:r}).then((function(){return a.prime()})).then((function(){return a.start(),Promise.resolve()}))}e.exports=function(e,t,n,i,s){for(var c=new r,l=0;l<e.length;l++){var u=e[l],h=c.addTrack();if(c.setInstrument(h,u.instrument),0===l&&t)for(var d=0;d<t.length;d++){var f=t[d];c.appendNote(h,f.pitch,1/64,f.volume,f.cents)}c.appendNote(h,u.pitch,u.duration,u.volume,u.cents)}var p=a();return"suspended"===p.state?p.resume().then((function(){return o(c,n,i,s)})):o(c,n,i,s)}},86318:e=>{e.exports=function(e){if(e)window.abcjsAudioContext=e;else if(!window.abcjsAudioContext){var t=window.AudioContext||window.webkitAudioContext;if(!t)return!1;window.abcjsAudioContext=new t}return"suspended"!==window.abcjsAudioContext.state}},12973:e=>{e.exports={}},31193:(e,t,n)=>{var r=n(43097);e.exports=function(){if(!window.Promise)return!1;if(!(window.AudioContext||window.webkitAudioContext||navigator.mozAudioContext||navigator.msAudioContext))return!1;var e=r();return e?void 0!==e.resume:void 0}},8299:(e,t,n)=>{var r=n(59237),i=n(75337),a=n(13888),o=n(43097);e.exports=function(){var e=this;e.warp=100,e.cursorControl=null,e.visualObj=null,e.timer=null,e.midiBuffer=null,e.options=null,e.currentTempo=null,e.control=null,e.isLooping=!1,e.isStarted=!1,e.isLoaded=!1,e.isLoading=!1,e.load=function(t,n,i){i||(i={}),void 0===i.displayPlay&&(i.displayPlay=!0),void 0===i.displayProgress&&(i.displayProgress=!0),e.control=new r(t,{loopHandler:i.displayLoop?e.toggleLoop:void 0,restartHandler:i.displayRestart?e.restart:void 0,playPromiseHandler:i.displayPlay?e.play:void 0,progressHandler:i.displayProgress?e.randomAccess:void 0,warpHandler:i.displayWarp?e.onWarp:void 0,afterResume:e.init}),e.cursorControl=n,e.disable(!0)},e.disable=function(t){e.control&&e.control.disable(t)},e.setTune=function(t,n,r){return e.visualObj=t,e.disable(!1),e.options=r||{},e.control&&(e.pause(),e.setProgress(0,1),e.control.resetAll(),e.restart(),e.isStarted=!1),e.isLooping=!1,n?e.go():Promise.resolve({status:"no-audio-context"})},e.go=function(){e.isLoading=!0;var t,n=100*e.visualObj.millisecondsPerMeasure()/e.warp;return e.currentTempo=Math.round(e.visualObj.getBeatsPerMeasure()/n*6e4),e.control&&e.control.setTempo(e.currentTempo),e.percent=0,e.midiBuffer||(e.midiBuffer=new i),o().resume().then((function(t){return e.midiBuffer.init({visualObj:e.visualObj,options:e.options,millisecondsPerMeasure:n})})).then((function(n){return t=n,e.midiBuffer.prime()})).then((function(){var n=16;return e.cursorControl&&void 0!==e.cursorControl.beatSubdivisions&&parseInt(e.cursorControl.beatSubdivisions,10)>=1&&parseInt(e.cursorControl.beatSubdivisions,10)<=64&&(n=parseInt(e.cursorControl.beatSubdivisions,10)),e.timer=new a(e.visualObj,{beatCallback:e.beatCallback,eventCallback:e.eventCallback,lineEndCallback:e.lineEndCallback,qpm:e.currentTempo,extraMeasuresAtBeginning:e.cursorControl?e.cursorControl.extraMeasuresAtBeginning:void 0,lineEndAnticipation:e.cursorControl?e.cursorControl.lineEndAnticipation:0,beatSubdivisions:n}),e.cursorControl&&e.cursorControl.onReady&&"function"==typeof e.cursorControl.onReady&&e.cursorControl.onReady(e),e.isLoaded=!0,e.isLoading=!1,Promise.resolve({status:"created",notesStatus:t})}))},e.destroy=function(){e.timer&&(e.timer.reset(),e.timer.stop(),e.timer=null),e.midiBuffer&&(e.midiBuffer.stop(),e.midiBuffer=null),e.setProgress(0,1),e.control&&e.control.resetAll()},e.play=function(){return e.runWhenReady(e._play,void 0)},e.runWhenReady=function(t,n){return e.visualObj?e.isLoading?(500,new Promise((function(e){setTimeout(e,500)}))).then((function(){return e.isLoading?e.runWhenReady(t,n):t(n)})):e.isLoaded?t(n):e.go().then((function(){return t(n)})):Promise.resolve({status:"loading"})},e._play=function(){return o().resume().then((function(){return e.isStarted=!e.isStarted,e.isStarted?(e.cursorControl&&e.cursorControl.onStart&&"function"==typeof e.cursorControl.onStart&&e.cursorControl.onStart(),e.midiBuffer.start(),e.timer.start(e.percent),e.control&&e.control.pushPlay(!0)):e.pause(),Promise.resolve({status:"ok"})}))},e.pause=function(){e.timer&&(e.timer.pause(),e.midiBuffer.pause(),e.control&&e.control.pushPlay(!1))},e.toggleLoop=function(){e.isLooping=!e.isLooping,e.control&&e.control.pushLoop(e.isLooping)},e.restart=function(){e.timer&&(e.timer.setProgress(0),e.midiBuffer.seek(0))},e.randomAccess=function(t){return e.runWhenReady(e._randomAccess,t)},e._randomAccess=function(t){var n=t.target.classList.contains("abcjs-midi-progress-indicator")?t.target.parentNode:t.target,r=(t.x-n.getBoundingClientRect().left)/n.offsetWidth;return r<0&&(r=0),r>1&&(r=1),e.seek(r),Promise.resolve({status:"ok"})},e.seek=function(t,n){e.timer&&e.midiBuffer&&(e.timer.setProgress(t,n),e.midiBuffer.seek(t,n))},e.setWarp=function(t){if(parseInt(t,10)>0){e.warp=parseInt(t,10);var n=e.isStarted,r=e.percent;return e.destroy(),e.isStarted=!1,e.go().then((function(){return e.setProgress(r,1e3*e.midiBuffer.duration),e.control&&e.control.setWarp(e.currentTempo,e.warp),n?e.play().then((function(){return e.seek(r),Promise.resolve()})):(e.seek(r),Promise.resolve())}))}return Promise.resolve()},e.onWarp=function(t){var n=t.target.value;return e.setWarp(n)},e.setProgress=function(t,n){e.percent=t,e.control&&e.control.setProgress(t,n)},e.finished=function(){if(e.timer.reset(),e.isLooping)return e.timer.start(0),e.midiBuffer.finished(),e.midiBuffer.start(),"continue";e.timer.stop(),e.isStarted&&(e.control&&e.control.pushPlay(!1),e.isStarted=!1,e.midiBuffer.finished(),e.cursorControl&&e.cursorControl.onFinished&&"function"==typeof e.cursorControl.onFinished&&e.cursorControl.onFinished(),e.setProgress(0,1))},e.beatCallback=function(t,n,r,i){var a=t/n;e.setProgress(a,r),e.cursorControl&&e.cursorControl.onBeat&&"function"==typeof e.cursorControl.onBeat&&e.cursorControl.onBeat(t,n,r,i)},e.eventCallback=function(t){if(!t)return e.finished();e.cursorControl&&e.cursorControl.onEvent&&"function"==typeof e.cursorControl.onEvent&&e.cursorControl.onEvent(t)},e.lineEndCallback=function(t,n){e.cursorControl&&e.cursorControl.onLineEnd&&"function"==typeof e.cursorControl.onLineEnd&&e.cursorControl.onLineEnd(t,n)},e.getUrl=function(){return e.midiBuffer.download()},e.download=function(t){var n=e.getUrl(),r=document.createElement("a");document.body.appendChild(r),r.setAttribute("style","display: none;"),r.href=n,r.download=t||"output.wav",r.click(),window.URL.revokeObjectURL(n),document.body.removeChild(r)}}},24242:e=>{e.exports=function(){var e=this;e.tracks=[],e.totalDuration=0,e.currentInstrument=[],e.starts=[],e.addTrack=function(){return e.tracks.push([]),e.currentInstrument.push(0),e.starts.push(0),e.tracks.length-1},e.setInstrument=function(t,n){e.tracks[t].push({channel:0,cmd:"program",instrument:n}),e.currentInstrument[t]=n},e.appendNote=function(t,n,r,i,a){var o={cmd:"note",duration:r,gap:0,instrument:e.currentInstrument[t],pitch:n,start:e.starts[t],volume:i};a&&(o.cents=a),e.tracks[t].push(o),e.starts[t]+=r,e.totalDuration=Math.max(e.totalDuration,e.starts[t])}}},98827:(e,t,n)=>{var r=n(67165),i={violin:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},fiddle:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},mandolin:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},guitar:{name:"StringTab",defaultTuning:["E,","A,","D","G","B","e"],isTabBig:!0,tabSymbolOffset:0},fiveString:{name:"StringTab",defaultTuning:["C,","G,","D","A","e"],isTabBig:!1,tabSymbolOffset:-.95}},a={inited:!1,plugins:{},register:function(e){var t=e.name,n=e.tablature;this.plugins[t]=n},setError:function(e,t){e.warnings?e.warning.push(t):e.warnings=[t]},preparePlugins:function(e,t,n){this.inited||(this.register(new r),this.inited=!0);var a=null;if(n.tablature){var o=n.tablature;a=[];for(var s=0;s<o.length;s++){var c=o[s],l=c.instrument;if(null==l)return this.setError(e,"tablature 'instrument' is missing"),a;var u=i[l],h=null;if(u&&(h=this.plugins[u.name]),h){0!=n.visualTranspose&&(c.visualTranspose=n.visualTranspose),c.abcSrc=n.tablature.abcSrc;var d={classz:h,tuneNumber:t,params:c,instance:null,tabType:u};a.push(d)}else{if(""!==l)return this.setError(e,"Undefined tablature plugin: "+l),a;a.push(null)}}}return a},layoutTablatures:function(e,t){var n=t.tablatures,r=0;if(n&&n.length>0)for(var i=n.length,a=0;a<i;++a)n[a]&&n[a].params.firstStaffOnly&&(n[a].params.suppress=!1);for(var o=0;o<t.lines.length;o++){var s=t.lines[o];if(s.staff&&r++,r>1&&n&&n.length>0)for(i=n.length,a=0;a<i;++a)n[a].params.firstStaffOnly&&(n[a].params.suppress=!0);var c=s.staff;if(c)for(var l=c.length,u=0;u<c.length;u++)if(n[u]&&u<l){var h=n[u];null==h.instance&&(h.instance=new h.classz,h.instance.init(t,h.tuneNumber,h.params,h.tabType)),h.instance.render(e,s,u)}}}};e.exports=a},48439:(e,t,n)=>{const{noteToMidi:r}=n(50798);var i=n(59652),a=n(39947);function o(e,t,n,r,i){var a=e.strings;t.checkKeyAccidentals(e.accidentals,e.measureAccidentals),r&&(a=r);var o=t.emitNoAccidentals(),s=a[n].indexOf(o),c=t.acc;if(-1!=s){if(r&&(s+=i),(t.isFlat||-1==t.acc)&&0==s){var l=t.getAccidentalEquiv();s=a[++n].indexOf(l.emit()),c=0}return{num:s+c,str:n,note:t}}return null}function s(e,t){var n;(t.isAltered||t.natural)&&(t.isFlat?n=t.isDouble?"__":"_":t.isSharp?n=t.isDouble?"^^":"^":t.natural&&(n="="),e.measureAccidentals[t.name.toUpperCase()]=n);for(var r=e.stringPitches.length-1;r>=0;r--)if(t.pitch+t.pitchAltered>=e.stringPitches[r]){var i=t.pitch+t.pitchAltered-e.stringPitches[r];return"^"===t.quarter?i-=.5:"v"===t.quarter&&(i+=.5),{num:Math.round(i),str:e.stringPitches.length-1-r,note:t}}return{num:"?",str:e.stringPitches.length-1,note:t}}function c(e,t){var n={num:"?",str:0,note:t};e.push(n),e.error=t.emit()+": unexpected note for instrument"}function l(e){var t=e.tuning,n=e.capo,o=e.params.highestNote;this.linePitch=e.linePitch,this.highestNote="a'",o&&(this.highestNote=o),this.measureAccidentals={},this.capo=0,n&&(this.capo=parseInt(n,10)),this.transpose=e.transpose?e.transpose:0,this.tuning=t,this.stringPitches=[];for(var s=0;s<this.tuning.length;s++){var c=r(this.tuning[s])+this.capo;this.stringPitches.push(c)}if(this.capo>0&&(this.capoTuning=function(e){var t=null,n=e.tuning;if(e.capo>0){t=[];for(var r=0;r<n.length;r++){for(var a=new i(n[r]),o=0;o<e.capo;o++)a=a.nextNote();t[r]=a.emit()}}return t}(this)),this.strings=function(e){var t=[],n=e.tuning;e.capo>0&&(n=e.capoTuning);for(var r=n.length-1,i=0;i<n.length;i++){var o=e.highestNote;i!=n.length-1&&(o=n[i+1]);var s=a(n[i],o);if(s.error)return s;t[r--]=s}return t}(this),this.strings.error)return e.setError(this.strings.error),void(e.inError=!0);this.secondPos=function(e){var t=[];t[0]=[];for(var n=e.strings,r=1;r<n.length;r++)t[r]=n[r-1];return t}(this)}l.prototype.stringToPitch=function(e){return 5.3+(this.strings.length-1-e)*this.linePitch},l.prototype.notesToNumber=function(e,t){var n,r,a=null,l=null;if(e&&(l=[],e.length>1?(l=function(e,t){for(var n=[],r=0;r<t.length;r++)if(!t[r].endTie){var a=new i(t[r].name,e.clefTranspose);a.checkKeyAccidentals(e.accidentals,e.measureAccidentals);var c=s(e,a);n.push(c)}return function(e,t){for(var n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];if(r.str==i.str){if(r.str==e.strings.length-1)return r.num="?",void(i.num="?");i.num<r.num?(i.str++,i=o(e,i.note,i.str,e.secondPos,e.strings[i.str].length)):(r.str++,r=o(e,r.note,r.str,e.secondPos,e.strings[r.str].length)),t[n]=r,t[n+1]=i}}}(e,n),n}(this,e)).error&&(a=l.error):e[0].endTie||((n=new i(e[0].name,this.clefTranspose)).checkKeyAccidentals(this.accidentals,this.measureAccidentals),(r=s(this,n))?l.push(r):(c(l,n),a=l.error))),a)return l;var u=null;if(t){u=[];for(var h=0;h<t.length;h++)(n=new i(t[h].name,this.clefTranspose)).checkKeyAccidentals(this.accidentals,this.measureAccidentals),(r=s(this,n))?u.push(r):(c(u,n),a=l.error)}return{notes:l,graces:u,error:a}},l.prototype.toString=function(){for(var e=[],t=0;t<this.tuning.length;t++){var n=this.tuning[t].replaceAll(",","").replaceAll("'","").toUpperCase();"_"===n[0]?n=n[1]+"b ":"^"===n[0]&&(n=n[1]+"# "),e.push(n)}return e.join("")},l.prototype.tabInfos=function(e){var t=e.params.label;if(t){var n="";return-1!=t.indexOf("%T")&&(n=this.toString(),e.capo>0&&(n+=" capo:"+e.capo),t=t.replace("%T",n)),t}return""},l.prototype.suppress=function(e){return!!e.params.suppress},e.exports=l},57648:e=>{function t(e,t){this.numLines=e,this.lineSpace=t,this.verticalSize=this.numLines*this.lineSpace,this.bar={pitch:3,pitch2:t*e,height:5}}t.prototype.bypass=function(e){var t=e.staffGroup.voices;return!!(t.length>0&&t[0].isPercussion)},t.prototype.setRelative=function(e,t,n){switch(e.type){case"bar":t.pitch=this.bar.pitch,t.pitch2=this.bar.pitch2,t.height=this.height;break;case"symbol":var r=this.bar.pitch2/2;if("dots.dot"==e.name)return n?(t.pitch=r,!1):(t.pitch=r+this.lineSpace,!0)}return n},e.exports=t},59652:(e,t,n)=>{var{noteToMidi:r,midiToNote:i}=n(50798);function a(e,t){var n=r(e);t&&(n+=t);var a,o=i(n),s=!1,c=!1,l=null,u=null,h=!1,d=0;e.startsWith("_")?(s=!0,d=-1,"/"==e[1]?(s=!1,u="v",d=0):"_"==e[1]&&(h=!0,d-=1)):e.startsWith("^")?(c=!0,d=1,"/"==e[1]?(c=!1,u="^",d=0):"^"==e[1]&&(h=!0,d+=1)):e.startsWith("=")&&(l=!0,d=0),((a=s||c||null!=u)||l)&&(o=null!=u||h?e.slice(2):e.slice(1));var f=(o.match(/,/g)||[]).length,p=(o.match(/'/g)||[]).length;this.pitch=n,this.pitchAltered=0,this.name=o,this.acc=d,this.isSharp=c,this.isKeySharp=!1,this.isDouble=h,this.isAltered=a,this.isFlat=s,this.isKeyFlat=!1,this.natural=l,this.quarter=u,this.isLower=this.name==this.name.toLowerCase(),this.name=this.name[0].toUpperCase(),this.hasComma=f,this.isQuoted=p}a.prototype.sameNoteAs=function(e){return e.pitch===this.pitch},a.prototype.isLowerThan=function(e){return e.pitch>this.pitch},a.prototype.checkKeyAccidentals=function(e,t){if(!this.isAltered&&!this.natural)if(t[this.name.toUpperCase()])switch(t[this.name.toUpperCase()]){case"__":return this.acc=-2,void(this.pitchAltered=-2);case"_":return this.acc=-1,void(this.pitchAltered=-1);case"=":return this.acc=0,void(this.pitchAltered=0);case"^":return this.acc=1,void(this.pitchAltered=1);case"^^":return this.acc=2,void(this.pitchAltered=2)}else if(e)for(var n=this.name,r=0;r<e.length;r++){var i=e[r];n==i.note.toUpperCase()&&("flat"==i.acc&&(this.acc=-1,this.isKeyFlat=!0,this.pitchAltered=-1),"sharp"==i.acc&&(this.acc=1,this.isKeySharp=!0,this.pitchAltered=1))}},a.prototype.getAccidentalEquiv=function(){var e=function(e){var t=new a(e.name);return t.pitch=e.pitch,t.hasComma=e.hasComma,t.isLower=e.isLower,t.isQuoted=e.isQuoted,t.isSharp=e.isSharp,t.isKeySharp=e.isKeySharp,t.isFlat=e.isFlat,t.isKeyFlat=e.isKeyFlat,t}(this);return e.isSharp||e.isKeySharp?((e=e.nextNote()).isFlat=!0,e.isSharp=!1,e.isKeySharp=!1):(e.isFlat||e.isKeyFlat)&&((e=e.prevNote()).isSharp=!0,e.isFlat=!1,e.isKeyFlat=!1),e},a.prototype.nextNote=function(){return new a(i(this.pitch+1+this.pitchAltered))},a.prototype.prevNote=function(){return new a(i(this.pitch-1+this.pitchAltered))},a.prototype.emitNoAccidentals=function(){var e=this.name;this.isLower&&(e=e.toLowerCase());for(var t=0;t<this.isQuoted;t++)e+="'";for(var n=0;n<this.hasComma;n++)e+=",";return e},a.prototype.emit=function(){var e=this.name;(this.isSharp||this.isKeySharp)&&(e="^"+e,this.isDouble&&(e="^"+e)),(this.isFlat||this.isKeyFlat)&&(e="_"+e,this.isDouble&&(e="_"+e)),this.quarter&&(e="^"==this.quarter?"^/"+e:"_/"+e),this.natural&&(e="="+e);for(var t=1;t<=this.hasComma;t++)e+=",";if(this.isLower){e=e.toLowerCase();for(var n=1;n<=this.isQuoted;n++)e+="'"}return e},e.exports=a},39947:(e,t,n)=>{var r=n(59652),i=["A","B","C","D","E","F","G"];e.exports=function(e,t){var n=new r(e),a=new r(t);if(a.isLowerThan(n)){var o=n.emit();return{error:"Invalid string Instrument tuning : "+a.emit()+" string lower than "+o+" string"}}var s=[],c=i.indexOf(n.name),l=i.indexOf(a.name);if(-1==c||-1==l)return s;for(var u=!1;!u;)s.push(n.emit()),(n=n.nextNote()).sameNoteAs(a)&&(u=!0);return s}},67165:(e,t,n)=>{var r=n(57648),i=n(28285),a=n(48439);function o(){}o.prototype.init=function(e,t,n,i){this.tune=e,this.params=n,this.tuneNumber=t,this.inError=!1,this.abcTune=e,this.linePitch=3,this.nbLines=i.defaultTuning.length,this.isTabBig=i.isTabBig,this.tabSymbolOffset=i.tabSymbolOffset,this.capo=n.capo,this.transpose=n.visualTranspose,this.hideTabSymbol=n.hideTabSymbol,this.tablature=new r(this.nbLines,this.linePitch);var o=n.tuning;o||(o=i.defaultTuning),this.tuning=o,this.semantics=new a(this)},o.prototype.setError=function(e){e&&(this.error=e,this.inError=!0,this.tune.warnings?this.tune.warnings.push(e):this.tune.warnings=[e])},o.prototype.render=function(e,t,n){this.inError||this.tablature.bypass(t)||i(this,e,t,n)},e.exports=function(){return{name:"StringTab",tablature:o}}},34153:(e,t,n)=>{var r=n(2233),i=n(99032);function a(e,t){for(var n in t)t.hasOwnProperty(n)&&(Array.isArray(t[n])||null!=(r=t[n])&&r.constructor===Object||(e[n]=t[n]));var r}function o(e){var t=new r("",0,0,"",0);return a(t,e),t.top=0,t.bottom=-1,e.abcelem&&(t.abcelem={},a(t.abcelem,e.abcelem),"note"===t.abcelem.el_type&&(t.abcelem.el_type="tabNumber")),e.cloned=t,t}function s(e,t){var n=o(e);if(t)for(var r=e.children,s=!0,c=0;c<r.length;c++){var l=r[c],u=new i("",0,0,0,"");a(u,l),s=t.tablature.setRelative(l,u,s),n.children.push(u)}return n}function c(e,t,n){var a="tab.tiny",o=7.5;e.isTabBig&&(a="tab.big",o=10);var s={el_type:"tab",icon:a,Ypos:o};if(o+=e.tabSymbolOffset,!e.hideTabSymbol){var c=new r(s,0,0,"symbol",0);c.x=t;var l=new i(a,0,0,7.5,"tab");l.x=n,c.children.push(l),"tab"==c.abcelem.el_type&&(l.pitch=o)}return c}function l(e){if(e.extra)for(var t=0;t<e.extra.length;t++){var n=e.extra[t];if("lyric"==n.type)return{bottom:n.bottom,height:n.height}}return null}function u(){this.accidentals=null}function h(e,t,n,r,a){var o=r.num;null!=r.note.quarter&&(o=o.toString(),o+=r.note.quarter);var s=e.semantics.stringToPitch(r.str);n.notes.push({num:o,str:r.str,pitch:r.note.emit()});var c=new i(o,0,0,s+.3,{type:"tabNumber"});return c.x=t,c.isGrace=a,c.isAltered=r.note.isAltered,c}function d(e,t){var n=0;if(e.extra)for(var r=0;r<e.extra.length;r++)if(e.extra[r].c.indexOf("noteheads")>=0){if(n===t)return e.extra[r].x+e.extra[r].w/2;n++}return-1}function f(e){if(e.abcelem){var t=e.abcelem;if(t.rest)return t.gracenotes}return null}function p(e,t,n){var r=e.semantics.notesToNumber(t,n);if(r.error)return e.setError(r.error),r;if(r.graces&&r.notes){var i=r.notes.length-1;r.notes[i].graces=r.graces}return r}function m(e,t,n,r,i){for(var a=0;a<r.length;a++){var o={el_type:"note",startChar:n.abcelem.startChar,endChar:n.abcelem.endChar,notes:[],grace:!0},s=h(e,d(n,a),o,r[a],!0);t.children.push(s),i.push(o)}}u.prototype.build=function(e,t,n,r,i,a,u){!function(e){for(var t=0;t<e.length;t++)e[t].tabNameInfos||0}(t);var g=t[i+r],v=t[u],b=null,_=null;"clef"!=g.children[0].abcelem.el_type&&"none"!=a&&g.children.splice(0,0,a);for(var y=0;y<g.children.length;y++){var w=g.children[y],S=w.x,k=S;switch(w.isClef&&(v.children.push(c(e,S,k)),w.abcelem.type.indexOf("-8")>=0&&(e.semantics.clefTranspose=-12),w.abcelem.type.indexOf("+8")>=0&&(e.semantics.clefTranspose=12)),w.type){case"staff-extra key-signature":this.accidentals=w.abcelem.accidentals,e.semantics.accidentals=this.accidentals;break;case"bar":e.semantics.measureAccidentals={};var x=!1;y===g.children.length-1&&(x=!0);var M=s(w,e);if(M.abcelem.barNumber){delete M.abcelem.barNumber;for(var E=0;E<M.children.length;E++)if("barNumber"===M.children[E].type){M.children.splice(E,1);break}}M.abcelem.lastBar=x,v.children.push(M),n.push({el_type:w.abcelem.el_type,type:w.abcelem.type,endChar:w.abcelem.endChar,startChar:w.abcelem.startChar,abselem:M});break;case"rest":var T=f(w);if(T){if((b=p(e,null,T)).error)return;N={el_type:"note",startChar:w.abcelem.startChar,endChar:w.abcelem.endChar,notes:[],grace:!0},m(e,C,w,b.graces,n)}break;case"note":var C=o(w);C.x=w.heads[0].x+w.heads[0].w/2,C.lyricDim=l(w);var A=w.abcelem.pitches,O=w.abcelem.gracenotes;if(C.type="tabNumber",(b=p(e,A,O)).error)return;if(b.graces){var P=b.notes.length-1;b.notes[P].graces=b.graces}_={el_type:"note",startChar:w.abcelem.startChar,endChar:w.abcelem.endChar,notes:[]};for(var I=0;I<b.notes.length;I++){var R=b.notes[I];if(R.graces)for(var B=0;B<R.graces.length;B++){var N={el_type:"note",startChar:w.abcelem.startChar,endChar:w.abcelem.endChar,notes:[],grace:!0},L=h(e,d(w,B),N,R.graces[B],!0);C.children.push(L),n.push(N)}var D=h(e,C.x+w.heads[I].dx,_,R,!1);C.children.push(D)}_.notes.length>0&&(_.abselem=C,n.push(_),v.children.push(C))}}},e.exports=u},28285:(e,t,n)=>{var r=n(97802),i=n(34153),a=n(91786);function o(e,t,n){var r=e.semantics,i=t.controller.getTextSize,a=r.tabInfos(e),o=!0;if(r.suppress(e)&&(o=!1),o){var s=i.calc(a,"tablabelfont","text instrumentname");return n.tabNameInfos={textSize:{height:s.height,width:s.width},name:a},s.height}return 0}function s(e,t){return!(!t[e].isTabStaff||e!==t.length-1&&t[e+1].isTabStaff)}function c(e,t){for(var n=t;n>=0;n--)if(!e[n].isTabStaff)return n;return-1}function l(e,t){return"clef"===e[t].children[0].abcelem.el_type?null:0==t?"none":e[t-1].children[0]}e.exports=function(e,t,n,u){var h=new i,d={clef:{type:"TAB"}},f=e.linePitch*e.nbLines,p=n.staff;if(p){var m=p[0];if(m&&m.clef&&0==m.clef.stafflines)return void e.setError("No tablatures when stafflines=0");p.splice(p.length,0,d)}var g=n.staffGroup,v=g.voices,b=function(e){for(var t=0,n=0;n<e.children.length;n++){var r=e.children[n];r.specialY&&r.specialY.lyricHeightBelow>t&&(t=r.specialY.lyricHeightBelow)}return t}(v[0]),_=u,y=g.staffs[_],w=f+3-y.bottom-b;y.isTabStaff&&(w=y.top);var S={bottom:-1,isTabStaff:!0,specialY:{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0},lines:e.nbLines,linePitch:e.linePitch,dy:.15,top:w},k=function(e,t){for(var n=0,r=0,i=0;;){if(!t[n])return-1;if(t[n].isTabStaff||(i=t[n].voices.length),t[n].isTabStaff){if(r++,s(n,t)&&r<i)return n+1}else if(r=0,n>=e){if(n+1==t.length)return n+1;if(!t[n+1].isTabStaff)return n+1}if(++n>t.length)return-1}}(u,g.staffs);if(-1!==k){S.parentIndex=k-1,g.staffs.splice(k,0,S),g.height+=f+3;var x=function(e,t){for(var n=t;n>=0;n--)if(!e[n].isTabStaff)return e[n];return null}(g.staffs,k),M=1;(function(e,t){return 1===function(e){for(var t=0,n=0;n<e.length;n++)e[n].isTabStaff||t++;return t}(e)&&t.voices.length>1})(g.staffs,x)&&(M=x.voices.length),d.voices=[];for(var E=0;E<M;E++){var T=new r(0,0);E>0&&(T.duplicate=!0);var C=o(e,t,T)/a.STEP;C=Math.max(C,1),g.staffs[u].top+=1,g.height+=C,T.staff=S;var A=v.length;v.splice(v.length,0,T);var O=l(v,E+u);d.voices[E]=[],h.build(e,v,d.voices[E],E,u,O,A)}!function(e){for(var t=0;t<e.length;t++)if(e[t].isTabStaff){var n=c(e,t);e[t].hasStaff=e[n],e[n].hasTab||(e[n].hasTab=[]),e[n].hasTab.push(e[t])}}(g.staffs)}}},81384:(e,t,n)=>{var r=n(2233),i=n(12091),a=n(23019),o=n(38520),s=n(25802),c=n(1943),l=n(18858),u=n(44957),h=n(67959),d=n(75096),f=n(99032),p=n(91786),m=n(78516),g=n(38651),v=n(88562),b=n(41876),_=n(97802),y=n(83239),w=n(90823),S=n(53181),k=function(e){var t=0;return e.duration&&(t=e.duration),t},x=!1,M={rest:{0:"rests.whole",1:"rests.half",2:"rests.quarter",3:"rests.8th",4:"rests.16th",5:"rests.32nd",6:"rests.64th",7:"rests.128th",multi:"rests.multimeasure"},note:{"-1":"noteheads.dbl",0:"noteheads.whole",1:"noteheads.half",2:"noteheads.quarter",3:"noteheads.quarter",4:"noteheads.quarter",5:"noteheads.quarter",6:"noteheads.quarter",7:"noteheads.quarter",nostem:"noteheads.quarter"},rhythm:{"-1":"noteheads.slash.whole",0:"noteheads.slash.whole",1:"noteheads.slash.whole",2:"noteheads.slash.quarter",3:"noteheads.slash.quarter",4:"noteheads.slash.quarter",5:"noteheads.slash.quarter",6:"noteheads.slash.quarter",7:"noteheads.slash.quarter",nostem:"noteheads.slash.nostem"},x:{"-1":"noteheads.indeterminate",0:"noteheads.indeterminate",1:"noteheads.indeterminate",2:"noteheads.indeterminate",3:"noteheads.indeterminate",4:"noteheads.indeterminate",5:"noteheads.indeterminate",6:"noteheads.indeterminate",7:"noteheads.indeterminate",nostem:"noteheads.indeterminate"},harmonic:{"-1":"noteheads.harmonic.quarter",0:"noteheads.harmonic.quarter",1:"noteheads.harmonic.quarter",2:"noteheads.harmonic.quarter",3:"noteheads.harmonic.quarter",4:"noteheads.harmonic.quarter",5:"noteheads.harmonic.quarter",6:"noteheads.harmonic.quarter",7:"noteheads.harmonic.quarter",nostem:"noteheads.harmonic.quarter"},triangle:{"-1":"noteheads.triangle.quarter",0:"noteheads.triangle.quarter",1:"noteheads.triangle.quarter",2:"noteheads.triangle.quarter",3:"noteheads.triangle.quarter",4:"noteheads.triangle.quarter",5:"noteheads.triangle.quarter",6:"noteheads.triangle.quarter",7:"noteheads.triangle.quarter",nostem:"noteheads.triangle.quarter"},uflags:{3:"flags.u8th",4:"flags.u16th",5:"flags.u32nd",6:"flags.u64th"},dflags:{3:"flags.d8th",4:"flags.d16th",5:"flags.d32nd",6:"flags.d64th"}},E=function(e,t,n){this.decoration=new u,this.getTextSize=e,this.tuneNumber=t,this.isBagpipes=n.bagpipes,this.flatBeams=n.flatbeams,this.graceSlurs=n.graceSlurs,this.percmap=n.percmap,this.initialClef=n.initialClef,this.jazzchords=!!n.jazzchords,this.accentAbove=!!n.accentAbove,this.germanAlphabet=!!n.germanAlphabet,this.reset()};function T(e,t){var n=e[t];if("note"!==n.el_type||!n.startBeam||n.endBeam)return{count:1,elem:n};for(var r=[];t<e.length&&"note"===e[t].el_type&&(r.push(e[t]),!e[t].endBeam);)t++;return{count:r.length,elem:r}}function C(e){if(e.pitches){A(e);for(var t=0,n=0;n<e.pitches.length;n++)t+=e.pitches[n].verticalPos;e.averagepitch=t/e.pitches.length,e.minpitch=e.pitches[0].verticalPos,e.maxpitch=e.pitches[e.pitches.length-1].verticalPos}}E.prototype.reset=function(){this.slurs={},this.ties=[],this.voiceScale=1,this.voiceColor=void 0,this.slursbyvoice={},this.tiesbyvoice={},this.endingsbyvoice={},this.scaleByVoice={},this.colorByVoice={},this.tripletmultiplier=1,this.abcline=void 0,this.accidentalSlot=void 0,this.accidentalshiftx=void 0,this.dotshiftx=void 0,this.hasVocals=!1,this.minY=void 0,this.partstartelem=void 0,this.startlimitelem=void 0,this.stemdir=void 0},E.prototype.setStemHeight=function(e){this.stemHeight=Math.round(10*e/p.STEP)/10},E.prototype.getCurrentVoiceId=function(e,t){return"s"+e+"v"+t},E.prototype.pushCrossLineElems=function(e,t){this.slursbyvoice[this.getCurrentVoiceId(e,t)]=this.slurs,this.tiesbyvoice[this.getCurrentVoiceId(e,t)]=this.ties,this.endingsbyvoice[this.getCurrentVoiceId(e,t)]=this.partstartelem,this.scaleByVoice[this.getCurrentVoiceId(e,t)]=this.voiceScale,this.voiceColor&&(this.colorByVoice[this.getCurrentVoiceId(e,t)]=this.voiceColor)},E.prototype.popCrossLineElems=function(e,t){this.slurs=this.slursbyvoice[this.getCurrentVoiceId(e,t)]||{},this.ties=this.tiesbyvoice[this.getCurrentVoiceId(e,t)]||[],this.partstartelem=this.endingsbyvoice[this.getCurrentVoiceId(e,t)],this.voiceScale=this.scaleByVoice[this.getCurrentVoiceId(e,t)],void 0===this.voiceScale&&(this.voiceScale=1),this.voiceColor=this.colorByVoice[this.getCurrentVoiceId(e,t)]},E.prototype.containsLyrics=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e[t].voices.length;n++)for(var r=0;r<e[t].voices[n].length;r++){var i=e[t].voices[n][r];if(i.lyric)return void(i.positioning&&"below"!==i.positioning.vocalPosition||(this.hasVocals=!0))}},E.prototype.createABCLine=function(e,t,n){this.minY=2,this.containsLyrics(e);var r=new m(this.getTextSize);this.tempoSet=!1;for(var i=0;i<e.length;i++)x&&this.restoreState(),x=!1,this.createABCStaff(r,e[i],t,i,n);return r},E.prototype.createABCStaff=function(e,t,n,r,i){e.getTextSize.updateFonts(t);for(var c=0;c<t.voices.length;c++){var u=new _(c,t.voices.length);0===c?(u.barfrom="start"===t.connectBarLines||"continue"===t.connectBarLines,u.barto="continue"===t.connectBarLines||"end"===t.connectBarLines):u.duplicate=!0,t.title&&t.title[c]&&(u.header=t.title[c].replace(/\\n/g,"\n"),u.headerPosition=6+e.getTextSize.baselineToCenter(u.header,"voicefont","staff-extra voice-name",c,t.voices.length)/p.STEP),t.clef&&"perc"===t.clef.type&&(u.isPercussion=!0);var h=(!this.initialClef||0===i)&&o(t.clef,this.tuneNumber);h&&(0===c&&t.barNumber&&this.addMeasureNumber(t.barNumber,h),u.addChild(h),this.startlimitelem=h);var d=s(t.key,this.tuneNumber);if(d&&(u.addChild(d),this.startlimitelem=d),t.meter){"specified"===t.meter.type?this.measureLength=t.meter.value[0].num/t.meter.value[0].den:this.measureLength=1;var f=l(t.meter,this.tuneNumber);u.addChild(f),this.startlimitelem=f}u.duplicate&&(u.children=[]);var m=t.clef.stafflines||0===t.clef.stafflines?t.clef.stafflines:5;e.addVoice(u,r,m);var g=1===m;this.createABCVoice(t.voices[c],n,r,c,g,u),e.setStaffLimits(u),0===c&&("start"===t.brace||!e.brace&&t.brace?(e.brace||(e.brace=[]),e.brace.push(new a(u,"brace"))):"end"===t.brace&&e.brace?e.brace[e.brace.length-1].setBottomStaff(u):"continue"===t.brace&&e.brace&&e.brace[e.brace.length-1].continuing(u),"start"===t.bracket||!e.bracket&&t.bracket?(e.bracket||(e.bracket=[]),e.bracket.push(new a(u,"bracket"))):"end"===t.bracket&&e.bracket?e.bracket[e.bracket.length-1].setBottomStaff(u):"continue"===t.bracket&&e.bracket&&e.bracket[e.bracket.length-1].continuing(u))}},E.prototype.createABCVoice=function(e,t,n,i,a,o){this.popCrossLineElems(n,i),this.stemdir=this.isBagpipes?"down":null,this.abcline=e,this.partstartelem&&(this.partstartelem=new h("",null,null),o.addOther(this.partstartelem));var s=o.voicetotal<2?-1:o.voicenumber;for(var l in this.slurs)this.slurs.hasOwnProperty(l)&&(this.slurs[l]=new v({force:this.slurs[l].force,voiceNumber:s,stemDir:this.slurs[l].stemDir,style:this.slurs[l].dotted}),x&&this.slurs[l].setHint(),o.addOther(this.slurs[l]));for(var u=0;u<this.ties.length;u++)this.ties[u]=new v({force:this.ties[u].force,stemDir:this.ties[u].stemDir,voiceNumber:s,style:this.ties[u].dotted}),x&&this.ties[u].setHint(),o.addOther(this.ties[u]);for(var d=0;d<this.abcline.length;d++)C(this.abcline[d]),this.minY=Math.min(this.abcline[d].minpitch,this.minY);for(var f=0===n,p=0;p<this.abcline.length;){var m=T(this.abcline,p),b=this.createABCElement(f,a,o,m.elem);if(b)for(u=0;u<b.length;u++){if(!this.tempoSet&&t&&!t.suppress){this.tempoSet=!0;var _=new r(t,0,0,"tempo",this.tuneNumber,{});_.addFixedX(new g(t,this.tuneNumber,c)),o.addChild(_)}o.addChild(b[u])}p+=m.count}this.pushCrossLineElems(n,i)},E.prototype.saveState=function(){this.tiesSave=S.cloneArray(this.ties),this.slursSave=S.cloneHashOfHash(this.slurs),this.slursbyvoiceSave=S.cloneHashOfHash(this.slursbyvoice),this.tiesbyvoiceSave=S.cloneHashOfArrayOfHash(this.tiesbyvoice)},E.prototype.restoreState=function(){this.ties=S.cloneArray(this.tiesSave),this.slurs=S.cloneHashOfHash(this.slursSave),this.slursbyvoice=S.cloneHashOfHash(this.slursbyvoiceSave),this.tiesbyvoice=S.cloneHashOfArrayOfHash(this.tiesbyvoiceSave)},E.prototype.createABCElement=function(e,t,n,i){var a=[];switch(i.el_type){case void 0:a=this.createBeam(t,n,i);break;case"note":a[0]=this.createNote(i,!1,t,n),this.triplet&&this.triplet.isClosed()&&(n.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1);break;case"bar":a[0]=this.createBarLine(n,i,e),n.duplicate&&a.length>0&&(a[0].invisible=!0);break;case"meter":a[0]=l(i,this.tuneNumber),this.startlimitelem=a[0],n.duplicate&&a.length>0&&(a[0].invisible=!0);break;case"clef":if(a[0]=o(i,this.tuneNumber),!a[0])return null;n.duplicate&&a.length>0&&(a[0].invisible=!0);break;case"key":var u=s(i,this.tuneNumber);u&&(a[0]=u,this.startlimitelem=a[0]),n.duplicate&&a.length>0&&(a[0].invisible=!0);break;case"stem":this.stemdir="auto"===i.direction?void 0:i.direction;break;case"part":var h=new r(i,0,0,"part",this.tuneNumber),d=this.getTextSize.calc(i.title,"partsfont","part");h.addFixedX(new f(i.title,0,0,void 0,{type:"part",height:d.height/p.STEP})),a[0]=h;break;case"tempo":var m=new r(i,0,0,"tempo",this.tuneNumber);m.addFixedX(new g(i,this.tuneNumber,c)),a[0]=m;break;case"style":"normal"===i.head?delete this.style:this.style=i.head;break;case"hint":x=!0,this.saveState();break;case"midi":break;case"scale":this.voiceScale=i.size;break;case"color":this.voiceColor=i.color,n.color=this.voiceColor;break;default:var v=new r(i,0,0,"unsupported",this.tuneNumber);v.addFixed(new f("element type "+i.el_type,0,0,void 0,{type:"debug"})),a[0]=v}return a},E.prototype.createBeam=function(e,t,n){var r=[],a=new i(this.stemHeight*this.voiceScale,this.stemdir,this.flatBeams,n[0]);x&&a.setHint();for(var o=0;o<n.length;o++)a.runningDirection(n[o]);a.setStemDirection();var s=this.stemdir;for(this.stemdir=a.stemsUp?"up":"down",o=0;o<n.length;o++){var c=n[o],l=this.createNote(c,!0,e,t);r.push(l),a.add(l),this.triplet&&this.triplet.isClosed()&&(t.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1)}return a.calcDir(),t.addBeam(a),this.stemdir=s,r};var A=function(e){var t;do{t=!0;for(var n=0;n<e.pitches.length-1;n++)if(e.pitches[n].pitch>e.pitches[n+1].pitch){t=!1;var r=e.pitches[n];e.pitches[n]=e.pitches[n+1],e.pitches[n+1]=r}}while(!t)},O=function(e,t,n,r,i,a,o,s,c){for(var l=n;l>11;l--)l%2!=0||r||e.addFixed(new f(null,s,(i+4)*c,l,{type:"ledger"}));for(l=t;l<1;l++)l%2!=0||r||e.addFixed(new f(null,s,(i+4)*c,l,{type:"ledger"}));for(l=0;l<a.length;l++){var u=i;"down"===o&&(u=-u),e.addFixed(new f(null,u+s,(i+4)*c,a[l],{type:"ledger"}))}};function P(e,t){for(var n=0;n<e.length;n++)if(JSON.stringify(e[n])===JSON.stringify(t))return;e.push(t)}E.prototype.addGraceNotes=function(e,t,n,r,a,o,s){var l=.6;a=Math.round(.7*a);var u,h,p=null;e.gracenotes.length>1&&(p=new i(a,"grace",o),x&&p.setHint(),p.mainNote=n);var m=[];for(h=e.gracenotes.length-1;h>=0;h--)s+=10,m[h]=s,e.gracenotes[h].accidental&&(s+=7);for(h=0;h<e.gracenotes.length;h++){var g=e.gracenotes[h].verticalPos;u=p?null:M.uflags[o?5:3];var b=c(n,"noteheads.quarter",e.gracenotes[h],{dir:"up",headx:-m[h],extrax:-m[h],flag:u,scale:l*this.voiceScale,accidentalSlot:[]});b.notehead.highestVert=b.notehead.pitch+a;var _=b.notehead;if(this.addSlursAndTies(n,e.gracenotes[h],_,t,"up",!0),n.addExtra(_),e.gracenotes[h].acciaccatura){var y=e.gracenotes[h].verticalPos+4.2,w=p?5:6;n.addRight(new f("flags.ugrace",-m[h]+w,0,y,{scalex:l,scaley:l}))}if(p){var S=e.gracenotes[h].duration/2;o&&(S/=2);var k={heads:[_],abcelem:{averagepitch:g,minpitch:g,maxpitch:g,duration:S}};p.add(k)}else{var E=g+1/3*l,T=g+4.2,C=_.dx+_.w;n.addExtra(new f(null,C,0,E,{type:"stem",pitch2:T,linewidth:-.6}))}O(n,g,g,!1,d.getSymbolWidth("noteheads.quarter"),[],!0,_.dx-1,.6);var A=e.rest&&("spacer"===e.rest.type||"invisible"===e.rest.type);0!==h||o||!this.graceSlurs||A||t.addOther(new v({anchor1:_,anchor2:r,isGrace:!0}))}return p&&(p.calcDir(),t.addBeam(p)),s},E.prototype.addNoteToAbcElement=function(e,t,n,r,i,a,o,s,l){var u,h,p,m,g,v=0,b=0,_=0,y=[],S=[],x=0,E=t.averagepitch>=6?"down":"up";for(r&&(E=r),(i=t.style?t.style:i)&&"normal"!==i||(i="note"),(m=a?M[i].nostem:M[i][-o])||console.log("noteSymbol:",i,o,a),g="down"===E?t.pitches.length-2:1;"down"===E?g>=0:g<t.pitches.length;g="down"===E?g-1:g+1){var T=t.pitches["down"===E?g+1:g-1],C=t.pitches[g],A="down"===E?T.pitch-C.pitch:C.pitch-T.pitch;A<=1&&!T.printer_shift&&(C.printer_shift=A?"different":"same",(C.verticalPos>11||C.verticalPos<1)&&y.push(C.verticalPos-C.verticalPos%2),"down"===E?b=d.getSymbolWidth(m)+2:v=d.getSymbolWidth(m)+2)}var O=t.pitches.length;for(g=0;g<t.pitches.length;g++){var I,R;if(s||(I="down"===E&&0!==g||"up"===E&&g!==O-1?null:M["down"===E?"dflags":"uflags"][-o]),t.pitches[g].style)R=M[t.pitches[g].style][-o];else if(l.isPercussion&&this.percmap){R=m;var B=this.percmap[w(t.pitches[g])];B&&B.noteHead&&M[B.noteHead]&&(R=M[B.noteHead][-o])}else R=m;if(t.pitches[g].highestVert=t.pitches[g].verticalPos,("up"===r||"up"===E)&&0===g||("down"===r||"down"===E)&&g===O-1){if((t.startSlur||1===O)&&(t.pitches[g].highestVert=t.pitches[O-1].verticalPos,k(t)<1&&("up"===r||"up"===E)&&(t.pitches[g].highestVert+=6)),t.startSlur)for(t.pitches[g].startSlur||(t.pitches[g].startSlur=[]),p=0;p<t.startSlur.length;p++)P(t.pitches[g].startSlur,t.startSlur[p]);if(t.endSlur)for(t.pitches[g].highestVert=t.pitches[O-1].verticalPos,k(t)<1&&("up"===r||"up"===E)&&(t.pitches[g].highestVert+=6),t.pitches[g].endSlur||(t.pitches[g].endSlur=[]),p=0;p<t.endSlur.length;p++)P(t.pitches[g].endSlur,t.endSlur[p])}var N=!s&&o<=-1,L=c(e,R,t.pitches[g],{dir:E,extrax:-b,flag:I,dot:n,dotshiftx:v,scale:this.voiceScale,accidentalSlot:S,shouldExtendStem:!r,printAccidentals:!l.isPercussion});x=Math.max(d.getSymbolWidth(R),x),e.extraw-=L.extraLeft,(u=L.notehead)&&(this.addSlursAndTies(e,t.pitches[g],u,l,N?E:null,!1),t.gracenotes&&t.gracenotes.length>0&&(u.bottom=u.bottom-1),e.addHead(u)),b+=L.accidentalshiftx,_=Math.max(_,L.dotshiftx)}if(N){var D=Math.round(70*this.voiceScale)/10,j="down"===E?t.minpitch-D:t.minpitch+1/3;j>6&&!r&&(j=6);var z="down"===E?t.maxpitch-1/3:t.maxpitch+D;z<6&&!r&&(z=6);var F="down"===E||0===e.heads.length?0:e.heads[0].w,V="down"===E?1:-1;u&&"noteheads.slash.quarter"===u.c&&("down"===E?z-=1:j+=1),u&&"noteheads.triangle.quarter"===u.c&&("down"===E?z-=.7:j-=1.2),e.addRight(new f(null,F,0,j,{type:"stem",pitch2:z,linewidth:V,bottom:j-1})),h=Math.min(j,z)}return{noteHead:u,roomTaken:b,roomTakenRight:_,min:h,additionalLedgers:y,dir:E,symbolWidth:x}},E.prototype.addLyric=function(e,t){var n="";t.lyric.forEach((function(e){var t=" "===e.divider?"":e.divider;n+=e.syllable+t+"\n"}));var r=this.getTextSize.calc(n,"vocalfont","lyric"),i=t.positioning?t.positioning.vocalPosition:"below";e.addCentered(new f(n,0,r.width,void 0,{type:"lyric",position:i,height:r.height/p.STEP,dim:this.getTextSize.attr("vocalfont","lyric")}))},E.prototype.createNote=function(e,t,n,i){var a,o=null,s=0,l=0,u=0,h=[],p=k(e),m=!1;0===p&&(m=!0,p=.25,t=!0);for(var g=Math.floor(Math.log(p)/Math.log(2)),v=0,_=Math.pow(2,g),w=_/2;_<p;v++,_+=w,w/=2);e.startTriplet&&(this.tripletmultiplier=e.tripletMultiplier);var S=p*this.tripletmultiplier;e.rest&&"multimeasure"===e.rest.type&&(S=1),e.rest&&"invisible-multimeasure"===e.rest.type&&(S=this.measureLength*e.rest.text);var E=e.rest?"rest":"note",T=new r(e,S,1,E,this.tuneNumber,{durationClassOveride:e.duration*this.tripletmultiplier});if(x&&T.setHint(),e.rest){this.measureLength===p&&"invisible"!==e.rest.type&&"spacer"!==e.rest.type&&e.rest.type.indexOf("multimeasure")<0&&(e.rest.type="whole");var C=function(e,t,n,r,i,a,o,s,l){var u,h,p,m,g=7;switch(i&&("down"===a&&(g=3),"up"===a&&(g=11)),o&&(g=n<.5||n<1?7:5),t.rest.type){case"whole":u=M.rest[0],t.averagepitch=g,t.minpitch=g,t.maxpitch=g,r=0;break;case"rest":u="rhythm"===t.style?M.rhythm[-s]:M.rest[-s],t.averagepitch=g,t.minpitch=g,t.maxpitch=g;break;case"invisible":case"invisible-multimeasure":case"spacer":u="",t.averagepitch=g,t.minpitch=g,t.maxpitch=g;break;case"multimeasure":u=M.rest.multi,t.averagepitch=g,t.minpitch=g,t.maxpitch=g,r=0;var v=d.getSymbolWidth(u);e.addHead(new f(u,v,2*v,7));var b=new f(""+t.rest.text,v,v,16,{type:"multimeasure-text"});e.addExtra(b)}if(t.rest.type.indexOf("multimeasure")<0&&"invisible"!==t.rest.type){var _=c(e,u,{verticalPos:g},{dot:r,scale:l});(h=_.notehead)&&(e.addHead(h),p=_.accidentalshiftx,m=_.dotshiftx)}return{noteHead:h,roomTaken:p,roomTakenRight:m}}(T,e,p,v,i.voicetotal>1,this.stemdir,n,g,this.voiceScale);o=C.noteHead,s=C.roomTaken,l=C.roomTakenRight}else{var A=this.addNoteToAbcElement(T,e,v,this.stemdir,this.style,m,g,t,i);void 0!==A.min&&(this.minY=Math.min(A.min,this.minY)),o=A.noteHead,s=A.roomTaken,l=A.roomTakenRight,h=A.additionalLedgers,a=A.dir,u=A.symbolWidth}if(void 0!==e.lyric&&this.addLyric(T,e),void 0!==e.gracenotes&&(s+=this.addGraceNotes(e,i,T,o,this.stemHeight*this.voiceScale,this.isBagpipes,s)),e.decoration){var P=t&&"up"!==a?Math.min(-3,T.bottom-6):T.bottom;this.decoration.createDecoration(i,e.decoration,T.top,o?o.w:0,T,s,a,P,e.positioning,this.hasVocals,this.accentAbove)}if(e.barNumber&&T.addFixed(new f(e.barNumber,-10,0,0,{type:"barNumber"})),O(T,e.minpitch,e.maxpitch,e.rest,u,h,a,-2,1),void 0!==e.chord){var I=y(this.getTextSize,T,e,s,l,u,this.jazzchords,this.germanAlphabet);s=I.roomTaken,l=I.roomTakenRight}return e.startTriplet&&(this.triplet=new b(e.startTriplet,o,{flatBeams:this.flatBeams})),e.endTriplet&&this.triplet&&this.triplet.setCloseAnchor(o),!this.triplet||e.startTriplet||e.endTriplet||e.rest&&"spacer"===e.rest.type||this.triplet.middleNote(o),T},E.prototype.addSlursAndTies=function(e,t,n,r,i,a){if(t.endTie&&this.ties.length>0){for(var o=!1,s=0;s<this.ties.length;s++)if(this.ties[s].anchor1&&this.ties[s].anchor1.pitch===n.pitch){this.ties[s].setEndAnchor(n),r.setRange(this.ties[s]),this.ties.splice(s,1),o=!0;break}o||(this.ties[0].setEndAnchor(n),r.setRange(this.ties[0]),this.ties.splice(0,1))}var c,l,u=r.voicetotal<2?-1:r.voicenumber;if(t.startTie){var h=new v({anchor1:n,force:"down"===this.stemdir||"up"===this.stemdir,stemDir:this.stemdir,isGrace:a,voiceNumber:u,style:t.startTie.style});x&&h.setHint(),this.ties[this.ties.length]=h,r.addOther(h),e.startTie=!0}if(t.endSlur)for(var d=0;d<t.endSlur.length;d++)l=t.endSlur[d],this.slurs[l]?((c=this.slurs[l]).setEndAnchor(n),r.setRange(c),delete this.slurs[l]):(c=new v({anchor2:n,stemDir:this.stemdir,voiceNumber:u}),x&&c.setHint(),r.addOther(c)),this.startlimitelem&&c.setStartX(this.startlimitelem);else if(!a)for(var f in this.slurs)this.slurs.hasOwnProperty(f)&&this.slurs[f].addInternalNote(n);if(t.startSlur)for(d=0;d<t.startSlur.length;d++)l=t.startSlur[d].label,c=new v({anchor1:n,stemDir:this.stemdir,voiceNumber:u,style:t.startSlur[d].style}),x&&c.setHint(),this.slurs[l]=c,r.addOther(c)},E.prototype.addMeasureNumber=function(e,t){var n=this.getTextSize.calc(e,"measurefont","bar-number"),r=0;t.isClef&&(r+=n.width/2);var i=n.width>10&&"treble"===t.abcelem.type?13.5:11;t.addFixed(new f(e,r,n.width,i+n.height/p.STEP,{type:"barNumber",dim:this.getTextSize.attr("measurefont","bar-number")}))},E.prototype.createBarLine=function(e,t,n){var i=new r(t,0,10,"bar",this.tuneNumber),a=null,o=0;t.barNumber&&this.addMeasureNumber(t.barNumber,i);var s="bar_right_repeat"===t.type||"bar_dbl_repeat"===t.type,c="bar_left_repeat"!==t.type&&"bar_thick_thin"!==t.type&&"bar_invisible"!==t.type,l="bar_right_repeat"===t.type||"bar_dbl_repeat"===t.type||"bar_left_repeat"===t.type||"bar_thin_thick"===t.type||"bar_thick_thin"===t.type,u="bar_left_repeat"===t.type||"bar_thick_thin"===t.type||"bar_thin_thin"===t.type||"bar_dbl_repeat"===t.type,d="bar_left_repeat"===t.type||"bar_dbl_repeat"===t.type;if(s||d){for(var p in this.slurs)this.slurs.hasOwnProperty(p)&&this.slurs[p].setEndX(i);this.startlimitelem=i}if(s&&(i.addRight(new f("dots.dot",o,1,7)),i.addRight(new f("dots.dot",o,1,5)),o+=6),c&&(a=new f(null,o,1,2,{type:"bar",pitch2:10,linewidth:.6}),i.addRight(a)),"bar_invisible"===t.type&&(a=new f(null,o,1,2,{type:"none",pitch2:10,linewidth:.6}),i.addRight(a)),t.decoration&&this.decoration.createDecoration(e,t.decoration,12,l?3:1,i,0,"down",2,t.positioning,this.hasVocals,this.accentAbove),l&&(a=new f(null,o+=4,4,2,{type:"bar",pitch2:10,linewidth:4}),i.addRight(a),o+=5),this.partstartelem&&t.endEnding&&(this.partstartelem.anchor2=a,this.partstartelem=null),u&&(a=new f(null,o+=3,1,2,{type:"bar",pitch2:10,linewidth:.6}),i.addRight(a)),d&&(o+=3,i.addRight(new f("dots.dot",o,1,7)),i.addRight(new f("dots.dot",o,1,5))),t.startEnding&&n){var m=this.getTextSize.calc(t.startEnding,"repeatfont","").width;i.minspacing+=m+10,this.partstartelem=new h(t.startEnding,a,null),e.addOther(this.partstartelem)}return i.extraw-=5,void 0!==t.chord&&y(this.getTextSize,i,t,0,0,0,!1,this.germanAlphabet),i},e.exports=E},83239:(e,t,n)=>{var r=n(99032),i=n(91786);const a=n(82342);function o(e,t,n,o,s,c,l,u,h,d,f,p,m,g,v){for(var b=e.split("\n"),_=b.length-1;_>=0;_--){var y,w=b[_],S=0;o||(w=a(w,g,v));var k=u.calc(w,s,c),x=k.width,M=k.height/i.STEP;switch(t){case"left":S=-(f+=x+7),y=d.averagepitch,h.addExtra(new r(w,S,x+4,y,{type:"text",height:M,dim:l,position:"left"}));break;case"right":S=p+=4,y=d.averagepitch,h.addRight(new r(w,S,x+4,y,{type:"text",height:M,dim:l,position:"right"}));break;case"below":h.addRight(new r(w,0,0,void 0,{type:"text",position:"below",height:M,dim:l,realWidth:x}));break;case"above":h.addRight(new r(w,0,0,void 0,{type:"text",position:"above",height:M,dim:l,realWidth:x}));break;default:if(n){var E=n.y+3*i.STEP;h.addRight(new r(w,S+n.x,0,d.minpitch+E/i.STEP,{position:"relative",type:"text",height:M,dim:l}))}else{var T="above";d.positioning&&d.positioning.chordPosition&&(T=d.positioning.chordPosition),"hidden"!==T&&h.addCentered(new r(w,m/2,x,void 0,{type:"chord",position:T,height:M,dim:l,realWidth:x}))}}}return{roomTaken:f,roomTakenRight:p}}e.exports=function(e,t,n,r,i,a,s,c){for(var l=0;l<n.chord.length;l++){var u,h,d=n.chord[l].position,f=n.chord[l].rel_position,p="left"===d||"right"===d||"below"===d||"above"===d||!!f;p?(u="annotationfont",h="abcjs-annotation"):(u="gchordfont",h="abcjs-chord");var m,g=e.attr(u,h),v=n.chord[l].name;if("string"==typeof v)r=(m=o(v,d,f,p,u,h,g,e,t,n,r,i,a,s,c)).roomTaken,i=m.roomTakenRight;else for(var b=0;b<v.length;b++)r=(m=o(v[b].text,d,f,p,u,h,g,e,t,n,r,i,a,s,c)).roomTaken,i=m.roomTakenRight}return{roomTaken:r,roomTakenRight:i}}},51052:e=>{e.exports=function(e,t,n){if(t.text){t.marginLeft||(t.marginLeft=0),t.klass||(t.klass=""),t.anchor||(t.anchor="start"),t.info||(t.info={startChar:-2,endChar:-2}),t.marginTop&&e.push({move:t.marginTop});var r={left:t.marginLeft,text:t.text,font:t.font,anchor:t.anchor,startChar:t.info.startChar,endChar:t.info.endChar,"dominant-baseline":t["dominant-baseline"]};t.absElemType&&(r.absElemType=t.absElemType),!t.inGroup&&t.klass&&(r.klass=t.klass),t.name&&(r.name=t.name),e.push(r);var i=n.calc("A",t.font,t.klass),a=t.text.split("\n").length;if("\n"===t.text[t.text.length-1]&&a--,!t.noMove){var o=1.1*i.height*a;e.push({move:Math.round(o)}),t.marginBottom&&e.push({move:t.marginBottom})}}}},97636:e=>{e.exports=function(e){for(var t=0,n=0;n<e.voices.length;n++){var r=e.voices[n].staff;e.voices[n].duplicate||(t+=r.top,t+=-r.bottom)}return t}},38520:(e,t,n)=>{var r=n(2233),i=n(75096),a=n(99032);e.exports=function(e,t){var n,o=0;e.el_type="clef";var s=new r(e,0,10,"staff-extra clef",t);switch(s.isClef=!0,e.type){case"treble":n="clefs.G";break;case"tenor":case"alto":n="clefs.C";break;case"bass":n="clefs.F";break;case"treble+8":n="clefs.G",o=1;break;case"tenor+8":case"alto+8":n="clefs.C",o=1;break;case"bass+8":n="clefs.F",o=1;break;case"treble-8":n="clefs.G",o=-1;break;case"tenor-8":case"alto-8":n="clefs.C",o=-1;break;case"bass-8":n="clefs.F",o=-1;break;case"none":return null;case"perc":n="clefs.perc";break;default:s.addFixed(new a("clef="+e.type,0,0,void 0,{type:"debug"}))}if(n){var c=i.symbolHeightInPitches(n),l=function(e){switch(e){case"clefs.G":return-5;case"clefs.C":case"clefs.F":return-4;case"clefs.perc":return-2;default:return 0}}(n);if(s.addRight(new a(n,5,i.getSymbolWidth(n),e.clefPos,{top:c+e.clefPos+l,bottom:e.clefPos+l})),0!==o){var u=2/3,h=(i.getSymbolWidth(n)-i.getSymbolWidth("8")*u)/2,d=o>0?s.top+3:s.bottom-1,f=o>0?s.top+3:s.bottom-3,p=f-2;"bass-8"===e.type&&(d=3,h=0),s.addRight(new a("8",5+h,i.getSymbolWidth("8")*u,d,{scalex:u,scaley:u,top:f,bottom:p}))}}return s}},25802:(e,t,n)=>{var r=n(2233),i=n(75096),a=n(99032);e.exports=function(e,t){if(e.el_type="keySignature",!e.accidentals||0===e.accidentals.length)return null;var n=new r(e,0,10,"staff-extra key-signature",t);n.isKeySig=!0;var o=0;return e.accidentals.forEach((function(e){var t,r=0;switch(e.acc){case"sharp":t="accidentals.sharp",r=-3;break;case"natural":t="accidentals.nat";break;case"flat":t="accidentals.flat",r=-1.2;break;case"quartersharp":t="accidentals.halfsharp",r=-2.5;break;case"quarterflat":t="accidentals.halfflat",r=-1.2;break;default:t="accidentals.flat"}n.addRight(new a(t,o,i.getSymbolWidth(t),e.verticalPos,{thickness:i.symbolHeightInPitches(t),top:e.verticalPos+i.symbolHeightInPitches(t)+r,bottom:e.verticalPos+r})),o+=i.getSymbolWidth(t)+2}),this),n}},1943:(e,t,n)=>{var r=n(75096),i=n(99032);e.exports=function(e,t,n,a){a||(a={});var o,s=void 0!==a.dir?a.dir:null,c=void 0!==a.headx?a.headx:0,l=void 0!==a.extrax?a.extrax:0,u=void 0!==a.flag?a.flag:null,h=void 0!==a.dot?a.dot:0,d=void 0!==a.dotshiftx?a.dotshiftx:0,f=void 0!==a.scale?a.scale:1,p=void 0!==a.accidentalSlot?a.accidentalSlot:[],m=void 0!==a.shouldExtendStem&&a.shouldExtendStem,g=void 0===a.printAccidentals||a.printAccidentals,v=n.verticalPos,b=0,_=0,y=0;if(void 0===t)e.addFixed(new i("pitch is undefined",0,0,0,{type:"debug"}));else if(""===t)o=new i(null,0,0,v);else{var w=c;if(n.printer_shift){var S="same"===n.printer_shift?1:0;w="down"===s?-r.getSymbolWidth(t)*f+S:r.getSymbolWidth(t)*f-S}var k={scalex:f,scaley:f,thickness:r.symbolHeightInPitches(t)*f,name:n.name};if((o=new i(t,w,r.getSymbolWidth(t)*f,v,k)).stemDir=s,u){var x=v+("down"===s?-7:7)*f;m&&("down"===s&&x>6&&(x=6),"up"===s&&x<6&&(x=6));var M="down"===s?c:c+o.w-.6;e.addRight(new i(u,M,r.getSymbolWidth(u)*f,x,{scalex:f,scaley:f}))}for(_=o.w+d-2+5*h;h>0;h--){var E=1-Math.abs(v)%2;e.addRight(new i("dots.dot",o.w+d-2+5*h,r.getSymbolWidth("dots.dot"),v+E))}}if(o&&(o.highestVert=n.highestVert),g&&n.accidental){var T;switch(n.accidental){case"quartersharp":T="accidentals.halfsharp";break;case"dblsharp":T="accidentals.dblsharp";break;case"sharp":T="accidentals.sharp";break;case"quarterflat":T="accidentals.halfflat";break;case"flat":T="accidentals.flat";break;case"dblflat":T="accidentals.dblflat";break;case"natural":T="accidentals.nat"}for(var C=!1,A=l,O=0;O<p.length;O++)if(v-p[O][0]>=6){p[O][0]=v,A=p[O][1],C=!0;break}!1===C&&(A-=r.getSymbolWidth(T)*f+2,p.push([v,A]),b=r.getSymbolWidth(T)*f+2);var P=r.symbolHeightInPitches(T);e.addExtra(new i(T,A,r.getSymbolWidth(T),v,{scalex:f,scaley:f,top:v+P/2,bottom:v-P/2})),y=r.getSymbolWidth(T)/2}return{notehead:o,accidentalshiftx:b,dotshiftx:_,extraLeft:y}}},18858:(e,t,n)=>{var r=n(2233),i=n(75096),a=n(99032);e.exports=function(e,t){e.el_type="timeSignature";var n=new r(e,0,10,"staff-extra time-signature",t);if("specified"===e.type)for(var o=0,s=0;s<e.value.length;s++)if(0!==s&&(n.addRight(new a("+",o+1,i.getSymbolWidth("+"),6,{thickness:i.symbolHeightInPitches("+")})),o+=i.getSymbolWidth("+")+2),e.value[s].den){for(var c=0,l=0;l<e.value[s].num.length;l++)c+=i.getSymbolWidth(e.value[s].num[l]);var u=0;for(l=0;l<e.value[s].num.length;l++)u+=i.getSymbolWidth(e.value[s].den[l]);var h=Math.max(c,u);n.addRight(new a(e.value[s].num,o+(h-c)/2,c,8,{thickness:i.symbolHeightInPitches(e.value[s].num[0])})),n.addRight(new a(e.value[s].den,o+(h-u)/2,u,4,{thickness:i.symbolHeightInPitches(e.value[s].den[0])})),o+=h}else{for(var d=0,f=0;f<e.value[s].num.length;f++)d+=i.getSymbolWidth(e.value[s].num[f]);n.addRight(new a(e.value[s].num,o,d,6,{thickness:i.symbolHeightInPitches(e.value[s].num[0])})),o+=d}else"common_time"===e.type?n.addRight(new a("timesig.common",0,i.getSymbolWidth("timesig.common"),6,{thickness:i.symbolHeightInPitches("timesig.common")})):"cut_time"===e.type?n.addRight(new a("timesig.cut",0,i.getSymbolWidth("timesig.cut"),6,{thickness:i.symbolHeightInPitches("timesig.cut")})):"tempus_imperfectum"===e.type?n.addRight(new a("timesig.imperfectum",0,i.getSymbolWidth("timesig.imperfectum"),6,{thickness:i.symbolHeightInPitches("timesig.imperfectum")})):"tempus_imperfectum_prolatio"===e.type?n.addRight(new a("timesig.imperfectum2",0,i.getSymbolWidth("timesig.imperfectum2"),6,{thickness:i.symbolHeightInPitches("timesig.imperfectum2")})):"tempus_perfectum"===e.type?n.addRight(new a("timesig.perfectum",0,i.getSymbolWidth("timesig.perfectum"),6,{thickness:i.symbolHeightInPitches("timesig.perfectum")})):"tempus_perfectum_prolatio"===e.type?n.addRight(new a("timesig.perfectum2",0,i.getSymbolWidth("timesig.perfectum2"),6,{thickness:i.symbolHeightInPitches("timesig.perfectum2")})):console.log("time signature:",e);return n}},44957:(e,t,n)=>{var r=n(14275),i=n(956),a=n(45078),o=n(75096),s=n(99032),c=n(88562),l=function(){this.startDiminuendoX=void 0,this.startCrescendoX=void 0,this.minTop=12,this.minBottom=0};l.prototype.dynamicDecoration=function(e,t,n,r){for(var o,s,c,l=0;l<t.length;l++)switch(t[l]){case"diminuendo(":this.startDiminuendoX=n,o=void 0;break;case"diminuendo)":o={start:this.startDiminuendoX,stop:n},this.startDiminuendoX=void 0;break;case"crescendo(":this.startCrescendoX=n,s=void 0;break;case"crescendo)":s={start:this.startCrescendoX,stop:n},this.startCrescendoX=void 0;break;case"~(":case"glissando(":this.startGlissandoX=n,c=void 0;break;case"~)":case"glissando)":c={start:this.startGlissandoX,stop:n},this.startGlissandoX=void 0}o&&e.addOther(new i(o.start,o.stop,">",r)),s&&e.addOther(new i(s.start,s.stop,"<",r)),c&&e.addOther(new a(c.start,c.stop))},l.prototype.createDecoration=function(e,t,n,i,a,l,u,h,d,f,p){d||(d={ornamentPosition:"above",volumePosition:f?"above":"below",dynamicPosition:f?"above":"below"}),function(e,t,n,i){for(var a=0;a<t.length;a++)switch(t[a]){case"p":case"mp":case"pp":case"ppp":case"pppp":case"f":case"ff":case"fff":case"ffff":case"sfz":case"mf":var o=new r(n,t[a],i);e.addOther(o)}}(e,t,a,d.volumePosition),this.dynamicDecoration(e,t,a,d.dynamicPosition),function(e,t,n,r,i){function a(e,t){var a="down"===i?function(){if(0===r.heads.length)return 2;for(var e=r.heads[0].pitch,t=1;t<r.heads.length;t++)e=Math.min(e,r.heads[t].pitch);return e}()+1:function(){if(0===r.heads.length)return 10;for(var e=r.heads[0].pitch,t=1;t<r.heads.length;t++)e=Math.max(e,r.heads[t].pitch);return e}()+9;"down"!==i&&1===t&&a--;var c=n/2;c+="down"===i?-5:3;for(var l=0;l<t;l++)a-=1,r.addFixedX(new s(e,c,o.getSymbolWidth(e),a))}for(var c=0;c<e.length;c++)switch(e[c]){case"/":a("flags.ugrace",1);break;case"//":a("flags.ugrace",2);break;case"///":a("flags.ugrace",3);break;case"////":a("flags.ugrace",4)}}(t,0,i,a,u);var m=function(e,t,n,r,i,a,l,u,h){for(var d,f=0;f<t.length;f++){if("staccato"===t[f]||"tenuto"===t[f]||"accent"===t[f]&&!h){var p="scripts."+t[f];if("accent"===t[f]&&(p="scripts.sforzato"),d=void 0===d?"down"===l?n+2:u-2:"down"===l?d+2:d-2,"accent"===t[f])"up"===l?d--:d++;else switch(d){case 2:case 4:case 6:case 8:case 10:"up"===l?d--:d++}n>9&&d++;var m=r/2;"center"!==o.getSymbolAlign(p)&&(m-=o.getSymbolWidth(p)/2),i.addFixedX(new s(p,m,o.getSymbolWidth(p),d))}if("slide"===t[f]&&i.heads[0]){var g=i.heads[0].pitch,v=new s("",-a-15,0,(g-=2)-1),b=new s("",-a-5,0,g+1);i.addFixedX(v),i.addFixedX(b),e.addOther(new c({anchor1:v,anchor2:b,fixedY:!0}))}}return void 0===d&&(d=n),{above:d,below:i.bottom}}(e,t,n,i,a,l,u,h,p);m.above=Math.max(m.above,this.minTop),m.below=Math.min(m.below,h),function(e,t,n,r,i,a,c,l){function u(e,t){"above"===e?r.above+=t:r.below-=t}function h(e){var t;return"above"===e?(t=r.above)<a&&(t=a):(t=r.below)>c&&(t=c),t}function d(e,r,i){var a=h(r);n.addFixedX(new s(e,t/2,0,a+2,{type:"decoration",klass:"ornament",thickness:3,anchor:i})),u(r,5)}function f(e,r){var i=t/2;"center"!==o.getSymbolAlign(e)&&(i-=o.getSymbolWidth(e)/2);var a=o.symbolHeightInPitches(e)+1,c=h(r);c="above"===r?c+a/2:c-a/2,n.addFixedX(new s(e,i,o.getSymbolWidth(e),c,{klass:"ornament",thickness:o.symbolHeightInPitches(e),position:r})),u(r,a)}for(var p={"+":"scripts.stopped",open:"scripts.open",snap:"scripts.snap",wedge:"scripts.wedge",thumb:"scripts.thumb",shortphrase:"scripts.shortphrase",mediumphrase:"scripts.mediumphrase",longphrase:"scripts.longphrase",trill:"scripts.trill",roll:"scripts.roll",irishroll:"scripts.roll",marcato:"scripts.umarcato",dmarcato:"scripts.dmarcato",umarcato:"scripts.umarcato",turn:"scripts.turn",uppermordent:"scripts.prall",pralltriller:"scripts.prall",mordent:"scripts.mordent",lowermordent:"scripts.mordent",downbow:"scripts.downbow",upbow:"scripts.upbow",fermata:"scripts.ufermata",invertedfermata:"scripts.dfermata",breath:",",coda:"scripts.coda",segno:"scripts.segno"},m=0;m<e.length;m++)switch(e[m]){case"0":case"1":case"2":case"3":case"4":case"5":case"D.C.":case"D.S.":d(e[m],i,"middle"),!0;break;case"D.C.alcoda":d("D.C. al coda",i,"end"),!0;break;case"D.C.alfine":d("D.C. al fine",i,"end"),!0;break;case"D.S.alcoda":d("D.S. al coda",i,"end"),!0;break;case"D.S.alfine":d("D.S. al fine",i,"end"),!0;break;case"fine":d("FINE",i,"middle"),!0;break;case"+":case"open":case"snap":case"wedge":case"thumb":case"shortphrase":case"mediumphrase":case"longphrase":case"trill":case"roll":case"irishroll":case"marcato":case"dmarcato":case"turn":case"uppermordent":case"pralltriller":case"mordent":case"lowermordent":case"downbow":case"upbow":case"fermata":case"breath":case"umarcato":case"coda":case"segno":f(p[e[m]],i),!0;break;case"invertedfermata":f(p[e[m]],"below"),!0;break;case"mark":n.klass="mark";break;case"accent":l&&(f("scripts.sforzato",i),!0)}}(t,i,a,m,d.ornamentPosition,this.minTop,h,p),function(e,t,n){for(var r=0;r<e.length;r++)if("arpeggio"===e[r])for(var i=t.abcelem.minpitch-1;i<=t.abcelem.maxpitch;i+=2)t.addExtra(new s("scripts.arpeggio",2*-o.getSymbolWidth("scripts.arpeggio")-n,0,i+2,{klass:"ornament",thickness:o.symbolHeightInPitches("scripts.arpeggio")}))}(t,a,l)},e.exports=l},2233:(e,t,n)=>{var r=n(45086),i=n(18911),a=function(e,t,n,r,i,a){a||(a={}),this.tuneNumber=i,this.abcelem=e,this.duration=t,this.durationClass=a.durationClassOveride?a.durationClassOveride:this.duration,this.minspacing=n||0,this.x=0,this.children=[],this.heads=[],this.extra=[],this.extraw=0,this.w=0,this.right=[],this.invisible=!1,this.bottom=void 0,this.top=void 0,this.type=r,this.fixed={w:0,t:void 0,b:void 0},this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};a.prototype.getFixedCoords=function(){return{x:this.x,w:this.fixed.w,t:this.fixed.t,b:this.fixed.b}},a.prototype.addExtra=function(e){this.fixed.w=Math.max(this.fixed.w,e.dx+e.w),void 0===this.fixed.t?this.fixed.t=e.top:this.fixed.t=Math.max(this.fixed.t,e.top),void 0===this.fixed.b?this.fixed.b=e.bottom:this.fixed.b=Math.min(this.fixed.b,e.bottom),e.dx<this.extraw&&(this.extraw=e.dx),this.extra[this.extra.length]=e,this._addChild(e)},a.prototype.addHead=function(e){e.dx<this.extraw&&(this.extraw=e.dx),this.heads[this.heads.length]=e,this.addRight(e)},a.prototype.addRight=function(e){this.fixed.w=Math.max(this.fixed.w,e.dx+e.w),void 0!==e.top&&(void 0===this.fixed.t?this.fixed.t=e.top:this.fixed.t=Math.max(this.fixed.t,e.top)),void 0!==e.bottom&&(void 0===this.fixed.b?this.fixed.b=e.bottom:this.fixed.b=Math.min(this.fixed.b,e.bottom)),e.dx+e.w>this.w&&(this.w=e.dx+e.w),this.right[this.right.length]=e,this._addChild(e)},a.prototype.addFixed=function(e){this._addChild(e)},a.prototype.addFixedX=function(e){this._addChild(e)},a.prototype.addCentered=function(e){var t=e.w/2;-t<this.extraw&&(this.extraw=-t),this.extra[this.extra.length]=e,e.dx+t>this.w&&(this.w=e.dx+t),this.right[this.right.length]=e,this._addChild(e)},a.prototype.setLimit=function(e,t){t[e]&&(this.specialY[e]?this.specialY[e]=Math.max(this.specialY[e],t[e]):this.specialY[e]=t[e])},a.prototype._addChild=function(e){var t=!0;"clef"==this.abcelem.el_type&&"barNumber"==e.type&&(t=!1),e.parent=this,this.children[this.children.length]=e,t&&this.pushTop(e.top),this.pushBottom(e.bottom),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)},a.prototype.pushTop=function(e){void 0!==e&&(void 0===this.top?this.top=e:this.top=Math.max(e,this.top))},a.prototype.pushBottom=function(e){void 0!==e&&(void 0===this.bottom?this.bottom=e:this.bottom=Math.min(e,this.bottom))},a.prototype.setX=function(e){this.x=e;for(var t=0;t<this.children.length;t++)this.children[t].setX(e)},a.prototype.center=function(e,t){var n=(t.x-e.x)/2+e.x;this.x=n-this.w/2;for(var r=0;r<this.children.length;r++)this.children[r].setX(this.x)},a.prototype.setHint=function(){this.hint=!0},a.prototype.highlight=function(e,t){r.bind(this)(e,t)},a.prototype.unhighlight=function(e,t){i.bind(this)(e,t)},e.exports=a},12091:e=>{var t=function(e,t,n,r){this.type="BeamElem",this.isflat=!!n,this.isgrace=!(!t||"grace"!==t),this.forceup=!!(this.isgrace||t&&"up"===t),this.forcedown=!(!t||"down"!==t),this.elems=[],this.total=0,this.average=6,this.allrests=!0,this.stemHeight=e,this.beams=[],r&&r.duration?(this.duration=r.duration,r.startTriplet&&(this.duration*=r.tripletMultiplier),this.duration=Math.round(1e3*this.duration)/1e3):this.duration=0};function n(e,t){return t?e/t:0}t.prototype.setHint=function(){this.hint=!0},t.prototype.runningDirection=function(e){var t=e.averagepitch;void 0!==t&&(this.total=Math.round(this.total+t),this.count||(this.count=0),this.count++)},t.prototype.add=function(e){var t=e.abcelem.averagepitch;void 0!==t&&(e.abcelem.rest||(this.allrests=!1),e.beam=this,this.elems.push(e),this.total=Math.round(this.total+t),(void 0===this.min||e.abcelem.minpitch<this.min)&&(this.min=e.abcelem.minpitch),(void 0===this.max||e.abcelem.maxpitch>this.max)&&(this.max=e.abcelem.maxpitch))},t.prototype.addBeam=function(e){this.beams.push(e)},t.prototype.setStemDirection=function(){this.average=n(this.total,this.count),this.forceup?this.stemsUp=!0:this.forcedown?this.stemsUp=!1:this.stemsUp=this.average<6,delete this.count,this.total=0},t.prototype.calcDir=function(){this.average=n(this.total,this.elems.length),this.forceup?this.stemsUp=!0:this.forcedown?this.stemsUp=!1:this.stemsUp=this.average<6;for(var e=this.stemsUp?"up":"down",t=0;t<this.elems.length;t++)for(var r=0;r<this.elems[t].heads.length;r++)this.elems[t].heads[r].stemDir=e},e.exports=t},42708:(e,t,n)=>{const r=n(51052),i=n(79099);function a(e,t,n,r,i,a,o){this.rows=[],e.unalignedWords&&e.unalignedWords.length>0&&this.unalignedWords(e.unalignedWords,r,i,a,o),this.extraText(e,r,i,a,o),e.footer&&n&&this.footer(e.footer,t,r,o)}function o(e,t,n,r,a,o,s){n&&(t&&(n="string"==typeof n?t+n:[{text:t}].concat(n)),i(e,n,"historyfont",a=o?"abcjs-extra-text "+a:"","description",r,{absElemType:"extraText",anchor:"start"},s))}function s(e,t,n,a,o,s,c,l,u,h,d,f){if(n){l=d?"abcjs-extra-text "+l:"";var p=f.calc("A",o,l);if("string"==typeof n)t&&(n=t+"\n"+n),r(e,{marginLeft:a,text:n,font:o,absElemType:"extraText",name:u,"dominant-baseline":"middle",klass:l},f);else{e.push({startGroup:c,klass:l,name:u}),e.push({move:h.info}),t&&(r(e,{marginLeft:a,text:t,font:o,absElemType:"extraText",name:u,"dominant-baseline":"middle"},f),e.push({move:3*p.height/4}));for(var m=0;m<n.length;m++)i(e,n[m],o,"",u,a,{anchor:"start"},f),m<n.length-1&&"string"==typeof n[m]&&"string"!=typeof n[m+1]&&e.push({move:3*p.height/4});e.push({endGroup:c,absElemType:s,startChar:-1,endChar:-1,name:u}),e.push({move:p.height})}}}a.prototype.unalignedWords=function(e,t,n,r,i){var a=r?"abcjs-unaligned-words":"",o="wordsfont",c=i.calc("i",o,a);this.rows.push({move:n.words}),s(this.rows,"",e,t,o,"unalignedWords","unalignedWords",a,"unalignedWords",n,r,i),this.rows.push({move:c.height})},a.prototype.extraText=function(e,t,n,r,i){o(this.rows,"Book: ",e.book,t,"abcjs-book",r,i),o(this.rows,"Source: ",e.source,t,"abcjs-source",r,i),o(this.rows,"Discography: ",e.discography,t,"abcjs-discography",r,i),s(this.rows,"Notes:",e.notes,t,"historyfont","extraText","notes","abcjs-notes","description",n,r,i),o(this.rows,"Transcription: ",e.transcription,t,"abcjs-transcription",r,i),s(this.rows,"History:",e.history,t,"historyfont","extraText","history","abcjs-history","description",n,r,i),o(this.rows,"Copyright: ",e["abc-copyright"],t,"abcjs-copyright",r,i),o(this.rows,"Creator: ",e["abc-creator"],t,"abcjs-creator",r,i),o(this.rows,"Edited By: ",e["abc-edited-by"],t,"abcjs-edited-by",r,i)},a.prototype.footer=function(e,t,n,i){var a="header meta-bottom",o="footerfont";this.rows.push({startGroup:"footer",klass:a}),r(this.rows,{marginLeft:n,text:e.left,font:o,klass:a,name:"footer"},i),r(this.rows,{marginLeft:n+t/2,text:e.center,font:o,klass:a,anchor:"middle",name:"footer"},i),r(this.rows,{marginLeft:n+t,text:e.right,font:o,klass:a,anchor:"end",name:"footer"},i)},e.exports=a},23019:e=>{var t=function(e,t){this.startVoice=e,this.type=t};t.prototype.setBottomStaff=function(e){this.endVoice=e,this.startVoice.header&&!this.endVoice.header&&(this.header=this.startVoice.header,delete this.startVoice.header)},t.prototype.continuing=function(e){this.lastContinuedVoice=e},t.prototype.getWidth=function(){return 10},t.prototype.isStartVoice=function(e){return!!(this.startVoice&&this.startVoice.staff&&this.startVoice.staff.voices.length>0&&this.startVoice.staff.voices[0]===e)},e.exports=t},956:e=>{e.exports=function(e,t,n,r){this.type="CrescendoElem",this.anchor1=e,this.anchor2=t,this.dir=n,"above"===r?this.dynamicHeightAbove=6:this.dynamicHeightBelow=6,this.pitch=void 0}},14275:e=>{e.exports=function(e,t,n){this.type="DynamicDecoration",this.anchor=e,this.dec=t,"below"===n?this.volumeHeightBelow=6:this.volumeHeightAbove=6,this.pitch=void 0}},67959:e=>{e.exports=function(e,t,n){this.type="EndingElem",this.text=e,this.anchor1=t,this.anchor2=n,this.endingHeightAbove=5,this.pitch=void 0}},12643:e=>{e.exports=function(e,t,n,r,i,a){var o,s=e.text;this.rows=[],t&&this.rows.push({move:t});var c=n.calc("textfont","defined-text");if(""===s)this.rows.push({move:2*c.attr["font-size"]});else if("string"==typeof s)this.rows.push({move:c.attr["font-size"]/2}),this.rows.push({left:r,text:s,font:"textfont",klass:"defined-text",anchor:"start",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),o=a.calc(s,"textfont","defined-text"),this.rows.push({move:o.height});else if(s){for(var l=0,u=r,h="textfont",d=0;d<s.length;d++)h=s[d].font?s[d].font:"textfont",this.rows.push({left:u,text:s[d].text,font:h,klass:"defined-text",anchor:"start",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),u+=(o=a.calc(s[d].text,n.calc(h,"defined-text").font,"defined-text")).width+o.height/2,l=Math.max(l,o.height);this.rows.push({move:l})}else if(1===e.length){var f=i/2;this.rows.push({left:f,text:e[0].text,font:"textfont",klass:"defined-text",anchor:"middle",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),o=a.calc(e[0].text,"textfont","defined-text"),this.rows.push({move:o.height})}}},45078:e=>{e.exports=function(e,t){this.type="GlissandoElem",this.anchor1=e,this.anchor2=t}},99032:e=>{var t=function(e,t,n,r,i){switch(i=i||{},this.x=0,this.c=e,this.dx=t,this.w=n,this.pitch=r,this.scalex=i.scalex||1,this.scaley=i.scaley||1,this.type=i.type||"symbol",this.pitch2=i.pitch2,this.linewidth=i.linewidth,this.klass=i.klass,this.anchor=i.anchor?i.anchor:"middle",this.top=r,void 0!==this.pitch2&&this.pitch2>this.top&&(this.top=this.pitch2),this.bottom=r,void 0!==this.pitch2&&this.pitch2<this.bottom&&(this.bottom=this.pitch2),i.thickness&&(this.top+=i.thickness/2,this.bottom-=i.thickness/2),i.stemHeight&&(i.stemHeight>0?this.top+=i.stemHeight:this.bottom+=i.stemHeight),i.dim&&(this.dim=i.dim),i.position&&(this.position=i.position),this.height=i.height?i.height:4,i.top&&(this.top=i.top),i.bottom&&(this.bottom=i.bottom),i.name?this.name=i.name:this.c?this.name=this.c:this.name=this.type,i.realWidth?this.realWidth=i.realWidth:this.realWidth=this.w,this.centerVertically=!1,this.type){case"debug":this.chordHeightAbove=this.height;break;case"lyric":i.position&&"below"===i.position?this.lyricHeightBelow=this.height:this.lyricHeightAbove=this.height;break;case"chord":i.position&&"below"===i.position?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height;break;case"text":void 0===this.pitch?i.position&&"below"===i.position?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height:this.centerVertically=!0;break;case"part":this.partHeightAbove=this.height}};t.prototype.getChordDim=function(){if("debug"===this.type)return null;if(!this.chordHeightAbove&&!this.chordHeightBelow)return null;var e="chord"===this.type?this.realWidth/2:0,t=this.x-e-0;return{left:t,right:t+this.realWidth+0}},t.prototype.invertLane=function(e){void 0===this.lane&&(this.lane=0),this.lane=e-this.lane-1},t.prototype.putChordInLane=function(e){this.lane=e,this.chordHeightAbove?this.chordHeightAbove=1.25*this.height*this.lane:this.chordHeightBelow=1.25*this.height*this.lane},t.prototype.getLane=function(){return void 0===this.lane?0:this.lane},t.prototype.setX=function(e){this.x=e+this.dx},e.exports=t},79099:(e,t,n)=>{const r=n(51052);e.exports=function(e,t,n,i,a,o,s,c){var l=c.calc("i",n,i);if(""===t)e.push({move:l.height});else{if("string"==typeof t)return void r(e,{marginLeft:o,text:t,font:n,klass:i,marginTop:s.marginTop,anchor:s.anchor,absElemType:s.absElemType,info:s.info,name:a},c);s.marginTop&&e.push({move:s.marginTop});var u=0,h={left:o,anchor:s.anchor,phrases:[]};i&&(h.klass=i),e.push(h);for(var d=0;d<t.length;d++){var f=t[d],p=f.font?f.font:c.attr(n,i).font,m={content:f.text};p&&(m.attrs={"font-family":c.getFamily(p.face),"font-size":p.size,"font-weight":p.weight,"font-style":p.style,"font-decoration":p.decoration}),h.phrases.push(m);var g=c.calc(f.text,p,i);u=Math.max(u,g.height)," "===f.text[f.text.length-1]&&l.width}e.push({move:u})}}},11746:e=>{e.exports=function(e,t,n){this.rows=[],e&&this.rows.push({move:e}),this.rows.push({separator:t,absElemType:"separator"}),n&&this.rows.push({move:n})}},78516:(e,t,n)=>{var r=n(97636),i=function(e){this.getTextSize=e,this.voices=[],this.staffs=[],this.brace=void 0,this.bracket=void 0};i.prototype.setLimit=function(e,t){t.specialY[e]&&(t.staff.specialY[e]?t.staff.specialY[e]=Math.max(t.staff.specialY[e],t.specialY[e]):t.staff.specialY[e]=t.specialY[e])},i.prototype.addVoice=function(e,t,n){var r=this.voices.length;this.voices[r]=e,this.staffs[t]?this.staffs[t].voices.push(r):this.staffs[this.staffs.length]={top:10,bottom:2,lines:n,voices:[r],specialY:{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}},e.staff=this.staffs[t]},i.prototype.setHeight=function(){this.height=r(this)},i.prototype.setWidth=function(e){this.w=e;for(var t=0;t<this.voices.length;t++)this.voices[t].setWidth(e)},i.prototype.setStaffLimits=function(e){e.staff.top=Math.max(e.staff.top,e.top),e.staff.bottom=Math.min(e.staff.bottom,e.bottom),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)},e.exports=i},75677:e=>{e.exports=function(e,t,n,r,i,a){this.rows=[],e&&this.rows.push({move:e});var o=t.titleleft?"start":"middle",s=t.titleleft?i:r;this.rows.push({left:s,text:n.text,font:"subtitlefont",klass:"text subtitle",anchor:o,startChar:n.startChar,endChar:n.endChar,absElemType:"subtitle",name:"subtitle"});var c=a.calc(n.text,"subtitlefont","text subtitle");this.rows.push({move:c.height})}},38651:(e,t,n)=>{var r=n(2233),i=n(99032),a=function(e,t,n){this.type="TempoElement",this.tempo=e,this.tempo.type="tempo",this.tuneNumber=t,this.totalHeightInPitches=6,this.tempoHeightAbove=this.totalHeightInPitches,this.pitch=void 0,this.tempo.duration&&!this.tempo.suppressBpm&&(this.note=this.createNote(n,e,t))};a.prototype.setX=function(e){this.x=e},a.prototype.createNote=function(e,t,n){var a,o,s,c=t.duration[0],l=new r(t,c,1,"tempo",n);c<=1/32?(s="noteheads.quarter",o="flags.u32nd",a=0):c<=1/16?(s="noteheads.quarter",o="flags.u16th",a=0):c<=3/32?(s="noteheads.quarter",o="flags.u16nd",a=1):c<=1/8?(s="noteheads.quarter",o="flags.u8th",a=0):c<=3/16?(s="noteheads.quarter",o="flags.u8th",a=1):c<=1/4?(s="noteheads.quarter",a=0):c<=3/8?(s="noteheads.quarter",a=1):c<=.5?(s="noteheads.half",a=0):c<=3/4?(s="noteheads.half",a=1):c<=1?(s="noteheads.whole",a=0):c<=1.5?(s="noteheads.whole",a=1):c<=2?(s="noteheads.dbl",a=0):(s="noteheads.dbl",a=1);var u,h=e(l,s,{verticalPos:0},{dir:"up",flag:o,dot:a,scale:.75}).notehead;if(l.addHead(h),"noteheads.whole"!==s&&"noteheads.dbl"!==s){var d=h.dx+h.w;u=new i(null,d,0,.25,{type:"stem",pitch2:3.75,linewidth:-.6}),l.addRight(u)}return l},e.exports=a},88562:e=>{var t=function(e){this.type="TieElem",this.anchor1=e.anchor1,this.anchor2=e.anchor2,e.isGrace&&(this.isGrace=!0),e.fixedY&&(this.fixedY=!0),e.stemDir&&(this.stemDir=e.stemDir),void 0!==e.voiceNumber&&(this.voiceNumber=e.voiceNumber),void 0!==e.style&&(this.dotted=!0),this.internalNotes=[]};t.prototype.addInternalNote=function(e){this.internalNotes.push(e)},t.prototype.setEndAnchor=function(e){this.anchor2=e,this.anchor1?(this.top=Math.max(this.anchor1.pitch,this.anchor2.pitch)+4,this.bottom=Math.min(this.anchor1.pitch,this.anchor2.pitch)-4):(this.top=this.anchor2.pitch+4,this.bottom=this.anchor2.pitch-4)},t.prototype.setStartX=function(e){this.startLimitX=e},t.prototype.setEndX=function(e){this.endLimitX=e},t.prototype.setHint=function(){this.hint=!0},t.prototype.calcTieDirection=function(){if(this.isGrace)this.above=!1;else if(0===this.voiceNumber)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var e;e=this.anchor1?this.anchor1.pitch:this.anchor2?this.anchor2.pitch:14,this.anchor1&&"down"===this.anchor1.stemDir&&this.anchor2&&"down"===this.anchor2.stemDir?this.above=!0:this.anchor1&&"up"===this.anchor1.stemDir&&this.anchor2&&"up"===this.anchor2.stemDir?this.above=!1:this.anchor1&&this.anchor2?this.above=e>=6:this.anchor1?this.above="down"===this.anchor1.stemDir:this.anchor2?this.above="down"===this.anchor2.stemDir:this.above=e>=6}},t.prototype.calcSlurDirection=function(){if(this.isGrace)this.above=!1;else if(0===this.voiceNumber)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var e=!1;this.anchor1&&"down"===this.anchor1.stemDir&&(e=!0),this.anchor2&&"down"===this.anchor2.stemDir&&(e=!0);for(var t=0;t<this.internalNotes.length;t++)"down"===this.internalNotes[t].stemDir&&(e=!0);this.above=e}},t.prototype.calcX=function(e,t){this.anchor1?(this.startX=this.anchor1.x,this.anchor1.scalex<1&&(this.startX-=3)):this.startLimitX?this.startX=this.startLimitX.x+this.startLimitX.w:this.anchor2?this.startX=this.anchor2.x-20:this.startX=e,!this.anchor1&&this.dotted&&(this.startX-=3),this.anchor2?this.endX=this.anchor2.x:this.endLimitX?this.endX=this.endLimitX.x:this.endX=t},t.prototype.calcTieY=function(){this.anchor1?this.startY=this.anchor1.pitch:this.anchor2?this.startY=this.anchor2.pitch:this.startY=this.above?14:0,this.anchor2?this.endY=this.anchor2.pitch:this.anchor1?this.endY=this.anchor1.pitch:this.endY=this.above?14:0},t.prototype.calcSlurY=function(){if(this.anchor1&&this.anchor2){this.above&&"up"===this.anchor1.stemDir&&!this.fixedY?(this.startY=(this.anchor1.highestVert+this.anchor1.pitch)/2,this.startX+=this.anchor1.w/2):this.startY=this.anchor1.pitch;var e=this.anchor2.parent.beam&&this.anchor2.parent.beam.stemsUp&&this.anchor2.parent.beam.elems[0]!==this.anchor2.parent,t=(this.anchor2.highestVert+this.anchor2.pitch)/2;if(this.above&&"up"===this.anchor2.stemDir&&!this.fixedY&&!e&&t<this.startY?(this.endY=t,this.endX+=Math.round(this.anchor2.w/2)):this.endY=this.above&&e?this.anchor2.highestVert:this.anchor2.pitch,1===this.anchor1.scalex){var n=!!this.anchor1.parent.beam,r=!!this.anchor2.parent.beam;n&&(this.anchor1.parent===this.anchor1.parent.beam.elems[this.anchor1.parent.beam.elems.length-1]||(this.above?this.startY=this.anchor1.parent.fixed.t:this.startY=this.anchor1.parent.fixed.b)),r&&(this.anchor2.parent===this.anchor2.parent.beam.elems[0]||(this.above?this.endY=this.anchor2.parent.fixed.t:this.endY=this.anchor2.parent.fixed.b))}}else this.anchor1?this.startY=this.endY=this.anchor1.pitch:this.anchor2?this.startY=this.endY=this.anchor2.pitch:(this.startY=this.above?14:0,this.endY=this.above?14:0)},t.prototype.avoidCollisionAbove=function(){if(this.above){for(var e=-50,t=0;t<this.internalNotes.length;t++)this.internalNotes[t].highestVert>e&&(e=this.internalNotes[t].highestVert);e>this.startY&&e>this.endY&&(this.startY=this.endY=e-1)}},t.prototype.getYBounds=function(){var e,t;return this.isTie?(this.calcTieDirection(),this.calcX(10,1e3),this.calcTieY()):(this.calcSlurDirection(),this.calcX(10,1e3),this.calcSlurY()),this.above?e=(t=Math.min(this.startY,this.endY))+3:t=(e=Math.min(this.startY,this.endY))-3,[e,t]},e.exports=t},27096:(e,t,n)=>{const r=n(51052),i=n(79099);e.exports=function(e,t,n,a,o,s,c,l,u,h){if(this.rows=[],e.header&&s){var d=h.calc("X","headerfont","abcjs-header abcjs-meta-top").height;r(this.rows,{marginLeft:c,text:e.header.left,font:"headerfont",klass:"header meta-top",marginTop:-d,info:t.header,name:"header"},h),r(this.rows,{marginLeft:c+o/2,text:e.header.center,font:"headerfont",klass:"header meta-top",marginTop:-d,anchor:"middle",info:t.header,name:"header"},h),r(this.rows,{marginLeft:c+o,text:e.header.right,font:"headerfont",klass:"header meta-top",marginTop:-d,anchor:"end",info:t.header,name:"header"},h)}s&&this.rows.push({move:l.top});var f=n.titleleft?"start":"middle",p=n.titleleft?c:c+o/2;if(e.title){var m=u?"abcjs-title":"";i(this.rows,e.title,"titlefont",m,"title",p,{marginTop:l.title,anchor:f,absElemType:"title",info:t.title},h)}if(a.length)for(var g=0;g<a.length&&a[g].subtitle;)m=u?"abcjs-text abcjs-subtitle":"",i(this.rows,a[g].subtitle.text,"subtitlefont",m,"subtitle",p,{marginTop:l.subtitle,anchor:f,absElemType:"subtitle",info:a[g].subtitle},h),g++;if(e.rhythm||e.origin||e.composer){if(this.rows.push({move:l.composer}),e.rhythm&&e.rhythm.length>0){var v=!(!e.composer&&!e.origin);m=u?"abcjs-rhythm":"",r(this.rows,{marginLeft:c,text:e.rhythm,font:"infofont",klass:m,absElemType:"rhythm",noMove:v,info:t.rhythm,name:"rhythm"},h)}e.composer&&e.composer,e.origin&&e.origin;var b=e.composer?e.composer:"";e.origin&&("string"==typeof b&&"string"==typeof e.origin?b+=" ("+e.origin+")":"string"==typeof b&&"string"!=typeof e.origin?((b=[{text:b}]).push({text:" ("}),(b=b.concat(e.origin)).push({text:")"})):(b.push({text:" ("}),(b=b.concat(e.origin)).push({text:")"}))),b&&(m=u?"abcjs-composer":"",i(this.rows,b,"composerfont",m,"composer",c+o,{anchor:"end",absElemType:"composer",info:t.composer,ingroup:!0},h))}e.author&&e.author.length>0&&(m=u?"abcjs-author":"",i(this.rows,e.author,"composerfont",m,"author",c+o,{anchor:"end",absElemType:"author",info:t.author},h)),e.partOrder&&e.partOrder.length>0&&(m=u?"abcjs-part-order":"",i(this.rows,e.partOrder,"partsfont",m,"part-order",c,{absElemType:"partOrder",info:t.partOrder,anchor:"start"},h))}},41876:e=>{var t=function(e,t,n){this.type="TripletElem",this.anchor1=t,this.number=e,this.durationClass=("d"+Math.round(1e3*t.parent.durationClass)/1e3).replace(/\./,"-"),this.middleElems=[],this.flatBeams=n.flatBeams};t.prototype.isClosed=function(){return!!this.anchor2},t.prototype.middleNote=function(e){this.middleElems.push(e)},t.prototype.setCloseAnchor=function(e){this.anchor2=e,this.anchor1.parent.beam&&"up"!==this.anchor1.stemDir||(this.endingHeightAbove=4)},e.exports=t},97802:e=>{var t=function(e,t){this.children=[],this.beams=[],this.otherchildren=[],this.w=0,this.duplicate=!1,this.voicenumber=e,this.voicetotal=t,this.bottom=7,this.top=7,this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};t.prototype.addChild=function(e){if("bar"===e.type){for(var t=!0,n=0;t&&n<this.children.length;n++)this.children[n].type.indexOf("staff-extra")<0&&"tempo"!==this.children[n].type&&(t=!1);t||(this.beams.push("bar"),this.otherchildren.push("bar"))}this.children[this.children.length]=e,this.setRange(e)},t.prototype.setLimit=function(e,t){var n=t.specialY;n||(n=t),n[e]&&(this.specialY[e]?this.specialY[e]=Math.max(this.specialY[e],n[e]):this.specialY[e]=n[e])},t.prototype.adjustRange=function(e){void 0!==e.bottom&&(this.bottom=Math.min(this.bottom,e.bottom)),void 0!==e.top&&(this.top=Math.max(this.top,e.top))},t.prototype.setRange=function(e){this.adjustRange(e),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)},t.prototype.addOther=function(e){this.otherchildren.push(e),this.setRange(e)},t.prototype.addBeam=function(e){this.beams.push(e)},t.prototype.setWidth=function(e){this.w=e},e.exports=t},75096:(e,t,n)=>{var r=n(91786),i={0:{d:[["M",4.83,-14.97],["c",.33,-.03,1.11,0,1.47,.06],["c",1.68,.36,2.97,1.59,3.78,3.6],["c",1.2,2.97,.81,6.96,-.9,9.27],["c",-.78,1.08,-1.71,1.71,-2.91,1.95],["c",-.45,.09,-1.32,.09,-1.77,0],["c",-.81,-.18,-1.47,-.51,-2.07,-1.02],["c",-2.34,-2.07,-3.15,-6.72,-1.74,-10.2],["c",.87,-2.16,2.28,-3.42,4.14,-3.66],["z"],["m",1.11,.87],["c",-.21,-.06,-.69,-.09,-.87,-.06],["c",-.54,.12,-.87,.42,-1.17,.99],["c",-.36,.66,-.51,1.56,-.6,3],["c",-.03,.75,-.03,4.59,0,5.31],["c",.09,1.5,.27,2.4,.6,3.06],["c",.24,.48,.57,.78,.96,.9],["c",.27,.09,.78,.09,1.05,0],["c",.39,-.12,.72,-.42,.96,-.9],["c",.33,-.66,.51,-1.56,.6,-3.06],["c",.03,-.72,.03,-4.56,0,-5.31],["c",-.09,-1.47,-.27,-2.37,-.6,-3.03],["c",-.24,-.48,-.54,-.78,-.93,-.9],["z"]],w:10.78,h:14.959},1:{d:[["M",3.3,-15.06],["c",.06,-.06,.21,-.03,.66,.15],["c",.81,.39,1.08,.39,1.83,.03],["c",.21,-.09,.39,-.15,.42,-.15],["c",.12,0,.21,.09,.27,.21],["c",.06,.12,.06,.33,.06,5.94],["c",0,3.93,0,5.85,.03,6.03],["c",.06,.36,.15,.69,.27,.96],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.12,-.27,.21,-.6,.27,-.96],["c",.03,-.18,.03,-1.59,.03,-4.29],["c",0,-3.87,0,-4.05,-.06,-4.14],["c",-.09,-.15,-.18,-.24,-.39,-.24],["c",-.12,0,-.15,.03,-.21,.06],["c",-.03,.06,-.45,.99,-.96,2.13],["c",-.48,1.14,-.9,2.1,-.93,2.16],["c",-.06,.15,-.21,.24,-.33,.24],["c",-.24,0,-.42,-.18,-.42,-.39],["c",0,-.06,3.27,-7.62,3.33,-7.74],["z"]],w:8.94,h:15.058},2:{d:[["M",4.23,-14.97],["c",.57,-.06,1.68,0,2.34,.18],["c",.69,.18,1.5,.54,2.01,.9],["c",1.35,.96,1.95,2.25,1.77,3.81],["c",-.15,1.35,-.66,2.34,-1.68,3.15],["c",-.6,.48,-1.44,.93,-3.12,1.65],["c",-1.32,.57,-1.8,.81,-2.37,1.14],["c",-.57,.33,-.57,.33,-.24,.27],["c",.39,-.09,1.26,-.09,1.68,0],["c",.72,.15,1.41,.45,2.1,.9],["c",.99,.63,1.86,.87,2.55,.75],["c",.24,-.06,.42,-.15,.57,-.3],["c",.12,-.09,.3,-.42,.3,-.51],["c",0,-.09,.12,-.21,.24,-.24],["c",.18,-.03,.39,.12,.39,.3],["c",0,.12,-.15,.57,-.3,.87],["c",-.54,1.02,-1.56,1.74,-2.79,2.01],["c",-.42,.09,-1.23,.09,-1.62,.03],["c",-.81,-.18,-1.32,-.45,-2.01,-1.11],["c",-.45,-.45,-.63,-.57,-.96,-.69],["c",-.84,-.27,-1.89,.12,-2.25,.9],["c",-.12,.21,-.21,.54,-.21,.72],["c",0,.12,-.12,.21,-.27,.24],["c",-.15,0,-.27,-.03,-.33,-.15],["c",-.09,-.21,.09,-1.08,.33,-1.71],["c",.24,-.66,.66,-1.26,1.29,-1.89],["c",.45,-.45,.9,-.81,1.92,-1.56],["c",1.29,-.93,1.89,-1.44,2.34,-1.98],["c",.87,-1.05,1.26,-2.19,1.2,-3.63],["c",-.06,-1.29,-.39,-2.31,-.96,-2.91],["c",-.36,-.33,-.72,-.51,-1.17,-.54],["c",-.84,-.03,-1.53,.42,-1.59,1.05],["c",-.03,.33,.12,.6,.57,1.14],["c",.45,.54,.54,.87,.42,1.41],["c",-.15,.63,-.54,1.11,-1.08,1.38],["c",-.63,.33,-1.2,.33,-1.83,0],["c",-.24,-.12,-.33,-.18,-.54,-.39],["c",-.18,-.18,-.27,-.3,-.36,-.51],["c",-.24,-.45,-.27,-.84,-.21,-1.38],["c",.12,-.75,.45,-1.41,1.02,-1.98],["c",.72,-.72,1.74,-1.17,2.85,-1.32],["z"]],w:10.764,h:14.97},3:{d:[["M",3.78,-14.97],["c",.3,-.03,1.41,0,1.83,.06],["c",2.22,.3,3.51,1.32,3.72,2.91],["c",.03,.33,.03,1.26,-.03,1.65],["c",-.12,.84,-.48,1.47,-1.05,1.77],["c",-.27,.15,-.36,.24,-.45,.39],["c",-.09,.21,-.09,.36,0,.57],["c",.09,.15,.18,.24,.51,.39],["c",.75,.42,1.23,1.14,1.41,2.13],["c",.06,.42,.06,1.35,0,1.71],["c",-.18,.81,-.48,1.38,-1.02,1.95],["c",-.75,.72,-1.8,1.2,-3.18,1.38],["c",-.42,.06,-1.56,.06,-1.95,0],["c",-1.89,-.33,-3.18,-1.29,-3.51,-2.64],["c",-.03,-.12,-.03,-.33,-.03,-.6],["c",0,-.36,0,-.42,.06,-.63],["c",.12,-.3,.27,-.51,.51,-.75],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.51,.36,-.63,.54,-.6,.87],["c",.06,.54,.54,.9,1.38,.99],["c",.36,.06,.72,.03,.96,-.06],["c",.81,-.27,1.29,-1.23,1.44,-2.79],["c",.03,-.45,.03,-1.95,-.03,-2.37],["c",-.09,-.75,-.33,-1.23,-.75,-1.44],["c",-.33,-.18,-.45,-.18,-1.98,-.18],["c",-1.35,0,-1.41,0,-1.5,-.06],["c",-.18,-.12,-.24,-.39,-.12,-.6],["c",.12,-.15,.15,-.15,1.68,-.15],["c",1.5,0,1.62,0,1.89,-.15],["c",.18,-.09,.42,-.36,.54,-.57],["c",.18,-.42,.27,-.9,.3,-1.95],["c",.03,-1.2,-.06,-1.8,-.36,-2.37],["c",-.24,-.48,-.63,-.81,-1.14,-.96],["c",-.3,-.06,-1.08,-.06,-1.38,.03],["c",-.6,.15,-.9,.42,-.96,.84],["c",-.03,.3,.06,.45,.63,.84],["c",.33,.24,.42,.39,.45,.63],["c",.03,.72,-.57,1.5,-1.32,1.65],["c",-1.05,.27,-2.1,-.57,-2.1,-1.65],["c",0,-.45,.15,-.96,.39,-1.38],["c",.12,-.21,.54,-.63,.81,-.81],["c",.57,-.42,1.38,-.69,2.25,-.81],["z"]],w:9.735,h:14.967},4:{d:[["M",8.64,-14.94],["c",.27,-.09,.42,-.12,.54,-.03],["c",.09,.06,.15,.21,.15,.3],["c",-.03,.06,-1.92,2.31,-4.23,5.04],["c",-2.31,2.73,-4.23,4.98,-4.26,5.01],["c",-.03,.06,.12,.06,2.55,.06],["l",2.61,0],["l",0,-2.37],["c",0,-2.19,.03,-2.37,.06,-2.46],["c",.03,-.06,.21,-.18,.57,-.42],["c",1.08,-.72,1.38,-1.08,1.86,-2.16],["c",.12,-.3,.24,-.54,.27,-.57],["c",.12,-.12,.39,-.06,.45,.12],["c",.06,.09,.06,.57,.06,3.96],["l",0,3.9],["l",1.08,0],["c",1.05,0,1.11,0,1.2,.06],["c",.24,.15,.24,.54,0,.69],["c",-.09,.06,-.15,.06,-1.2,.06],["l",-1.08,0],["l",0,.33],["c",0,.57,.09,1.11,.3,1.53],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.21,-.42,.3,-.96,.3,-1.53],["l",0,-.33],["l",-2.7,0],["c",-2.91,0,-2.85,0,-3.09,-.15],["c",-.18,-.12,-.3,-.39,-.27,-.54],["c",.03,-.06,.18,-.24,.33,-.45],["c",.75,-.9,1.59,-2.07,2.13,-3.03],["c",.33,-.54,.84,-1.62,1.05,-2.16],["c",.57,-1.41,.84,-2.64,.9,-4.05],["c",.03,-.63,.06,-.72,.24,-.81],["l",.12,-.06],["l",.45,.12],["c",.66,.18,1.02,.24,1.47,.27],["c",.6,.03,1.23,-.09,2.01,-.33],["z"]],w:11.795,h:14.994},5:{d:[["M",1.02,-14.94],["c",.12,-.09,.03,-.09,1.08,.06],["c",2.49,.36,4.35,.36,6.96,-.06],["c",.57,-.09,.66,-.06,.81,.06],["c",.15,.18,.12,.24,-.15,.51],["c",-1.29,1.26,-3.24,2.04,-5.58,2.31],["c",-.6,.09,-1.2,.12,-1.71,.12],["c",-.39,0,-.45,0,-.57,.06],["c",-.09,.06,-.15,.12,-.21,.21],["l",-.06,.12],["l",0,1.65],["l",0,1.65],["l",.21,-.21],["c",.66,-.57,1.41,-.96,2.19,-1.14],["c",.33,-.06,1.41,-.06,1.95,0],["c",2.61,.36,4.02,1.74,4.26,4.14],["c",.03,.45,.03,1.08,-.03,1.44],["c",-.18,1.02,-.78,2.01,-1.59,2.7],["c",-.72,.57,-1.62,1.02,-2.49,1.2],["c",-1.38,.27,-3.03,.06,-4.2,-.54],["c",-1.08,-.54,-1.71,-1.32,-1.86,-2.28],["c",-.09,-.69,.09,-1.29,.57,-1.74],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.18,.12,-.36,.3,-.42,.33],["c",-.36,.42,-.18,.99,.36,1.26],["c",.51,.27,1.47,.36,2.01,.27],["c",.93,-.21,1.47,-1.17,1.65,-2.91],["c",.06,-.45,.06,-1.89,0,-2.31],["c",-.15,-1.2,-.51,-2.1,-1.05,-2.55],["c",-.21,-.18,-.54,-.36,-.81,-.39],["c",-.3,-.06,-.84,-.03,-1.26,.06],["c",-.93,.18,-1.65,.6,-2.16,1.2],["c",-.15,.21,-.27,.3,-.39,.3],["c",-.15,0,-.3,-.09,-.36,-.18],["c",-.06,-.09,-.06,-.15,-.06,-3.66],["c",0,-3.39,0,-3.57,.06,-3.66],["c",.03,-.06,.09,-.15,.15,-.18],["z"]],w:10.212,h:14.997},6:{d:[["M",4.98,-14.97],["c",.36,-.03,1.2,0,1.59,.06],["c",.9,.15,1.68,.51,2.25,1.05],["c",.57,.51,.87,1.23,.84,1.98],["c",-.03,.51,-.21,.9,-.6,1.26],["c",-.24,.24,-.45,.39,-.75,.51],["c",-.21,.06,-.27,.06,-.6,.06],["c",-.33,0,-.39,0,-.6,-.06],["c",-.3,-.12,-.51,-.27,-.75,-.51],["c",-.39,-.36,-.57,-.78,-.57,-1.26],["c",0,-.27,0,-.3,.09,-.42],["c",.03,-.09,.18,-.21,.3,-.3],["c",.12,-.09,.3,-.21,.39,-.27],["c",.09,-.06,.21,-.18,.27,-.24],["c",.06,-.12,.09,-.15,.09,-.33],["c",0,-.18,-.03,-.24,-.09,-.36],["c",-.24,-.39,-.75,-.6,-1.38,-.57],["c",-.54,.03,-.9,.18,-1.23,.48],["c",-.81,.72,-1.08,2.16,-.96,5.37],["l",0,.63],["l",.3,-.12],["c",.78,-.27,1.29,-.33,2.1,-.27],["c",1.47,.12,2.49,.54,3.27,1.29],["c",.48,.51,.81,1.11,.96,1.89],["c",.06,.27,.06,.42,.06,.93],["c",0,.54,0,.69,-.06,.96],["c",-.15,.78,-.48,1.38,-.96,1.89],["c",-.54,.51,-1.17,.87,-1.98,1.08],["c",-1.14,.3,-2.4,.33,-3.24,.03],["c",-1.5,-.48,-2.64,-1.89,-3.27,-4.02],["c",-.36,-1.23,-.51,-2.82,-.42,-4.08],["c",.3,-3.66,2.28,-6.3,4.95,-6.66],["z"],["m",.66,7.41],["c",-.27,-.09,-.81,-.12,-1.08,-.06],["c",-.72,.18,-1.08,.69,-1.23,1.71],["c",-.06,.54,-.06,3,0,3.54],["c",.18,1.26,.72,1.77,1.8,1.74],["c",.39,-.03,.63,-.09,.9,-.27],["c",.66,-.42,.9,-1.32,.9,-3.24],["c",0,-2.22,-.36,-3.12,-1.29,-3.42],["z"]],w:9.956,h:14.982},7:{d:[["M",.21,-14.97],["c",.21,-.06,.45,0,.54,.15],["c",.06,.09,.06,.15,.06,.39],["c",0,.24,0,.33,.06,.42],["c",.06,.12,.21,.24,.27,.24],["c",.03,0,.12,-.12,.24,-.21],["c",.96,-1.2,2.58,-1.35,3.99,-.42],["c",.15,.12,.42,.3,.54,.45],["c",.48,.39,.81,.57,1.29,.6],["c",.69,.03,1.5,-.3,2.13,-.87],["c",.09,-.09,.27,-.3,.39,-.45],["c",.12,-.15,.24,-.27,.3,-.3],["c",.18,-.06,.39,.03,.51,.21],["c",.06,.18,.06,.24,-.27,.72],["c",-.18,.24,-.54,.78,-.78,1.17],["c",-2.37,3.54,-3.54,6.27,-3.87,9],["c",-.03,.33,-.03,.66,-.03,1.26],["c",0,.9,0,1.08,.15,1.89],["c",.06,.45,.06,.48,.03,.6],["c",-.06,.09,-.21,.21,-.3,.21],["c",-.03,0,-.27,-.06,-.54,-.15],["c",-.84,-.27,-1.11,-.3,-1.65,-.3],["c",-.57,0,-.84,.03,-1.56,.27],["c",-.6,.18,-.69,.21,-.81,.15],["c",-.12,-.06,-.21,-.18,-.21,-.3],["c",0,-.15,.6,-1.44,1.2,-2.61],["c",1.14,-2.22,2.73,-4.68,5.1,-8.01],["c",.21,-.27,.36,-.48,.33,-.48],["c",0,0,-.12,.06,-.27,.12],["c",-.54,.3,-.99,.39,-1.56,.39],["c",-.75,.03,-1.2,-.18,-1.83,-.75],["c",-.99,-.9,-1.83,-1.17,-2.31,-.72],["c",-.18,.15,-.36,.51,-.45,.84],["c",-.06,.24,-.06,.33,-.09,1.98],["c",0,1.62,-.03,1.74,-.06,1.8],["c",-.15,.24,-.54,.24,-.69,0],["c",-.06,-.09,-.06,-.15,-.06,-3.57],["c",0,-3.42,0,-3.48,.06,-3.57],["c",.03,-.06,.09,-.12,.15,-.15],["z"]],w:10.561,h:15.093},8:{d:[["M",4.98,-14.97],["c",.33,-.03,1.02,-.03,1.32,0],["c",1.32,.12,2.49,.6,3.21,1.32],["c",.39,.39,.66,.81,.78,1.29],["c",.09,.36,.09,1.08,0,1.44],["c",-.21,.84,-.66,1.59,-1.59,2.55],["l",-.3,.3],["l",.27,.18],["c",1.47,.93,2.31,2.31,2.25,3.75],["c",-.03,.75,-.24,1.35,-.63,1.95],["c",-.45,.66,-1.02,1.14,-1.83,1.53],["c",-1.8,.87,-4.2,.87,-6,.03],["c",-1.62,-.78,-2.52,-2.16,-2.46,-3.66],["c",.06,-.99,.54,-1.77,1.8,-2.97],["c",.54,-.51,.54,-.54,.48,-.57],["c",-.39,-.27,-.96,-.78,-1.2,-1.14],["c",-.75,-1.11,-.87,-2.4,-.3,-3.6],["c",.69,-1.35,2.25,-2.25,4.2,-2.4],["z"],["m",1.53,.69],["c",-.42,-.09,-1.11,-.12,-1.38,-.06],["c",-.3,.06,-.6,.18,-.81,.3],["c",-.21,.12,-.6,.51,-.72,.72],["c",-.51,.87,-.42,1.89,.21,2.52],["c",.21,.21,.36,.3,1.95,1.23],["c",.96,.54,1.74,.99,1.77,1.02],["c",.09,0,.63,-.6,.99,-1.11],["c",.21,-.36,.48,-.87,.57,-1.23],["c",.06,-.24,.06,-.36,.06,-.72],["c",0,-.45,-.03,-.66,-.15,-.99],["c",-.39,-.81,-1.29,-1.44,-2.49,-1.68],["z"],["m",-1.44,8.07],["l",-1.89,-1.08],["c",-.03,0,-.18,.15,-.39,.33],["c",-1.2,1.08,-1.65,1.95,-1.59,3],["c",.09,1.59,1.35,2.85,3.21,3.24],["c",.33,.06,.45,.06,.93,.06],["c",.63,0,.81,-.03,1.29,-.27],["c",.9,-.42,1.47,-1.41,1.41,-2.4],["c",-.06,-.66,-.39,-1.29,-.9,-1.65],["c",-.12,-.09,-1.05,-.63,-2.07,-1.23],["z"]],w:10.926,h:14.989},9:{d:[["M",4.23,-14.97],["c",.42,-.03,1.29,0,1.62,.06],["c",.51,.12,.93,.3,1.38,.57],["c",1.53,1.02,2.52,3.24,2.73,5.94],["c",.18,2.55,-.48,4.98,-1.83,6.57],["c",-1.05,1.26,-2.4,1.89,-3.93,1.83],["c",-1.23,-.06,-2.31,-.45,-3.03,-1.14],["c",-.57,-.51,-.87,-1.23,-.84,-1.98],["c",.03,-.51,.21,-.9,.6,-1.26],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.39,.36,.57,.78,.57,1.26],["c",0,.27,0,.3,-.09,.42],["c",-.03,.09,-.18,.21,-.3,.3],["c",-.12,.09,-.3,.21,-.39,.27],["c",-.09,.06,-.21,.18,-.27,.24],["c",-.06,.12,-.06,.15,-.06,.33],["c",0,.18,0,.24,.06,.36],["c",.24,.39,.75,.6,1.38,.57],["c",.54,-.03,.9,-.18,1.23,-.48],["c",.81,-.72,1.08,-2.16,.96,-5.37],["l",0,-.63],["l",-.3,.12],["c",-.78,.27,-1.29,.33,-2.1,.27],["c",-1.47,-.12,-2.49,-.54,-3.27,-1.29],["c",-.48,-.51,-.81,-1.11,-.96,-1.89],["c",-.06,-.27,-.06,-.42,-.06,-.96],["c",0,-.51,0,-.66,.06,-.93],["c",.15,-.78,.48,-1.38,.96,-1.89],["c",.15,-.12,.33,-.27,.42,-.36],["c",.69,-.51,1.62,-.81,2.76,-.93],["z"],["m",1.17,.66],["c",-.21,-.06,-.57,-.06,-.81,-.03],["c",-.78,.12,-1.26,.69,-1.41,1.74],["c",-.12,.63,-.15,1.95,-.09,2.79],["c",.12,1.71,.63,2.4,1.77,2.46],["c",1.08,.03,1.62,-.48,1.8,-1.74],["c",.06,-.54,.06,-3,0,-3.54],["c",-.15,-1.05,-.51,-1.53,-1.26,-1.68],["z"]],w:9.959,h:14.986},"rests.multimeasure":{d:[["M",0,-4],["l",0,16],["l",1,0],["l",0,-5],["l",40,0],["l",0,5],["l",1,0],["l",0,-16],["l",-1,0],["l",0,5],["l",-40,0],["l",0,-5],["z"]],w:42,h:18},"rests.whole":{d:[["M",.06,.03],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.half":{d:[["M",.06,-4.62],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.quarter":{d:[["M",1.89,-11.82],["c",.12,-.06,.24,-.06,.36,-.03],["c",.09,.06,4.74,5.58,4.86,5.82],["c",.21,.39,.15,.78,-.15,1.26],["c",-.24,.33,-.72,.81,-1.62,1.56],["c",-.45,.36,-.87,.75,-.96,.84],["c",-.93,.99,-1.14,2.49,-.6,3.63],["c",.18,.39,.27,.48,1.32,1.68],["c",1.92,2.25,1.83,2.16,1.83,2.34],["c",0,.18,-.18,.36,-.36,.39],["c",-.15,0,-.27,-.06,-.48,-.27],["c",-.75,-.75,-2.46,-1.29,-3.39,-1.08],["c",-.45,.09,-.69,.27,-.9,.69],["c",-.12,.3,-.21,.66,-.24,1.14],["c",-.03,.66,.09,1.35,.3,2.01],["c",.15,.42,.24,.66,.45,.96],["c",.18,.24,.18,.33,.03,.42],["c",-.12,.06,-.18,.03,-.45,-.3],["c",-1.08,-1.38,-2.07,-3.36,-2.4,-4.83],["c",-.27,-1.05,-.15,-1.77,.27,-2.07],["c",.21,-.12,.42,-.15,.87,-.15],["c",.87,.06,2.1,.39,3.3,.9],["l",.39,.18],["l",-1.65,-1.95],["c",-2.52,-2.97,-2.61,-3.09,-2.7,-3.27],["c",-.09,-.24,-.12,-.48,-.03,-.75],["c",.15,-.48,.57,-.96,1.83,-2.01],["c",.45,-.36,.84,-.72,.93,-.78],["c",.69,-.75,1.02,-1.8,.9,-2.79],["c",-.06,-.33,-.21,-.84,-.39,-1.11],["c",-.09,-.15,-.45,-.6,-.81,-1.05],["c",-.36,-.42,-.69,-.81,-.72,-.87],["c",-.09,-.18,0,-.42,.21,-.51],["z"]],w:7.888,h:21.435},"rests.8th":{d:[["M",1.68,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.33,-.09],["c",.39,-.18,1.32,-1.29,1.68,-1.98],["c",.09,-.21,.24,-.3,.39,-.3],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.27,1.11,-1.86,6.42],["c",-1.02,3.48,-1.89,6.39,-1.92,6.42],["c",0,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.15,-.57,1.68,-4.92],["c",.96,-2.67,1.74,-4.89,1.71,-4.89],["l",-.51,.15],["c",-1.08,.36,-1.74,.48,-2.55,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:7.534,h:13.883},"rests.16th":{d:[["M",3.33,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.87,.42],["c",.39,-.18,1.2,-1.23,1.62,-2.07],["c",.06,-.15,.24,-.24,.36,-.24],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.45,1.86,-2.67,10.17],["c",-1.5,5.55,-2.73,10.14,-2.76,10.17],["c",-.03,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.12,-.57,1.44,-4.92],["c",.81,-2.67,1.47,-4.86,1.47,-4.89],["c",-.03,0,-.27,.06,-.54,.15],["c",-1.08,.36,-1.77,.48,-2.58,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.12,0,.18,0,.33,-.09],["c",.33,-.15,1.02,-.93,1.41,-1.59],["c",.12,-.21,.18,-.39,.39,-1.08],["c",.66,-2.1,1.17,-3.84,1.17,-3.87],["c",0,0,-.21,.06,-.42,.15],["c",-.51,.15,-1.2,.33,-1.68,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:9.724,h:21.383},"rests.32nd":{d:[["M",4.23,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.27,-.06],["c",.33,-.21,.99,-1.11,1.44,-1.98],["c",.09,-.24,.21,-.33,.39,-.33],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.57,2.67,-3.21,13.89],["c",-1.8,7.62,-3.3,13.89,-3.3,13.92],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.09,-.57,1.23,-4.92],["c",.69,-2.67,1.26,-4.86,1.29,-4.89],["c",0,-.03,-.12,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.12,.09,.3,.18,.48,.21],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.29,-1.29,1.56,-1.89],["c",.03,-.12,1.23,-4.59,1.23,-4.65],["c",0,-.03,-.18,.03,-.39,.12],["c",-.63,.18,-1.2,.36,-1.74,.45],["c",-.39,.06,-.54,.06,-1.02,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.18,.18,.51,.27,.72,.15],["c",.3,-.12,.69,-.57,1.08,-1.17],["c",.42,-.6,.39,-.51,1.05,-3.03],["c",.33,-1.26,.6,-2.31,.6,-2.34],["c",0,0,-.21,.03,-.45,.12],["c",-.57,.18,-1.14,.33,-1.62,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:11.373,h:28.883},"rests.64th":{d:[["M",5.13,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.54,.3,.75,.18],["c",.24,-.12,.63,-.66,1.08,-1.56],["c",.33,-.66,.39,-.72,.6,-.72],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.69,3.66,-3.54,17.64],["c",-1.95,9.66,-3.57,17.61,-3.57,17.64],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.06,-.57,1.05,-4.95],["c",.6,-2.7,1.08,-4.89,1.08,-4.92],["c",0,0,-.24,.06,-.51,.15],["c",-.66,.24,-1.2,.36,-1.77,.48],["c",-.42,.06,-.57,.06,-1.05,.06],["c",-.69,0,-.87,-.03,-1.35,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.21,.03,.39,-.09,.72,-.42],["c",.45,-.45,1.02,-1.26,1.17,-1.65],["c",.03,-.09,.27,-1.14,.54,-2.34],["c",.27,-1.2,.48,-2.19,.51,-2.22],["c",0,-.03,-.09,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.9,.42],["c",.36,-.18,1.2,-1.26,1.47,-1.89],["c",.03,-.09,.3,-1.2,.57,-2.43],["l",.51,-2.28],["l",-.54,.18],["c",-1.11,.36,-1.8,.48,-2.61,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.21,.21,.54,.3,.75,.18],["c",.36,-.18,.93,-.93,1.29,-1.68],["c",.12,-.24,.18,-.48,.63,-2.55],["l",.51,-2.31],["c",0,-.03,-.18,.03,-.39,.12],["c",-1.14,.36,-2.1,.54,-2.82,.51],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.453,h:36.383},"rests.128th":{d:[["M",6.03,-21.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.21,0,.33,-.06,.54,-.36],["c",.15,-.21,.54,-.93,.78,-1.47],["c",.15,-.33,.18,-.39,.3,-.48],["c",.18,-.09,.45,0,.51,.15],["c",.03,.09,-7.11,42.75,-7.17,42.84],["c",-.03,.03,-.15,.09,-.24,.15],["c",-.18,.06,-.24,.06,-.45,.06],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.03,-.57,.84,-4.98],["c",.51,-2.7,.93,-4.92,.9,-4.92],["c",0,0,-.15,.06,-.36,.12],["c",-.78,.27,-1.62,.48,-2.31,.57],["c",-.15,.03,-.54,.03,-.81,.03],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.63,.48],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.14,-1.11,1.5,-1.83],["c",.12,-.27,.12,-.27,.54,-2.52],["c",.24,-1.23,.42,-2.25,.39,-2.25],["c",0,0,-.24,.06,-.51,.18],["c",-1.26,.39,-2.25,.57,-3.06,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.51,.3,.75,.18],["c",.36,-.15,1.05,-.99,1.41,-1.77],["l",.15,-.3],["l",.42,-2.25],["c",.21,-1.26,.42,-2.28,.39,-2.28],["l",-.51,.15],["c",-1.11,.39,-1.89,.51,-2.7,.51],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.18,.48,.27,.72,.21],["c",.33,-.12,1.14,-1.26,1.41,-1.95],["c",0,-.09,.21,-1.11,.45,-2.34],["c",.21,-1.2,.39,-2.22,.39,-2.28],["c",.03,-.03,0,-.03,-.45,.12],["c",-.57,.18,-1.2,.33,-1.71,.42],["c",-.3,.06,-.51,.06,-.93,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.18,0,.36,-.09,.57,-.33],["c",.33,-.36,.78,-1.14,.93,-1.56],["c",.03,-.12,.24,-1.2,.45,-2.4],["c",.24,-1.2,.42,-2.22,.42,-2.28],["c",.03,-.03,0,-.03,-.39,.09],["c",-1.05,.36,-1.8,.48,-2.58,.48],["c",-.63,0,-.84,-.03,-1.29,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.992,h:43.883},"accidentals.sharp":{d:[["M",5.73,-11.19],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.31],["c",0,1.23,0,2.22,.03,2.22],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.43],["c",0,1.32,0,2.43,.03,2.43],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.52],["c",0,2.28,-.03,2.55,-.06,2.64],["c",-.21,.36,-.72,.36,-.93,0],["c",-.03,-.09,-.06,-.33,-.06,-2.43],["l",0,-2.31],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.43],["c",0,2.58,0,2.52,-.15,2.67],["c",-.06,.09,-.27,.18,-.36,.18],["c",-.12,0,-.33,-.09,-.39,-.18],["c",-.15,-.15,-.15,-.09,-.15,-2.43],["c",0,-1.23,0,-2.22,-.03,-2.22],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.43],["c",0,-1.32,0,-2.43,-.03,-2.43],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.52],["c",0,-2.28,.03,-2.55,.06,-2.64],["c",.21,-.36,.72,-.36,.93,0],["c",.03,.09,.06,.33,.06,2.43],["l",.03,2.31],["l",1.26,-.51],["l",1.26,-.51],["l",0,-2.43],["c",0,-2.28,0,-2.43,.06,-2.55],["c",.06,-.12,.12,-.18,.27,-.24],["z"],["m",-.33,10.65],["l",0,-2.43],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.46],["l",0,2.43],["l",.09,-.03],["c",.06,-.03,.63,-.27,1.29,-.51],["l",1.17,-.48],["l",0,-2.46],["z"]],w:8.25,h:22.462},"accidentals.halfsharp":{d:[["M",2.43,-10.05],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.01],["c",0,1.05,0,1.89,.03,1.89],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.37],["c",0,1.32,0,2.37,.03,2.37],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.25],["c",0,1.95,0,2.28,-.06,2.37],["c",-.06,.12,-.12,.21,-.24,.27],["c",-.27,.12,-.54,.03,-.69,-.24],["c",-.06,-.12,-.06,-.21,-.06,-2.01],["c",0,-1.05,0,-1.89,-.03,-1.89],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.37],["c",0,-1.32,0,-2.37,-.03,-2.37],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.25],["c",0,-2.13,0,-2.28,.06,-2.4],["c",.06,-.12,.12,-.18,.27,-.24],["z"]],w:5.25,h:20.174},"accidentals.nat":{d:[["M",.21,-11.4],["c",.24,-.06,.78,0,.99,.15],["c",.03,.03,.03,.48,0,2.61],["c",-.03,1.44,-.03,2.61,-.03,2.61],["c",0,.03,.75,-.09,1.68,-.24],["c",.96,-.18,1.71,-.27,1.74,-.27],["c",.15,.03,.27,.15,.36,.3],["l",.06,.12],["l",.09,8.67],["c",.09,6.96,.12,8.67,.09,8.67],["c",-.03,.03,-.12,.06,-.21,.09],["c",-.24,.09,-.72,.09,-.96,0],["c",-.09,-.03,-.18,-.06,-.21,-.09],["c",-.03,-.03,-.03,-.48,0,-2.61],["c",.03,-1.44,.03,-2.61,.03,-2.61],["c",0,-.03,-.75,.09,-1.68,.24],["c",-.96,.18,-1.71,.27,-1.74,.27],["c",-.15,-.03,-.27,-.15,-.36,-.3],["l",-.06,-.15],["l",-.09,-7.53],["c",-.06,-4.14,-.09,-8.04,-.12,-8.67],["l",0,-1.11],["l",.15,-.06],["c",.09,-.03,.21,-.06,.27,-.09],["z"],["m",3.75,8.4],["c",0,-.33,0,-.42,-.03,-.42],["c",-.12,0,-2.79,.45,-2.79,.48],["c",-.03,0,-.09,6.3,-.09,6.33],["c",.03,0,2.79,-.45,2.82,-.48],["c",0,0,.09,-4.53,.09,-5.91],["z"]],w:5.4,h:22.8},"accidentals.flat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:6.75,h:18.801},"accidentals.halfflat":{d:[["M",4.83,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.6,-.12,9.06],["c",-.09,5.55,-.15,9.06,-.18,9.12],["c",-.03,.09,-.09,.18,-.15,.27],["c",-.24,.21,-.54,.24,-.81,.06],["c",-.06,-.03,-.27,-.24,-.45,-.42],["c",-.36,-.42,-.66,-.66,-1.8,-1.44],["c",-1.23,-.84,-1.83,-1.32,-2.25,-1.77],["c",-.66,-.78,-.96,-1.56,-.93,-2.46],["c",.09,-1.41,1.11,-2.58,2.4,-2.79],["c",.3,-.06,.84,-.03,1.23,.06],["c",.54,.12,1.08,.33,1.53,.63],["c",.12,.09,.24,.15,.24,.12],["c",0,0,-.12,-8.37,-.18,-9.75],["l",0,-.66],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",-1.65,10.95],["c",-.6,-.18,-1.08,.09,-1.38,.69],["c",-.27,.6,-.36,1.38,-.18,2.07],["c",.12,.42,.42,.99,.72,1.41],["c",.3,.42,.93,1.05,1.56,1.59],["l",.48,.39],["l",0,-.12],["c",.03,-.09,.03,-.48,.06,-.9],["c",.03,-.57,.03,-1.08,0,-2.22],["c",-.03,-1.62,-.03,-1.62,-.24,-2.07],["c",-.21,-.42,-.6,-.75,-1.02,-.84],["z"]],w:6.728,h:18.801},"accidentals.dblflat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"],["m",3,-11],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:12.1,h:18.804},"accidentals.dblsharp":{d:[["M",-.18,-3.96],["c",.06,-.03,.12,-.06,.15,-.06],["c",.09,0,2.76,.27,2.79,.3],["c",.12,.03,.15,.12,.15,.51],["c",.06,.96,.24,1.59,.57,2.1],["c",.06,.09,.15,.21,.18,.24],["l",.09,.06],["l",.09,-.06],["c",.03,-.03,.12,-.15,.18,-.24],["c",.33,-.51,.51,-1.14,.57,-2.1],["c",0,-.39,.03,-.45,.12,-.51],["c",.03,0,.66,-.09,1.44,-.15],["c",1.47,-.15,1.5,-.15,1.56,-.03],["c",.03,.06,0,.42,-.09,1.44],["c",-.09,.72,-.15,1.35,-.15,1.38],["c",0,.03,-.03,.09,-.06,.12],["c",-.06,.06,-.12,.09,-.51,.09],["c",-1.08,.06,-1.8,.3,-2.28,.75],["l",-.12,.09],["l",.09,.09],["c",.12,.15,.39,.33,.63,.45],["c",.42,.18,.96,.27,1.68,.33],["c",.39,0,.45,.03,.51,.09],["c",.03,.03,.06,.09,.06,.12],["c",0,.03,.06,.66,.15,1.38],["c",.09,1.02,.12,1.38,.09,1.44],["c",-.06,.12,-.09,.12,-1.56,-.03],["c",-.78,-.06,-1.41,-.15,-1.44,-.15],["c",-.09,-.06,-.12,-.12,-.12,-.54],["c",-.06,-.93,-.24,-1.56,-.57,-2.07],["c",-.06,-.09,-.15,-.21,-.18,-.24],["l",-.09,-.06],["l",-.09,.06],["c",-.03,.03,-.12,.15,-.18,.24],["c",-.33,.51,-.51,1.14,-.57,2.07],["c",0,.42,-.03,.48,-.12,.54],["c",-.03,0,-.66,.09,-1.44,.15],["c",-1.47,.15,-1.5,.15,-1.56,.03],["c",-.03,-.06,0,-.42,.09,-1.44],["c",.09,-.72,.15,-1.35,.15,-1.38],["c",0,-.03,.03,-.09,.06,-.12],["c",.06,-.06,.12,-.09,.51,-.09],["c",.72,-.06,1.26,-.15,1.68,-.33],["c",.24,-.12,.51,-.3,.63,-.45],["l",.09,-.09],["l",-.12,-.09],["c",-.48,-.45,-1.2,-.69,-2.28,-.75],["c",-.39,0,-.45,-.03,-.51,-.09],["c",-.03,-.03,-.06,-.09,-.06,-.12],["c",0,-.03,-.06,-.63,-.12,-1.38],["c",-.09,-.72,-.15,-1.35,-.15,-1.38],["z"]],w:7.95,h:7.977},"dots.dot":{d:[["M",1.32,-1.68],["c",.09,-.03,.27,-.06,.39,-.06],["c",.96,0,1.74,.78,1.74,1.71],["c",0,.96,-.78,1.74,-1.71,1.74],["c",-.96,0,-1.74,-.78,-1.74,-1.71],["c",0,-.78,.54,-1.5,1.32,-1.68],["z"]],w:3.45,h:3.45},"noteheads.dbl":{d:[["M",-.69,-4.02],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["c",.06,.15,.06,.18,.06,1.41],["l",0,1.23],["l",.12,-.18],["c",.72,-1.26,2.64,-2.31,4.86,-2.64],["c",.81,-.15,1.11,-.15,2.13,-.15],["c",.99,0,1.29,0,2.1,.15],["c",.75,.12,1.38,.27,2.04,.54],["c",1.35,.51,2.34,1.26,2.82,2.1],["l",.12,.18],["l",0,-1.23],["c",0,-1.2,0,-1.26,.06,-1.38],["c",.09,-.18,.15,-.24,.33,-.33],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,3.54],["l",0,3.54],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.38],["l",0,-1.23],["l",-.12,.18],["c",-.48,.84,-1.47,1.59,-2.82,2.1],["c",-.84,.33,-1.71,.54,-2.85,.66],["c",-.45,.06,-2.16,.06,-2.61,0],["c",-1.14,-.12,-2.01,-.33,-2.85,-.66],["c",-1.35,-.51,-2.34,-1.26,-2.82,-2.1],["l",-.12,-.18],["l",0,1.23],["c",0,1.23,0,1.26,-.06,1.38],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-3.54],["c",0,-3.48,0,-3.54,.06,-3.66],["c",.09,-.18,.15,-.24,.33,-.33],["z"],["m",7.71,.63],["c",-.36,-.06,-.9,-.06,-1.14,0],["c",-.3,.03,-.66,.24,-.87,.42],["c",-.6,.54,-.9,1.62,-.75,2.82],["c",.12,.93,.51,1.68,1.11,2.31],["c",.75,.72,1.83,1.2,2.85,1.26],["c",1.05,.06,1.83,-.54,2.1,-1.65],["c",.21,-.9,.12,-1.95,-.24,-2.82],["c",-.36,-.81,-1.08,-1.53,-1.95,-1.95],["c",-.3,-.15,-.78,-.3,-1.11,-.39],["z"]],w:16.83,h:8.145},"noteheads.whole":{d:[["M",6.51,-4.05],["c",.51,-.03,2.01,0,2.52,.03],["c",1.41,.18,2.64,.51,3.72,1.08],["c",1.2,.63,1.95,1.41,2.19,2.31],["c",.09,.33,.09,.9,0,1.23],["c",-.24,.9,-.99,1.68,-2.19,2.31],["c",-1.08,.57,-2.28,.9,-3.75,1.08],["c",-.66,.06,-2.31,.06,-2.97,0],["c",-1.47,-.18,-2.67,-.51,-3.75,-1.08],["c",-1.2,-.63,-1.95,-1.41,-2.19,-2.31],["c",-.09,-.33,-.09,-.9,0,-1.23],["c",.24,-.9,.99,-1.68,2.19,-2.31],["c",1.2,-.63,2.61,-.99,4.23,-1.11],["z"],["m",.57,.66],["c",-.87,-.15,-1.53,0,-2.04,.51],["c",-.15,.15,-.24,.27,-.33,.48],["c",-.24,.51,-.36,1.08,-.33,1.77],["c",.03,.69,.18,1.26,.42,1.77],["c",.6,1.17,1.74,1.98,3.18,2.22],["c",1.11,.21,1.95,-.15,2.34,-.99],["c",.24,-.51,.36,-1.08,.33,-1.8],["c",-.06,-1.11,-.45,-2.04,-1.17,-2.76],["c",-.63,-.63,-1.47,-1.05,-2.4,-1.2],["z"]],w:14.985,h:8.097},"noteheads.half":{d:[["M",7.44,-4.05],["c",.06,-.03,.27,-.03,.48,-.03],["c",1.05,0,1.71,.24,2.1,.81],["c",.42,.6,.45,1.35,.18,2.4],["c",-.42,1.59,-1.14,2.73,-2.16,3.39],["c",-1.41,.93,-3.18,1.44,-5.4,1.53],["c",-1.17,.03,-1.89,-.21,-2.28,-.81],["c",-.42,-.6,-.45,-1.35,-.18,-2.4],["c",.42,-1.59,1.14,-2.73,2.16,-3.39],["c",.63,-.42,1.23,-.72,1.98,-.96],["c",.9,-.3,1.65,-.42,3.12,-.54],["z"],["m",1.29,.87],["c",-.27,-.09,-.63,-.12,-.9,-.03],["c",-.72,.24,-1.53,.69,-3.27,1.8],["c",-2.34,1.5,-3.3,2.25,-3.57,2.79],["c",-.36,.72,-.06,1.5,.66,1.77],["c",.24,.12,.69,.09,.99,0],["c",.84,-.3,1.92,-.93,4.14,-2.37],["c",1.62,-1.08,2.37,-1.71,2.61,-2.19],["c",.36,-.72,.06,-1.5,-.66,-1.77],["z"]],w:10.37,h:8.132},"noteheads.quarter":{d:[["M",6.09,-4.05],["c",.36,-.03,1.2,0,1.53,.06],["c",1.17,.24,1.89,.84,2.16,1.83],["c",.06,.18,.06,.3,.06,.66],["c",0,.45,0,.63,-.15,1.08],["c",-.66,2.04,-3.06,3.93,-5.52,4.38],["c",-.54,.09,-1.44,.09,-1.83,.03],["c",-1.23,-.27,-1.98,-.87,-2.25,-1.86],["c",-.06,-.18,-.06,-.3,-.06,-.66],["c",0,-.45,0,-.63,.15,-1.08],["c",.24,-.78,.75,-1.53,1.44,-2.22],["c",1.2,-1.2,2.85,-2.01,4.47,-2.22],["z"]],w:9.81,h:8.094},"noteheads.slash.nostem":{d:[["M",9.3,-7.77],["c",.06,-.06,.18,-.06,1.71,-.06],["l",1.65,0],["l",.09,.09],["c",.06,.06,.06,.09,.06,.15],["c",-.03,.12,-9.21,15.24,-9.3,15.33],["c",-.06,.06,-.18,.06,-1.71,.06],["l",-1.65,0],["l",-.09,-.09],["c",-.06,-.06,-.06,-.09,-.06,-.15],["c",.03,-.12,9.21,-15.24,9.3,-15.33],["z"]],w:12.81,h:15.63},"noteheads.indeterminate":{d:[["M",.78,-4.05],["c",.12,-.03,.24,-.03,.36,.03],["c",.03,.03,.93,.72,1.95,1.56],["l",1.86,1.5],["l",1.86,-1.5],["c",1.02,-.84,1.92,-1.53,1.95,-1.56],["c",.21,-.12,.33,-.09,.75,.24],["c",.3,.27,.36,.36,.36,.54],["c",0,.03,-.03,.12,-.06,.18],["c",-.03,.06,-.9,.75,-1.89,1.56],["l",-1.8,1.47],["c",0,.03,.81,.69,1.8,1.5],["c",.99,.81,1.86,1.5,1.89,1.56],["c",.03,.06,.06,.15,.06,.18],["c",0,.18,-.06,.27,-.36,.54],["c",-.42,.33,-.54,.36,-.75,.24],["c",-.03,-.03,-.93,-.72,-1.95,-1.56],["l",-1.86,-1.5],["l",-1.86,1.5],["c",-1.02,.84,-1.92,1.53,-1.95,1.56],["c",-.21,.12,-.33,.09,-.75,-.24],["c",-.3,-.27,-.36,-.36,-.36,-.54],["c",0,-.03,.03,-.12,.06,-.18],["c",.03,-.06,.9,-.75,1.89,-1.56],["l",1.8,-1.47],["c",0,-.03,-.81,-.69,-1.8,-1.5],["c",-.99,-.81,-1.86,-1.5,-1.89,-1.56],["c",-.06,-.12,-.09,-.21,-.03,-.36],["c",.03,-.09,.57,-.57,.72,-.63],["z"]],w:9.843,h:8.139},"scripts.ufermata":{d:[["M",-.75,-10.77],["c",.12,0,.45,-.03,.69,-.03],["c",2.91,-.03,5.55,1.53,7.41,4.35],["c",1.17,1.71,1.95,3.72,2.43,6.03],["c",.12,.51,.12,.57,.03,.69],["c",-.12,.21,-.48,.27,-.69,.12],["c",-.12,-.09,-.18,-.24,-.27,-.69],["c",-.78,-3.63,-3.42,-6.54,-6.78,-7.38],["c",-.78,-.21,-1.2,-.24,-2.07,-.24],["c",-.63,0,-.84,0,-1.2,.06],["c",-1.83,.27,-3.42,1.08,-4.8,2.37],["c",-1.41,1.35,-2.4,3.21,-2.85,5.19],["c",-.09,.45,-.15,.6,-.27,.69],["c",-.21,.15,-.57,.09,-.69,-.12],["c",-.09,-.12,-.09,-.18,.03,-.69],["c",.33,-1.62,.78,-3,1.47,-4.38],["c",1.77,-3.54,4.44,-5.67,7.56,-5.97],["z"],["m",.33,7.47],["c",1.38,-.3,2.58,.9,2.31,2.25],["c",-.15,.72,-.78,1.35,-1.47,1.5],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.748,h:11.289},"scripts.dfermata":{d:[["M",-9.63,-.42],["c",.15,-.09,.36,-.06,.51,.03],["c",.12,.09,.18,.24,.27,.66],["c",.78,3.66,3.42,6.57,6.78,7.41],["c",.78,.21,1.2,.24,2.07,.24],["c",.63,0,.84,0,1.2,-.06],["c",1.83,-.27,3.42,-1.08,4.8,-2.37],["c",1.41,-1.35,2.4,-3.21,2.85,-5.22],["c",.09,-.42,.15,-.57,.27,-.66],["c",.21,-.15,.57,-.09,.69,.12],["c",.09,.12,.09,.18,-.03,.69],["c",-.33,1.62,-.78,3,-1.47,4.38],["c",-1.92,3.84,-4.89,6,-8.31,6],["c",-3.42,0,-6.39,-2.16,-8.31,-6],["c",-.48,-.96,-.84,-1.92,-1.14,-2.97],["c",-.18,-.69,-.42,-1.74,-.42,-1.92],["c",0,-.12,.09,-.27,.24,-.33],["z"],["m",9.21,0],["c",1.2,-.27,2.34,.63,2.34,1.86],["c",0,.9,-.66,1.68,-1.5,1.89],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.744,h:11.274},"scripts.sforzato":{d:[["M",-6.45,-3.69],["c",.06,-.03,.15,-.06,.18,-.06],["c",.06,0,2.85,.72,6.24,1.59],["l",6.33,1.65],["c",.33,.06,.45,.21,.45,.51],["c",0,.3,-.12,.45,-.45,.51],["l",-6.33,1.65],["c",-3.39,.87,-6.18,1.59,-6.21,1.59],["c",-.21,0,-.48,-.24,-.51,-.45],["c",0,-.15,.06,-.36,.18,-.45],["c",.09,-.06,.87,-.27,3.84,-1.05],["c",2.04,-.54,3.84,-.99,4.02,-1.02],["c",.15,-.06,1.14,-.24,2.22,-.42],["c",1.05,-.18,1.92,-.36,1.92,-.36],["c",0,0,-.87,-.18,-1.92,-.36],["c",-1.08,-.18,-2.07,-.36,-2.22,-.42],["c",-.18,-.03,-1.98,-.48,-4.02,-1.02],["c",-2.97,-.78,-3.75,-.99,-3.84,-1.05],["c",-.12,-.09,-.18,-.3,-.18,-.45],["c",.03,-.15,.15,-.3,.3,-.39],["z"]],w:13.5,h:7.5},"scripts.staccato":{d:[["M",-.36,-1.47],["c",.93,-.21,1.86,.51,1.86,1.47],["c",0,.93,-.87,1.65,-1.8,1.47],["c",-.54,-.12,-1.02,-.57,-1.14,-1.08],["c",-.21,-.81,.27,-1.65,1.08,-1.86],["z"]],w:2.989,h:3.004},"scripts.tenuto":{d:[["M",-4.2,-.48],["l",.12,-.06],["l",4.08,0],["l",4.08,0],["l",.12,.06],["c",.39,.21,.39,.75,0,.96],["l",-.12,.06],["l",-4.08,0],["l",-4.08,0],["l",-.12,-.06],["c",-.39,-.21,-.39,-.75,0,-.96],["z"]],w:8.985,h:1.08},"scripts.umarcato":{d:[["M",-.15,-8.19],["c",.15,-.12,.36,-.03,.45,.15],["c",.21,.42,3.45,7.65,3.45,7.71],["c",0,.12,-.12,.27,-.21,.3],["c",-.03,.03,-.51,.03,-1.14,.03],["c",-1.05,0,-1.08,0,-1.17,-.06],["c",-.09,-.06,-.24,-.36,-1.17,-2.4],["c",-.57,-1.29,-1.05,-2.34,-1.08,-2.34],["c",0,-.03,-.51,1.02,-1.08,2.34],["c",-.93,2.07,-1.08,2.34,-1.14,2.4],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.06,3.24,-7.32,3.45,-7.71],["c",.03,-.06,.09,-.15,.15,-.15],["z"]],w:7.5,h:8.245},"scripts.dmarcato":{d:[["M",-3.57,.03],["c",.03,0,.57,-.03,1.17,-.03],["c",1.05,0,1.08,0,1.17,.06],["c",.09,.06,.24,.36,1.17,2.4],["c",.57,1.29,1.05,2.34,1.08,2.34],["c",0,.03,.51,-1.02,1.08,-2.34],["c",.93,-2.07,1.08,-2.34,1.14,-2.4],["c",.06,-.03,.15,-.06,.18,-.06],["c",.15,0,.33,.18,.33,.33],["c",0,.09,-3.45,7.74,-3.54,7.83],["c",-.12,.12,-.3,.12,-.42,0],["c",-.09,-.09,-3.54,-7.74,-3.54,-7.83],["c",0,-.09,.12,-.27,.18,-.3],["z"]],w:7.5,h:8.25},"scripts.stopped":{d:[["M",-.27,-4.08],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.5],["l",0,1.47],["l",1.47,0],["l",1.5,0],["l",.15,.06],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.09,.36,0,.54],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.12,.06,-.18,.06,-1.62,.06],["l",-1.47,0],["l",0,1.47],["l",0,1.47],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-1.47],["l",0,-1.47],["l",-1.47,0],["c",-1.44,0,-1.5,0,-1.62,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.47,0],["l",1.47,0],["l",0,-1.47],["c",0,-1.44,0,-1.5,.06,-1.62],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:8.295,h:8.295},"scripts.upbow":{d:[["M",-4.65,-15.54],["c",.12,-.09,.36,-.06,.48,.03],["c",.03,.03,.09,.09,.12,.15],["c",.03,.06,.66,2.13,1.41,4.62],["c",1.35,4.41,1.38,4.56,2.01,6.96],["l",.63,2.46],["l",.63,-2.46],["c",.63,-2.4,.66,-2.55,2.01,-6.96],["c",.75,-2.49,1.38,-4.56,1.41,-4.62],["c",.06,-.15,.18,-.21,.36,-.24],["c",.15,0,.3,.06,.39,.18],["c",.15,.21,.24,-.18,-2.1,7.56],["c",-1.2,3.96,-2.22,7.32,-2.25,7.41],["c",0,.12,-.06,.27,-.09,.3],["c",-.12,.21,-.6,.21,-.72,0],["c",-.03,-.03,-.09,-.18,-.09,-.3],["c",-.03,-.09,-1.05,-3.45,-2.25,-7.41],["c",-2.34,-7.74,-2.25,-7.35,-2.1,-7.56],["c",.03,-.03,.09,-.09,.15,-.12],["z"]],w:9.73,h:15.608},"scripts.downbow":{d:[["M",-5.55,-9.93],["l",.09,-.06],["l",5.46,0],["l",5.46,0],["l",.09,.06],["l",.06,.09],["l",0,4.77],["c",0,5.28,0,4.89,-.18,5.01],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.06,-.09,-.06,-.18,-.06,-2.97],["l",0,-2.85],["l",-4.83,0],["l",-4.83,0],["l",0,2.85],["c",0,2.79,0,2.88,-.06,2.97],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.21,-.06,-4.89],["l",0,-4.77],["z"]],w:11.22,h:9.992},"scripts.turn":{d:[["M",-4.77,-3.9],["c",.36,-.06,1.05,-.06,1.44,.03],["c",.78,.15,1.5,.51,2.34,1.14],["c",.6,.45,1.05,.87,2.22,2.01],["c",1.11,1.08,1.62,1.5,2.22,1.86],["c",.6,.36,1.32,.57,1.92,.57],["c",.9,0,1.71,-.57,1.89,-1.35],["c",.24,-.93,-.39,-1.89,-1.35,-2.1],["l",-.15,-.06],["l",-.09,.15],["c",-.03,.09,-.15,.24,-.24,.33],["c",-.72,.72,-2.04,.54,-2.49,-.36],["c",-.48,-.93,.03,-1.86,1.17,-2.19],["c",.3,-.09,1.02,-.09,1.35,0],["c",.99,.27,1.74,.87,2.25,1.83],["c",.69,1.41,.63,3,-.21,4.26],["c",-.21,.3,-.69,.81,-.99,1.02],["c",-.3,.21,-.84,.45,-1.17,.54],["c",-1.23,.36,-2.49,.15,-3.72,-.6],["c",-.75,-.48,-1.41,-1.02,-2.85,-2.46],["c",-1.11,-1.08,-1.62,-1.5,-2.22,-1.86],["c",-.6,-.36,-1.32,-.57,-1.92,-.57],["c",-.9,0,-1.71,.57,-1.89,1.35],["c",-.24,.93,.39,1.89,1.35,2.1],["l",.15,.06],["l",.09,-.15],["c",.03,-.09,.15,-.24,.24,-.33],["c",.72,-.72,2.04,-.54,2.49,.36],["c",.48,.93,-.03,1.86,-1.17,2.19],["c",-.3,.09,-1.02,.09,-1.35,0],["c",-.99,-.27,-1.74,-.87,-2.25,-1.83],["c",-.69,-1.41,-.63,-3,.21,-4.26],["c",.21,-.3,.69,-.81,.99,-1.02],["c",.48,-.33,1.11,-.57,1.74,-.66],["z"]],w:16.366,h:7.893},"scripts.trill":{d:[["M",-.51,-16.02],["c",.12,-.09,.21,-.18,.21,-.18],["l",-.81,4.02],["l",-.81,4.02],["c",.03,0,.51,-.27,1.08,-.6],["c",.6,-.3,1.14,-.63,1.26,-.66],["c",1.14,-.54,2.31,-.6,3.09,-.18],["c",.27,.15,.54,.36,.6,.51],["l",.06,.12],["l",.21,-.21],["c",.9,-.81,2.22,-.99,3.12,-.42],["c",.6,.42,.9,1.14,.78,2.07],["c",-.15,1.29,-1.05,2.31,-1.95,2.25],["c",-.48,-.03,-.78,-.3,-.96,-.81],["c",-.09,-.27,-.09,-.9,-.03,-1.2],["c",.21,-.75,.81,-1.23,1.59,-1.32],["l",.24,-.03],["l",-.09,-.12],["c",-.51,-.66,-1.62,-.63,-2.31,.03],["c",-.39,.42,-.3,.09,-1.23,4.77],["l",-.81,4.14],["c",-.03,0,-.12,-.03,-.21,-.09],["c",-.33,-.15,-.54,-.18,-.99,-.18],["c",-.42,0,-.66,.03,-1.05,.18],["c",-.12,.06,-.21,.09,-.21,.09],["c",0,-.03,.36,-1.86,.81,-4.11],["c",.9,-4.47,.87,-4.26,.69,-4.53],["c",-.21,-.36,-.66,-.51,-1.17,-.36],["c",-.15,.06,-2.22,1.14,-2.58,1.38],["c",-.12,.09,-.12,.09,-.21,.6],["l",-.09,.51],["l",.21,.24],["c",.63,.75,1.02,1.47,1.2,2.19],["c",.06,.27,.06,.36,.06,.81],["c",0,.42,0,.54,-.06,.78],["c",-.15,.54,-.33,.93,-.63,1.35],["c",-.18,.24,-.57,.63,-.81,.78],["c",-.24,.15,-.63,.36,-.84,.42],["c",-.27,.06,-.66,.06,-.87,.03],["c",-.81,-.18,-1.32,-1.05,-1.38,-2.46],["c",-.03,-.6,.03,-.99,.33,-2.46],["c",.21,-1.08,.24,-1.32,.21,-1.29],["c",-1.2,.48,-2.4,.75,-3.21,.72],["c",-.69,-.06,-1.17,-.3,-1.41,-.72],["c",-.39,-.75,-.12,-1.8,.66,-2.46],["c",.24,-.18,.69,-.42,1.02,-.51],["c",.69,-.18,1.53,-.15,2.31,.09],["c",.3,.09,.75,.3,.99,.45],["c",.12,.09,.15,.09,.15,.03],["c",.03,-.03,.33,-1.59,.72,-3.45],["c",.36,-1.86,.66,-3.42,.69,-3.45],["c",0,-.03,.03,-.03,.21,.03],["c",.21,.06,.27,.06,.48,.06],["c",.42,-.03,.78,-.18,1.26,-.48],["c",.15,-.12,.36,-.27,.48,-.39],["z"],["m",-5.73,7.68],["c",-.27,-.03,-.96,-.06,-1.2,-.03],["c",-.81,.12,-1.35,.57,-1.5,1.2],["c",-.18,.66,.12,1.14,.75,1.29],["c",.66,.12,1.92,-.12,3.18,-.66],["l",.33,-.15],["l",.09,-.39],["c",.06,-.21,.09,-.42,.09,-.45],["c",0,-.03,-.45,-.3,-.75,-.45],["c",-.27,-.15,-.66,-.27,-.99,-.36],["z"],["m",4.29,3.63],["c",-.24,-.39,-.51,-.75,-.51,-.69],["c",-.06,.12,-.39,1.92,-.45,2.28],["c",-.09,.54,-.12,1.14,-.06,1.38],["c",.06,.42,.21,.6,.51,.57],["c",.39,-.06,.75,-.48,.93,-1.14],["c",.09,-.33,.09,-1.05,0,-1.38],["c",-.09,-.39,-.24,-.69,-.42,-1.02],["z"]],w:17.963,h:16.49},"scripts.segno":{d:[["M",-3.72,-11.22],["c",.78,-.09,1.59,.03,2.31,.42],["c",1.2,.6,2.01,1.71,2.31,3.09],["c",.09,.42,.09,1.2,.03,1.5],["c",-.15,.45,-.39,.81,-.66,.93],["c",-.33,.18,-.84,.21,-1.23,.15],["c",-.81,-.18,-1.32,-.93,-1.26,-1.89],["c",.03,-.36,.09,-.57,.24,-.9],["c",.15,-.33,.45,-.6,.72,-.75],["c",.12,-.06,.18,-.09,.18,-.12],["c",0,-.03,-.03,-.15,-.09,-.24],["c",-.18,-.45,-.54,-.87,-.96,-1.08],["c",-1.11,-.57,-2.34,-.18,-2.88,.9],["c",-.24,.51,-.33,1.11,-.24,1.83],["c",.27,1.92,1.5,3.54,3.93,5.13],["c",.48,.33,1.26,.78,1.29,.78],["c",.03,0,1.35,-2.19,2.94,-4.89],["l",2.88,-4.89],["l",.84,0],["l",.87,0],["l",-.03,.06],["c",-.15,.21,-6.15,10.41,-6.15,10.44],["c",0,0,.21,.15,.48,.27],["c",2.61,1.47,4.35,3.03,5.13,4.65],["c",1.14,2.34,.51,5.07,-1.44,6.39],["c",-.66,.42,-1.32,.63,-2.13,.69],["c",-2.01,.09,-3.81,-1.41,-4.26,-3.54],["c",-.09,-.42,-.09,-1.2,-.03,-1.5],["c",.15,-.45,.39,-.81,.66,-.93],["c",.33,-.18,.84,-.21,1.23,-.15],["c",.81,.18,1.32,.93,1.26,1.89],["c",-.03,.36,-.09,.57,-.24,.9],["c",-.15,.33,-.45,.6,-.72,.75],["c",-.12,.06,-.18,.09,-.18,.12],["c",0,.03,.03,.15,.09,.24],["c",.18,.45,.54,.87,.96,1.08],["c",1.11,.57,2.34,.18,2.88,-.9],["c",.24,-.51,.33,-1.11,.24,-1.83],["c",-.27,-1.92,-1.5,-3.54,-3.93,-5.13],["c",-.48,-.33,-1.26,-.78,-1.29,-.78],["c",-.03,0,-1.35,2.19,-2.91,4.89],["l",-2.88,4.89],["l",-.87,0],["l",-.87,0],["l",.03,-.06],["c",.15,-.21,6.15,-10.41,6.15,-10.44],["c",0,0,-.21,-.15,-.48,-.3],["c",-2.61,-1.44,-4.35,-3,-5.13,-4.62],["c",-.9,-1.89,-.72,-4.02,.48,-5.52],["c",.69,-.84,1.68,-1.41,2.73,-1.53],["z"],["m",8.76,9.09],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"],["m",-10.53,2.61],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"]],w:15,h:22.504},"scripts.coda":{d:[["M",-.21,-10.47],["c",.18,-.12,.42,-.06,.54,.12],["c",.06,.09,.06,.18,.06,1.5],["l",0,1.38],["l",.18,0],["c",.39,.06,.96,.24,1.38,.48],["c",1.68,.93,2.82,3.24,3.03,6.12],["c",.03,.24,.03,.45,.03,.45],["c",0,.03,.6,.03,1.35,.03],["c",1.5,0,1.47,0,1.59,.18],["c",.09,.12,.09,.3,0,.42],["c",-.12,.18,-.09,.18,-1.59,.18],["c",-.75,0,-1.35,0,-1.35,.03],["c",0,0,0,.21,-.03,.42],["c",-.24,3.15,-1.53,5.58,-3.45,6.36],["c",-.27,.12,-.72,.24,-.96,.27],["l",-.18,0],["l",0,1.38],["c",0,1.32,0,1.41,-.06,1.5],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.18,-.06,-1.5],["l",0,-1.38],["l",-.18,0],["c",-.39,-.06,-.96,-.24,-1.38,-.48],["c",-1.68,-.93,-2.82,-3.24,-3.03,-6.15],["c",-.03,-.21,-.03,-.42,-.03,-.42],["c",0,-.03,-.6,-.03,-1.35,-.03],["c",-1.5,0,-1.47,0,-1.59,-.18],["c",-.09,-.12,-.09,-.3,0,-.42],["c",.12,-.18,.09,-.18,1.59,-.18],["c",.75,0,1.35,0,1.35,-.03],["c",0,0,0,-.21,.03,-.45],["c",.24,-3.12,1.53,-5.55,3.45,-6.33],["c",.27,-.12,.72,-.24,.96,-.27],["l",.18,0],["l",0,-1.38],["c",0,-1.53,0,-1.5,.18,-1.62],["z"],["m",-.18,6.93],["c",0,-2.97,0,-3.15,-.06,-3.15],["c",-.09,0,-.51,.15,-.66,.21],["c",-.87,.51,-1.38,1.62,-1.56,3.51],["c",-.06,.54,-.12,1.59,-.12,2.16],["l",0,.42],["l",1.2,0],["l",1.2,0],["l",0,-3.15],["z"],["m",1.17,-3.06],["c",-.09,-.03,-.21,-.06,-.27,-.09],["l",-.12,0],["l",0,3.15],["l",0,3.15],["l",1.2,0],["l",1.2,0],["l",0,-.81],["c",-.06,-2.4,-.33,-3.69,-.93,-4.59],["c",-.27,-.39,-.66,-.69,-1.08,-.81],["z"],["m",-1.17,10.14],["l",0,-3.15],["l",-1.2,0],["l",-1.2,0],["l",0,.81],["c",.03,.96,.06,1.47,.15,2.13],["c",.24,2.04,.96,3.12,2.13,3.36],["l",.12,0],["l",0,-3.15],["z"],["m",3.18,-2.34],["l",0,-.81],["l",-1.2,0],["l",-1.2,0],["l",0,3.15],["l",0,3.15],["l",.12,0],["c",1.17,-.24,1.89,-1.32,2.13,-3.36],["c",.09,-.66,.12,-1.17,.15,-2.13],["z"]],w:16.035,h:21.062},"scripts.comma":{d:[["M",1.14,-4.62],["c",.3,-.12,.69,-.03,.93,.15],["c",.12,.12,.36,.45,.51,.78],["c",.9,1.77,.54,4.05,-1.08,6.75],["c",-.36,.63,-.87,1.38,-.96,1.44],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.09,-.18,-.09,-.3,.12,-.6],["c",.96,-1.44,1.44,-2.97,1.38,-4.35],["c",-.06,-.93,-.3,-1.68,-.78,-2.46],["c",-.27,-.39,-.33,-.63,-.24,-.96],["c",.09,-.27,.36,-.54,.66,-.63],["z"]],w:3.042,h:9.237},"scripts.roll":{d:[["M",1.95,-6],["c",.21,-.09,.36,-.09,.57,0],["c",.39,.15,.63,.39,1.47,1.35],["c",.66,.75,.78,.87,1.08,1.05],["c",.75,.45,1.65,.42,2.4,-.06],["c",.12,-.09,.27,-.27,.54,-.6],["c",.42,-.54,.51,-.63,.69,-.63],["c",.09,0,.3,.12,.36,.21],["c",.09,.12,.12,.3,.03,.42],["c",-.06,.12,-3.15,3.9,-3.3,4.08],["c",-.06,.06,-.18,.12,-.27,.18],["c",-.27,.12,-.6,.06,-.99,-.27],["c",-.27,-.21,-.42,-.39,-1.08,-1.14],["c",-.63,-.72,-.81,-.9,-1.17,-1.08],["c",-.36,-.18,-.57,-.21,-.99,-.21],["c",-.39,0,-.63,.03,-.93,.18],["c",-.36,.15,-.51,.27,-.9,.81],["c",-.24,.27,-.45,.51,-.48,.54],["c",-.12,.09,-.27,.06,-.39,0],["c",-.24,-.15,-.33,-.39,-.21,-.6],["c",.09,-.12,3.18,-3.87,3.33,-4.02],["c",.06,-.06,.18,-.15,.24,-.21],["z"]],w:10.817,h:6.125},"scripts.prall":{d:[["M",-4.38,-3.69],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.57,-.84,1.23,-1.83],["c",1.14,-1.68,1.23,-1.83,1.35,-1.89],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["c",-.03,0,-.57,.84,-1.23,1.83],["c",-1.14,1.68,-1.23,1.83,-1.35,1.89],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["z"]],w:15.011,h:7.5},"scripts.arpeggio":{d:[["M",1.5,0],["c",1.5,2,1.5,3,1.5,3],["s",0,1,-2,1.5],["s",-.5,3,1,5.5],["l",1.5,0],["s",-1.75,-2,-1.9,-3.25],["s",2.15,-.6,2.95,-1.6],["s",.45,-1,.5,-1.25],["s",0,-1,-2,-3.9],["l",-1.5,0],["z"]],w:5,h:10},"scripts.mordent":{d:[["M",-.21,-4.95],["c",.27,-.15,.63,0,.75,.27],["c",.06,.12,.06,.24,.06,1.44],["l",0,1.29],["l",.57,-.84],["c",.51,-.75,.57,-.84,.69,-.9],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.83,-1.89],["c",-.81,-.99,-1.5,-1.8,-1.53,-1.86],["c",-.06,-.03,-.06,-.03,-.12,.03],["c",-.06,.06,-.06,.15,-.06,2.28],["c",0,1.95,0,2.25,-.06,2.34],["c",-.18,.45,-.81,.48,-1.05,.03],["c",-.03,-.06,-.06,-.24,-.06,-1.41],["l",0,-1.35],["l",-.57,.84],["c",-.54,.78,-.6,.87,-.72,.93],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.06,-.06,.09,-.09],["c",.06,-.12,.06,-.15,.06,-2.28],["c",0,-1.92,0,-2.22,.06,-2.31],["c",.06,-.15,.15,-.24,.3,-.3],["z"]],w:15.011,h:10.012},"flags.u8th":{d:[["M",-.42,3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",0,.18],["c",0,.3,.06,.84,.12,1.23],["c",.24,1.53,.9,3.12,2.13,5.16],["l",.99,1.59],["c",.87,1.44,1.38,2.34,1.77,3.09],["c",.81,1.68,1.2,3.06,1.26,4.53],["c",.03,1.53,-.21,3.27,-.75,5.01],["c",-.21,.69,-.51,1.5,-.6,1.59],["c",-.09,.12,-.27,.21,-.42,.21],["c",-.15,0,-.42,-.12,-.51,-.21],["c",-.15,-.18,-.18,-.42,-.09,-.66],["c",.15,-.33,.45,-1.2,.57,-1.62],["c",.42,-1.38,.6,-2.58,.6,-3.9],["c",0,-.66,0,-.81,-.06,-1.11],["c",-.39,-2.07,-1.8,-4.26,-4.59,-7.14],["l",-.42,-.45],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["z"]],w:6.692,h:22.59},"flags.u16th":{d:[["M",-.42,7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,.39],["c",.06,1.08,.39,2.19,.99,3.39],["c",.45,.9,.87,1.59,1.95,3.12],["c",1.29,1.86,1.77,2.64,2.22,3.57],["c",.45,.93,.72,1.8,.87,2.64],["c",.06,.51,.06,1.5,0,1.92],["c",-.12,.6,-.3,1.2,-.54,1.71],["l",-.09,.24],["l",.18,.45],["c",.51,1.2,.72,2.22,.69,3.42],["c",-.06,1.53,-.39,3.03,-.99,4.53],["c",-.3,.75,-.36,.81,-.57,.9],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.12,-.75],["c",.66,-1.41,1.02,-2.88,1.08,-4.32],["c",0,-.6,-.03,-1.05,-.18,-1.59],["c",-.3,-1.2,-.99,-2.4,-2.25,-3.87],["c",-.42,-.48,-1.53,-1.62,-2.19,-2.22],["l",-.45,-.42],["l",-.03,1.11],["l",0,1.11],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["z"],["m",1.65,.09],["c",-.3,-.3,-.69,-.72,-.9,-.87],["l",-.33,-.33],["l",0,.15],["c",0,.3,.06,.81,.15,1.26],["c",.27,1.29,.87,2.61,2.04,4.29],["c",.15,.24,.6,.87,.96,1.38],["l",1.08,1.53],["l",.42,.63],["c",.03,0,.12,-.36,.21,-.72],["c",.06,-.33,.06,-1.2,0,-1.62],["c",-.33,-1.71,-1.44,-3.48,-3.63,-5.7],["z"]],w:6.693,h:26.337},"flags.u32nd":{d:[["M",-.42,11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,.36],["c",.09,1.68,.69,3.27,2.07,5.46],["l",.87,1.35],["c",1.02,1.62,1.47,2.37,1.86,3.18],["c",.48,1.02,.78,1.92,.93,2.88],["c",.06,.48,.06,1.5,0,1.89],["c",-.09,.42,-.21,.87,-.36,1.26],["l",-.12,.3],["l",.15,.39],["c",.69,1.56,.84,2.88,.54,4.38],["c",-.09,.45,-.27,1.08,-.45,1.47],["l",-.12,.24],["l",.18,.36],["c",.33,.72,.57,1.56,.69,2.34],["c",.12,1.02,-.06,2.52,-.42,3.84],["c",-.27,.93,-.75,2.13,-.93,2.31],["c",-.18,.15,-.45,.18,-.66,.09],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.06,-.6],["c",.21,-.36,.42,-.9,.57,-1.38],["c",.51,-1.41,.69,-3.06,.48,-4.08],["c",-.15,-.81,-.57,-1.68,-1.2,-2.55],["c",-.72,-.99,-1.83,-2.13,-3.3,-3.33],["l",-.48,-.42],["l",-.03,1.53],["l",0,1.56],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["z"],["m",1.26,-3.96],["c",-.27,-.3,-.54,-.6,-.66,-.72],["l",-.18,-.21],["l",0,.42],["c",.06,.87,.24,1.74,.66,2.67],["c",.36,.87,.96,1.86,1.92,3.18],["c",.21,.33,.63,.87,.87,1.23],["c",.27,.39,.6,.84,.75,1.08],["l",.27,.39],["l",.03,-.12],["c",.12,-.45,.15,-1.05,.09,-1.59],["c",-.27,-1.86,-1.38,-3.78,-3.75,-6.33],["z"],["m",-.27,6.09],["c",-.27,-.21,-.48,-.42,-.51,-.45],["c",-.06,-.03,-.06,-.03,-.06,.21],["c",0,.9,.3,2.04,.81,3.09],["c",.48,1.02,.96,1.77,2.37,3.63],["c",.6,.78,1.05,1.44,1.29,1.77],["c",.06,.12,.15,.21,.15,.18],["c",.03,-.03,.18,-.57,.24,-.87],["c",.06,-.45,.06,-1.32,-.03,-1.74],["c",-.09,-.48,-.24,-.9,-.51,-1.44],["c",-.66,-1.35,-1.83,-2.7,-3.75,-4.38],["z"]],w:6.697,h:32.145},"flags.u64th":{d:[["M",-.42,15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,.36],["c",.06,1.2,.39,2.37,1.02,3.66],["c",.39,.81,.84,1.56,1.8,3.09],["c",.81,1.26,1.05,1.68,1.35,2.22],["c",.87,1.5,1.35,2.79,1.56,4.08],["c",.06,.54,.06,1.56,-.03,2.04],["c",-.09,.48,-.21,.99,-.36,1.35],["l",-.12,.27],["l",.12,.27],["c",.09,.15,.21,.45,.27,.66],["c",.69,1.89,.63,3.66,-.18,5.46],["l",-.18,.39],["l",.15,.33],["c",.3,.66,.51,1.44,.63,2.1],["c",.06,.48,.06,1.35,0,1.71],["c",-.15,.57,-.42,1.2,-.78,1.68],["l",-.21,.27],["l",.18,.33],["c",.57,1.05,.93,2.13,1.02,3.18],["c",.06,.72,0,1.83,-.21,2.79],["c",-.18,1.02,-.63,2.34,-1.02,3.09],["c",-.15,.33,-.48,.45,-.78,.3],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.03,-.54],["c",.75,-1.5,1.23,-3.45,1.17,-4.89],["c",-.06,-1.02,-.42,-2.01,-1.17,-3.15],["c",-.48,-.72,-1.02,-1.35,-1.89,-2.22],["c",-.57,-.57,-1.56,-1.5,-1.92,-1.77],["l",-.12,-.09],["l",0,1.68],["l",0,1.68],["l",-.21,0],["l",-.21,0],["l",0,-15],["z"],["m",.93,-8.07],["c",-.27,-.3,-.48,-.54,-.51,-.54],["c",0,0,0,.69,.03,1.02],["c",.15,1.47,.75,2.94,2.04,4.83],["l",1.08,1.53],["c",.39,.57,.84,1.2,.99,1.44],["c",.15,.24,.3,.45,.3,.45],["c",0,0,.03,-.09,.06,-.21],["c",.36,-1.59,-.15,-3.33,-1.47,-5.4],["c",-.63,-.93,-1.35,-1.83,-2.52,-3.12],["z"],["m",.06,6.72],["c",-.24,-.21,-.48,-.42,-.51,-.45],["l",-.06,-.06],["l",0,.33],["c",0,1.2,.3,2.34,.93,3.6],["c",.45,.9,.96,1.68,2.25,3.51],["c",.39,.54,.84,1.17,1.02,1.44],["c",.21,.33,.33,.51,.33,.48],["c",.06,-.09,.21,-.63,.3,-.99],["c",.06,-.33,.06,-.45,.06,-.96],["c",0,-.6,-.03,-.84,-.18,-1.35],["c",-.3,-1.08,-1.02,-2.28,-2.13,-3.57],["c",-.39,-.45,-1.44,-1.47,-2.01,-1.98],["z"],["m",0,6.72],["c",-.24,-.21,-.48,-.39,-.51,-.42],["l",-.06,-.06],["l",0,.33],["c",0,1.41,.45,2.82,1.38,4.35],["c",.42,.72,.72,1.14,1.86,2.73],["c",.36,.45,.75,.99,.87,1.2],["c",.15,.21,.3,.36,.3,.36],["c",.06,0,.3,-.48,.39,-.75],["c",.09,-.36,.12,-.63,.12,-1.05],["c",-.06,-1.05,-.45,-2.04,-1.2,-3.18],["c",-.57,-.87,-1.11,-1.53,-2.07,-2.49],["c",-.36,-.33,-.84,-.78,-1.08,-1.02],["z"]],w:6.682,h:39.694},"flags.d8th":{d:[["M",5.67,-21.63],["c",.24,-.12,.54,-.06,.69,.15],["c",.06,.06,.21,.36,.39,.66],["c",.84,1.77,1.26,3.36,1.32,5.1],["c",.03,1.29,-.21,2.37,-.81,3.63],["c",-.6,1.23,-1.26,2.13,-3.21,4.38],["c",-1.35,1.53,-1.86,2.19,-2.4,2.97],["c",-.63,.93,-1.11,1.92,-1.38,2.79],["c",-.15,.54,-.27,1.35,-.27,1.8],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",.48,-.3],["c",1.83,-1.11,3.12,-2.1,4.17,-3.12],["c",.78,-.81,1.32,-1.53,1.71,-2.31],["c",.45,-.93,.6,-1.74,.51,-2.88],["c",-.12,-1.56,-.63,-3.18,-1.47,-4.68],["c",-.12,-.21,-.15,-.33,-.06,-.51],["c",.06,-.15,.15,-.24,.33,-.33],["z"]],w:8.492,h:21.691},"flags.ugrace":{d:[["M",6.03,6.93],["c",.15,-.09,.33,-.06,.51,0],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.06,.39,-.03,.54],["c",-.06,.15,-10.89,8.88,-11.07,8.97],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.06,-.39,.03,-.54],["c",.06,-.15,10.89,-8.88,11.07,-8.97],["z"]],w:12.019,h:9.954},"flags.dgrace":{d:[["M",-6.06,-15.93],["c",.18,-.09,.33,-.12,.48,-.06],["c",.18,.09,14.01,8.04,14.1,8.1],["c",.12,.12,.18,.33,.18,.51],["c",-.03,.21,-.15,.39,-.36,.48],["c",-.18,.09,-.33,.12,-.48,.06],["c",-.18,-.09,-14.01,-8.04,-14.1,-8.1],["c",-.12,-.12,-.18,-.33,-.18,-.51],["c",.03,-.21,.15,-.39,.36,-.48],["z"]],w:15.12,h:9.212},"flags.d16th":{d:[["M",6.84,-22.53],["c",.27,-.12,.57,-.06,.72,.15],["c",.15,.15,.33,.87,.45,1.56],["c",.06,.33,.06,1.35,0,1.65],["c",-.06,.33,-.15,.78,-.27,1.11],["c",-.12,.33,-.45,.96,-.66,1.32],["l",-.18,.27],["l",.09,.18],["c",.48,1.02,.72,2.25,.69,3.3],["c",-.06,1.23,-.42,2.28,-1.26,3.45],["c",-.57,.87,-.99,1.32,-3,3.39],["c",-1.56,1.56,-2.22,2.4,-2.76,3.45],["c",-.42,.84,-.66,1.8,-.66,2.55],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,1.14],["l",0,1.11],["l",.27,-.15],["c",1.11,-.57,1.77,-.99,2.52,-1.47],["c",2.37,-1.56,3.69,-3.15,4.05,-4.83],["c",.03,-.18,.03,-.39,.03,-.78],["c",0,-.6,-.03,-.93,-.24,-1.5],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.5],["c",-.06,-.18,-.15,-.36,-.15,-.36],["c",-.03,0,-.03,.03,-.06,.06],["c",-.06,.12,-.96,1.02,-1.95,1.98],["c",-.63,.57,-1.26,1.17,-1.44,1.35],["c",-1.53,1.62,-2.28,2.85,-2.55,4.32],["c",-.03,.18,-.03,.54,-.06,.99],["l",0,.69],["l",.18,-.09],["c",.93,-.54,2.1,-1.29,2.82,-1.83],["c",.69,-.51,1.02,-.81,1.53,-1.29],["c",1.86,-1.89,2.37,-3.66,1.68,-5.82],["z"]],w:8.475,h:22.591},"flags.d32nd":{d:[["M",6.84,-29.13],["c",.27,-.12,.57,-.06,.72,.15],["c",.12,.12,.27,.63,.36,1.11],["c",.33,1.59,.06,3.06,-.81,4.47],["l",-.18,.27],["l",.09,.15],["c",.12,.24,.33,.69,.45,1.05],["c",.63,1.83,.45,3.57,-.57,5.22],["l",-.18,.3],["l",.15,.27],["c",.42,.87,.6,1.71,.57,2.61],["c",-.06,1.29,-.48,2.46,-1.35,3.78],["c",-.54,.81,-.93,1.29,-2.46,3],["c",-.51,.54,-1.05,1.17,-1.26,1.41],["c",-1.56,1.86,-2.25,3.36,-2.37,5.01],["l",0,.33],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,1.35],["l",.03,1.35],["l",.78,-.39],["c",1.38,-.69,2.34,-1.26,3.24,-1.92],["c",1.38,-1.02,2.28,-2.13,2.64,-3.21],["c",.15,-.48,.18,-.72,.18,-1.29],["c",0,-.57,-.06,-.9,-.24,-1.47],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.2],["c",-.09,-.18,-.12,-.21,-.12,-.15],["c",-.03,.09,-1.02,1.08,-2.04,2.04],["c",-1.17,1.08,-1.65,1.56,-2.07,2.04],["c",-.84,.96,-1.38,1.86,-1.68,2.76],["c",-.21,.57,-.27,.99,-.3,1.65],["l",0,.54],["l",.66,-.33],["c",3.57,-1.86,5.49,-3.69,5.94,-5.7],["c",.06,-.39,.06,-1.2,-.03,-1.65],["c",-.06,-.39,-.24,-.9,-.36,-1.2],["z"],["m",-.06,7.2],["c",-.06,-.15,-.12,-.33,-.15,-.45],["l",-.06,-.18],["l",-.18,.21],["l",-1.83,1.83],["c",-.87,.9,-1.77,1.8,-1.95,2.01],["c",-1.08,1.29,-1.62,2.31,-1.89,3.51],["c",-.06,.3,-.06,.51,-.09,.93],["l",0,.57],["l",.09,-.06],["c",.75,-.45,1.89,-1.26,2.52,-1.74],["c",.81,-.66,1.74,-1.53,2.22,-2.16],["c",1.26,-1.53,1.68,-3.06,1.32,-4.47],["z"]],w:8.385,h:29.191},"flags.d64th":{d:[["M",7.08,-32.88],["c",.3,-.12,.66,-.03,.78,.24],["c",.18,.33,.27,2.1,.15,2.64],["c",-.09,.39,-.21,.78,-.39,1.08],["l",-.15,.3],["l",.09,.27],["c",.03,.12,.09,.45,.12,.69],["c",.27,1.44,.18,2.55,-.3,3.6],["l",-.12,.33],["l",.06,.42],["c",.27,1.35,.33,2.82,.21,3.63],["c",-.12,.6,-.3,1.23,-.57,1.8],["l",-.15,.27],["l",.03,.42],["c",.06,1.02,.06,2.7,.03,3.06],["c",-.15,1.47,-.66,2.76,-1.74,4.41],["c",-.45,.69,-.75,1.11,-1.74,2.37],["c",-1.05,1.38,-1.5,1.98,-1.95,2.73],["c",-.93,1.5,-1.38,2.82,-1.44,4.2],["l",0,.42],["l",-.21,0],["l",-.21,0],["l",0,-15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,1.86],["l",0,1.89],["c",0,0,.21,-.03,.45,-.09],["c",2.22,-.39,4.08,-1.11,5.19,-2.01],["c",.63,-.54,1.02,-1.14,1.2,-1.8],["c",.06,-.3,.06,-1.14,-.03,-1.65],["c",-.03,-.18,-.06,-.39,-.09,-.48],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.45,6.15],["c",-.03,-.18,-.06,-.42,-.06,-.54],["l",-.03,-.18],["l",-.33,.3],["c",-.42,.36,-.87,.72,-1.68,1.29],["c",-1.98,1.38,-2.25,1.59,-2.85,2.16],["c",-.75,.69,-1.23,1.44,-1.47,2.19],["c",-.15,.45,-.18,.63,-.21,1.35],["l",0,.66],["l",.39,-.18],["c",1.83,-.9,3.45,-1.95,4.47,-2.91],["c",.93,-.9,1.53,-1.83,1.74,-2.82],["c",.06,-.33,.06,-.87,.03,-1.32],["z"],["m",-.27,4.86],["c",-.03,-.21,-.06,-.36,-.06,-.36],["c",0,-.03,-.12,.09,-.24,.24],["c",-.39,.48,-.99,1.08,-2.16,2.19],["c",-1.47,1.38,-1.92,1.83,-2.46,2.49],["c",-.66,.87,-1.08,1.74,-1.29,2.58],["c",-.09,.42,-.15,.87,-.15,1.44],["l",0,.54],["l",.48,-.33],["c",1.5,-1.02,2.58,-1.89,3.51,-2.82],["c",1.47,-1.47,2.25,-2.85,2.4,-4.26],["c",.03,-.39,.03,-1.17,-.03,-1.71],["z"],["m",-.66,7.68],["c",.03,-.15,.03,-.6,.03,-.99],["l",0,-.72],["l",-.27,.33],["l",-1.74,1.98],["c",-1.77,1.92,-2.43,2.76,-2.97,3.9],["c",-.51,1.02,-.72,1.77,-.75,2.91],["c",0,.63,0,.63,.06,.6],["c",.03,-.03,.3,-.27,.63,-.54],["c",.66,-.6,1.86,-1.8,2.31,-2.31],["c",1.65,-1.89,2.52,-3.54,2.7,-5.16],["z"]],w:8.485,h:32.932},"clefs.C":{d:[["M",.06,-14.94],["l",.09,-.06],["l",1.92,0],["l",1.92,0],["l",.09,.06],["l",.06,.09],["l",0,14.85],["l",0,14.82],["l",-.06,.09],["l",-.09,.06],["l",-1.92,0],["l",-1.92,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"],["m",5.37,0],["c",.09,-.06,.09,-.06,.57,-.06],["c",.45,0,.45,0,.54,.06],["l",.06,.09],["l",0,7.14],["l",0,7.11],["l",.09,-.06],["c",.18,-.18,.72,-.84,.96,-1.2],["c",.3,-.45,.66,-1.17,.84,-1.65],["c",.36,-.9,.57,-1.83,.6,-2.79],["c",.03,-.48,.03,-.54,.09,-.63],["c",.12,-.18,.36,-.21,.54,-.12],["c",.18,.09,.21,.15,.24,.66],["c",.06,.87,.21,1.56,.57,2.22],["c",.51,1.02,1.26,1.68,2.22,1.92],["c",.21,.06,.33,.06,.78,.06],["c",.45,0,.57,0,.84,-.06],["c",.45,-.12,.81,-.33,1.08,-.6],["c",.57,-.57,.87,-1.41,.99,-2.88],["c",.06,-.54,.06,-3,0,-3.57],["c",-.21,-2.58,-.84,-3.87,-2.16,-4.5],["c",-.48,-.21,-1.17,-.36,-1.77,-.36],["c",-.69,0,-1.29,.27,-1.5,.72],["c",-.06,.15,-.06,.21,-.06,.42],["c",0,.24,0,.3,.06,.45],["c",.12,.24,.24,.39,.63,.66],["c",.42,.3,.57,.48,.69,.72],["c",.06,.15,.06,.21,.06,.48],["c",0,.39,-.03,.63,-.21,.96],["c",-.3,.6,-.87,1.08,-1.5,1.26],["c",-.27,.06,-.87,.06,-1.14,0],["c",-.78,-.24,-1.44,-.87,-1.65,-1.68],["c",-.12,-.42,-.09,-1.17,.09,-1.71],["c",.51,-1.65,1.98,-2.82,3.81,-3.09],["c",.84,-.09,2.46,.03,3.51,.27],["c",2.22,.57,3.69,1.8,4.44,3.75],["c",.36,.93,.57,2.13,.57,3.36],["c",0,1.44,-.48,2.73,-1.38,3.81],["c",-1.26,1.5,-3.27,2.43,-5.28,2.43],["c",-.48,0,-.51,0,-.75,-.09],["c",-.15,-.03,-.48,-.21,-.78,-.36],["c",-.69,-.36,-.87,-.42,-1.26,-.42],["c",-.27,0,-.3,0,-.51,.09],["c",-.57,.3,-.81,.9,-.81,2.1],["c",0,1.23,.24,1.83,.81,2.13],["c",.21,.09,.24,.09,.51,.09],["c",.39,0,.57,-.06,1.26,-.42],["c",.3,-.15,.63,-.33,.78,-.36],["c",.24,-.09,.27,-.09,.75,-.09],["c",2.01,0,4.02,.93,5.28,2.4],["c",.9,1.11,1.38,2.4,1.38,3.84],["c",0,1.5,-.3,2.88,-.84,3.96],["c",-.78,1.59,-2.19,2.64,-4.17,3.15],["c",-1.05,.24,-2.67,.36,-3.51,.27],["c",-1.83,-.27,-3.3,-1.44,-3.81,-3.09],["c",-.18,-.54,-.21,-1.29,-.09,-1.74],["c",.15,-.6,.63,-1.2,1.23,-1.47],["c",.36,-.18,.57,-.21,.99,-.21],["c",.42,0,.63,.03,1.02,.21],["c",.42,.21,.84,.63,1.05,1.05],["c",.18,.36,.21,.6,.21,.96],["c",0,.3,0,.36,-.06,.51],["c",-.12,.24,-.27,.42,-.69,.72],["c",-.57,.42,-.69,.63,-.69,1.08],["c",0,.24,0,.3,.06,.45],["c",.12,.21,.3,.39,.57,.54],["c",.42,.18,.87,.21,1.53,.15],["c",1.08,-.15,1.8,-.57,2.34,-1.32],["c",.54,-.75,.84,-1.83,.99,-3.51],["c",.06,-.57,.06,-3.03,0,-3.57],["c",-.12,-1.47,-.42,-2.31,-.99,-2.88],["c",-.27,-.27,-.63,-.48,-1.08,-.6],["c",-.27,-.06,-.39,-.06,-.84,-.06],["c",-.45,0,-.57,0,-.78,.06],["c",-1.14,.27,-2.01,1.17,-2.46,2.49],["c",-.21,.57,-.3,.99,-.33,1.65],["c",-.03,.51,-.06,.57,-.24,.66],["c",-.12,.06,-.27,.06,-.39,0],["c",-.21,-.09,-.21,-.15,-.24,-.75],["c",-.09,-1.92,-.78,-3.72,-2.01,-5.19],["c",-.18,-.21,-.36,-.42,-.39,-.45],["l",-.09,-.06],["l",0,7.11],["l",0,7.14],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.54,.06],["c",-.48,0,-.48,0,-.57,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"]],w:20.31,h:29.97},"clefs.F":{d:[["M",6.3,-7.8],["c",.36,-.03,1.65,0,2.13,.03],["c",3.6,.42,6.03,2.1,6.93,4.86],["c",.27,.84,.36,1.5,.36,2.58],["c",0,.9,-.03,1.35,-.18,2.16],["c",-.78,3.78,-3.54,7.08,-8.37,9.96],["c",-1.74,1.05,-3.87,2.13,-6.18,3.12],["c",-.39,.18,-.75,.33,-.81,.36],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.15,.06,-.21,.51,-.48],["c",3,-1.77,5.13,-3.21,6.84,-4.74],["c",.51,-.45,1.59,-1.5,1.95,-1.95],["c",1.89,-2.19,2.88,-4.32,3.15,-6.78],["c",.06,-.42,.06,-1.77,0,-2.19],["c",-.24,-2.01,-.93,-3.63,-2.04,-4.71],["c",-.63,-.63,-1.29,-1.02,-2.07,-1.2],["c",-1.62,-.39,-3.36,.15,-4.56,1.44],["c",-.54,.6,-1.05,1.47,-1.32,2.22],["l",-.09,.21],["l",.24,-.12],["c",.39,-.21,.63,-.24,1.11,-.24],["c",.3,0,.45,0,.66,.06],["c",1.92,.48,2.85,2.55,1.95,4.38],["c",-.45,.99,-1.41,1.62,-2.46,1.71],["c",-1.47,.09,-2.91,-.87,-3.39,-2.25],["c",-.18,-.57,-.21,-1.32,-.03,-2.28],["c",.39,-2.25,1.83,-4.2,3.81,-5.19],["c",.69,-.36,1.59,-.6,2.37,-.69],["z"],["m",11.58,2.52],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.3,1.17,-.72,2.19,-1.89,1.89],["c",-.99,-.21,-1.5,-1.32,-1.02,-2.25],["c",.18,-.39,.6,-.69,1.02,-.78],["z"],["m",0,7.5],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.21,.87,-.3,1.71,-1.14,1.89],["c",-.87,.21,-1.71,-.3,-1.89,-1.14],["c",-.21,-.84,.3,-1.71,1.14,-1.89],["z"]],w:20.153,h:23.142},"clefs.G":{d:[["M",9.69,-37.41],["c",.09,-.09,.24,-.06,.36,0],["c",.12,.09,.57,.6,.96,1.11],["c",1.77,2.34,3.21,5.85,3.57,8.73],["c",.21,1.56,.03,3.27,-.45,4.86],["c",-.69,2.31,-1.92,4.47,-4.23,7.44],["c",-.3,.39,-.57,.72,-.6,.75],["c",-.03,.06,0,.15,.18,.78],["c",.54,1.68,1.38,4.44,1.68,5.49],["l",.09,.42],["l",.39,0],["c",1.47,.09,2.76,.51,3.96,1.29],["c",1.83,1.23,3.06,3.21,3.39,5.52],["c",.09,.45,.12,1.29,.06,1.74],["c",-.09,1.02,-.33,1.83,-.75,2.73],["c",-.84,1.71,-2.28,3.06,-4.02,3.72],["l",-.33,.12],["l",.03,1.26],["c",0,1.74,-.06,3.63,-.21,4.62],["c",-.45,3.06,-2.19,5.49,-4.47,6.21],["c",-.57,.18,-.9,.21,-1.59,.21],["c",-.69,0,-1.02,-.03,-1.65,-.21],["c",-1.14,-.27,-2.13,-.84,-2.94,-1.65],["c",-.99,-.99,-1.56,-2.16,-1.71,-3.54],["c",-.09,-.81,.06,-1.53,.45,-2.13],["c",.63,-.99,1.83,-1.56,3,-1.53],["c",1.5,.09,2.64,1.32,2.73,2.94],["c",.06,1.47,-.93,2.7,-2.37,2.97],["c",-.45,.06,-.84,.03,-1.29,-.09],["l",-.21,-.09],["l",.09,.12],["c",.39,.54,.78,.93,1.32,1.26],["c",1.35,.87,3.06,1.02,4.35,.36],["c",1.44,-.72,2.52,-2.28,2.97,-4.35],["c",.15,-.66,.24,-1.5,.3,-3.03],["c",.03,-.84,.03,-2.94,0,-3],["c",-.03,0,-.18,0,-.36,.03],["c",-.66,.12,-.99,.12,-1.83,.12],["c",-1.05,0,-1.71,-.06,-2.61,-.3],["c",-4.02,-.99,-7.11,-4.35,-7.8,-8.46],["c",-.12,-.66,-.12,-.99,-.12,-1.83],["c",0,-.84,0,-1.14,.15,-1.92],["c",.36,-2.28,1.41,-4.62,3.3,-7.29],["l",2.79,-3.6],["c",.54,-.66,.96,-1.2,.96,-1.23],["c",0,-.03,-.09,-.33,-.18,-.69],["c",-.96,-3.21,-1.41,-5.28,-1.59,-7.68],["c",-.12,-1.38,-.15,-3.09,-.06,-3.96],["c",.33,-2.67,1.38,-5.07,3.12,-7.08],["c",.36,-.42,.99,-1.05,1.17,-1.14],["z"],["m",2.01,4.71],["c",-.15,-.3,-.3,-.54,-.3,-.54],["c",-.03,0,-.18,.09,-.3,.21],["c",-2.4,1.74,-3.87,4.2,-4.26,7.11],["c",-.06,.54,-.06,1.41,-.03,1.89],["c",.09,1.29,.48,3.12,1.08,5.22],["c",.15,.42,.24,.78,.24,.81],["c",0,.03,.84,-1.11,1.23,-1.68],["c",1.89,-2.73,2.88,-5.07,3.15,-7.53],["c",.09,-.57,.12,-1.74,.06,-2.37],["c",-.09,-1.23,-.27,-1.92,-.87,-3.12],["z"],["m",-2.94,20.7],["c",-.21,-.72,-.39,-1.32,-.42,-1.32],["c",0,0,-1.2,1.47,-1.86,2.37],["c",-2.79,3.63,-4.02,6.3,-4.35,9.3],["c",-.03,.21,-.03,.69,-.03,1.08],["c",0,.69,0,.75,.06,1.11],["c",.12,.54,.27,.99,.51,1.47],["c",.69,1.38,1.83,2.55,3.42,3.42],["c",.96,.54,2.07,.9,3.21,1.08],["c",.78,.12,2.04,.12,2.94,-.03],["c",.51,-.06,.45,-.03,.42,-.3],["c",-.24,-3.33,-.72,-6.33,-1.62,-10.08],["c",-.09,-.39,-.18,-.75,-.18,-.78],["c",-.03,-.03,-.42,0,-.81,.09],["c",-.9,.18,-1.65,.57,-2.22,1.14],["c",-.72,.72,-1.08,1.65,-1.05,2.64],["c",.06,.96,.48,1.83,1.23,2.58],["c",.36,.36,.72,.63,1.17,.9],["c",.33,.18,.36,.21,.42,.33],["c",.18,.42,-.18,.9,-.6,.87],["c",-.18,-.03,-.84,-.36,-1.26,-.63],["c",-.78,-.51,-1.38,-1.11,-1.86,-1.83],["c",-1.77,-2.7,-.99,-6.42,1.71,-8.19],["c",.3,-.21,.81,-.48,1.17,-.63],["c",.3,-.09,1.02,-.3,1.14,-.3],["c",.06,0,.09,0,.09,-.03],["c",.03,-.03,-.51,-1.92,-1.23,-4.26],["z"],["m",3.78,7.41],["c",-.18,-.03,-.36,-.06,-.39,-.06],["c",-.03,0,0,.21,.18,1.02],["c",.75,3.18,1.26,6.3,1.5,9.09],["c",.06,.72,0,.69,.51,.42],["c",.78,-.36,1.44,-.96,1.98,-1.77],["c",1.08,-1.62,1.2,-3.69,.3,-5.55],["c",-.81,-1.62,-2.31,-2.79,-4.08,-3.15],["z"]],w:19.051,h:57.057},"clefs.perc":{d:[["M",5.07,-7.44],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"],["m",6.63,0],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"]],w:21,h:14.97},"tab.big":{d:[["M",20.16,-21.66],["c",.24,-.09,.66,.09,.78,.36],["c",.09,.21,.09,.24,-.18,.54],["c",-.78,.81,-1.86,1.44,-2.94,1.71],["c",-.87,.24,-1.71,.24,-2.55,.03],["l",-.06,-.03],["l",-.18,.99],["c",-.33,1.98,-.75,4.26,-.96,5.04],["c",-.42,1.65,-1.26,3.18,-2.28,4.14],["c",-.57,.57,-1.17,.9,-1.86,1.08],["c",-.18,.06,-.33,.06,-.66,.06],["c",-.54,0,-.78,-.03,-1.23,-.27],["c",-.39,-.18,-.66,-.39,-1.38,-.99],["c",-.3,-.24,-.66,-.51,-.75,-.57],["c",-.21,-.15,-.27,-.24,-.24,-.45],["c",.06,-.27,.36,-.6,.6,-.66],["c",.18,-.03,.33,.06,.9,.57],["c",.48,.42,.72,.57,.93,.69],["c",.66,.33,1.38,.21,1.95,-.36],["c",.63,-.6,1.05,-1.62,1.23,-3],["c",.03,-.18,.09,-.66,.09,-1.11],["c",.09,-1.56,.33,-3.81,.57,-5.49],["c",.06,-.33,.09,-.63,.09,-.63],["c",-.03,-.03,-.81,-.12,-1.02,-.12],["c",-.57,0,-1.32,.12,-1.8,.33],["c",-.87,.3,-1.35,.78,-1.5,1.41],["c",-.18,.63,.09,1.26,.66,1.65],["c",.12,.06,.15,.12,.18,.24],["c",.09,.27,.06,.57,-.09,.75],["c",-.03,.06,-.12,.09,-.27,.15],["c",-.72,.21,-1.44,.15,-2.1,-.18],["c",-.54,-.27,-.96,-.66,-1.2,-1.14],["c",-.39,-.75,-.33,-1.74,.15,-2.52],["c",.27,-.42,.84,-.93,1.41,-1.23],["c",1.17,-.57,2.88,-.9,4.8,-.9],["c",.69,0,.78,0,1.08,.06],["c",.45,.09,1.11,.3,2.07,.6],["c",1.47,.48,1.83,.57,2.55,.54],["c",1.02,-.06,2.04,-.45,2.94,-1.11],["c",.12,-.09,.24,-.18,.27,-.18],["z"],["m",-5.88,13.05],["c",.21,-.03,.81,0,1.08,.06],["c",.48,.12,.9,.42,.99,.69],["c",.03,.09,.03,.15,0,.27],["c",0,.09,-.03,.57,-.06,1.08],["c",-.09,2.19,-.24,5.76,-.39,8.28],["c",-.06,1.53,-.06,1.77,.03,2.01],["c",.09,.18,.15,.24,.3,.3],["c",.24,.12,.54,.06,1.23,-.27],["c",.57,-.27,.66,-.3,.75,-.24],["c",.09,.06,.18,.3,.18,.45],["c",0,.33,-.15,.51,-.45,.63],["c",-.12,.03,-.39,.15,-.6,.27],["c",-1.17,.6,-1.38,.69,-1.8,.72],["c",-.45,.03,-.78,-.09,-1.08,-.39],["c",-.39,-.42,-.66,-1.2,-1.02,-3.12],["c",-.24,-1.23,-.36,-2.07,-.54,-3.75],["l",0,-.18],["l",-.36,.45],["c",-.6,.75,-1.32,1.59,-1.95,2.25],["c",-.15,.18,-.27,.3,-.27,.33],["c",0,0,.06,.09,.15,.18],["c",.24,.33,.6,.57,1.05,.69],["c",.18,.06,.3,.06,.69,.06],["l",.48,.03],["l",.06,.12],["c",.15,.27,.03,.72,-.21,.9],["c",-.18,.12,-.93,.27,-1.41,.27],["c",-.84,0,-1.59,-.3,-1.98,-.84],["l",-.12,-.15],["l",-.45,.42],["c",-.99,.87,-1.53,1.32,-2.16,1.74],["c",-.78,.51,-1.5,.84,-2.1,.93],["c",-.69,.12,-1.2,.03,-1.95,-.42],["c",-.21,-.12,-.51,-.27,-.66,-.36],["c",-.24,-.12,-.3,-.18,-.33,-.24],["c",-.12,-.27,.15,-.78,.45,-.93],["c",.24,-.12,.33,-.09,.9,.18],["c",.6,.3,.84,.39,1.2,.36],["c",.87,-.09,1.77,-.69,3.24,-2.31],["c",2.67,-2.85,4.59,-5.94,5.7,-9.15],["c",.15,-.45,.24,-.63,.42,-.81],["c",.21,-.24,.6,-.45,.99,-.51],["z"],["m",-3.99,16.05],["c",.18,0,.69,-.03,1.17,0],["c",3.27,.03,5.37,.75,6,2.07],["c",.45,.99,.12,2.4,-.81,3.42],["c",-.24,.27,-.57,.57,-.84,.75],["c",-.09,.06,-.18,.09,-.18,.12],["c",0,0,.18,.03,.42,.09],["c",1.23,.3,2.01,.81,2.37,1.59],["c",.27,.54,.3,1.32,.09,2.1],["c",-.12,.36,-.45,1.05,-.69,1.35],["c",-.87,1.17,-2.1,1.92,-3.54,2.25],["c",-.36,.06,-.48,.06,-.96,.06],["c",-.45,0,-.66,0,-.84,-.03],["c",-.84,-.18,-1.47,-.51,-2.07,-1.11],["c",-.33,-.33,-.45,-.51,-.45,-.63],["c",0,-.06,.03,-.15,.06,-.24],["c",.18,-.33,.69,-.6,.93,-.48],["c",.03,.03,.15,.12,.27,.24],["c",.39,.42,.99,.57,1.62,.45],["c",1.05,-.21,1.98,-1.02,2.31,-2.01],["c",.48,-1.53,-.48,-2.55,-2.58,-2.67],["c",-.21,0,-.36,-.03,-.42,-.06],["c",-.15,-.09,-.21,-.51,-.06,-.78],["c",.12,-.27,.24,-.33,.6,-.36],["c",.57,-.06,1.11,-.42,1.5,-.99],["c",.48,-.72,.54,-1.59,.18,-2.31],["c",-.12,-.21,-.45,-.54,-.69,-.69],["c",-.33,-.21,-.93,-.45,-1.35,-.51],["l",-.12,-.03],["l",-.06,.48],["c",-.54,2.94,-1.14,6.24,-1.29,6.75],["c",-.33,1.35,-.93,2.61,-1.65,3.6],["c",-.3,.36,-.81,.9,-1.14,1.14],["c",-.3,.24,-.84,.48,-1.14,.57],["c",-.33,.09,-.96,.09,-1.26,.03],["c",-.45,-.12,-.87,-.39,-1.53,-.96],["c",-.24,-.15,-.51,-.39,-.63,-.48],["c",-.3,-.21,-.33,-.33,-.21,-.63],["c",.12,-.18,.27,-.36,.42,-.45],["c",.27,-.12,.36,-.09,.87,.33],["c",.78,.6,1.08,.75,1.65,.72],["c",.45,-.03,.81,-.21,1.17,-.54],["c",.87,-.9,1.38,-2.85,1.38,-5.37],["c",0,-.6,.03,-1.11,.12,-2.04],["c",.06,-.69,.24,-2.01,.33,-2.58],["c",.06,-.24,.06,-.42,.06,-.42],["c",0,0,-.12,.03,-.21,.09],["c",-1.44,.57,-2.16,1.65,-1.74,2.55],["c",.09,.15,.18,.24,.27,.33],["c",.24,.21,.3,.27,.33,.39],["c",.06,.24,0,.63,-.15,.78],["c",-.09,.12,-.54,.21,-.96,.24],["c",-1.02,.03,-2.01,-.48,-2.43,-1.32],["c",-.21,-.45,-.27,-.9,-.15,-1.44],["c",.06,-.27,.21,-.66,.39,-.93],["c",.87,-1.29,3,-2.22,5.64,-2.43],["z"]],w:19.643,h:43.325},"tab.tiny":{d:[["M",16.02,-17.25],["c",.12,-.09,.15,-.09,.27,-.09],["c",.21,.03,.51,.3,.51,.45],["c",0,.06,-.12,.18,-.3,.36],["c",-1.11,1.08,-2.55,1.59,-3.84,1.41],["c",-.15,-.03,-.33,-.06,-.39,-.09],["c",-.06,-.03,-.09,-.03,-.12,-.03],["c",0,0,-.06,.42,-.15,.93],["c",-.33,2.01,-.66,3.69,-.84,4.26],["c",-.42,1.41,-1.23,2.67,-2.16,3.33],["c",-.27,.18,-.75,.42,-.99,.48],["c",-.3,.09,-.72,.09,-1.02,.06],["c",-.45,-.09,-.84,-.33,-1.53,-.9],["c",-.21,-.18,-.51,-.39,-.63,-.48],["c",-.27,-.21,-.3,-.24,-.3,-.36],["c",0,-.12,.09,-.36,.18,-.45],["c",.09,-.09,.27,-.18,.36,-.18],["c",.12,0,.3,.12,.66,.45],["c",.57,.51,.87,.69,1.23,.72],["c",.93,.06,1.68,-.78,1.98,-2.37],["c",.09,-.39,.15,-.75,.18,-1.53],["c",.06,-.99,.24,-2.79,.42,-4.05],["c",.03,-.3,.06,-.57,.06,-.6],["c",0,-.06,-.03,-.09,-.15,-.12],["c",-.9,-.18,-2.13,.06,-2.76,.57],["c",-.36,.3,-.51,.6,-.51,1.02],["c",0,.45,.15,.75,.48,.99],["c",.06,.06,.15,.18,.18,.24],["c",.12,.24,.03,.63,-.15,.69],["c",-.24,.12,-.6,.15,-.9,.15],["c",-.36,-.03,-.57,-.09,-.87,-.24],["c",-.78,-.36,-1.23,-1.11,-1.2,-1.92],["c",.12,-1.53,1.74,-2.49,4.62,-2.7],["c",1.2,-.09,1.47,-.03,3.33,.57],["c",.9,.3,1.14,.36,1.56,.39],["c",.45,0,.93,-.06,1.38,-.21],["c",.51,-.18,.81,-.33,1.41,-.75],["z"],["m",-4.68,10.38],["c",.39,-.06,.84,0,1.2,.15],["c",.24,.12,.36,.21,.45,.36],["l",.09,.09],["l",-.06,1.41],["c",-.09,2.19,-.18,3.96,-.27,5.49],["c",-.03,.78,-.06,1.59,-.06,1.86],["c",0,.42,0,.48,.06,.57],["c",.06,.18,.18,.24,.36,.27],["c",.18,0,.39,-.06,.84,-.27],["c",.45,-.21,.54,-.24,.63,-.18],["c",.12,.12,.15,.54,.03,.69],["c",-.03,.03,-.15,.12,-.27,.18],["c",-.15,.03,-.3,.12,-.36,.15],["c",-.87,.45,-1.02,.51,-1.26,.57],["c",-.33,.09,-.6,.06,-.84,-.06],["c",-.42,-.18,-.63,-.6,-.87,-1.44],["c",-.3,-1.23,-.57,-2.97,-.66,-4.08],["c",0,-.18,-.03,-.3,-.03,-.33],["l",-.06,.06],["c",-.18,.27,-1.11,1.38,-1.68,2.01],["l",-.33,.33],["l",.06,.09],["c",.06,.15,.27,.33,.48,.42],["c",.27,.18,.51,.24,.96,.27],["l",.39,0],["l",.03,.12],["c",.12,.21,.03,.57,-.15,.69],["c",-.03,.03,-.21,.09,-.36,.15],["c",-.27,.06,-.39,.06,-.75,.06],["c",-.48,0,-.75,-.03,-1.08,-.21],["c",-.21,-.12,-.51,-.36,-.57,-.48],["l",-.03,-.09],["l",-.39,.36],["c",-1.47,1.35,-2.49,1.98,-3.42,2.13],["c",-.54,.09,-.96,-.03,-1.62,-.39],["c",-.21,-.15,-.45,-.27,-.54,-.3],["c",-.18,-.09,-.21,-.21,-.12,-.45],["c",.06,-.27,.33,-.48,.54,-.48],["c",.03,0,.27,.09,.48,.21],["c",.48,.24,.69,.27,.99,.27],["c",.6,-.06,1.17,-.42,2.1,-1.35],["c",2.22,-2.22,4.02,-4.98,4.95,-7.59],["c",.21,-.57,.3,-.78,.48,-.93],["c",.15,-.15,.42,-.27,.66,-.33],["z"],["m",-3.06,12.84],["c",.27,-.03,1.68,0,2.01,.03],["c",1.92,.18,3.15,.69,3.63,1.5],["c",.18,.33,.24,.51,.21,.93],["c",0,.45,-.06,.72,-.24,1.11],["c",-.24,.51,-.69,1.02,-1.17,1.35],["c",-.21,.15,-.21,.15,-.12,.18],["c",.72,.15,1.11,.3,1.5,.57],["c",.39,.24,.63,.57,.75,.96],["c",.09,.3,.09,.96,0,1.29],["c",-.15,.57,-.39,1.05,-.78,1.5],["c",-.66,.75,-1.62,1.32,-2.61,1.53],["c",-.27,.06,-.42,.06,-.84,.06],["c",-.48,0,-.57,0,-.81,-.06],["c",-.6,-.18,-1.05,-.42,-1.47,-.81],["c",-.36,-.39,-.42,-.51,-.3,-.75],["c",.12,-.21,.39,-.39,.6,-.39],["c",.09,0,.15,.03,.33,.18],["c",.12,.12,.27,.24,.36,.27],["c",.96,.48,2.46,-.33,2.82,-1.5],["c",.24,-.81,-.03,-1.44,-.69,-1.77],["c",-.39,-.21,-1.02,-.33,-1.53,-.33],["c",-.18,0,-.21,0,-.27,-.09],["c",-.06,-.09,-.06,-.3,-.03,-.48],["c",.06,-.18,.18,-.36,.33,-.36],["c",.39,-.06,.51,-.09,.72,-.18],["c",.69,-.36,1.11,-1.23,.99,-2.01],["c",-.09,-.51,-.42,-.9,-.93,-1.17],["c",-.24,-.12,-.6,-.27,-.87,-.3],["c",-.09,-.03,-.09,-.03,-.12,.12],["c",0,.09,-.21,1.11,-.42,2.25],["c",-.66,3.75,-.72,3.99,-1.26,5.07],["c",-.9,1.89,-2.25,2.85,-3.48,2.61],["c",-.39,-.09,-.69,-.27,-1.38,-.84],["c",-.63,-.51,-.63,-.48,-.63,-.6],["c",0,-.18,.18,-.48,.39,-.57],["c",.21,-.12,.3,-.09,.81,.33],["c",.15,.15,.39,.3,.54,.36],["c",.18,.12,.27,.12,.48,.15],["c",.99,.06,1.71,-.78,2.04,-2.46],["c",.12,-.66,.18,-1.14,.21,-2.22],["c",.03,-1.23,.12,-2.25,.36,-3.63],["c",.03,-.24,.06,-.45,.06,-.48],["c",-.06,-.03,-.66,.27,-.9,.42],["c",-.06,.06,-.21,.18,-.33,.3],["c",-.57,.57,-.6,1.35,-.06,1.74],["c",.18,.12,.24,.24,.21,.51],["c",-.03,.3,-.15,.42,-.57,.48],["c",-1.11,.24,-2.22,-.42,-2.43,-1.38],["c",-.09,-.45,.03,-1.02,.3,-1.47],["c",.18,-.24,.6,-.63,.9,-.84],["c",.9,-.6,2.28,-1.02,3.69,-1.11],["z"]],w:15.709,h:34.656},"timesig.common":{d:[["M",6.66,-7.83],["c",.72,-.06,1.41,-.03,1.98,.09],["c",1.2,.27,2.34,.96,3.09,1.92],["c",.63,.81,1.08,1.86,1.14,2.73],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,0,-.09,-.12,-.24,-.27],["c",-1.02,-1.11,-2.55,-1.68,-4.08,-1.5],["c",-1.29,.15,-2.04,.69,-2.4,1.74],["c",-.36,.93,-.42,1.89,-.42,5.37],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.63,1.68,1.41,2.07],["c",.81,.39,2.16,.45,3.18,.09],["c",1.29,-.45,2.37,-1.53,3.03,-2.97],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.06,.39,-.42,1.38,-.69,1.89],["c",-.96,1.8,-2.49,2.94,-4.23,3.18],["c",-.99,.12,-2.58,-.06,-3.63,-.45],["c",-.96,-.36,-1.71,-.84,-2.4,-1.5],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.9,-3.45,2.01,-4.56],["c",.69,-.66,1.44,-1.11,2.37,-1.47],["c",.63,-.24,1.47,-.42,2.22,-.48],["z"]],w:13.038,h:15.689},"timesig.cut":{d:[["M",6.24,-10.44],["c",.09,-.06,.09,-.06,.48,-.06],["c",.36,0,.36,0,.45,.06],["l",.06,.09],["l",0,1.23],["l",0,1.26],["l",.27,0],["c",1.26,0,2.49,.45,3.48,1.29],["c",1.05,.87,1.8,2.28,1.89,3.48],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,-.03,-.45,-.51,-.66,-.69],["c",-.87,-.69,-1.83,-1.05,-2.94,-1.11],["l",-.42,0],["l",0,7.17],["l",0,7.14],["l",.42,0],["c",.69,-.03,1.23,-.18,1.86,-.51],["c",1.05,-.51,1.89,-1.47,2.46,-2.7],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.03,.24,-.21,.78,-.39,1.2],["c",-.96,2.37,-2.94,3.9,-5.13,3.9],["l",-.3,0],["l",0,1.26],["l",0,1.23],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.45,.06],["c",-.39,0,-.39,0,-.48,-.06],["l",-.06,-.09],["l",0,-1.29],["l",0,-1.29],["l",-.21,-.03],["c",-1.23,-.21,-2.31,-.63,-3.21,-1.29],["c",-.15,-.09,-.45,-.36,-.66,-.57],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.93,-3.45,2.04,-4.59],["c",.42,-.39,.78,-.66,1.26,-.93],["c",.75,-.45,1.65,-.75,2.61,-.9],["l",.21,-.03],["l",0,-1.29],["l",0,-1.29],["z"],["m",-.06,10.44],["c",0,-5.58,0,-6.99,-.03,-6.99],["c",-.15,0,-.63,.27,-.87,.45],["c",-.45,.36,-.75,.93,-.93,1.77],["c",-.18,.81,-.24,1.8,-.24,4.74],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.66,1.68,1.41,2.07],["c",.12,.06,.3,.12,.33,.15],["l",.09,0],["l",0,-6.96],["z"]],w:13.038,h:20.97},"timesig.imperfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.imperfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},f:{d:[["M",9.93,-14.28],["c",1.53,-.18,2.88,.45,3.12,1.5],["c",.12,.51,0,1.32,-.27,1.86],["c",-.15,.3,-.42,.57,-.63,.69],["c",-.69,.36,-1.56,.03,-1.83,-.69],["c",-.09,-.24,-.09,-.69,0,-.87],["c",.06,-.12,.21,-.24,.45,-.42],["c",.42,-.24,.57,-.45,.6,-.72],["c",.03,-.33,-.09,-.39,-.63,-.42],["c",-.3,0,-.45,0,-.6,.03],["c",-.81,.21,-1.35,.93,-1.74,2.46],["c",-.06,.27,-.48,2.25,-.48,2.31],["c",0,.03,.39,.03,.9,.03],["c",.72,0,.9,0,.99,.06],["c",.42,.15,.45,.72,.03,.9],["c",-.12,.06,-.24,.06,-1.17,.06],["l",-1.05,0],["l",-.78,2.55],["c",-.45,1.41,-.87,2.79,-.96,3.06],["c",-.87,2.37,-2.37,4.74,-3.78,5.91],["c",-1.05,.9,-2.04,1.23,-3.09,1.08],["c",-1.11,-.18,-1.89,-.78,-2.04,-1.59],["c",-.12,-.66,.15,-1.71,.54,-2.19],["c",.69,-.75,1.86,-.54,2.22,.39],["c",.06,.15,.09,.27,.09,.48],["c",0,.24,-.03,.27,-.12,.42],["c",-.03,.09,-.15,.18,-.27,.27],["c",-.09,.06,-.27,.21,-.36,.27],["c",-.24,.18,-.36,.36,-.39,.6],["c",-.03,.33,.09,.39,.63,.42],["c",.42,0,.63,-.03,.9,-.15],["c",.6,-.3,.96,-.96,1.38,-2.64],["c",.09,-.42,.63,-2.55,1.17,-4.77],["l",1.02,-4.08],["c",0,-.03,-.36,-.03,-.81,-.03],["c",-.72,0,-.81,0,-.93,-.06],["c",-.42,-.18,-.39,-.75,.03,-.9],["c",.09,-.06,.27,-.06,1.05,-.06],["l",.96,0],["l",0,-.09],["c",.06,-.18,.3,-.72,.51,-1.17],["c",1.2,-2.46,3.3,-4.23,5.34,-4.5],["z"]],w:16.155,h:19.445},m:{d:[["M",2.79,-8.91],["c",.09,0,.3,-.03,.45,-.03],["c",.24,.03,.3,.03,.45,.12],["c",.36,.15,.63,.54,.75,1.02],["l",.03,.21],["l",.33,-.3],["c",.69,-.69,1.38,-1.02,2.07,-1.02],["c",.27,0,.33,0,.48,.06],["c",.21,.09,.48,.36,.63,.6],["c",.03,.09,.12,.27,.18,.42],["c",.03,.15,.09,.27,.12,.27],["c",0,0,.09,-.09,.18,-.21],["c",.33,-.39,.87,-.81,1.29,-.99],["c",.78,-.33,1.47,-.21,2.01,.33],["c",.3,.33,.48,.69,.6,1.14],["c",.09,.42,.06,.54,-.54,3.06],["c",-.33,1.29,-.57,2.4,-.57,2.43],["c",0,.12,.09,.21,.21,.21],["c",.24,0,.75,-.3,1.2,-.72],["c",.45,-.39,.6,-.45,.78,-.27],["c",.18,.18,.09,.36,-.45,.87],["c",-1.05,.96,-1.83,1.47,-2.58,1.71],["c",-.93,.33,-1.53,.21,-1.8,-.33],["c",-.06,-.15,-.06,-.21,-.06,-.45],["c",0,-.24,.03,-.48,.6,-2.82],["c",.42,-1.71,.6,-2.64,.63,-2.79],["c",.03,-.57,-.3,-.75,-.84,-.48],["c",-.24,.12,-.54,.39,-.66,.63],["c",-.03,.09,-.42,1.38,-.9,3],["c",-.9,3.15,-.84,3,-1.14,3.15],["l",-.15,.09],["l",-.78,0],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.36,-1.38,.84,-2.97],["c",.57,-2.04,.81,-2.97,.84,-3.12],["c",.03,-.54,-.3,-.72,-.84,-.45],["c",-.24,.12,-.57,.42,-.66,.63],["c",-.06,.09,-.51,1.44,-1.05,2.97],["c",-.51,1.56,-.99,2.85,-.99,2.91],["c",-.06,.12,-.21,.24,-.36,.3],["c",-.12,.06,-.21,.06,-.9,.06],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.45,-1.38,.99,-2.97],["c",1.05,-3.18,1.05,-3.18,.93,-3.45],["c",-.12,-.27,-.39,-.3,-.72,-.15],["c",-.54,.27,-1.14,1.17,-1.56,2.4],["c",-.06,.15,-.15,.3,-.18,.36],["c",-.21,.21,-.57,.27,-.72,.09],["c",-.09,-.09,-.06,-.21,.06,-.63],["c",.48,-1.26,1.26,-2.46,2.01,-3.21],["c",.57,-.54,1.2,-.87,1.83,-1.02],["z"]],w:14.687,h:9.126},p:{d:[["M",1.92,-8.7],["c",.27,-.09,.81,-.06,1.11,.03],["c",.54,.18,.93,.51,1.17,.99],["c",.09,.15,.15,.33,.18,.36],["l",0,.12],["l",.3,-.27],["c",.66,-.6,1.35,-1.02,2.13,-1.2],["c",.21,-.06,.33,-.06,.78,-.06],["c",.45,0,.51,0,.84,.09],["c",1.29,.33,2.07,1.32,2.25,2.79],["c",.09,.81,-.09,2.01,-.45,2.79],["c",-.54,1.26,-1.86,2.55,-3.18,3.03],["c",-.45,.18,-.81,.24,-1.29,.24],["c",-.69,-.03,-1.35,-.18,-1.86,-.45],["c",-.3,-.15,-.51,-.18,-.69,-.09],["c",-.09,.03,-.18,.09,-.18,.12],["c",-.09,.12,-1.05,2.94,-1.05,3.06],["c",0,.24,.18,.48,.51,.63],["c",.18,.06,.54,.15,.75,.15],["c",.21,0,.36,.06,.42,.18],["c",.12,.18,.06,.42,-.12,.54],["c",-.09,.03,-.15,.03,-.78,0],["c",-1.98,-.15,-3.81,-.15,-5.79,0],["c",-.63,.03,-.69,.03,-.78,0],["c",-.24,-.15,-.24,-.57,.03,-.66],["c",.06,-.03,.48,-.09,.99,-.12],["c",.87,-.06,1.11,-.09,1.35,-.21],["c",.18,-.06,.33,-.18,.39,-.3],["c",.06,-.12,3.24,-9.42,3.27,-9.6],["c",.06,-.33,.03,-.57,-.15,-.69],["c",-.09,-.06,-.12,-.06,-.3,-.06],["c",-.69,.06,-1.53,1.02,-2.28,2.61],["c",-.09,.21,-.21,.45,-.27,.51],["c",-.09,.12,-.33,.24,-.48,.24],["c",-.18,0,-.36,-.15,-.36,-.3],["c",0,-.24,.78,-1.83,1.26,-2.55],["c",.72,-1.11,1.47,-1.74,2.28,-1.92],["z"],["m",5.37,1.47],["c",-.27,-.12,-.75,-.03,-1.14,.21],["c",-.75,.48,-1.47,1.68,-1.89,3.15],["c",-.45,1.47,-.42,2.34,0,2.7],["c",.45,.39,1.26,.21,1.83,-.36],["c",.51,-.51,.99,-1.68,1.38,-3.27],["c",.3,-1.17,.33,-1.74,.15,-2.13],["c",-.09,-.15,-.15,-.21,-.33,-.3],["z"]],w:14.689,h:13.127},r:{d:[["M",6.33,-9.12],["c",.27,-.03,.93,0,1.2,.06],["c",.84,.21,1.23,.81,1.02,1.53],["c",-.24,.75,-.9,1.17,-1.56,.96],["c",-.33,-.09,-.51,-.3,-.66,-.75],["c",-.03,-.12,-.09,-.24,-.12,-.3],["c",-.09,-.15,-.3,-.24,-.48,-.24],["c",-.57,0,-1.38,.54,-1.65,1.08],["c",-.06,.15,-.33,1.17,-.9,3.27],["c",-.57,2.31,-.81,3.12,-.87,3.21],["c",-.03,.06,-.12,.15,-.18,.21],["l",-.12,.06],["l",-.81,.03],["c",-.69,0,-.81,0,-.9,-.03],["c",-.09,-.06,-.18,-.21,-.18,-.3],["c",0,-.06,.39,-1.62,.9,-3.51],["c",.84,-3.24,.87,-3.45,.87,-3.72],["c",0,-.21,0,-.27,-.03,-.36],["c",-.12,-.15,-.21,-.24,-.42,-.24],["c",-.24,0,-.45,.15,-.78,.42],["c",-.33,.36,-.45,.54,-.72,1.14],["c",-.03,.12,-.21,.24,-.36,.27],["c",-.12,0,-.15,0,-.24,-.06],["c",-.18,-.12,-.18,-.21,-.06,-.54],["c",.21,-.57,.42,-.93,.78,-1.32],["c",.54,-.51,1.2,-.81,1.95,-.87],["c",.81,-.03,1.53,.3,1.92,.87],["l",.12,.18],["l",.09,-.09],["c",.57,-.45,1.41,-.84,2.19,-.96],["z"]],w:9.41,h:9.132},s:{d:[["M",4.47,-8.73],["c",.09,0,.36,-.03,.57,-.03],["c",.75,.03,1.29,.24,1.71,.63],["c",.51,.54,.66,1.26,.36,1.83],["c",-.24,.42,-.63,.57,-1.11,.42],["c",-.33,-.09,-.6,-.36,-.6,-.57],["c",0,-.03,.06,-.21,.15,-.39],["c",.12,-.21,.15,-.33,.18,-.48],["c",0,-.24,-.06,-.48,-.15,-.6],["c",-.15,-.21,-.42,-.24,-.75,-.15],["c",-.27,.06,-.48,.18,-.69,.36],["c",-.39,.39,-.51,.96,-.33,1.38],["c",.09,.21,.42,.51,.78,.72],["c",1.11,.69,1.59,1.11,1.89,1.68],["c",.21,.39,.24,.78,.15,1.29],["c",-.18,1.2,-1.17,2.16,-2.52,2.52],["c",-1.02,.24,-1.95,.12,-2.7,-.42],["c",-.72,-.51,-.99,-1.47,-.6,-2.19],["c",.24,-.48,.72,-.63,1.17,-.42],["c",.33,.18,.54,.45,.57,.81],["c",0,.21,-.03,.3,-.33,.51],["c",-.33,.24,-.39,.42,-.27,.69],["c",.06,.15,.21,.27,.45,.33],["c",.3,.09,.87,.09,1.2,0],["c",.75,-.21,1.23,-.72,1.29,-1.35],["c",.03,-.42,-.15,-.81,-.54,-1.2],["c",-.24,-.24,-.48,-.42,-1.41,-1.02],["c",-.69,-.42,-1.05,-.93,-1.05,-1.47],["c",0,-.39,.12,-.87,.3,-1.23],["c",.27,-.57,.78,-1.05,1.38,-1.35],["c",.24,-.12,.63,-.27,.9,-.3],["z"]],w:6.632,h:8.758},z:{d:[["M",2.64,-7.95],["c",.36,-.09,.81,-.03,1.71,.27],["c",.78,.21,.96,.27,1.74,.3],["c",.87,.06,1.02,.03,1.38,-.21],["c",.21,-.15,.33,-.15,.48,-.06],["c",.15,.09,.21,.3,.15,.45],["c",-.03,.06,-1.26,1.26,-2.76,2.67],["l",-2.73,2.55],["l",.54,.03],["c",.54,.03,.72,.03,2.01,.15],["c",.36,.03,.9,.06,1.2,.09],["c",.66,0,.81,-.03,1.02,-.24],["c",.3,-.3,.39,-.72,.27,-1.23],["c",-.06,-.27,-.06,-.27,-.03,-.39],["c",.15,-.3,.54,-.27,.69,.03],["c",.15,.33,.27,1.02,.27,1.5],["c",0,1.47,-1.11,2.7,-2.52,2.79],["c",-.57,.03,-1.02,-.09,-2.01,-.51],["c",-1.02,-.42,-1.23,-.48,-2.13,-.54],["c",-.81,-.06,-.96,-.03,-1.26,.18],["c",-.12,.06,-.24,.12,-.27,.12],["c",-.27,0,-.45,-.3,-.36,-.51],["c",.03,-.06,1.32,-1.32,2.91,-2.79],["l",2.88,-2.73],["c",-.03,0,-.21,.03,-.42,.06],["c",-.21,.03,-.78,.09,-1.23,.12],["c",-1.11,.12,-1.23,.15,-1.95,.27],["c",-.72,.15,-1.17,.18,-1.29,.09],["c",-.27,-.18,-.21,-.75,.12,-1.26],["c",.39,-.6,.93,-1.02,1.59,-1.2],["z"]],w:8.573,h:8.743},"+":{d:[["M",3.48,-9.3],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.29],["l",0,1.29],["l",1.29,0],["c",1.23,0,1.29,0,1.41,.06],["c",.06,.03,.15,.09,.18,.12],["c",.12,.09,.21,.33,.21,.48],["c",0,.15,-.09,.39,-.21,.48],["c",-.03,.03,-.12,.09,-.18,.12],["c",-.12,.06,-.18,.06,-1.41,.06],["l",-1.29,0],["l",0,1.29],["c",0,1.23,0,1.29,-.06,1.41],["c",-.09,.18,-.15,.24,-.3,.33],["c",-.21,.09,-.39,.09,-.57,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.41],["l",0,-1.29],["l",-1.29,0],["c",-1.23,0,-1.29,0,-1.41,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.26,0],["l",1.29,0],["l",0,-1.29],["c",0,-1.23,0,-1.29,.06,-1.41],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:7.507,h:7.515},",":{d:[["M",1.85,-3.36],["c",.57,-.15,1.17,.03,1.59,.45],["c",.45,.45,.6,.96,.51,1.89],["c",-.09,1.23,-.42,2.46,-.99,3.93],["c",-.3,.72,-.72,1.62,-.78,1.68],["c",-.18,.21,-.51,.18,-.66,-.06],["c",-.03,-.06,-.06,-.15,-.06,-.18],["c",0,-.06,.12,-.33,.24,-.63],["c",.84,-1.8,1.02,-2.61,.69,-3.24],["c",-.12,-.24,-.27,-.36,-.75,-.6],["c",-.36,-.15,-.42,-.21,-.6,-.39],["c",-.69,-.69,-.69,-1.71,0,-2.4],["c",.21,-.21,.51,-.39,.81,-.45],["z"]],w:3.452,h:8.143},"-":{d:[["M",.18,-5.34],["c",.09,-.06,.15,-.06,2.31,-.06],["c",2.46,0,2.37,0,2.46,.21],["c",.12,.21,.03,.42,-.15,.54],["c",-.09,.06,-.15,.06,-2.28,.06],["c",-2.16,0,-2.22,0,-2.31,-.06],["c",-.27,-.15,-.27,-.54,-.03,-.69],["z"]],w:5.001,h:.81},".":{d:[["M",1.32,-3.36],["c",1.05,-.27,2.1,.57,2.1,1.65],["c",0,1.08,-1.05,1.92,-2.1,1.65],["c",-.9,-.21,-1.5,-1.14,-1.26,-2.04],["c",.12,-.63,.63,-1.11,1.26,-1.26],["z"]],w:3.413,h:3.402},"scripts.wedge":{d:[["M",-3.66,-7.44],["c",.06,-.09,0,-.09,.81,.03],["c",1.86,.3,3.84,.3,5.73,0],["c",.78,-.12,.72,-.12,.78,-.03],["c",.15,.15,.12,.24,-.24,.6],["c",-.93,.93,-1.98,2.76,-2.67,4.62],["c",-.3,.78,-.51,1.71,-.51,2.13],["c",0,.15,0,.18,-.06,.27],["c",-.12,.09,-.24,.09,-.36,0],["c",-.06,-.09,-.06,-.12,-.06,-.27],["c",0,-.42,-.21,-1.35,-.51,-2.13],["c",-.69,-1.86,-1.74,-3.69,-2.67,-4.62],["c",-.36,-.36,-.39,-.45,-.24,-.6],["z"]],w:7.49,h:7.752},"scripts.thumb":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.27,1.41,-1.08,2.43,-2.16,2.73],["l",-.18,.06],["l",0,.12],["c",.03,.06,.06,.45,.09,.87],["c",.03,.57,.03,.78,0,.84],["c",-.09,.27,-.39,.48,-.66,.48],["c",-.27,0,-.57,-.21,-.66,-.48],["c",-.03,-.06,-.03,-.27,0,-.84],["c",.03,-.42,.06,-.81,.09,-.87],["l",0,-.12],["l",-.18,-.06],["c",-1.08,-.3,-1.89,-1.32,-2.16,-2.73],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.05,.9],["c",-.15,-.09,-.21,-.09,-.45,-.12],["c",-.15,0,-.3,.03,-.39,.03],["c",-.57,.18,-.9,.72,-1.08,1.74],["c",-.06,.48,-.06,1.8,0,2.28],["c",.15,.9,.42,1.44,.9,1.65],["c",.18,.09,.21,.09,.51,.09],["c",.3,0,.33,0,.51,-.09],["c",.48,-.21,.75,-.75,.9,-1.65],["c",.03,-.27,.03,-.54,.03,-1.14],["c",0,-.6,0,-.87,-.03,-1.14],["c",-.15,-.9,-.45,-1.44,-.9,-1.65],["z"]],w:5.955,h:9.75},"scripts.open":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.33,1.74,-1.47,2.85,-2.91,2.85],["c",-1.44,0,-2.58,-1.11,-2.91,-2.85],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.11,.9],["c",-.21,-.09,-.27,-.09,-.51,-.12],["c",-.3,0,-.42,.03,-.66,.15],["c",-.24,.12,-.51,.39,-.66,.63],["c",-.54,.93,-.63,2.64,-.21,3.81],["c",.21,.54,.51,.9,.93,1.11],["c",.21,.09,.24,.09,.54,.09],["c",.3,0,.33,0,.54,-.09],["c",.42,-.21,.72,-.57,.93,-1.11],["c",.36,-.99,.36,-2.37,0,-3.36],["c",-.21,-.54,-.51,-.9,-.9,-1.11],["z"]],w:5.955,h:7.5},"scripts.longphrase":{d:[["M",1.47,-15.09],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.54,.06,11.25],["l",0,11.25],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-3.39,-.03,-11.25],["l",0,-11.25],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:23.04},"scripts.mediumphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.39,.06,7.5],["l",0,7.5],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-2.28,-.03,-7.5],["l",0,-7.5],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:15.54},"scripts.shortphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.21,.06,3.75],["l",0,3.75],["l",-.42,.09],["c",-.57,.18,-1.65,.45,-1.71,.45],["c",-.03,0,-.03,-.72,-.03,-3.75],["l",0,-3.75],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:8.04},"scripts.snap":{d:[["M",4.5,-3.39],["c",.36,-.03,.96,-.03,1.35,0],["c",1.56,.15,3.15,.9,4.2,2.01],["c",.24,.27,.33,.42,.33,.6],["c",0,.27,.03,.24,-2.46,2.22],["c",-1.29,1.02,-2.4,1.86,-2.49,1.92],["c",-.18,.09,-.3,.09,-.48,0],["c",-.09,-.06,-1.2,-.9,-2.49,-1.92],["c",-2.49,-1.98,-2.46,-1.95,-2.46,-2.22],["c",0,-.18,.09,-.33,.33,-.6],["c",1.05,-1.08,2.64,-1.86,4.17,-2.01],["z"],["m",1.29,1.17],["c",-1.47,-.15,-2.97,.3,-4.14,1.2],["l",-.18,.15],["l",.06,.09],["c",.15,.12,3.63,2.85,3.66,2.85],["c",.03,0,3.51,-2.73,3.66,-2.85],["l",.06,-.09],["l",-.18,-.15],["c",-.84,-.66,-1.89,-1.08,-2.94,-1.2],["z"]],w:10.38,h:6.84},"noteheads.slash.whole":{d:[["M",5,-5],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"],["m",0,-2],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",-4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"]],w:10.81,h:15.63},"noteheads.slash.quarter":{d:[["M",9,-6],["l",0,4],["l",-9,9],["l",0,-4],["z"]],w:9,h:9},"noteheads.harmonic.quarter":{d:[["M",3.63,-4.02],["c",.09,-.06,.18,-.09,.24,-.03],["c",.03,.03,.87,.93,1.83,2.01],["c",1.5,1.65,1.8,1.98,1.8,2.04],["c",0,.06,-.3,.39,-1.8,2.04],["c",-.96,1.08,-1.8,1.98,-1.83,2.01],["c",-.06,.06,-.15,.03,-.24,-.03],["c",-.12,-.09,-3.54,-3.84,-3.6,-3.93],["c",-.03,-.03,-.03,-.09,-.03,-.15],["c",.03,-.06,3.45,-3.84,3.63,-3.96],["z"]],w:7.5,h:8.165},"noteheads.triangle.quarter":{d:[["M",0,4],["l",9,0],["l",-4.5,-9],["z"]],w:9,h:9}},a=function(e){for(var t=[],n=0,r=e.length;n<r;n++){t[n]=[];for(var i=0,a=e[n].length;i<a;i++)t[n][i]=e[n][i]}return t},o={printSymbol:function(e,t,n,r,o){if(!i[n])return null;var s=a(i[n].d);s[0][1]+=e,s[0][2]+=t;for(var c="",l=0;l<s.length;l++)c+=s[l].join(" ");return o.path=c,r.path(o)},getPathForSymbol:function(e,t,n,r,o){if(r=r||1,o=o||1,!i[n])return null;var s=a(i[n].d);return 1===r&&1===o||function(e,t,n){for(var r=0,i=e.length;r<i;r++){var a,o,s=e[r];for(a=1,o=s.length;a<o;a++)s[a]*=a%2?t:n}}(s,r,o),s[0][1]+=e,s[0][2]+=t,s},getSymbolWidth:function(e){return i[e]?i[e].w:0},symbolHeightInPitches:function(e){return(i[e]?i[e].h:0)/r.STEP},getSymbolAlign:function(e){return"scripts"===e.substring(0,7)&&"scripts.roll"!==e?"center":"left"},getYCorr:function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"flags.d64th":case"scripts.trill":case"scripts.upbow":case"scripts.downbow":return-2;case"timesig.common":case"timesig.cut":default:return 0;case"flags.d32nd":case"rests.half":case"rests.8th":case"rests.quarter":case"rests.16th":case"rests.32nd":case"rests.64th":case"scripts.ufermata":case"scripts.wedge":case"scripts.roll":case"scripts.shortphrase":case"scripts.longphrase":return-1;case"flags.u32nd":case"rests.whole":case"scripts.dfermata":return 1;case"flags.u64th":return 3;case"f":case"m":case"p":case"s":case"z":return-4}},setSymbol:function(e,t){i[e]=t}};e.exports=o},82342:e=>{function t(e){switch(e){case"B#":return"H#";case"B":return"H";case"B":return"H";case"Bb":case"B":return"B"}return e}e.exports=function(e,n,r){var i=e.split("\n");for(let e=0;e<i.length;e++){let a=i[e].match(/^([ABCDEFG][]?)?([^\/]+)?(\/([ABCDEFG][#b]?))?/);if(!a)continue;let o=a[1]||"",s=a[2]||"",c=a[4]||"";r&&(o=t(o),c=t(c));const l=n?"":"",u=c?"/"+c:"";i[e]=[o,s,u].join(l)}return i.join("\n")}},57047:(e,t,n)=>{var r=n(91851),i=n(81522),a=n(91786),o=n(60370),s=n(71625);e.exports=function(e,t,n,c,l){if(!t.invisible){var u=t.children.length>0&&"TempoElement"===t.children[0].type;t.elemset=[],s.beginGroup(e.paper,e.controller);for(var h=0;h<t.children.length;h++){var d=t.children[h];if("TempoElement"===d.type)r(e,d);else{var f=i(e,d,n);"symbol"===d.type&&d.c&&d.c.indexOf("notehead")>=0&&f.setAttribute("class","abcjs-notehead")}}var p=t.type;if(("note"===t.type||"rest"===t.type)&&(t.counters=e.controller.classes.getCurrent(),p=(p+=" d"+Math.round(1e3*t.durationClass)/1e3).replace(/\./g,"-"),t.abcelem.pitches))for(var m=0;m<t.abcelem.pitches.length;m++)p+=" p"+t.abcelem.pitches[m].pitch;var g=s.endGroup(p,t.type);if(g){if(t.cloned&&(t.cloned.overrideClasses=g.className.baseVal),t.overrideClasses){var v=g.classList&&g.classList.length>0?g.classList[0]+" ":"";g.setAttribute("class",v+t.overrideClasses)}if(u)t.startChar=t.abcelem.startChar,t.endChar=t.abcelem.endChar,c.add(t,g,!1,l);else{t.elemset.push(g);var b=!1;"note"!==t.type&&"tabNumber"!==t.type||(b=!0),c.add(t,g,b,l)}}else t.elemset.length>0&&c.add(t,t.elemset[0],"note"===t.type,l);if(t.klass&&o(t.elemset,"mark","","#00ff00"),t.hint&&o(t.elemset,"abcjs-hint","",null),t.abcelem.abselem=t,t.heads&&t.heads.length>0){t.notePositions=[];for(var _=0;_<t.heads.length;_++)t.notePositions.push({x:t.heads[_].x+t.heads[_].w/2,y:l.zero-t.heads[_].pitch*a.STEP})}}}},50177:(e,t,n)=>{var r=n(41883),i=n(64976);function a(e,t,n,r,a,o){n=i(e.calcY(n)),a=i(e.calcY(a)),t=i(t),r=i(r);var s=i(n+o);return"M"+t+" "+n+" L"+r+" "+a+"L"+r+" "+i(a+o)+" L"+t+" "+s+"z"}function o(e,t,n,r){return t+(r-e)*n}e.exports=function(e,t){if(0!==t.beams.length){for(var n="",i=0;i<t.beams.length;i++){var s=t.beams[i];if(s.split){for(var c=(m=s.startX,g=s.startY,v=s.endX,(s.endY-g)/(v-m)),l=[],u=0;u<s.split.length;u+=2)l.push([s.split[u],s.split[u+1]]);for(u=0;u<l.length;u++){var h=o(s.startX,s.startY,c,l[u][0]),d=o(s.startX,s.startY,c,l[u][1]);n+=a(e,l[u][0],h,l[u][1],d,s.dy)}}else n+=a(e,s.startX,s.startY,s.endX,s.endY,s.dy)}var f=("abcjs-d"+t.duration).replace(/\./g,"-"),p=e.controller.classes.generate("beam-elem "+f);return[r(e,{path:n,stroke:"none",fill:e.foregroundColor,class:p})]}var m,g,v}},85451:(e,t,n)=>{var r=n(66854),i=n(91786),a=n(8781);function o(e,t,n,i){return r("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",e+n[0],t+i[0],e+n[1],t+i[1],e+n[2],t+i[2],e+n[3],t+i[3],e+n[4],t+i[4],e+n[5],t+i[5],e+n[6],t+i[6])}e.exports=function(e,t,n){var s=t.startVoice.staff.absoluteY-10*i.STEP;return t.endVoice&&t.endVoice.staff?t.endY=t.endVoice.staff.absoluteY-2*i.STEP:t.lastContinuedVoice&&t.lastContinuedVoice.staff?t.endY=t.lastContinuedVoice.staff.absoluteY-2*i.STEP:t.endY=t.startVoice.staff.absoluteY-2*i.STEP,function(e,t,n,s,c,l,u){var h;if(l){e.paper.openGroup({klass:e.controller.classes.generate("staff-extra voice-name"),"data-name":c});var d=n+(s-n)/2;d-=e.controller.getTextSize.baselineToCenter(l,"voicefont","staff-extra voice-name",0,1),a(e,{x:e.padding.left,y:d,text:l,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0})}return"brace"===c?h=function(e,t,n,r,i){var a=r-n,s=o(t,n,[7.5,-8,21,0,18.5,-10.5,7.5],[0,a/5.5,a/3.14,a/2,a/2.93,a/4.88,0]);return s+=o(t,n,[0,17.5,-7.5,6.6,-5,20,0],[a/2,a/1.46,a/1.22,a,a/1.19,a/1.42,a/2]),e.paper.path({path:s,stroke:e.foregroundColor,fill:e.foregroundColor,class:e.controller.classes.generate(i),"data-name":i})}(e,t,n,s,c):"bracket"===c&&(h=function(e,t,n,a,o){t+=i.STEP;var s=.75*i.STEP,c=.75*i.STEP,l=a-n,u=r("M %f %f l %f %f l %f %f l %f %f z",t,n-c,0,l+2*c,s,0,0,-(l+2*c)),h=2*i.STEP,d=i.STEP;return u+=r("M %f %f q %f %f %f %f q %f %f %f %f z",t+s,n-c,.6*h,.2*d,h,-d,.1*-h,.3*d,-h,d+i.STEP),u+=r("M %f %f q %f %f %f %f q %f %f %f %f z",t+s,n+c+l,.6*h,.2*-d,h,d,.1*-h,.3*-d,-h,-d-i.STEP),e.paper.path({path:u,stroke:e.foregroundColor,fill:e.foregroundColor,class:e.controller.classes.generate(o),"data-name":o})}(e,t,n,s,c)),l&&(h=e.paper.closeGroup()),u.wrapSvgEl({el_type:c,startChar:-1,endChar:-1},h),h}(e,t.x,s,t.endY,t.type,t.header,n)}},3520:(e,t,n)=>{var r=n(66854),i=n(41883),a=n(64976),o=function(e,t,n,o,s,c,l){t=a(t),n=a(n),o=a(o),s=a(s),c=a(c),l=a(l);var u=r("M %f %f L %f %f M %f %f L %f %f",c,t,l,n,c,o,l,s);return i(e,{path:u,highlight:"stroke",stroke:e.foregroundColor,class:e.controller.classes.generate("dynamics decoration"),"data-name":"dynamics"})};e.exports=function(e,t,n){void 0===t.pitch&&window.console.error("Crescendo Element y-coordinate not set.");var r,i=e.calcY(t.pitch)+4,a=t.anchor1?t.anchor1.x:0,s=t.anchor2?t.anchor2.x:800;return r="<"===t.dir?o(e,i+4,i,i+4,i+8,a,s):o(e,i,i+4,i+8,i+4,a,s),n.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1},r),[r]}},34675:e=>{e.exports=function(e,t,n){var r=e.paper.rectBeneath(t);return n&&e.paper.text(n,{x:0,y:t.y+7,"text-anchor":"start","font-size":"14px",fill:"rgba(0,0,255,.4)",stroke:"rgba(0,0,255,.4)"}),r}},84412:(e,t,n)=>{var r=n(19432),i=n(28777),a=n(69709),o=n(91786),s=n(23361);function c(e,t,n,i){r(e,t,n,i);var a=t.height*o.STEP;return e.y+=a,t}function l(e,t,n,r){var i=-(n.staffs[n.staffs.length-1].bottom-2),a=(r.staffs[0].top-10+i)*o.STEP;a<t&&e.moveY(t-a)}e.exports=function(e,t,n,r,o,u,h,d,f,p){var m=new s(e.paper,d,f),g={};t.shouldAddClasses&&(g.klass="abcjs-meta-top"),e.paper.openGroup(g),e.moveY(e.padding.top),a(e,n.topText,m),e.paper.closeGroup(),e.moveY(e.spacing.music);for(var v=[],b=0;b<n.lines.length;b++){t.incrLine();var _=n.lines[b];if(_.staff){t.shouldAddClasses&&(g.klass="abcjs-staff-wrapper abcjs-l"+t.lineNumber),e.paper.openGroup(g),_.vskip&&e.moveY(_.vskip),v.length>=1&&l(e,e.spacing.staffSeparation,v[v.length-1],_.staffGroup);var y=c(e,_.staffGroup,m,b);y.line=p+b,v.push(y),e.paper.closeGroup()}else _.nonMusic&&(t.shouldAddClasses&&(g.klass="abcjs-non-music"),e.paper.openGroup(g),a(e,_.nonMusic,m),e.paper.closeGroup())}return t.reset(),n.bottomText&&n.bottomText.rows&&n.bottomText.rows.length>0&&(t.shouldAddClasses&&(g.klass="abcjs-meta-bottom"),e.paper.openGroup(g),e.moveY(24),a(e,n.bottomText,m),e.paper.closeGroup()),i(e,o,h,u),{staffgroups:v,selectables:m.getElements()}}},28152:(e,t,n)=>{var r=n(4408);e.exports=function(e,t,n){void 0===t.pitch&&window.console.error("Dynamic Element y-coordinate not set.");var i=r(e,t.anchor.x,t.pitch,t.dec,{scalex:1,scaley:1,klass:e.controller.classes.generate("decoration dynamics"),fill:e.foregroundColor,stroke:"none",name:"dynamics"});return n.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1,decoration:t.dec},i),[i]}},35845:(e,t,n)=>{var r=n(66854),i=n(8781),a=n(41883),o=n(64976);e.exports=function(e,t,n,s,c){void 0===t.pitch&&window.console.error("Ending Element y-coordinate not set.");var l=o(e.calcY(t.pitch)),u="";t.anchor1&&(n=o(t.anchor1.x+t.anchor1.w),u+=r("M %f %f L %f %f ",n,l,n,o(l+20))),t.anchor2&&(s=o(t.anchor2.x),u+=r("M %f %f L %f %f ",s,l,s,o(l+20))),u+=r("M %f %f L %f %f ",n,l,s,l),e.paper.openGroup({klass:e.controller.classes.generate("ending"),"data-name":"ending"}),a(e,{path:u,stroke:e.foregroundColor,fill:e.foregroundColor,"data-name":"line"}),t.anchor1&&i(e,{x:o(n+5),y:o(e.calcY(t.pitch-.5)),text:t.text,type:"repeatfont",klass:"ending",anchor:"start",noClass:!0,name:t.text});var h=e.paper.closeGroup();return c.wrapSvgEl({el_type:"ending",startChar:-1,endChar:-1},h),[h]}},18958:(e,t,n)=>{var r=n(66854),i=n(41883),a=n(64976);function o(e,t,n){return a(e+n*t)}var s=[[3.5,-4.8]],c=[[1.5,-1],[.3,-.3],[-3.5,3.8]],l=[[-1.5,2]],u=[[3,4],[3,-4]],h=[[-3,4],[-3,-4]];function d(e,t){for(var n="",r=0;r<e.length;r++)n+="l"+e[r][0]+" "+o(e[r][1],t,e[r][0]);return n}e.exports=function(e,t,n){t.anchor1&&t.anchor2&&t.anchor1.heads&&t.anchor2.heads&&0!==t.anchor1.heads.length&&0!==t.anchor2.heads.length||window.console.error("Glissando Element not set.");var a,f=e.calcY(t.anchor1.heads[0].pitch),p=e.calcY(t.anchor2.heads[0].pitch),m=t.anchor1.x+t.anchor1.w/2,g=t.anchor2.x+t.anchor2.w/2,v=function(e,t,n,r){var i=n-e,a=r-t;return Math.sqrt(i*i+a*a)}(m,f,g,p),b=t.anchor1.w/2+4,_=t.anchor2.w/2+4,y=function(e,t,n,r){return(r-t)/(n-e)}(m,f,g,p),w=function(e,t,n,a,o){var f,p=r("M %f %f",t,n);for(p+=d(s,o),f=0;f<a;f++)p+=d(u,o);for(p+=d(c,o),f=0;f<a;f++)p+=d(h,o);return p+=d(l,o)+"z",i(e,{path:p,highlight:"stroke",stroke:e.foregroundColor,class:e.controller.classes.generate("decoration"),"data-name":"glissando"})}(e,m+b,o(f,y,b),(o(p,y,-_),a=v-b-_,5,Math.max(2,Math.floor((a-10)/6))),y);return n.wrapSvgEl({el_type:"glissando",startChar:-1,endChar:-1},w),[w]}},71625:(e,t,n)=>{var r=n(64976);function i(){this.ingroup=!1}i.prototype.beginGroup=function(e,t){this.paper=e,this.controller=t,this.path=[],this.lastM=[0,0],this.ingroup=!0,this.paper.openGroup()},i.prototype.isInGroup=function(){return this.ingroup},i.prototype.addPath=function(e){if(0!==(e=e||[]).length){e[0][0]="m",e[0][1]=r(e[0][1]-this.lastM[0]),e[0][2]=r(e[0][2]-this.lastM[1]),this.lastM[0]+=e[0][1],this.lastM[1]+=e[0][2],this.path.push(e[0]);for(var t=1,n=e.length;t<n;t++)"m"===e[t][0]&&(this.lastM[0]+=e[t][1],this.lastM[1]+=e[t][2]),this.path.push(e[t])}},i.prototype.endGroup=function(e,t){this.ingroup=!1;for(var n=0;n<this.path.length;n++)this.path[n].join(" ");this.path=[];var r=this.paper.closeGroup();return r&&(r.setAttribute("class",this.controller.classes.generate(e)),r.setAttribute("fill",this.controller.renderer.foregroundColor),r.setAttribute("stroke","none"),r.setAttribute("data-name",t)),r};var a=new i;e.exports=a},69709:(e,t,n)=>{var r=n(1975),i=n(8781);e.exports=function(e,t,n){for(var a=0;a<t.rows.length;a++){var o=t.rows[a];if(o.absmove)e.absolutemoveY(o.absmove);else if(o.move)e.moveY(o.move);else if(o.text||o.phrases){var s=o.left?o.left:0,c=i(e,{x:s,y:e.y,text:o.text,phrases:o.phrases,"dominant-baseline":o["dominant-baseline"],type:o.font,klass:o.klass,name:o.name,anchor:o.anchor});o.absElemType&&n.wrapSvgEl({el_type:o.absElemType,name:o.name,startChar:o.startChar,endChar:o.endChar,text:o.text},c)}else if(o.separator)r(e,o.separator);else if(o.startGroup)e.paper.openGroup({klass:o.klass,"data-name":o.name});else if(o.endGroup){var l=e.paper.closeGroup();o.absElemType&&n.wrapSvgEl({el_type:o.absElemType,name:o.name,startChar:o.startChar,endChar:o.endChar,text:""},l)}}}},83090:(e,t,n)=>{var r=n(66854),i=n(64976);e.exports=function(e,t,n,a,o,s,c){var l=e.foregroundColor;t=i(t),n=i(n);var u=i(a-c),h=i(a+c);if(e.firefox112){var d={x1:t,x2:n,y1:a+=c/2,y2:a,stroke:e.foregroundColor,"stroke-width":Math.abs(2*c)};return o&&(d.class=o),s&&(d["data-name"]=s),e.paper.lineToBack(d)}var f={path:r("M %f %f L %f %f L %f %f L %f %f z",t,u,n,u,n,h,t,h),stroke:"none",fill:l};return s&&(f["data-name"]=s),o&&(f.class=o),e.paper.pathToBack(f)}},41883:e=>{e.exports=function(e,t,n){return e.paper.path(t)}},32613:(e,t,n)=>{var r=n(71625),i=n(64976);e.exports=function(e,t,n,a,o,s,c){if(n<0||a<o){var l=i(o);o=i(a),a=l}else a=i(a),o=i(o);t=i(t);var u=i(t+n);if(e.firefox112){var h={x1:t+=n/2,x2:t,y1:a,y2:o,stroke:e.foregroundColor,"stroke-width":Math.abs(n)};return s&&(h.class=s),c&&(h["data-name"]=c),e.paper.lineToBack(h)}for(var d=[["M",t,a],["L",t,o],["L",u,o],["L",u,a],["z"]],f=(h={path:""},0);f<d.length;f++)h.path+=d[f].join(" ");return s&&(h.class=s),c&&(h["data-name"]=c),r.isInGroup()||(h.stroke="none",h.fill=e.foregroundColor),e.paper.pathToBack(h)}},4408:(e,t,n)=>{var r=n(8781),i=n(75096),a=n(71625);e.exports=function(e,t,n,o,s){var c,l,u,h,d,f;if(!o)return null;if(o.length>1&&o.indexOf(".")<0){var p=a.isInGroup()?"":s.klass;e.paper.openGroup({"data-name":s.name,klass:p});for(var m=0,g=0;g<o.length;g++){var v=o[g];l=i.getYCorr(v),(c=i.printSymbol(t+m,e.calcY(n+l),v,e.paper,{stroke:s.stroke,fill:s.fill}))?g<o.length-1&&(m+=(u=v,h=o[g+1],d=i.getSymbolWidth(v),f=void 0,f=d,"f"===u&&"f"===h&&(f=2*f/3),"p"===u&&"p"===h&&(f=5*f/6),"f"===u&&"z"===h&&(f=5*f/8),f)):r(e,{x:t,y:e.y,text:"no symbol:"+o,type:"debugfont",klass:"debug-msg",anchor:"start"},!1)}return e.paper.closeGroup()}return l=i.getYCorr(o),(c=a.isInGroup()?i.printSymbol(t,e.calcY(n+l),o,e.paper,{"data-name":s.name}):i.printSymbol(t,e.calcY(n+l),o,e.paper,{klass:s.klass,stroke:s.stroke,fill:s.fill,"data-name":s.name}))?c:(r(e,{x:t,y:e.y,text:"no symbol:"+o,type:"debugfont",klass:"debug-msg",anchor:"start"},!1),null)}},81522:(e,t,n)=>{var r=n(8781),i=n(32613),a=n(78437),o=n(4408);e.exports=function(e,t,n){void 0===t.pitch&&window.console.error(t.type+" Relative Element y-coordinate not set.");var s=e.calcY(t.pitch);switch(t.type){case"symbol":if(null===t.c)return null;var c="symbol";t.klass&&(c+=" "+t.klass),t.graphelem=o(e,t.x,t.pitch,t.c,{scalex:t.scalex,scaley:t.scaley,klass:e.controller.classes.generate(c),name:t.name});break;case"debug":t.graphelem=r(e,{x:t.x,y:e.calcY(15),text:""+t.c,type:"debugfont",klass:e.controller.classes.generate("debug-msg"),anchor:"start",centerVertically:!1,dim:t.dim},!1);break;case"tabNumber":var l="tabnumberfont",u="abcjs-tab-number";t.isGrace&&(l="tabgracefont",s+=2.5,u="tab-grace"),t.graphelem=r(e,{x:t.x,y:s,text:""+t.c,type:l,klass:e.controller.classes.generate(u),anchor:"middle",centerVertically:!1,dim:t.dim,cursor:"default"},!1);break;case"barNumber":t.graphelem=r(e,{x:t.x,y:s,text:""+t.c,type:"measurefont",klass:e.controller.classes.generate("bar-number"),anchor:"middle",dim:t.dim,name:"bar-number"},!0);break;case"lyric":t.graphelem=r(e,{x:t.x,y:s,text:t.c,type:"vocalfont",klass:e.controller.classes.generate("lyric"),anchor:"middle",dim:t.dim,name:"lyric"},!1);break;case"chord":t.graphelem=r(e,{x:t.x,y:s,text:t.c,type:"gchordfont",klass:e.controller.classes.generate("chord"),anchor:"middle",dim:t.dim,lane:t.getLane(),name:"chord"},!1);break;case"decoration":t.graphelem=r(e,{x:t.x,y:s+6,text:t.c,type:"annotationfont",klass:e.controller.classes.generate("annotation"),anchor:t.anchor,centerVertically:!0,dim:t.dim},!1);break;case"text":t.graphelem=r(e,{x:t.x,y:s,text:t.c,type:"annotationfont",klass:e.controller.classes.generate("annotation"),anchor:"start",centerVertically:t.centerVertically,dim:t.dim,lane:t.getLane(),name:"annotation"},!1);break;case"multimeasure-text":t.graphelem=r(e,{x:t.x+t.w/2,y:s,text:t.c,type:"tempofont",klass:e.controller.classes.generate("rest"),anchor:"middle",centerVertically:!1,dim:t.dim},!1);break;case"part":t.graphelem=r(e,{x:t.x,y:s,text:t.c,type:"partsfont",klass:e.controller.classes.generate("part"),anchor:"start",dim:t.dim,name:t.c},!0);break;case"bar":t.graphelem=i(e,t.x,t.linewidth+e.lineThickness,s,n||e.calcY(t.pitch2),null,"bar");break;case"stem":var h=t.linewidth>0?t.linewidth+e.lineThickness:t.linewidth-e.lineThickness;t.graphelem=i(e,t.x,h,s,e.calcY(t.pitch2),"abcjs-stem","stem");break;case"ledger":t.graphelem=a(e,t.x,t.x+t.w,t.pitch,"abcjs-ledger","ledger",.35+e.lineThickness)}return 1!==t.scalex&&t.graphelem&&function(e,t,n,r,i,a){e.setAttributeOnElement(t,{style:"transform:scale("+n+","+r+");transform-origin:"+i+"px "+a+"px;"})}(e.paper,t.graphelem,t.scalex,t.scaley,t.x,s),t.graphelem}},64976:e=>{e.exports=function(e){return parseFloat(e.toFixed(2))}},23361:(e,t,n)=>{var r=n(45086),i=n(18911);function a(e,t,n){this.elements=[],this.paper=e,this.tuneNumber=n,this.selectTypes=t}a.prototype.getElements=function(){return this.elements},a.prototype.add=function(e,t,n,r){if(this.canSelect(e)){var i;i=void 0===this.selectTypes?{selectable:!1,"data-index":this.elements.length}:{selectable:!0,tabindex:0,"data-index":this.elements.length},this.paper.setAttributeOnElement(t,i);var a={absEl:e,svgEl:t,isDraggable:n};void 0!==r&&(a.staffPos=r),this.elements.push(a)}},a.prototype.canSelect=function(e){return!(!1===this.selectTypes||!e||!e.abcelem||!0!==this.selectTypes&&!(void 0===this.selectTypes?"note"===e.abcelem.el_type||"tabNumber"===e.abcelem.el_type:this.selectTypes.indexOf(e.abcelem.el_type)>=0))},a.prototype.wrapSvgEl=function(e,t){var n={tuneNumber:this.tuneNumber,abcelem:e,elemset:[t],highlight:r,unhighlight:i};this.add(n,t,!1)},e.exports=a},1975:e=>{e.exports=function(e,t){var n=Math.round(e.y),r=(e.controller.width-t)/2,i=r+t,a="M "+r+" "+n+" L "+i+" "+n+" L "+i+" "+(n+1)+" L "+r+" "+(n+1)+" L "+r+" "+n+" z";e.paper.pathToBack({path:a,stroke:"rgba(0,0,0,0)",fill:"rgba(0,0,0,255)",class:e.controller.classes.generate("defined-text")})}},28777:e=>{e.exports=function(e,t,n,r){var i=(t+e.padding.left+e.padding.right)*n,a=(e.y+e.padding.bottom)*n;if(e.isPrint&&(a=Math.max(a,1056)),""!==e.ariaLabel){var o="Sheet Music";e.abctune&&e.abctune.metaText&&e.abctune.metaText.title&&(o+=' for "'+e.abctune.metaText.title+'"'),e.paper.setTitle(o);var s=e.ariaLabel?e.ariaLabel:o;e.paper.setAttribute("aria-label",s)}e.paper.insertStyles(".abcjs-dragging-in-progress text, .abcjs-dragging-in-progress tspan {"+["-webkit-touch-callout: none;","-webkit-user-select: none;","-khtml-user-select: none;","-moz-user-select: none;","-ms-user-select: none;","user-select: none;"].join(" ")+"}");var c={overflow:"hidden"};"resize"===r?e.paper.setResponsiveWidth(i,a):(c.width="",c.height=a+"px",n<1?(c.width=i+"px",e.paper.setSize(i/n,a/n)):e.paper.setSize(i,a)),e.paper.setScale(n),e.paper.setParentStyles(c)}},66854:e=>{e.exports=function(){for(var e,t,n,r,i,a=0,o=arguments[a++],s=[];o;){if(t=/^[^\x25]+/.exec(o))s.push(t[0]);else if(t=/^\x25{2}/.exec(o))s.push("%");else{if(!(t=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(o)))throw"Huh ?!";if(null==(e=arguments[t[1]||a++])||null==e)throw"Too few arguments.";if(/[^s]/.test(t[7])&&"number"!=typeof e)throw"Expecting number but found "+typeof e;switch(t[7]){case"b":e=e.toString(2);break;case"c":e=String.fromCharCode(e);break;case"d":e=parseInt(e);break;case"e":e=t[6]?e.toExponential(t[6]):e.toExponential();break;case"f":e=t[6]?parseFloat(e).toFixed(t[6]):parseFloat(e);break;case"o":e=e.toString(8);break;case"s":e=(e=String(e))&&t[6]?e.substring(0,t[6]):e;break;case"u":e=Math.abs(e);break;case"x":e=e.toString(16);break;case"X":e=e.toString(16).toUpperCase()}e=/[def]/.test(t[7])&&t[2]&&e>0?"+"+e:e,r=t[3]?"0"==t[3]?"0":t[3][1]:" ",i=t[5]-String(e).length,n=t[5]?str_repeat(r,i):"",s.push(t[4]?e+n:n+e)}o=o.substring(t[0].length)}return s.join("")}},19432:(e,t,n)=>{var r=n(91786),i=n(85451),a=n(28502),o=n(91502),s=n(34675),c=n(32613),l=n(69709);function u(e,t,n,a,o){if(n)for(var s=0;s<n.length;s++)n[s].isStartVoice(a)&&(n[s].startY=t-10*r.STEP,n[s].elemset=i(e,n[s],o))}function h(e,t,n){for(var i=0;i<n.length;i++)for(var a=t[n[i]].children,o=0;o<a.length;o++){var c=a[o],l=c.getFixedCoords();if(!c.invisible&&void 0!==l.t&&void 0!==l.b){var u=(l.t-l.b)*r.STEP;s(e,{x:l.x,y:e.calcY(l.t),width:l.w,height:u,fill:"#88e888","fill-opacity":.4,stroke:"#4aa93d","stroke-opacity":.8});for(var h=0;h<c.children.length;h++){var d=c.children[h],f=d.getChordDim();if(f){var p=e.calcY(d.pitch);p+=d.dim.font.size*d.getLane(),s(e,{x:f.left,y:p,width:f.right-f.left,height:d.dim.font.size,fill:"none",stroke:"#4aa93d","stroke-opacity":.8})}}}}}e.exports=function(e,t,n,i){for(var d,f,p,m=e.y,g=0;g<t.staffs.length;g++){var v=t.staffs[g];e.moveY(r.STEP,v.top),v.absoluteY=e.y,e.showDebug&&(e.showDebug.indexOf("box")>=0&&v.voices&&h(e,t.voices,v.voices),e.showDebug.indexOf("grid")>=0&&(e.paper.dottedLine({x1:e.padding.left,x2:e.padding.left+e.controller.width,y1:m,y2:m,stroke:"#0000ff"}),s(e,{x:e.padding.left,y:e.calcY(v.originalTop),width:e.controller.width,height:e.calcY(v.originalBottom)-e.calcY(v.originalTop),fill:e.foregroundColor,stroke:e.foregroundColor,"fill-opacity":.1,"stroke-opacity":.1}),d=0,T(v,"chordHeightAbove"),T(v,"chordHeightBelow"),T(v,"dynamicHeightAbove"),T(v,"dynamicHeightBelow"),T(v,"endingHeightAbove"),T(v,"lyricHeightAbove"),T(v,"lyricHeightBelow"),T(v,"partHeightAbove"),T(v,"tempoHeightAbove"),T(v,"volumeHeightAbove"),T(v,"volumeHeightBelow"))),e.moveY(r.STEP,-v.bottom),e.showDebug&&e.showDebug.indexOf("grid")>=0&&e.paper.dottedLine({x1:e.padding.left,x2:e.padding.left+e.controller.width,y1:e.y,y2:e.y,stroke:"#0000aa"})}for(var b=2,_=0,y=0;y<t.voices.length;y++){var w=t.voices[y].staff,S=t.voices[y].tabNameInfos;if(e.y=w.absoluteY,e.controller.classes.incrVoice(),!t.voices[y].duplicate){if(f||(f=e.calcY(10)),p=e.calcY(b),0!==w.lines){w.linePitch&&(b=w.linePitch),e.controller.classes.newMeasure();var k=o(e,t.startx,t.w,w.lines,w.linePitch,.35);p=k[1],w.bottomLine=p,w.topLine=k[0],w.hasTab&&(_=w.topLine),w.hasStaff&&(_=w.hasStaff.topLine,t.voices[y].barto=!0,t.voices[y].topLine=f)}u(e,w.absoluteY,t.brace,y,n),u(e,w.absoluteY,t.bracket,y,n)}a(e,t.voices[y],_,n,{top:m,zero:e.y,height:t.height*r.STEP});var x=0;if(S){var M={rows:[]};M.rows.push({absmove:p+2}),M.rows.push({left:t.startx+8,text:S.name,font:"tablabelfont",klass:"text instrument-name",anchor:"start"}),M.rows.push({move:S.textSize.height}),l(e,M),x=S.textSize.height}e.controller.classes.newMeasure(),t.voices[y].duplicate||(_=e.calcY(2+x))}e.controller.classes.newMeasure();var E=t.staffs.length;function T(t,n){var i=["rgb(207,27,36)","rgb(168,214,80)","rgb(110,161,224)","rgb(191,119,218)","rgb(195,30,151)","rgb(31,170,177)","rgb(220,166,142)"];if(t.positionY&&t.positionY[n]){var a=t.specialY[n]*r.STEP;"chordHeightAbove"===n&&t.specialY.chordLines&&t.specialY.chordLines.above&&(a*=t.specialY.chordLines.above),"chordHeightBelow"===n&&t.specialY.chordLines&&t.specialY.chordLines.below&&(a*=t.specialY.chordLines.below),s(e,{x:e.padding.left,y:e.calcY(t.positionY[n]),width:e.controller.width,height:a,fill:i[d],stroke:i[d],"fill-opacity":.4,"stroke-opacity":.4},n.substr(0,4)),(d+=1)>6&&(d=0)}}E>1&&(f=t.staffs[0].topLine,p=t.staffs[E-1].bottomLine,c(e,t.startx,.6,f,p,null)),e.y=m}},78437:(e,t,n)=>{var r=n(83090);e.exports=function(e,t,n,i,a,o,s){var c=e.calcY(i);return r(e,t,n,c,a,o,s)}},91502:(e,t,n)=>{var r=n(78437);e.exports=function(e,t,n,i,a,o){var s="abcjs-top-line",c=2;a&&(c=a),e.paper.openGroup({prepend:!0,klass:e.controller.classes.generate("abcjs-staff")});var l=0,u=0;if(1===i)r(e,t,n,6,s,null,o+e.lineThickness),l=e.calcY(10),u=e.calcY(2);else for(var h=i-1;h>=0;h--){var d=(h+1)*c;u=e.calcY(d),0===l&&(l=u),r(e,t,n,d,s,null,o+e.lineThickness),s=void 0}return e.paper.closeGroup(),[l,u]}},91851:(e,t,n)=>{var r=n(81522),i=n(8781);e.exports=function(e,t){var n=t.x;void 0===t.pitch&&window.console.error("Tempo Element y-coordinate not set."),t.tempo.el_type="tempo";var a,o=e.calcY(t.pitch)+2;if(t.tempo.preString){a=i(e,{x:n,y:o,text:t.tempo.preString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"pre"},!0);var s=e.controller.getTextSize.calc(t.tempo.preString,"tempofont","tempo",a).width;n+=s+s/t.tempo.preString.length}if(t.note){t.note.setX(n);for(var c=0;c<t.note.children.length;c++)r(e,t.note.children[c],n);n+=t.note.w+5;var l="= "+t.tempo.bpm;a=i(e,{x:n,y:o,text:l,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"beats"});var u=e.controller.getTextSize.calc(l,"tempofont","tempo",a).width;n+=u+u/l.length}t.tempo.postString&&i(e,{x:n,y:o,text:t.tempo.postString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"post"},!0)}},8781:(e,t,n)=>{var r=n(64976);e.exports=function(e,t,n){var i,a=t.y;if(t.phrases)return e.paper.richTextLine(t.phrases,t.x,t.y,t.klass,t.anchor);if(t.lane){var o=.25*t.dim.font.size;a+=(t.dim.font.size+o)*t.lane}t.dim?(i=t.dim).attr.class=t.klass:i=e.controller.getFontAndAttr.calc(t.type,t.klass),t.anchor&&(i.attr["text-anchor"]=t.anchor),t["dominant-baseline"]&&(i.attr["dominant-baseline"]=t["dominant-baseline"]),i.attr.x=t.x,i.attr.y=a,t.centerVertically||(i.attr.y+=i.font.size),"debugfont"===t.type&&(console.log("Debug msg: "+t.text),i.attr.stroke="#ff0000"),t.cursor&&(i.attr.cursor=t.cursor);var s=t.text.replace(/\n\n/g,"\n \n");s=s.replace(/^\n/,"\n"),i.font.box&&(n||e.paper.openGroup({klass:i.attr.class,fill:e.foregroundColor,"data-name":t.name}),"end"===i.attr["text-anchor"]?i.attr.x-=i.font.padding:"start"===i.attr["text-anchor"]&&(i.attr.x+=i.font.padding),i.attr.y+=i.font.padding,delete i.attr.class),t.noClass&&delete i.attr.class,i.attr.x=r(i.attr.x),i.attr.y=r(i.attr.y),t.name&&(i.attr["data-name"]=t.name);var c=e.paper.text(s,i.attr);if(i.font.box){var l=c.getBBox(),u=0;"middle"===i.attr["text-anchor"]?u=l.width/2+i.font.padding:"end"===i.attr["text-anchor"]&&(u=l.width+2*i.font.padding);var h=0;t.centerVertically&&(h=l.height-i.font.padding),e.paper.rect({"data-name":"box",x:Math.round(t.x-u),y:Math.round(a-h),width:Math.round(l.width+2*i.font.padding),height:Math.round(l.height+2*i.font.padding)}),n||(c=e.paper.closeGroup())}return c}},94158:(e,t,n)=>{var r=n(66854),i=n(64976);e.exports=function(e,t,n,a,o){!function(e,t,n){e.anchor1&&e.anchor2?e.anchor1.pitch===e.anchor2.pitch&&0===e.internalNotes.length?e.isTie=!0:e.isTie=!1:e.isTie=!0,e.isTie?(e.calcTieDirection(),e.calcX(t,n),e.calcTieY()):(e.calcSlurDirection(),e.calcX(t,n),e.calcSlurY()),e.avoidCollisionAbove()}(t,n,a);var s="";t.anchor1?s+="abcjs-start-m"+t.anchor1.parent.counters.measure+"-n"+t.anchor1.parent.counters.note:s+="abcjs-start-edge",t.anchor2?s+=" abcjs-end-m"+t.anchor2.parent.counters.measure+"-n"+t.anchor2.parent.counters.note:s+=" abcjs-end-edge",t.hint&&(s="abcjs-hint");var c=t.fixedY?1.5:0,l=function(e,t,n,a,o,s,c,l,u){var h=l?1.2:1.5;t=i(t+6),n=i(n+4),a+=s?h:-h,o+=s?h:-h;var d,f=i(e.calcY(a)),p=i(e.calcY(o)),m=n-t,g=p-f,v=Math.sqrt(m*m+g*g),b=m/v,_=g/v,y=v/3.5,w=l?10:25,S=(s?-1:1)*Math.min(w,Math.max(4,y)),k=i(t+y*b-S*_),x=i(f+y*_+S*b),M=i(n-y*b-S*_),E=i(p-y*_+S*b);if(c?c+=" slur":c="slur",c+=l?" tie":" legato",u){c+=" dotted";var T=r("M %f %f C %f %f %f %f %f %f",t,f,k,x,M,E,n,p);d=e.paper.path({path:T,stroke:e.foregroundColor,fill:"none","stroke-dasharray":"5 5",class:e.controller.classes.generate(c),"data-name":l?"tie":"slur"})}else{var C=r("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",t,f,k,x,M,E,n,p,i(M-2*_),i(E+2*b),i(k-2*_),i(x+2*b),t,f);d=e.paper.path({path:C,stroke:"none",fill:e.foregroundColor,class:e.controller.classes.generate(c),"data-name":l?"tie":"slur"})}return d}(e,t.startX,t.endX,t.startY+c,t.endY+c,t.above,s,t.isTie,t.dotted),u=-1;t.anchor1&&!t.isTie&&(u=t.anchor1.parent.abcelem.startChar-1);var h=-1;return t.anchor2&&!t.isTie&&(h=t.anchor2.parent.abcelem.endChar+1),o.wrapSvgEl({el_type:"slur",startChar:u,endChar:h},l),[l]}},1740:(e,t,n)=>{var r=n(66854),i=n(8781),a=n(41883),o=n(64976);function s(e,t,n,i){return r("M %f %f L %f %f",o(e),o(t),o(n),o(i))}e.exports=function(e,t,n){e.paper.openGroup({klass:e.controller.classes.generate("triplet "+t.durationClass),"data-name":"triplet"}),t.hasBeam||function(e,t,n,r,i){n=e.calcY(n),i=e.calcY(i);var o="";o+=s(t,n,t,n+5),o+=s(r,i,r,i+5);var c=t+(r-t)/2,l=(i-n)/(r-t),u=c-8;o+=s(t,n,u,n+(u-t)*l);var h=c+8;o+=s(h,n+(h-t)*l,r,i),a(e,{path:o,stroke:e.foregroundColor,"data-name":"triplet-bracket"})}(e,t.anchor1.x,t.startNote,t.anchor2.x+t.anchor2.w,t.endNote),i(e,{x:t.xTextPos,y:e.calcY(t.yTextPos-1),text:""+t.number,type:"tripletfont",anchor:"middle",centerVertically:!0,noClass:!0,name:""+t.number},!0);var r=e.paper.closeGroup();return n.wrapSvgEl({el_type:"triplet",startChar:-1,endChar:-1},r),r}},28502:(e,t,n)=>{var r=n(18958),i=n(3520),a=n(28152),o=n(1740),s=n(35845),c=n(94158),l=n(50177),u=n(8781),h=n(57047);e.exports=function(e,t,n,d,f){var p=t.w-1;e.staffbottom=t.staff.bottom;var m,g,v=e.foregroundColor;if(t.color&&(e.foregroundColor=t.color),t.header){var b=u(e,{x:e.padding.left,y:e.calcY(t.headerPosition),text:t.header,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0,name:"voice-name"},!0);d.wrapSvgEl({el_type:"voiceName",startChar:-1,endChar:-1,text:t.header},b)}var _,y=!1;for(m=0;m<t.children.length;m++){"note"!==(g=t.children[m]).type&&"rest"!==g.type||(y=!0);var w=!1;"staff-extra"===g.type||e.controller.classes.isInMeasure()||(e.controller.classes.startMeasure(),w=!0),t.staff.isTabStaff&&(g.invisible=!1,"bar"==g.type&&g.abcelem.lastBar&&(n=t.topLine)),h(e,g,t.barto||m===t.children.length-1?n:0,d,f),("note"===g.type||"rest"===(_=g).type&&!(!_.abcelem||!_.abcelem.rest||"spacer"===_.abcelem.rest.type))&&e.controller.classes.incrNote(),"bar"===g.type&&!w&&y&&e.controller.classes.incrMeasure()}for(e.controller.classes.startMeasure(),m=0;m<t.beams.length;m++){var S=t.beams[m];"bar"===S?e.controller.classes.incrMeasure():l(e,S,d)}for(e.controller.classes.startMeasure(),m=0;m<t.otherchildren.length;m++)if("bar"===(g=t.otherchildren[m]))e.controller.classes.incrMeasure();else switch(g.type){case"GlissandoElem":g.elemset=r(e,g,d);break;case"CrescendoElem":g.elemset=i(e,g,d);break;case"DynamicDecoration":g.elemset=a(e,g,d);break;case"TripletElem":o(e,g,d);break;case"EndingElem":g.elemset=s(e,g,t.startx+10,p,d);break;case"TieElem":g.elemset=c(e,g,t.startx+10,p,d);break;default:console.log(g),h(e,g,t.startx+10,p,d,f)}e.foregroundColor=v}},58748:(e,t,n)=>{var r=n(91786),i=n(81384),a=n(57706),o=n(12643),s=n(11746),c=n(75677),l=n(27096),u=n(42708),h=n(10688),d=n(88624),f=n(10659),p=n(88809),m=n(10325),g=n(84412),v=n(98827),b=n(25905),_=function(e,t){t=t||{},this.findSelectableElement=b,this.oneSvgPerLine=t.oneSvgPerLine,this.selectionColor=t.selectionColor,this.dragColor=t.dragColor?t.dragColor:t.selectionColor,this.dragging=!!t.dragging,this.selectTypes=t.selectTypes,this.responsive=t.responsive,this.space=3*r.SPACE,this.initialClef=t.initialClef,this.timeBasedLayout=t.timeBasedLayout,this.expandToWidest=!!t.expandToWidest,this.scale=t.scale?parseFloat(t.scale):0,this.classes=new f({shouldAddClasses:t.add_classes}),this.scale>.1||(this.scale=void 0),t.staffwidth?(this.staffwidthScreen=t.staffwidth,this.staffwidthPrint=t.staffwidth):(this.staffwidthScreen=740,this.staffwidthPrint=680),this.listeners=[],t.clickListener&&this.addSelectListener(t.clickListener),this.renderer=new a(e),this.renderer.setPaddingOverride(t),t.showDebug&&(this.renderer.showDebug=t.showDebug),t.jazzchords&&(this.jazzchords=t.jazzchords),t.accentAbove&&(this.accentAbove=t.accentAbove),t.germanAlphabet&&(this.germanAlphabet=t.germanAlphabet),t.lineThickness&&(this.lineThickness=t.lineThickness),this.renderer.controller=this,this.renderer.foregroundColor=t.foregroundColor?t.foregroundColor:"currentColor",void 0!==t.ariaLabel&&(this.renderer.ariaLabel=t.ariaLabel),this.renderer.minPadding=t.minPadding?t.minPadding:0,this.reset()};function y(e){for(var t=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=0;n<e.attributes.length;n++){var r=e.attributes[n];"height"!==r.name&&"aria-label"!=r.name&&t.setAttribute(r.name,r.value)}return t}_.prototype.reset=function(){this.selected=[],this.staffgroups=[],this.engraver&&this.engraver.reset(),this.engraver=null,this.renderer.reset(),this.dragTarget=null,this.dragIndex=-1,this.dragMouseStart={x:-1,y:-1},this.dragYStep=0,this.lineThickness&&this.renderer.setLineThickness(this.lineThickness)},_.prototype.engraveABC=function(e,t,n){void 0===e[0]&&(e=[e]),this.reset();for(var r=0;r<e.length;r++)void 0===t&&(t=r),this.getFontAndAttr=new p(e[r].formatting,this.classes),this.getTextSize=new m(this.getFontAndAttr,this.renderer.paper),this.engraveTune(e[r],t,n)},_.prototype.adjustNonScaledItems=function(e){this.width/=e,this.renderer.adjustNonScaledItems(e)},_.prototype.getMeasureWidths=function(e){this.reset(),this.getFontAndAttr=new p(e.formatting,this.classes),this.getTextSize=new m(this.getFontAndAttr,this.renderer.paper);var t=this.jazzchords;this.setupTune(e,0),this.constructTuneElements(e),d(this.renderer,e,0,this.space,this.timeBasedLayout);for(var n,r=[],i=!0,a=0;a<e.lines.length;a++){var o=e.lines[a];if(o.staff){if(i&&(n={left:0,measureWidths:[],total:0},r.push(n),i=!1),o.staffGroup.voices.length>0)for(var s=o.staffGroup.voices[0],c=!1,l=0,u=0;u<s.children.length;u++){var h=s.children[u];c||h.isClef||h.isKeySig||(c=!0,n.left=h.x,l=h.x),"bar"===h.type&&(n.measureWidths.push(h.x-l),n.total+=h.x-l,l=h.x)}}else i=!0}return this.jazzchords=t,r},_.prototype.setupTune=function(e,t){this.classes.reset(),void 0!==e.formatting.jazzchords&&(this.jazzchords=e.formatting.jazzchords),void 0!==e.formatting.accentAbove&&(this.accentAbove=e.formatting.accentAbove),this.renderer.newTune(e),this.engraver=new i(this.getTextSize,t,{bagpipes:e.formatting.bagpipes,flatbeams:e.formatting.flatbeams,graceSlurs:!1!==e.formatting.graceSlurs,percmap:e.formatting.percmap,initialClef:this.initialClef,jazzchords:this.jazzchords,timeBasedLayout:this.timeBasedLayout,accentAbove:this.accentAbove,germanAlphabet:this.germanAlphabet}),this.engraver.setStemHeight(this.renderer.spacing.stemHeight),this.engraver.measureLength=e.getMeterFraction().num/e.getMeterFraction().den,e.formatting.staffwidth?this.width=1.33*e.formatting.staffwidth:this.width=this.renderer.isPrint?this.staffwidthPrint:this.staffwidthScreen;var n=e.formatting.scale?e.formatting.scale:this.scale;return"resize"===this.responsive&&(n=void 0),void 0===n&&(n=this.renderer.isPrint?.75:1),this.adjustNonScaledItems(n),n},_.prototype.constructTuneElements=function(e){var t,n;e.topText=new l(e.metaText,e.metaTextInfo,e.formatting,e.lines,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize);var r=!1,i=!1;for(t=0;t<e.lines.length;t++)if((n=e.lines[t]).staff)i=!0,n.staffGroup=this.engraver.createABCLine(n.staff,r?null:e.metaText.tempo,t),r=!0;else if(n.subtitle){if(i){var a=this.width/2+this.renderer.padding.left;n.nonMusic=new c(this.renderer.spacing.subtitle,e.formatting,n.subtitle,a,this.renderer.padding.left,this.getTextSize)}}else void 0!==n.text?(i=!0,n.nonMusic=new o(n.text,n.vskip,this.getFontAndAttr,this.renderer.padding.left,this.width,this.getTextSize)):void 0!==n.separator&&n.separator.lineLength&&(i=!0,n.nonMusic=new s(n.separator.spaceAbove,n.separator.lineLength,n.separator.spaceBelow));e.bottomText=new u(e.metaText,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize)},_.prototype.engraveTune=function(e,t,n){var r=this.jazzchords,i=this.setupTune(e,t);this.constructTuneElements(e);var a=d(this.renderer,e,this.width,this.space,this.expandToWidest,this.timeBasedLayout);if(this.expandToWidest&&a>this.width+1&&(e.topText=new l(e.metaText,e.metaTextInfo,e.formatting,e.lines,a,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize),e.lines&&e.lines.length>0))for(var o=e.lines.length,s=0;s<o;++s){var c=e.lines[s];if(c.nonMusic&&c.nonMusic.rows&&c.nonMusic.rows.length>0)for(var u=c.nonMusic.rows.length,f=0;f<u;++f){var p=c.nonMusic.rows[f];p.left&&(c.subtitle||c.text&&c.text.length>0&&c.text[0].center)&&(p.left=a/2+this.renderer.padding.left)}}e.tablatures&&v.layoutTablatures(this.renderer,e);var m=g(this.renderer,this.classes,e,this.width,a,this.responsive,i,this.selectTypes,t,n);if(this.staffgroups=m.staffgroups,this.selectables=m.selectables,this.oneSvgPerLine){var b=this.renderer.paper.svg.parentNode;this.svgs=function(e,t,n,r,i){n||(n="Untitled");var a=t.querySelector("svg");"resize"===r&&(t.style.paddingBottom="");for(var o=a.querySelector("style"),s="resize"===r?a.viewBox.baseVal.width:a.getAttribute("width"),c=t.querySelectorAll("svg > g"),l=0,u=[],h=0;h<c.length;h++){var d=c[h],f=d.getBBox(),p=f.y-l,m=f.height+p,g=document.createElement("div"),v="overflow: hidden;";"resize"!==r&&(v+="height:"+m*i+"px;"),g.setAttribute("style",v);var b=y(a),_='Sheet Music for "'+n+'" section '+(h+1);b.setAttribute("aria-label",_),"resize"!==r&&b.setAttribute("height",m),"resize"===r&&(b.style.position="");var w=e.firefox112?m+1:m;b.setAttribute("viewBox","0 "+l+" "+s+" "+w),b.appendChild(o.cloneNode(!0));var S=document.createElement("title");S.innerText=_,b.appendChild(S),b.appendChild(d),g.appendChild(b),u.push(b),t.appendChild(g),l=f.y+f.height}return t.removeChild(a),u}(this.renderer,b,e.metaText.title,this.responsive,i)}else this.svgs=[this.renderer.paper.svg];h(this,this.svgs),this.jazzchords=r},_.prototype.getDim=function(e){if(!e.dim){var t=e.svgEl.getBBox();e.dim={left:Math.round(t.x),top:Math.round(t.y),right:Math.round(t.x+t.width),bottom:Math.round(t.y+t.height)}}return e.dim},_.prototype.addSelectListener=function(e){this.listeners[this.listeners.length]=e},e.exports=_},10659:e=>{var t=function(e){this.shouldAddClasses=e.shouldAddClasses,this.reset()};t.prototype.reset=function(){this.lineNumber=null,this.voiceNumber=null,this.measureNumber=null,this.measureTotalPerLine=[],this.noteNumber=null},t.prototype.incrLine=function(){null===this.lineNumber?this.lineNumber=0:this.lineNumber++,this.voiceNumber=null,this.measureNumber=null,this.noteNumber=null},t.prototype.incrVoice=function(){null===this.voiceNumber?this.voiceNumber=0:this.voiceNumber++,this.measureNumber=null,this.noteNumber=null},t.prototype.isInMeasure=function(){return null!==this.measureNumber},t.prototype.newMeasure=function(){this.measureNumber&&(this.measureTotalPerLine[this.lineNumber]=this.measureNumber),this.measureNumber=null,this.noteNumber=null},t.prototype.startMeasure=function(){this.measureNumber=0,this.noteNumber=0},t.prototype.incrMeasure=function(){this.measureNumber++,this.noteNumber=0},t.prototype.incrNote=function(){this.noteNumber++},t.prototype.measureTotal=function(){for(var e=0,t=0;t<this.lineNumber;t++)e+=this.measureTotalPerLine[t]?this.measureTotalPerLine[t]:0;return this.measureNumber&&(e+=this.measureNumber),e},t.prototype.getCurrent=function(e){return{line:this.lineNumber,measure:this.measureNumber,measureTotal:this.measureTotal(),voice:this.voiceNumber,note:this.noteNumber}},t.prototype.generate=function(e){if(!this.shouldAddClasses)return"";var t=[];if(e&&e.length>0&&t.push(e),"abcjs-tab-number"===e)return t.join(" ");if("text instrument-name"===e)return"abcjs-text abcjs-instrument-name";if(null!==this.lineNumber&&t.push("l"+this.lineNumber),null!==this.measureNumber&&t.push("m"+this.measureNumber),null!==this.measureNumber&&t.push("mm"+this.measureTotal()),null!==this.voiceNumber&&t.push("v"+this.voiceNumber),e&&(e.indexOf("note")>=0||e.indexOf("rest")>=0||e.indexOf("lyric")>=0)&&null!==this.noteNumber&&t.push("n"+this.noteNumber),t.length>0){t=(t=t.join(" ")).split(" ");for(var n=0;n<t.length;n++)0!==t[n].indexOf("abcjs-")&&t[n].length>0&&(t[n]="abcjs-"+t[n])}return t.join(" ")},e.exports=t},88809:e=>{var t=function(e,t){this.formatting=e,this.classes=t};t.prototype.updateFonts=function(e){e.gchordfont&&(this.formatting.gchordfont=e.gchordfont),e.tripletfont&&(this.formatting.tripletfont=e.tripletfont),e.annotationfont&&(this.formatting.annotationfont=e.annotationfont),e.vocalfont&&(this.formatting.vocalfont=e.vocalfont)},t.prototype.getFamily=function(e){return'"'===e[0]&&'"'===e[e.length-1]?e.substring(1,e.length-1):e},t.prototype.calc=function(e,t){var n;n="string"==typeof e?(n=this.formatting[e])?{face:n.face,size:Math.round(4*n.size/3),decoration:n.decoration,style:n.style,weight:n.weight,box:n.box}:{face:"Arial",size:Math.round(16),decoration:"underline",style:"normal",weight:"normal"}:{face:e.face,size:Math.round(4*e.size/3),decoration:e.decoration,style:e.style,weight:e.weight,box:e.box};var r=this.formatting.fontboxpadding?this.formatting.fontboxpadding:.1;return n.padding=n.size*r,{font:n,attr:{"font-size":n.size,"font-style":n.style,"font-family":this.getFamily(n.face),"font-weight":n.weight,"text-decoration":n.decoration,class:this.classes.generate(t)}}},e.exports=t},10325:e=>{var t=function(e,t){this.getFontAndAttr=e,this.svg=t};t.prototype.updateFonts=function(e){this.getFontAndAttr.updateFonts(e)},t.prototype.attr=function(e,t){return this.getFontAndAttr.calc(e,t)},t.prototype.getFamily=function(e){return'"'===e[0]&&'"'===e[e.length-1]?e.substring(1,e.length-1):e},t.prototype.calc=function(e,t,n,r){var i;i="string"==typeof t?this.attr(t,n):{font:{face:t.face,size:t.size,decoration:t.decoration,style:t.style,weight:t.weight},attr:{"font-size":t.size,"font-style":t.style,"font-family":this.getFamily(t.face),"font-weight":t.weight,"text-decoration":t.decoration,class:this.getFontAndAttr.classes.generate(n)}};var a=this.svg.getTextSize(e,i.attr,r);return i.font.box?{height:a.height+4*i.font.padding,width:a.width+4*i.font.padding}:a},t.prototype.baselineToCenter=function(e,t,n,r,i){return.5*this.calc(e,t,n).height+(i-r-2)*this.attr(t,n).font.size},e.exports=t},60370:e=>{e.exports=function(e,t,n,r){if(e)for(var i=0;i<e.length;i++){var a=e[i],o=a.getAttribute("highlight");o||(o="fill"),a.setAttribute(o,r);var s=a.getAttribute("class");s||(s=""),s=(s=s.replace(n,"")).replace(t,""),t.length>0&&(s.length>0&&" "!==s[s.length-1]&&(s+=" "),s+=t),a.setAttribute("class",s)}}},91786:e=>{var t={FONTEM:360,FONTSIZE:30};t.STEP=93*t.FONTSIZE/720,t.SPACE=10,t.TOPNOTE=15,t.STAVEHEIGHT=100,t.INDENT=50,e.exports=t},60707:e=>{function t(e,t,n,r){if(0===e.indexOf(t)){var i=e.replace(t,""),a=parseInt(i,10);""+a===i&&(n[r]=a)}}e.exports=function(e,n){var r=[];if(e.absEl.elemset){for(var i={},a=0;a<e.absEl.elemset.length;a++){var o=e.absEl.elemset[a];if(o)for(var s=o.getAttribute("class").split(" "),c=0;c<s.length;c++)i[s[c]]=!0}for(var l=0;l<Object.keys(i).length;l++)r.push(Object.keys(i)[l])}for(var u={},h=0;h<r.length;h++)t(r[h],"abcjs-v",u,"voice"),t(r[h],"abcjs-l",u,"line"),t(r[h],"abcjs-m",u,"measure");e.staffPos&&(u.staffPos=e.staffPos);for(var d=n.target;d&&d.dataset&&!d.dataset.name&&"svg"!==d.tagName.toLowerCase();)d=d.parentNode;for(var f=n.target;f&&f.dataset&&!f.dataset.index&&"svg"!==f.tagName.toLowerCase();)f=f.parentNode;return f&&f.dataset&&(u.name=f.dataset.name,u.clickedName=d.dataset.name,u.parentClasses=f.classList),d&&d.classList&&(u.clickedClasses=d.classList),u.selectableElement=e.svgEl,{classes:r,analysis:u}}},25905:(e,t,n)=>{var r=n(60707);e.exports=function(e){for(var t=e;t&&t.attributes&&"svg"!==t.tagName.toLowerCase()&&!t.attributes.selectable;)t=t.parentNode;if(t&&t.attributes&&t.attributes.selectable){var n=t.attributes["data-index"].nodeValue;if(n&&(n=parseInt(n,10))>=0&&n<this.selectables.length){var i=this.selectables[n],a=r(i,e);return a.index=n,a.element=i,a}}return null}},45086:(e,t,n)=>{var r=n(60370);e.exports=function(e,t){void 0===e&&(e="abcjs-note_selected"),void 0===t&&(t="#ff0000"),r(this.elemset,e,"",t)}},10688:(e,t,n)=>{var r=n(91786),i=n(60707);function a(e){"keyboard"===this.dragMechanism&&0!==this.dragYStep&&this.dragTarget&&p.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,e),this.dragYStep=0}function o(e){switch(e.keyCode){case 38:case 40:e.preventDefault()}}function s(e){var t=!1,n=e.target.dataset.index;switch(e.keyCode){case 13:case 32:t=!0,this.dragTarget=this.selectables[n],this.dragIndex=n,this.dragMechanism="keyboard",d.bind(this)(e);break;case 38:t=!0,this.dragTarget=this.selectables[n],this.dragIndex=n,this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep--,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*r.STEP+")"));break;case 40:t=!0,this.dragTarget=this.selectables[n],this.dragIndex=n,this.dragMechanism="keyboard",this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep++,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*r.STEP+")"));break;case 9:0!==this.dragYStep&&d.bind(this)(e)}t&&e.preventDefault()}function c(e,t){var n,r,i,a=function(e,t){if(!t)return-1;for(var n=0;n<e.length;n++)if(t.dataset.index===e[n].svgEl.dataset.index)return n;return-1}(e.selectables,function(e){if(!e)return null;if("svg"===e.tagName)return e;if(!e.getAttribute)return null;for(var t=e.getAttribute("selectable");!t;)t=!e.parentElement||"svg"===(e=e.parentElement).tagName||e.getAttribute("selectable");return e}(t.target));return a>=0?(i=function(e,t,n){return e.x<=t.offsetX&&e.x+e.width>=t.offsetX&&e.y<=t.offsetY&&e.y+e.height>=t.offsetY||Math.abs(t.layerY/n-t.offsetY)<3?[t.offsetX,t.offsetY]:[t.layerX,t.layerY]}(e.selectables[a].svgEl.getBBox(),t,e.scale),n=i[0],r=i[1]):(i=function(e){var t,n,r=1,i=1,a=e.target.closest("svg"),o=0;return a&&a.viewBox&&a.viewBox.baseVal&&(0!==a.viewBox.baseVal.width&&(r=a.viewBox.baseVal.width/a.clientWidth),0!==a.viewBox.baseVal.height&&(i=a.viewBox.baseVal.height/a.clientHeight),o=a.viewBox.baseVal.y),e.target&&"svg"===e.target.tagName?(t=e.offsetX,n=e.offsetY):(t=e.layerX,n=e.layerY),[t*=r,(n*=i)+o]}(t),a=function(e,t,n){for(var r=9999999,i=-1,a=0;a<e.selectables.length&&r>0;a++){var o=e.selectables[a];if(e.getDim(o),o.dim.left<t&&o.dim.right>t&&o.dim.top<n&&o.dim.bottom>n)i=a,r=0;else if(o.dim.top<n&&o.dim.bottom>n){var s=Math.min(Math.abs(o.dim.left-t),Math.abs(o.dim.right-t));s<r&&(r=s,i=a)}else if(o.dim.left<t&&o.dim.right>t){var c=Math.min(Math.abs(o.dim.top-n),Math.abs(o.dim.bottom-n));c<r&&(r=c,i=a)}else{var l=Math.abs(t-o.dim.left)>Math.abs(t-o.dim.right)?Math.abs(t-o.dim.right):Math.abs(t-o.dim.left),u=Math.abs(n-o.dim.top)>Math.abs(n-o.dim.bottom)?Math.abs(n-o.dim.bottom):Math.abs(n-o.dim.top),h=Math.sqrt(l*l+u*u);h<r&&(r=h,i=a)}}return i>=0&&r<=12?i:-1}(e,n=i[0],r=i[1])),{x:n,y:r,clickedOn:a}}function l(e){if(e&&e.target&&e.touches&&!(e.touches.length<1)){var t=e.target.getBoundingClientRect(),n=e.touches[0].pageX-t.left,r=e.touches[0].pageY-t.top;e.touches[0].offsetX=n,e.touches[0].offsetY=r,e.touches[0].layerX=e.touches[0].pageX,e.touches[0].layerY=e.touches[0].pageY}}function u(e){var t=e;"touchstart"===e.type&&(l(e),e.touches.length>0&&(t=e.touches[0]));var n=c(this,t);n.clickedOn>=0&&("touchstart"===e.type||0===e.button)&&this.selectables[n.clickedOn]&&(this.dragTarget=this.selectables[n.clickedOn],this.dragIndex=n.clickedOn,this.dragMechanism="mouse",this.dragMouseStart={x:n.x,y:n.y},this.dragging&&this.dragTarget.isDraggable&&(function(e,t){if(e){var n=v(e.svg);n["abcjs-dragging-in-progress"]=!0,b(e.svg,n)}}(this.renderer.paper),this.dragTarget.absEl.highlight(void 0,this.dragColor)))}function h(e){var t=e;if("touchmove"===e.type&&(l(e),e.touches.length>0&&(t=e.touches[0])),this.lastTouchMove=e,this.dragTarget&&this.dragging&&this.dragTarget.isDraggable&&"mouse"===this.dragMechanism&&this.dragMouseStart){var n=c(this,t),i=Math.round((n.y-this.dragMouseStart.y)/r.STEP);i!==this.dragYStep&&(this.dragYStep=i,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+i*r.STEP+")"))}}function d(e){var t=e;"touchend"===e.type&&this.lastTouchMove&&(l(this.lastTouchMove),this.lastTouchMove&&this.lastTouchMove.touches&&this.lastTouchMove.touches.length>0&&(t=this.lastTouchMove.touches[0])),this.dragTarget&&(m.bind(this)(),this.dragTarget.absEl&&this.dragTarget.absEl.highlight&&(this.selected=[this.dragTarget.absEl],this.dragTarget.absEl.highlight(void 0,this.selectionColor)),p.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,t),this.dragTarget.svgEl&&this.dragTarget.svgEl.focus&&(this.dragTarget.svgEl.focus(),this.dragTarget=null,this.dragIndex=-1),function(e,t){if(e){var n=v(e.svg);delete n["abcjs-dragging-in-progress"],b(e.svg,n)}}(this.renderer.svg))}function f(e){e>=0&&e<this.selectables.length&&(this.dragTarget=this.selectables[e],this.dragIndex=e,this.dragMechanism="keyboard",d.bind(this)({target:this.dragTarget.svgEl}))}function p(e,t,n,r,a){for(var o=i(e,a),s=o.classes,c=o.analysis,l=0;l<this.listeners.length;l++)this.listeners[l](e.absEl.abcelem,e.absEl.tuneNumber,s.join(" "),c,{step:t,max:n,index:r,setSelection:f.bind(this)},a)}function m(){for(var e=0;e<this.selected.length;e++)this.selected[e].unhighlight(void 0,this.renderer.foregroundColor);this.selected=[]}function g(e,t){m.bind(this)();for(var n=0;n<this.staffgroups.length;n++)for(var r=this.staffgroups[n].voices,i=0;i<r.length;i++)for(var a=r[i].children,o=0;o<a.length;o++){var s=a[o].abcelem.startChar,c=a[o].abcelem.endChar;(t>s&&e<c||t===e&&t===c)&&(this.selected[this.selected.length]=a[o],a[o].highlight(void 0,this.selectionColor))}}function v(e){var t=e.getAttribute("class");t||(t="");for(var n=t.split(" "),r={},i=0;i<n.length;i++)r[n[i]]=!0;return r}function b(e,t){var n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(r);e.setAttribute("class",n.join(" "))}e.exports=function(e,t){if(e.rangeHighlight=g,e.dragging)for(var n=0;n<e.selectables.length;n++){var r=e.selectables[n];"true"===r.svgEl.getAttribute("selectable")&&(r.svgEl.setAttribute("tabindex",0),r.svgEl.setAttribute("data-index",n),r.svgEl.addEventListener("keydown",o.bind(e)),r.svgEl.addEventListener("keyup",s.bind(e)),r.svgEl.addEventListener("focus",a.bind(e)))}for(var i=0;i<t.length;i++)t[i].addEventListener("touchstart",u.bind(e),{passive:!0}),t[i].addEventListener("touchmove",h.bind(e),{passive:!0}),t[i].addEventListener("touchend",d.bind(e),{passive:!0}),t[i].addEventListener("mousedown",u.bind(e)),t[i].addEventListener("mousemove",h.bind(e)),t[i].addEventListener("mouseup",d.bind(e))}},18911:(e,t,n)=>{var r=n(60370);e.exports=function(e,t){void 0===e&&(e="abcjs-note_selected"),void 0===t&&(t="#000000"),r(this.elemset,"",e,t)}},63601:(e,t,n)=>{var r=n(99032),i=n(91786),a=n(10258),o=function(e){return void 0===e?0:Math.floor(Math.log(e)/Math.log(2))};function s(e,t,n,r){if(!e.children)return r;for(var i=0;i<e.children.length;i++){var a=e.children[i];t&&void 0!==a.top&&"flags.ugrace"===a.c?r=Math.max(r,a.top-n):t||void 0===a.bottom||"flags.ugrace"!==a.c||(r=Math.max(r,n-a.bottom+7))}return r}function c(e,t,n){var r=t.heads[e?0:t.heads.length-1],i=n.heads[e?0:n.heads.length-1],a=r.x;e&&(a+=r.w-.6);var o=i.x;return[a,o+=e?i.w:.6]}e.exports=function(e){if(0!==e.elems.length&&!e.allrests){var t=function(e,t){var n=e?i.STEP:-i.STEP;return t&&(n*=.4),n}(e.stemsUp,e.isgrace),n=e.elems[0],l=e.elems[e.elems.length-1],u=0,h=e.stemsUp?n.abcelem.maxpitch:n.abcelem.minpitch;u=s(n,e.stemsUp,h,u),u=s(l,e.stemsUp,h,u),u=Math.max(e.stemHeight,u+3);var d=(g=e.average,v=e.elems.length,b=u,_=e.stemsUp,y=n.abcelem.averagepitch,w=l.abcelem.averagepitch,S=e.isflat,k=e.min,x=e.max,M=e.isgrace,E=b-2,T=b-2,C=Math.round(_?Math.max(g+E,x+T):Math.min(g-E,k-T)),A=function(e,t,n,r){if(r)return 0;var i=e-t,a=n/2;return i>a&&(i=a),i<-a&&(i=-a),i}(y,w,v,S),O=C+Math.floor(A/2),P=C+Math.floor(-A/2),M||(_&&C<6||!_&&C>6)&&(O=6,P=6),[O,P]),f=c(e.stemsUp,n,l);e.addBeam({startX:f[0],endX:f[1],startY:d[0],endY:d[1],dy:t});for(var p=function(e,t,n,r,i){for(var s=[],l=[],u=0;u<e.length;u++){var h=e[u];if(!h.abcelem.rest){var d=h.heads[t?0:h.heads.length-1],f=d.x+(t?d.w:0),p=a(n.startX,n.startY,n.endX,n.endY,f),m=t?-1.5:1.5;r&&(m=2*m/3);var g=h.abcelem.duration;0===g&&(g=.25);for(var v=o(g);v<-3;v++){var b=-4-v;if(l[b]?l[b].single=!1:l[b]={x:f+(t?-.6:0),y:p+m*(b+1),durlog:v,single:!0},u>0&&h.abcelem.beambr&&h.abcelem.beambr<=b+1){l[b].split||(l[b].split=[l[b].x]);var _=c(t,e[u-1],h);l[b].split[l[b].split.length-1]>=_[0]&&(_[0]+=h.w),l[b].split.push(_[0]),l[b].split.push(_[1])}}for(var y=l.length-1;y>=0;y--)if(u===e.length-1||o(e[u+1].abcelem.duration)>-y-4){var w=f,S=p+m*(y+1);l[y].single&&(w=0===u?f+5:f-5,S=a(n.startX,n.startY,n.endX,n.endY,w)+m*(y+1));var k={startX:l[y].x,endX:w,startY:l[y].y,endY:S,dy:i};if(void 0!==l[y].split){var x=l[y].split;k.endX<=x[x.length-1]&&(x[x.length-1]-=h.w),x.push(k.endX),k.split=l[y].split}s.push(k),l=l.slice(0,y)}}}return s}(e.elems,e.stemsUp,e.beams[0],e.isgrace,t),m=0;m<p.length;m++)e.addBeam(p[m]);!function(e,t,n,o,s){for(var c=0;c<e.length;c++){var l=e[c];if(!l.abcelem.rest){var u=!l.addExtra,h=u?s:l,d=l.heads[t?0:l.heads.length-1],f=d.pitch+(t?.2:-.2),p=t?d.w:0;u||(p+=d.dx);var m=d.x+p,g=a(n.startX,n.startY,n.endX,n.endY,m),v=t?-.6:.6;t||(g-=o/2/i.STEP),u&&(p+=l.heads[0].dx),"noteheads.slash.quarter"===d.c&&(t?f+=1:f-=1);var b=new r(null,p,0,f,{type:"stem",pitch2:g,linewidth:v});b.setX(h.x),h.addRight(b)}}}(e.elems,e.stemsUp,e.beams[0],t,e.mainNote)}var g,v,b,_,y,w,S,k,x,M,E,T,C,A,O,P}},10258:e=>{e.exports=function(e,t,n,r,i){return t+(r-t)/(n-e)*(i-e)}},56355:e=>{function t(e,t,n){if(t)for(var r=0;r<t.length;r++)if(t[r].header){var i=n.calc(t[r].header,"voicefont","");e=Math.max(e,i.width)}return e}function n(e,t,n){if(e)for(var i=0;i<e.length;i++)r(t,e[i]),n=Math.max(n,e[i].getWidth());return n}function r(e,t){t.x=e}e.exports=function(e,r,i,a,o){var s,c,l=e.padding.left,u=0;for(s=0;s<i.length;s++)i[s].header&&(c=r.calc(i[s].header,"voicefont",""),u=Math.max(u,c.width));u=t(u,a,r),(u=t(u,o,r))&&(u+=r.calc("A","voicefont","").width);var h=0;return h=n(a,l+=u,h),l+n(o,l,h)}},81367:(e,t,n)=>{var r=n(56355);e.exports=function(e,t,n){var i=r(e,t.getTextSize,t.voices,t.brace,t.bracket),a=function(e,t){for(var n=0,r=0,i=0;i<e.voices.length;i++){for(var a=0,o=e.voices[i],s=0;s<o.children.length;s++){var c=o.children[s];if(a+=c.duration,c.duration){var l=(c.w+t)/c.duration;n=Math.max(n,l)}}r=Math.max(r,a)}return{totalDuration:r,minSpacing:n}}(t,n.minPadding),o=a.totalDuration,s=a.minSpacing*o;n.minWidth&&(s=Math.max(s,n.minWidth));var c=n.minPadding?n.minPadding/2:2;t.startx=i,t.w=s+i;for(var l=0;l<t.voices.length;l++){var u=t.voices[l];u.startx=i,u.w=s+i;for(var h=i,d=!1,f=0,p=0;p<u.children.length;p++){var m=u.children[p];d||(0!==m.duration?(d=!0,f=(s+i-h)/o,t.gridStart=h):(m.x=h,h+=m.w+m.minspacing)),d&&("center"===n.align?m.x=h+m.duration*f/2-m.w/2:0===m.duration?m.x=h+1-m.w:m.x=h+c-m.extraw,h+=m.duration*f);for(var g=0;g<m.children.length;g++){var v=m.children[g],b=v.dx?v.dx:0;v.x=m.x+b}}t.gridEnd=h}return s}},88624:(e,t,n)=>{var r=n(69606),i=n(43703),a=n(71736),o=n(56355),s=n(81367),c=function(e,t,n,r,i,s,c){for(var u=o(e,r.getTextSize,r.voices,r.brace,r.bracket),h=n,d=0;d<8;d++){var f=a(h,e.minPadding,c,r,u);if(h=l(s,i.stretchlast,t+e.padding.left,r.w,h,f.spacingUnits,f.minSpace,e.padding.left+e.padding.right),c&&console.log("setXSpace",d,r.w,h,r.minspace),null===h)break}return function(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=1;r<n.children.length-1;r++){var i=n.children[r];if(i.abcelem.rest&&("whole"===i.abcelem.rest.type||"multimeasure"===i.abcelem.rest.type)){var a=n.children[r-1],o=n.children[r+1];i.center(a,o)}}}(r.voices),r.w-u};function l(e,t,n,r,i,a,o,s){if(e)if(void 0===t){if(r/n<.66)return null}else if(!(1-(r+s)/n<t))return null;return Math.abs(n-r)<2?null:a>0?((i=(n-(r-a*i))/a)*o>50&&(i=50/o),i):null}e.exports=function(e,t,n,a,o,l){var u,h,d=n;for(u=0;u<t.lines.length;u++){var f;(h=t.lines[u]).staff&&(f=void 0!==l?s(e,h.staffGroup,l):c(e,d,a,h.staffGroup,t.formatting,u===t.lines.length-1,!1),Math.round(f)>Math.round(d)&&(d=f,o&&(u=-1)))}for(u=0;u<t.lines.length;u++)if((h=t.lines[u]).staffGroup&&h.staffGroup.voices){for(var p=0;p<h.staffGroup.voices.length;p++)r(h.staffGroup.voices[p]);i(e,h.staffGroup)}for(u=0;u<t.lines.length;u++)(h=t.lines[u]).staffGroup&&h.staffGroup.setHeight();return d}},43703:(e,t,n)=>{var r=n(91786);function i(e,t,n,r){if(e.specialY[n]){var i=e.specialY[n];r&&(i*=r),e.top+=i+1,t[n]=e.top}}function a(e,t,n){var r,i;for(r=0;r<t.children.length;r++)o(e,i=t.children[r],n);for(r=0;r<t.otherchildren.length;r++)switch((i=t.otherchildren[r]).type){case"CrescendoElem":s(e,i);break;case"DynamicDecoration":c(e,i);break;case"EndingElem":l(e,i);break;case"TieElem":var a=i.getYBounds();t.staff.top=Math.max(t.staff.top,a[0]),t.staff.top=Math.max(t.staff.top,a[1]),t.staff.bottom=Math.min(t.staff.bottom,a[0]),t.staff.bottom=Math.min(t.staff.bottom,a[1])}}function o(e,t,n){for(var r=0;r<t.children.length;r++){var i=t.children[r];for(var a in t.specialY)t.specialY.hasOwnProperty(a)&&i[a]&&(i.pitch=e[a],void 0===i.top&&("TempoElement"===i.type?u(e,i):h(e,i,n),t.pushTop(i.top),t.pushBottom(i.bottom)))}}function s(e,t){t.dynamicHeightAbove?t.pitch=e.dynamicHeightAbove:t.pitch=e.dynamicHeightBelow}function c(e,t){t.volumeHeightAbove?t.pitch=e.volumeHeightAbove:t.pitch=e.volumeHeightBelow}function l(e,t){t.pitch=e.endingHeightAbove-2}function u(e,t){if(t.pitch=e.tempoHeightAbove,t.top=e.tempoHeightAbove,t.bottom=e.tempoHeightAbove,t.note){var n=t.pitch-t.totalHeightInPitches+1;t.note.top=n,t.note.bottom=n;for(var r=0;r<t.note.children.length;r++){var i=t.note.children[r];i.top+=n,i.bottom+=n,i.pitch+=n,void 0!==i.pitch2&&(i.pitch2+=n)}}}function h(e,t,n){switch(t.type){case"part":t.top=e.partHeightAbove+t.height,t.bottom=e.partHeightAbove;break;case"text":case"chord":t.chordHeightAbove?(t.top=e.chordHeightAbove,t.bottom=e.chordHeightAbove):(t.top=e.chordHeightBelow,t.bottom=e.chordHeightBelow);break;case"lyric":t.lyricHeightAbove?(t.top=e.lyricHeightAbove,t.bottom=e.lyricHeightAbove):(t.top=e.lyricHeightBelow+n.vocal/r.STEP,t.bottom=e.lyricHeightBelow+n.vocal/r.STEP,t.pitch-=n.vocal/r.STEP);break;case"debug":t.top=e.chordHeightAbove,t.bottom=e.chordHeightAbove}void 0!==t.pitch&&void 0!==t.top||console.error("RelativeElement position not set.",t.type,t.pitch,t.top,e)}e.exports=function(e,t){for(var n,o=0;o<t.staffs.length;o++){var s=t.staffs[o],c={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0};if(e.showDebug&&e.showDebug.indexOf("box")>=0&&(s.originalTop=s.top,s.originalBottom=s.bottom),i(s,c,"lyricHeightAbove"),i(s,c,"chordHeightAbove",s.specialY.chordLines.above),s.specialY.endingHeightAbove&&(s.specialY.chordHeightAbove?s.top+=2:s.top+=s.specialY.endingHeightAbove+1,c.endingHeightAbove=s.top),s.specialY.dynamicHeightAbove&&s.specialY.volumeHeightAbove?(s.top+=Math.max(s.specialY.dynamicHeightAbove,s.specialY.volumeHeightAbove)+1,c.dynamicHeightAbove=s.top,c.volumeHeightAbove=s.top):(i(s,c,"dynamicHeightAbove"),i(s,c,"volumeHeightAbove")),i(s,c,"partHeightAbove"),i(s,c,"tempoHeightAbove"),s.specialY.lyricHeightBelow&&(s.specialY.lyricHeightBelow+=e.spacing.vocal/r.STEP,c.lyricHeightBelow=s.bottom,s.bottom-=s.specialY.lyricHeightBelow+1),s.specialY.chordHeightBelow){c.chordHeightBelow=s.bottom;var l=s.specialY.chordHeightBelow;s.specialY.chordLines.below&&(l*=s.specialY.chordLines.below),s.bottom-=l+1}s.specialY.volumeHeightBelow&&s.specialY.dynamicHeightBelow?(c.volumeHeightBelow=s.bottom,c.dynamicHeightBelow=s.bottom,s.bottom-=Math.max(s.specialY.volumeHeightBelow,s.specialY.dynamicHeightBelow)+1):s.specialY.volumeHeightBelow?(c.volumeHeightBelow=s.bottom,s.bottom-=s.specialY.volumeHeightBelow+1):s.specialY.dynamicHeightBelow&&(c.dynamicHeightBelow=s.bottom,s.bottom-=s.specialY.dynamicHeightBelow+1),e.showDebug&&e.showDebug.indexOf("box")>=0&&(s.positionY=c);for(var u=0;u<s.voices.length;u++)a(c,t.voices[s.voices[u]],e.spacing);if(void 0!==n){var h=n+(s.top-10),d=e.spacing.systemStaffSeparation/r.STEP-h;d>0&&(s.top+=d)}s.top+=e.spacing.staffTopMargin/r.STEP,n=2-s.bottom}}},71736:(e,t,n)=>{var r=n(36186);function i(e){for(var t=0;t<e.length;t++)if(!r.layoutEnded(e[t]))return!1;return!0}function a(e){return e.durationindex-(e.children[e.i]&&e.children[e.i].duration>0?0:5e-7)}e.exports=function(e,t,n,o,s){var c,l=0,u=1e3,h=s;o.startx=h;var d,f,p=0;for(n&&console.log("init layout",e),c=0;c<o.voices.length;c++)r.beginLayout(h,o.voices[c]);for(var m=0;!i(o.voices);){for(p=null,c=0;c<o.voices.length;c++)r.layoutEnded(o.voices[c])||p&&!(a(o.voices[c])<p)||(p=a(o.voices[c]));var g=[],v=[];for(c=0;c<o.voices.length;c++)a(o.voices[c])-p>1e-7?v.push(o.voices[c]):g.push(o.voices[c]);m=0;var b=0;for(c=0;c<g.length;c++)r.getNextX(g[c])>h&&(h=r.getNextX(g[c]),m=r.getSpacingUnits(g[c]),b=g[c].spacingduration);l+=m,u=Math.min(u,m),n&&console.log("currentduration: ",p,l,u);var _=void 0;for(c=0;c<g.length;c++){var y=g[c];0===y.voicenumber&&(_=c);var w=void 0!==_&&g[_].voicenumber!==y.voicenumber?g[_]:void 0;f=w,(d=y)&&d.staff&&d.staff.voices&&0!==d.staff.voices.length&&f&&f.staff&&f.staff.voices&&0!==f.staff.voices.length&&d.staff.voices[0]===f.staff.voices[0]||(w=void 0);var S=r.layoutOneItem(h,e,y,t,w),k=S-h;if(k>0){h=S;for(var x=0;x<c;x++)r.shiftRight(k,g[x])}}for(c=0;c<v.length;c++)v[c].spacingduration-=b,r.updateNextX(h,e,v[c]);for(c=0;c<g.length;c++){var M=g[c];r.updateIndices(M)}}for(c=0;c<o.voices.length;c++)r.getNextX(o.voices[c])>h&&(h=r.getNextX(o.voices[c]),m=r.getSpacingUnits(o.voices[c]));return function(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];if(r.children.length>0){var i=r.children.length-1,a=r.children[i];if("bar"===a.abcelem.el_type){var o=a.children[0].x;o>t?t=o:a.children[0].x=t}}}}(o.voices),l+=m,o.setWidth(h),{spacingUnits:l,minSpace:u}}},19836:(e,t,n)=>{var r=n(10258);function i(e){return e.stemsUp}e.exports=function(e){if(e.anchor1&&e.anchor2){e.hasBeam=!!e.anchor1.parent.beam&&e.anchor1.parent.beam===e.anchor2.parent.beam;var t=e.anchor1.parent.beam;if(!e.hasBeam||t.elems[0]===e.anchor1.parent&&t.elems[t.elems.length-1]===e.anchor2.parent||(e.hasBeam=!1),e.hasBeam){var n=i(t)?e.anchor1.x+e.anchor1.w:e.anchor1.x;e.yTextPos=function(e,t,n){if(0===n.beams.length)return 0;n=n.beams[0];var i=e+(t-e)/2;return r(n.startX,n.startY,n.endX,n.endY,i)}(n,e.anchor2.x,t),e.yTextPos+=i(t)?3:-2,e.xTextPos=(s=n)+(e.anchor2.x-s)/2,e.top=e.yTextPos+1,e.bottom=e.yTextPos-2,i(t)&&(e.endingHeightAbove=4)}else{e.startNote=Math.max(e.anchor1.parent.top,9)+4,e.endNote=Math.max(e.anchor2.parent.top,9)+4,"rest"===e.anchor1.parent.type&&"rest"!==e.anchor2.parent.type?e.startNote=e.endNote:"rest"===e.anchor2.parent.type&&"rest"!==e.anchor1.parent.type&&(e.endNote=e.startNote);for(var a=0,o=0;o<e.middleElems.length;o++)a=Math.max(a,e.middleElems[o].top);((a+=4)>e.startNote||a>e.endNote)&&(e.startNote=a,e.endNote=a),e.flatBeams&&(e.startNote=Math.max(e.startNote,e.endNote),e.endNote=Math.max(e.startNote,e.endNote)),e.yTextPos=e.startNote+(e.endNote-e.startNote)/2,e.xTextPos=e.anchor1.x+(e.anchor2.x+e.anchor2.w-e.anchor1.x)/2,e.top=e.yTextPos+1}}var s;delete e.middleElems,delete e.flatBeams}},36186:e=>{var t=function(){};t.beginLayout=function(e,t){t.i=0,t.durationindex=0,t.startx=e,t.minx=e,t.nextx=e,t.spacingduration=0},t.layoutEnded=function(e){return e.i>=e.children.length},t.getNextX=function(e){return Math.max(e.minx,e.nextx)},t.getSpacingUnits=function(e){return Math.sqrt(8*e.spacingduration)},t.layoutOneItem=function(e,t,n,r,i){var a=n.children[n.i];if(!a)return 0;var o=e-n.minx,s=n.durationindex+a.duration>0?r:0;if("note"===a.abcelem.el_type&&!a.abcelem.rest&&0!==n.voicenumber&&i){var c=i.children[i.i],l=c&&(a.abcelem.maxpitch<=c.abcelem.maxpitch+1&&a.abcelem.maxpitch>=c.abcelem.minpitch-1||a.abcelem.minpitch<=c.abcelem.maxpitch+1&&a.abcelem.minpitch>=c.abcelem.minpitch-1);if(l&&a.abcelem.minpitch===c.abcelem.minpitch&&a.abcelem.maxpitch===c.abcelem.maxpitch&&c.heads&&c.heads.length>0&&a.heads&&a.heads.length>0&&c.heads[0].c===a.heads[0].c&&(l=!1),l){var u=c.heads&&c.heads.length>0?c.heads[0].realWidth:c.fixed.w;a.adjustedWidth||(a.adjustedWidth=u+a.w),a.w=a.adjustedWidth;for(var h=0;h<a.children.length;h++){var d=a.children[h];d.name.indexOf("accidental")<0&&(d.adjustedWidth||(d.adjustedWidth=d.dx+u),d.dx=d.adjustedWidth)}}}var f=function(e,t){var n=0;return"note"!==e.type&&"bar"!==e.type||(n=t),-e.extraw+n}(a,s);return o<f&&(0===n.i||"bar"!==a.type||"part"!==n.children[n.i-1].type&&"tempo"!==n.children[n.i-1].type)&&(e+=f-o),a.setX(e),n.spacingduration=a.duration,n.minx=e+function(e){return e.w}(a),n.i!==n.children.length-1&&(n.minx+=a.minspacing),this.updateNextX(e,t,n),e},t.shiftRight=function(e,t){var n=t.children[t.i];n&&(n.setX(n.x+e),t.minx+=e,t.nextx+=e)},t.updateNextX=function(e,t,n){n.nextx=e+t*this.getSpacingUnits(n)},t.updateIndices=function(e){this.layoutEnded(e)||(e.durationindex+=e.children[e.i].duration,"bar"===e.children[e.i].type&&(e.durationindex=Math.round(64*e.durationindex)/64),e.i++)},e.exports=t},69606:(e,t,n)=>{var r=n(63601),i=n(10258),a=n(19836);function o(e){for(var t=0;t<e.elems.length;t++){var n=e.elems[t];if(n.top)for(var r=l(n,e),i=0;i<n.children.length;i++){var a=n.children[i];if("ornament"===a.klass&&"below"!==a.position&&a.bottom-1.5<r){var o=r-a.bottom+1.5;a.bottom+=o,a.top+=o,a.pitch+=o,r=n.top=a.top}}}}function s(e,t){var n=t.getChordDim();if(n){for(var r=0;r<e.length;r++)if(e[r]<n.left)return r>0&&t.putChordInLane(r),void(e[r]=n.right);e.push(n.right),t.putChordInLane(e.length-1)}}function c(e){for(var t=0,n=0;n<e.children.length;n++)e.children[n].chordHeightBelow&&t++;return t}function l(e,t){return t=t.beams[0],i(t.startX,t.startY,t.endX,t.endY,e.x)}e.exports=function(e){for(var t=0;t<e.beams.length;t++)if("BeamElem"===e.beams[t].type){r(e.beams[t]),o(e.beams[t]);for(var n=0;n<e.beams[t].elems.length;n++)e.adjustRange(e.beams[t].elems[n])}for(e.staff.specialY.chordLines=function(e){var t,n,r,i=[0],a=[0];for(t=0;t<e.length;t++){for(n=0;n<e[t].children.length;n++)(r=e[t].children[n]).chordHeightAbove&&s(i,r);for(n=e[t].children.length-1;n>=0;n--)(r=e[t].children[n]).chordHeightBelow&&s(a,r)}return(i.length>1||a.length>1)&&function(e,t,n){for(var r=0;r<e.length;r++){c(e[r]);for(var i=0;i<e[r].children.length;i++){var a=e[r].children[i];a.chordHeightAbove&&a.invertLane(t)}}}(e,i.length),{above:i.length,below:a.length}}(e.children),t=0;t<e.otherchildren.length;t++){var i=e.otherchildren[t];"TripletElem"===i.type&&(a(i),e.adjustRange(i))}e.staff.top=Math.max(e.staff.top,e.top),e.staff.bottom=Math.min(e.staff.bottom,e.bottom)}},57706:(e,t,n)=>{var r=n(91786),i=n(86503),a=function(e){this.paper=new i(e),this.controller=null,this.space=3*r.SPACE,this.padding={},this.reset(),this.firefox112=navigator.userAgent.indexOf("Firefox/112.0")>=0};a.prototype.reset=function(){this.paper.clear(),this.y=0,this.abctune=null,this.path=null,this.isPrint=!1,this.lineThickness=0,this.initVerticalSpace()},a.prototype.newTune=function(e){this.abctune=e,this.setVerticalSpace(e.formatting),this.isPrint="print"===e.media,this.setPadding(e)},a.prototype.setLineThickness=function(e){this.lineThickness=e},a.prototype.setPaddingOverride=function(e){this.paddingOverride={top:e.paddingtop,bottom:e.paddingbottom,right:e.paddingright,left:e.paddingleft}},a.prototype.setPadding=function(e){function t(t,n,r,i,a){void 0!==e.formatting[r]?t.padding[n]=e.formatting[r]:void 0!==t.paddingOverride[n]?t.padding[n]=t.paddingOverride[n]:t.isPrint?t.padding[n]=i:t.padding[n]=a}t(this,"top","topmargin",38,15),t(this,"bottom","botmargin",38,15),t(this,"left","leftmargin",68,15),t(this,"right","rightmargin",68,15)},a.prototype.adjustNonScaledItems=function(e){this.padding.top/=e,this.padding.bottom/=e,this.padding.left/=e,this.padding.right/=e,this.abctune.formatting.headerfont.size/=e,this.abctune.formatting.footerfont.size/=e},a.prototype.initVerticalSpace=function(){this.spacing={composer:7.56,graceBefore:8.67,graceInside:10.67,graceAfter:16,info:0,lineSkipFactor:1.1,music:7.56,paragraphSkipFactor:.4,parts:11.33,slurHeight:1,staffSeparation:61.33,staffTopMargin:0,stemHeight:36.67,subtitle:3.78,systemStaffSeparation:48,text:18.9,title:7.56,top:30.24,vocal:0,words:0}},a.prototype.setVerticalSpace=function(e){void 0!==e.staffsep&&(this.spacing.staffSeparation=4*e.staffsep/3),void 0!==e.composerspace&&(this.spacing.composer=4*e.composerspace/3),void 0!==e.partsspace&&(this.spacing.parts=4*e.partsspace/3),void 0!==e.textspace&&(this.spacing.text=4*e.textspace/3),void 0!==e.musicspace&&(this.spacing.music=4*e.musicspace/3),void 0!==e.titlespace&&(this.spacing.title=4*e.titlespace/3),void 0!==e.sysstaffsep&&(this.spacing.systemStaffSeparation=4*e.sysstaffsep/3),void 0!==e.stafftopmargin&&(this.spacing.staffTopMargin=4*e.stafftopmargin/3),void 0!==e.subtitlespace&&(this.spacing.subtitle=4*e.subtitlespace/3),void 0!==e.topspace&&(this.spacing.top=4*e.topspace/3),void 0!==e.vocalspace&&(this.spacing.vocal=4*e.vocalspace/3),void 0!==e.wordsspace&&(this.spacing.words=4*e.wordsspace/3)},a.prototype.calcY=function(e){return this.y-e*r.STEP},a.prototype.moveY=function(e,t){void 0===t&&(t=1),this.y+=e*t},a.prototype.absolutemoveY=function(e){this.y=e},e.exports=a},86503:e=>{var t="http://www.w3.org/2000/svg";function n(e){this.svg=o(),this.currentGroup=[],e.appendChild(this.svg)}function r(e,t,n){var r=n-e;return"M "+e+" "+t+" l "+r+" 0 l 0 1  l "+-r+" 0  z "}function i(e,t,n){var r=n-t;return"M "+e+" "+t+" l 0 "+r+" l 1 0  l 0 "+-r+"  z "}n.prototype.clear=function(){if(this.svg){var e=this.svg.parentNode;this.svg=o(),this.currentGroup=[],e&&(e.innerHTML="",e.appendChild(this.svg))}},n.prototype.setTitle=function(e){var t=document.createElement("title"),n=document.createTextNode(e);t.appendChild(n),this.svg.insertBefore(t,this.svg.firstChild)},n.prototype.setResponsiveWidth=function(e,t){if(this.svg.setAttribute("viewBox","0 0 "+e+" "+t),this.svg.setAttribute("preserveAspectRatio","xMinYMin meet"),this.svg.removeAttribute("height"),this.svg.removeAttribute("width"),this.svg.style.display="inline-block",this.svg.style.position="absolute",this.svg.style.top="0",this.svg.style.left="0",this.svg.parentNode){var n=this.svg.parentNode.getAttribute("class");n?n.indexOf("abcjs-container")<0&&this.svg.parentNode.setAttribute("class",n+" abcjs-container"):this.svg.parentNode.setAttribute("class","abcjs-container"),this.svg.parentNode.style.display="inline-block",this.svg.parentNode.style.position="relative",this.svg.parentNode.style.width="100%";var r=t/e*100;this.svg.parentNode.style["padding-bottom"]=r+"%",this.svg.parentNode.style["vertical-align"]="middle",this.svg.parentNode.style.overflow="hidden"}},n.prototype.setSize=function(e,t){this.svg.setAttribute("width",e),this.svg.setAttribute("height",t)},n.prototype.setAttribute=function(e,t){this.svg.setAttribute(e,t)},n.prototype.setScale=function(e){1!==e?(this.svg.style.transform="scale("+e+","+e+")",this.svg.style["-ms-transform"]="scale("+e+","+e+")",this.svg.style["-webkit-transform"]="scale("+e+","+e+")",this.svg.style["transform-origin"]="0 0",this.svg.style["-ms-transform-origin-x"]="0",this.svg.style["-ms-transform-origin-y"]="0",this.svg.style["-webkit-transform-origin-x"]="0",this.svg.style["-webkit-transform-origin-y"]="0"):(this.svg.style.transform="",this.svg.style["-ms-transform"]="",this.svg.style["-webkit-transform"]="")},n.prototype.insertStyles=function(e){var n=document.createElementNS(t,"style");n.textContent=e,this.svg.insertBefore(n,this.svg.firstChild)},n.prototype.setParentStyles=function(e){for(var t in e)e.hasOwnProperty(t)&&this.svg.parentNode&&(this.svg.parentNode.style[t]=e[t]);this.dummySvg&&(document.querySelector("body").removeChild(this.dummySvg),this.dummySvg=null)},n.prototype.rect=function(e){var t=[],n=e.x,a=e.y,o=e.x+e.width,s=e.y+e.height;return t.push(r(n,a,o)),t.push(r(n,s,o)),t.push(i(o,a,s)),t.push(i(n,s,a)),this.path({path:t.join(" "),stroke:"none","data-name":e["data-name"]})},n.prototype.dottedLine=function(e){var n=document.createElementNS(t,"line");n.setAttribute("x1",e.x1),n.setAttribute("x2",e.x2),n.setAttribute("y1",e.y1),n.setAttribute("y2",e.y2),n.setAttribute("stroke",e.stroke),n.setAttribute("stroke-dasharray","5,5"),this.svg.insertBefore(n,this.svg.firstChild)},n.prototype.rectBeneath=function(e){var n=document.createElementNS(t,"rect");n.setAttribute("x",e.x),n.setAttribute("width",e.width),n.setAttribute("y",e.y),n.setAttribute("height",e.height),e.stroke&&n.setAttribute("stroke",e.stroke),e["stroke-opacity"]&&n.setAttribute("stroke-opacity",e["stroke-opacity"]),e.fill&&n.setAttribute("fill",e.fill),e["fill-opacity"]&&n.setAttribute("fill-opacity",e["fill-opacity"]),this.svg.insertBefore(n,this.svg.firstChild)},n.prototype.text=function(e,n,r){var i=document.createElementNS(t,"text");for(var a in i.setAttribute("stroke","none"),n)n.hasOwnProperty(a)&&i.setAttribute(a,n[a]);for(var o=(""+e).split("\n"),s=0;s<o.length;s++){var c=document.createElementNS(t,"tspan");if(c.setAttribute("x",n.x?n.x:0),0!==s&&c.setAttribute("dy","1.2em"),-1!==o[s].indexOf("")){var l=o[s].split("");if(c.textContent=l[0],l[1]){var u=document.createElementNS(t,"tspan");u.setAttribute("dy","-0.3em"),u.setAttribute("style","font-size:0.7em"),u.textContent=l[1],c.appendChild(u)}if(l[2]){var h=l[1]?"0.4em":"0.1em",d=document.createElementNS(t,"tspan");d.setAttribute("dy",h),d.setAttribute("style","font-size:0.7em"),d.textContent=l[2],c.appendChild(d)}}else c.textContent=o[s];i.appendChild(c)}return r?r.appendChild(i):this.append(i),i},n.prototype.richTextLine=function(e,n,r,i,a,o){var s=document.createElementNS(t,"text");s.setAttribute("stroke","none"),s.setAttribute("class",i),s.setAttribute("x",n),s.setAttribute("y",r),s.setAttribute("text-anchor",a),s.setAttribute("dominant-baseline","middle");for(var c=0;c<e.length;c++){for(var l=e[c],u=document.createElementNS(t,"tspan"),h=Object.keys(l.attrs),d=0;d<h.length;d++){var f=l.attrs[h[d]];""!==f&&u.setAttribute(h[d],f)}u.textContent=l.content,s.appendChild(u)}return o?o.appendChild(s):this.append(s),s},n.prototype.guessWidth=function(e,t){var n,r=this.createDummySvg(),i=this.text(e,t,r);try{n=i.getBBox(),n=isNaN(n.height)||!n.height?{width:t["font-size"]/2,height:t["font-size"]+2}:{width:n.width,height:n.height}}catch(e){n={width:t["font-size"]/2,height:t["font-size"]+2}}return r.removeChild(i),n},n.prototype.createDummySvg=function(){return this.dummySvg||(this.dummySvg=o(),this.dummySvg.setAttribute("style",["display: block !important;","height: 1px;","width: 1px;","position: absolute;"].join("")),document.querySelector("body").appendChild(this.dummySvg)),this.dummySvg};var a={};function o(){var e=document.createElementNS(t,"svg");return e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),e.setAttribute("role","img"),e.setAttribute("fill","currentColor"),e.setAttribute("stroke","currentColor"),e}n.prototype.getTextSize=function(e,t,n){if("number"==typeof e&&(e=""+e),!e||e.match(/^\s+$/))return{width:0,height:0};var r;if(e.length<20&&(r=e+JSON.stringify(t),a[r]))return a[r];var i,o=!n;n||(n=this.text(e,t));try{i=n.getBBox(),i=isNaN(i.height)||!i.height?this.guessWidth(e,t):{width:i.width,height:i.height}}catch(n){i=this.guessWidth(e,t)}return o&&(this.currentGroup.length>0?this.currentGroup[0].removeChild(n):this.svg.removeChild(n)),r&&(a[r]=i),i},n.prototype.openGroup=function(e){e=e||{};var n=document.createElementNS(t,"g");return e.klass&&n.setAttribute("class",e.klass),e.fill&&n.setAttribute("fill",e.fill),e.stroke&&n.setAttribute("stroke",e.stroke),e["data-name"]&&n.setAttribute("data-name",e["data-name"]),e.prepend?this.prepend(n):this.append(n),this.currentGroup.unshift(n),n},n.prototype.closeGroup=function(){var e=this.currentGroup.shift();return e&&0===e.children.length?(e.parentElement.removeChild(e),null):e},n.prototype.path=function(e){var n=document.createElementNS(t,"path");for(var r in e)e.hasOwnProperty(r)&&("path"===r?n.setAttributeNS(null,"d",e.path):"klass"===r?n.setAttributeNS(null,"class",e[r]):void 0!==e[r]&&n.setAttributeNS(null,r,e[r]));return this.append(n),n},n.prototype.pathToBack=function(e){var n=document.createElementNS(t,"path");for(var r in e)e.hasOwnProperty(r)&&("path"===r?n.setAttributeNS(null,"d",e.path):"klass"===r?n.setAttributeNS(null,"class",e[r]):n.setAttributeNS(null,r,e[r]));return this.prepend(n),n},n.prototype.lineToBack=function(e){for(var n=document.createElementNS(t,"line"),r=Object.keys(e),i=0;i<r.length;i++)n.setAttribute(r[i],e[r[i]]);return this.prepend(n),n},n.prototype.append=function(e){this.currentGroup.length>0?this.currentGroup[0].appendChild(e):this.svg.appendChild(e)},n.prototype.prepend=function(e){this.currentGroup.length>0?this.currentGroup[0].appendChild(e):this.svg.insertBefore(e,this.svg.firstChild)},n.prototype.setAttributeOnElement=function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttributeNS(null,n,t[n])},n.prototype.moveElementToChild=function(e,t){e.appendChild(t)},e.exports=n},46256:e=>{e.exports="6.4.4"},90053:(e,t,n)=>{"use strict";n.d(t,{E:()=>$e,X:()=>Fe,Y:()=>Ve,Z:()=>je,a1:()=>Xe,o:()=>on,y:()=>Ke});var r=n(69971),i=n(84187),a=n(90938),o=n(34629),s=n(49623);const c=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},l=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),u=new a.Vy("@firebase/auth");function h(e,...t){u.logLevel<=a.$b.ERROR&&u.error(`Auth (${r.SDK_VERSION}): ${e}`,...t)}function d(e,...t){throw g(e,...t)}function f(e,...t){return g(e,...t)}function p(e,t,n){const r=Object.assign(Object.assign({},c()),{[t]:n});return new i.FA("auth","Firebase",r).create(t,{appName:e.name})}function m(e){return p(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return l.create(e,...t)}function v(e,t,...n){if(!e)throw g(t,...n)}function b(e){const t="INTERNAL ASSERTION FAILED: "+e;throw h(t),new Error(t)}function _(e,t){e||b(t)}function y(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function w(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class S{constructor(e,t){this.shortDelay=e,this.longDelay=t,_(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===w()||"https:"===w()||(0,i.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function k(e,t){_(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class x{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const M={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},E=new S(3e4,6e4);function T(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function C(e,t,n,r,a={}){return A(e,a,(async()=>{let a={},o={};r&&("GET"===t?o=r:a={body:JSON.stringify(r)});const s=(0,i.Am)(Object.assign({key:e.config.apiKey},o)).slice(1),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),x.fetch()(P(e,e.config.apiHost,n,s),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},a))}))}async function A(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},M),t);try{const t=new R(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw B(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw B(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw B(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw B(e,"user-disabled",a);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw p(e,s,o);d(e,s)}}catch(t){if(t instanceof i.g)throw t;d(e,"network-request-failed",{message:String(t)})}}async function O(e,t,n,r,i={}){const a=await C(e,t,n,r,i);return"mfaPendingCredential"in a&&d(e,"multi-factor-auth-required",{_serverResponse:a}),a}function P(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?k(e.config,i):`${e.config.apiScheme}://${i}`}function I(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class R{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(f(this.auth,"network-request-failed"))),E.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function B(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=f(e,t,r);return i.customData._tokenResponse=n,i}function N(e){return void 0!==e&&void 0!==e.enterprise}class L{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return I(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function D(e,t){return C(e,"POST","/v1/accounts:lookup",t)}function j(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function z(e){return 1e3*Number(e)}function F(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return h("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,i.u)(n);return e?JSON.parse(e):(h("Failed to decode base64 JWT payload"),null)}catch(e){return h("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}function V(e){const t=F(e);return v(t,"internal-error"),v(void 0!==t.exp,"internal-error"),v(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function H(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof i.g&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class W{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class U{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=j(this.lastLoginAt),this.creationTime=j(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function G(e){var t;const n=e.auth,r=await e.getIdToken(),i=await H(e,D(n,{idToken:r}));v(null==i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const o=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?q(a.providerUserInfo):[],s=(c=e.providerData,l=o,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,h=!(e.email&&a.passwordHash||(null==s?void 0:s.length)),d=!!u&&h,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new U(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function q(e){return e.map((e=>{var{providerId:t}=e,n=(0,o.Tt)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Y{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){v(e.idToken,"internal-error"),v(void 0!==e.idToken,"internal-error"),v(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):V(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){v(0!==e.length,"internal-error");const t=V(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(v(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:a}=await async function(e,t){const n=await A(e,{},(async()=>{const n=(0,i.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:a}=e.config,o=P(e,r,"/v1/token",`key=${a}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",x.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new Y;return n&&(v("string"==typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(v("string"==typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(v("number"==typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Y,this.toJSON())}_performRefresh(){return b("not implemented")}}function X(e,t){v("string"==typeof e||void 0===e,"internal-error",{appName:t})}class K{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,o.Tt)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new U(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await H(this,this.stsTokenManager.getToken(this.auth,e));return v(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=(0,i.Ku)(e),r=await n.getIdToken(t),a=F(r);v(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o="object"==typeof a.firebase?a.firebase:void 0,s=null==o?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:j(z(a.auth_time)),issuedAtTime:j(z(a.iat)),expirationTime:j(z(a.exp)),signInProvider:s||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,i.Ku)(e);await G(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(v(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new K(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await G(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,r._isFirebaseServerApp)(this.auth.app))return Promise.reject(m(this.auth));const e=await this.getIdToken();return await H(this,async function(e,t){return C(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,o,s,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(a=t.photoURL)&&void 0!==a?a:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,b=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:_,emailVerified:y,isAnonymous:w,providerData:S,stsTokenManager:k}=t;v(_&&k,e,"internal-error");const x=Y.fromJSON(this.name,k);v("string"==typeof _,e,"internal-error"),X(u,e.name),X(h,e.name),v("boolean"==typeof y,e,"internal-error"),v("boolean"==typeof w,e,"internal-error"),X(d,e.name),X(f,e.name),X(p,e.name),X(m,e.name),X(g,e.name),X(b,e.name);const M=new K({uid:_,auth:e,email:h,emailVerified:y,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:x,createdAt:g,lastLoginAt:b});return S&&Array.isArray(S)&&(M.providerData=S.map((e=>Object.assign({},e)))),m&&(M._redirectEventId=m),M}static async _fromIdTokenResponse(e,t,n=!1){const r=new Y;r.updateFromServerResponse(t);const i=new K({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await G(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];v(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?q(r.providerUserInfo):[],a=!(r.email&&r.passwordHash||(null==i?void 0:i.length)),o=new Y;o.updateFromIdToken(n);const s=new K({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new U(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||(null==i?void 0:i.length))};return Object.assign(s,c),s}}const $=new Map;function Z(e){_(e instanceof Function,"Expected a class definition");let t=$.get(e);return t?(_(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,$.set(e,t),t)}class J{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}J.type="NONE";const Q=J;function ee(e,t,n){return`firebase:${e}:${t}:${n}`}class te{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ee(this.userKey,r.apiKey,i),this.fullPersistenceKey=ee("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?K._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new te(Z(Q),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Z(Q);const a=ee(n,e.config.apiKey,e.name);let o=null;for(const n of t)try{const t=await n._get(a);if(t){const r=K._fromJSON(e,t);n!==i&&(o=r),i=n;break}}catch(e){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(a)}catch(e){}}))),new te(i,e,n)):new te(i,e,n)}}function ne(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(oe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(re(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ce(t))return"Blackberry";if(le(t))return"Webos";if(ie(t))return"Safari";if((t.includes("chrome/")||ae(t))&&!t.includes("edge/"))return"Chrome";if(se(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function re(e=(0,i.ZQ)()){return/firefox\//i.test(e)}function ie(e=(0,i.ZQ)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ae(e=(0,i.ZQ)()){return/crios\//i.test(e)}function oe(e=(0,i.ZQ)()){return/iemobile/i.test(e)}function se(e=(0,i.ZQ)()){return/android/i.test(e)}function ce(e=(0,i.ZQ)()){return/blackberry/i.test(e)}function le(e=(0,i.ZQ)()){return/webos/i.test(e)}function ue(e=(0,i.ZQ)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function he(e=(0,i.ZQ)()){return ue(e)||se(e)||le(e)||ce(e)||/windows phone/i.test(e)||oe(e)}function de(e,t=[]){let n;switch(e){case"Browser":n=ne((0,i.ZQ)());break;case"Worker":n=`${ne((0,i.ZQ)())}-${e}`;break;default:n=e}const a=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${r.SDK_VERSION}/${a}`}class fe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(e){r(e)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}class pe{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,o;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class me{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ve(this),this.idTokenSubscription=new ve(this),this.beforeStateQueue=new fe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Z(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await te.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await D(this,{idToken:e}),n=await K._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,r._isFirebaseServerApp)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,r=null==i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==r||!(null==o?void 0:o.user)||(i=o.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(e){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(e)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return v(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await G(e)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,r._isFirebaseServerApp)(this.app))return Promise.reject(m(this));const t=e?(0,i.Ku)(e):null;return t&&v(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&v(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(0,r._isFirebaseServerApp)(this.app)?Promise.reject(m(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,r._isFirebaseServerApp)(this.app)?Promise.reject(m(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Z(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return C(e,"GET","/v2/passwordPolicy",T(e,t))}(this),t=new pe(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new i.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return C(e,"POST","/v2/accounts:revokeToken",T(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Z(e)||this._popupRedirectResolver;v(t,this,"argument-error"),this.redirectPersistenceManager=await te.create(this,[Z(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(v(o,this,"internal-error"),o.then((()=>{a||i(this.currentUser)})),"function"==typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=de(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){u.logLevel<=a.$b.WARN&&u.warn(`Auth (${r.SDK_VERSION}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function ge(e){return(0,i.Ku)(e)}class ve{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.tD)((e=>this.observer=e))}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let be={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _e(e){return be.loadJS(e)}function ye(e){return`__${e}${Math.floor(1e6*Math.random())}`}class we{constructor(e){this.type="recaptcha-enterprise",this.auth=ge(e)}async verify(e="verify",t=!1){function n(t,n,r){const i=window.grecaptcha;N(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{(async function(e,t){return C(e,"GET","/v2/recaptchaConfig",T(e,t))})(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new L(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&N(window.grecaptcha))n(i,e,r);else{if("undefined"==typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=be.recaptchaEnterpriseScript;0!==t.length&&(t+=i),_e(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Se(e,t,n,r=!1){const i=new we(e);let a;try{a=await i.verify(n)}catch(e){a=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ke(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Se(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Se(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function xe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Me(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ee{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return b("not implemented")}_getIdTokenResponse(e){return b("not implemented")}_linkToIdToken(e,t){return b("not implemented")}_getReauthenticationResolver(e){return b("not implemented")}}async function Te(e,t){return C(e,"POST","/v1/accounts:signUp",t)}async function Ce(e,t){return O(e,"POST","/v1/accounts:signInWithPassword",T(e,t))}class Ae extends Ee{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ae(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Ae(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ke(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ce);case"emailLink":return async function(e,t){return O(e,"POST","/v1/accounts:signInWithEmailLink",T(e,t))}(e,{email:this._email,oobCode:this._password});default:d(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ke(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Te);case"emailLink":return async function(e,t){return O(e,"POST","/v1/accounts:signInWithEmailLink",T(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:d(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Oe(e,t){return O(e,"POST","/v1/accounts:signInWithIdp",T(e,t))}class Pe extends Ee{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Pe(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):d("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,o.Tt)(t,["providerId","signInMethod"]);if(!n||!r)return null;const a=new Pe(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Oe(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Oe(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Oe(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.Am)(t)}return e}}const Ie={USER_NOT_FOUND:"user-not-found"};class Re extends Ee{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Re({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Re({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return O(e,"POST","/v1/accounts:signInWithPhoneNumber",T(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await O(e,"POST","/v1/accounts:signInWithPhoneNumber",T(e,t));if(n.temporaryProof)throw B(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return O(e,"POST","/v1/accounts:signInWithPhoneNumber",T(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ie)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Re({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Be{constructor(e){var t,n,r,a,o,s;const c=(0,i.I9)((0,i.hp)(e)),l=null!==(t=c.apiKey)&&void 0!==t?t:null,u=null!==(n=c.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=c.mode)&&void 0!==r?r:null);v(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=null!==(a=c.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=c.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=(0,i.I9)((0,i.hp)(e)).link,n=t?(0,i.I9)((0,i.hp)(t)).deep_link_id:null,r=(0,i.I9)((0,i.hp)(e)).deep_link_id;return(r?(0,i.I9)((0,i.hp)(r)).link:null)||r||n||t||e}(e);try{return new Be(t)}catch(e){return null}}}class Ne{constructor(){this.providerId=Ne.PROVIDER_ID}static credential(e,t){return Ae._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Be.parseLink(t);return v(n,"argument-error"),Ae._fromEmailAndCode(e,n.code,n.tenantId)}}Ne.PROVIDER_ID="password",Ne.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ne.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Le{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class De extends Le{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class je extends De{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return v("providerId"in t&&"signInMethod"in t,"argument-error"),Pe._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return v(e.idToken||e.accessToken,"argument-error"),Pe._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return je.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return je.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:a,providerId:o}=e;if(!(n||r||t||i))return null;if(!o)return null;try{return new je(o)._credential({idToken:t,accessToken:n,nonce:a,pendingToken:i})}catch(e){return null}}}class ze extends De{constructor(){super("facebook.com")}static credential(e){return Pe._fromParams({providerId:ze.PROVIDER_ID,signInMethod:ze.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ze.credentialFromTaggedObject(e)}static credentialFromError(e){return ze.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return ze.credential(e.oauthAccessToken)}catch(e){return null}}}ze.FACEBOOK_SIGN_IN_METHOD="facebook.com",ze.PROVIDER_ID="facebook.com";class Fe extends De{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Pe._fromParams({providerId:Fe.PROVIDER_ID,signInMethod:Fe.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fe.credentialFromTaggedObject(e)}static credentialFromError(e){return Fe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Fe.credential(t,n)}catch(e){return null}}}Fe.GOOGLE_SIGN_IN_METHOD="google.com",Fe.PROVIDER_ID="google.com";class Ve extends De{constructor(){super("github.com")}static credential(e){return Pe._fromParams({providerId:Ve.PROVIDER_ID,signInMethod:Ve.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ve.credentialFromTaggedObject(e)}static credentialFromError(e){return Ve.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Ve.credential(e.oauthAccessToken)}catch(e){return null}}}Ve.GITHUB_SIGN_IN_METHOD="github.com",Ve.PROVIDER_ID="github.com";class He extends De{constructor(){super("twitter.com")}static credential(e,t){return Pe._fromParams({providerId:He.PROVIDER_ID,signInMethod:He.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return He.credentialFromTaggedObject(e)}static credentialFromError(e){return He.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return He.credential(t,n)}catch(e){return null}}}He.TWITTER_SIGN_IN_METHOD="twitter.com",He.PROVIDER_ID="twitter.com";class We{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await K._fromIdTokenResponse(e,n,r),a=Ue(n);return new We({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ue(n);return new We({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ue(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ge extends i.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ge.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ge(e,t,n,r)}}function qe(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Ge._fromErrorAndOperation(e,n,t,r);throw n}))}async function Ye(e,t,n=!1){if((0,r._isFirebaseServerApp)(e.app))return Promise.reject(m(e));const i="signIn",a=await qe(e,i,t),o=await We._fromIdTokenResponse(e,i,a);return n||await e._updateCurrentUser(o.user),o}async function Xe(e,t){return Ye(ge(e),t)}function Ke(e,t,n,r){return(0,i.Ku)(e).onAuthStateChanged(t,n,r)}async function $e(e){return(0,i.Ku)(e).delete()}new WeakMap;const Ze="__sak";class Je{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ze,"1"),this.storage.removeItem(Ze),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Qe extends Je{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,i.ZQ)();return ie(e)||ue(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=he(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},a=this.storage.getItem(n);(0,i.lT)()&&10===document.documentMode&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Qe.type="LOCAL";const et=Qe;class tt extends Je{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}tt.type="SESSION";const nt=tt;class rt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new rt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null==a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(a).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function it(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}rt.receivers=[];class at{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise(((o,s)=>{const c=it("",20);r.port1.start();const l=setTimeout((()=>{s(new Error("unsupported_event"))}),n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{a&&this.removeMessageHandler(a)}))}}function ot(){return window}function st(){return void 0!==ot().WorkerGlobalScope&&"function"==typeof ot().importScripts}const ct="firebaseLocalStorageDb",lt="firebaseLocalStorage",ut="fbase_key";class ht{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function dt(e,t){return e.transaction([lt],t?"readwrite":"readonly").objectStore(lt)}function ft(){const e=indexedDB.open(ct,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(lt,{keyPath:ut})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(lt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ct);return new ht(e).toPromise()}(),t(await ft()))}))}))}async function pt(e,t,n){const r=dt(e,!0).put({[ut]:t,value:n});return new ht(r).toPromise()}function mt(e,t){const n=dt(e,!0).delete(t);return new ht(n).toPromise()}class gt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await ft()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return st()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rt._getInstance(st()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new at(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ft();return await pt(e,Ze,"1"),await mt(e,Ze),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>pt(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=dt(e,!1).get(t),r=await new ht(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>mt(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=dt(e,!1).getAll();return new ht(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}gt.type="LOCAL";const vt=gt;ye("rcb"),new S(3e4,6e4);class bt{constructor(e){this.providerId=bt.PROVIDER_ID,this.auth=ge(e)}verifyPhoneNumber(e,t){return async function(e,t,n){var r;const i=await n.verify();try{let a;if(v("string"==typeof i,e,"argument-error"),v("recaptcha"===n.type,e,"argument-error"),a="string"==typeof t?{phoneNumber:t}:t,"session"in a){const t=a.session;if("phoneNumber"in a){v("enroll"===t.type,e,"internal-error");const n=await function(e,t){return C(e,"POST","/v2/accounts/mfaEnrollment:start",T(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{v("signin"===t.type,e,"internal-error");const n=(null===(r=a.multiFactorHint)||void 0===r?void 0:r.uid)||a.multiFactorUid;v(n,e,"missing-multi-factor-info");const o=await function(e,t){return C(e,"POST","/v2/accounts/mfaSignIn:start",T(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return C(e,"POST","/v1/accounts:sendVerificationCode",T(e,t))}(e,{phoneNumber:a.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}(this.auth,e,(0,i.Ku)(t))}static credential(e,t){return Re._fromVerification(e,t)}static credentialFromResult(e){const t=e;return bt.credentialFromTaggedObject(t)}static credentialFromError(e){return bt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Re._fromTokenResponse(t,n):null}}bt.PROVIDER_ID="phone",bt.PHONE_SIGN_IN_METHOD="phone";class _t extends Ee{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oe(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Oe(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Oe(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yt(e){return Ye(e.auth,new _t(e),e.bypassAuthState)}function wt(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),async function(e,t,n=!1){const{auth:i}=e;if((0,r._isFirebaseServerApp)(i.app))return Promise.reject(m(i));const a="reauthenticate";try{const r=await H(e,qe(i,a,t,e),n);v(r.idToken,i,"internal-error");const o=F(r.idToken);v(o,i,"internal-error");const{sub:s}=o;return v(e.uid===s,i,"user-mismatch"),We._forOperation(e,a,r)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&d(i,"user-mismatch"),e}}(n,new _t(e),e.bypassAuthState)}async function St(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),async function(e,t,n=!1){const r=await H(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return We._forOperation(e,"link",r)}(n,new _t(e),e.bypassAuthState)}class kt{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a)return void this.reject(a);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yt;case"linkViaPopup":case"linkViaRedirect":return St;case"reauthViaPopup":case"reauthViaRedirect":return wt;default:d(this.auth,"internal-error")}}resolve(e){_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xt=new S(2e3,1e4);class Mt extends kt{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Mt.currentPopupAction&&Mt.currentPopupAction.cancel(),Mt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return v(e,this.auth,"internal-error"),e}async onExecution(){_(1===this.filter.length,"Popup operations only handle one event");const e=it();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(f(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(f(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mt.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(f(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,xt.get())};e()}}Mt.currentPopupAction=null;const Et="pendingRedirect",Tt=new Map;class Ct extends kt{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Tt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return ee(Et,e.config.apiKey,e.name)}(t),r=function(e){return Z(e._redirectPersistence)}(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Tt.set(this.auth._key(),e)}return this.bypassAuthState||Tt.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function At(e,t){Tt.set(e._key(),t)}async function Ot(e,t,n=!1){if((0,r._isFirebaseServerApp)(e.app))return Promise.reject(m(e));const i=ge(e),a=function(e,t){return t?Z(t):(v(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(i,t),o=new Ct(i,a,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,t)),s}class Pt{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rt(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Rt(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(f(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(It(e))}saveEventToCache(e){this.cachedEventUids.add(It(e)),this.lastProcessedEventTime=Date.now()}}function It(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Rt({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const Bt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nt=/^https?/;function Lt(e){const t=y(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Nt.test(n))return!1;if(Bt.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Dt=new S(3e4,6e4);function jt(){const e=ot().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}function zt(e){return new Promise(((t,n)=>{var r,i,a;function o(){jt(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{jt(),n(f(e,"network-request-failed"))},timeout:Dt.get()})}if(null===(i=null===(r=ot().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ot().gapi)||void 0===a?void 0:a.load)){const t=ye("iframefcb");return ot()[t]=()=>{gapi.load?o():n(f(e,"network-request-failed"))},_e(`${be.gapiScript}?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw Ft=null,e}))}let Ft=null;const Vt=new S(5e3,15e3),Ht="__/auth/iframe",Wt="emulator/auth/iframe",Ut={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gt=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qt(e){const t=e.config;v(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?k(t,Wt):`https://${e.config.authDomain}/${Ht}`,a={apiKey:t.apiKey,appName:e.name,v:r.SDK_VERSION},o=Gt.get(e.config.apiHost);o&&(a.eid=o);const s=e._getFrameworks();return s.length&&(a.fw=s.join(",")),`${n}?${(0,i.Am)(a).slice(1)}`}const Yt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Xt{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const Kt=encodeURIComponent("fac");async function $t(e,t,n,a,o,s){v(e.config.authDomain,e,"auth-domain-config-required"),v(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:a,v:r.SDK_VERSION,eventId:o};if(t instanceof Le){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",(0,i.Im)(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))c[e]=t}if(t instanceof De){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(c.scopes=e.join(","))}e.tenantId&&(c.tid=e.tenantId);const l=c;for(const e of Object.keys(l))void 0===l[e]&&delete l[e];const u=await e._getAppCheckToken(),h=u?`#${Kt}=${encodeURIComponent(u)}`:"";return`${function({config:e}){return e.emulator?k(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,i.Am)(l).slice(1)}${h}`}const Zt="webStorageSupport",Jt=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nt,this._completeRedirectFn=Ot,this._overrideRedirectResult=At}async _openPopup(e,t,n,r){var a;return _(null===(a=this.eventManagers[e._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,a=600){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const l=Object.assign(Object.assign({},Yt),{width:r.toString(),height:a.toString(),top:o,left:s}),u=(0,i.ZQ)().toLowerCase();n&&(c=ae(u)?"_blank":n),re(u)&&(t=t||"http://localhost",l.scrollbars="yes");const h=Object.entries(l).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=(0,i.ZQ)()){var t;return ue(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",c),new Xt(null);const d=window.open(t||"",c,h);v(d,e,"popup-blocked");try{d.focus()}catch(e){}return new Xt(d)}(e,await $t(e,t,n,y(),r),it())}async _openRedirect(e,t,n,r){return await this._originValidation(e),i=await $t(e,t,n,y(),r),ot().location.href=i,new Promise((()=>{}));var i}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(_(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await function(e){return Ft=Ft||zt(e),Ft}(e),n=ot().gapi;return v(n,e,"internal-error"),t.open({where:document.body,url:qt(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ut,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=f(e,"network-request-failed"),a=ot().setTimeout((()=>{r(i)}),Vt.get());function o(){ot().clearTimeout(a),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}(e),n=new Pt(e);return t.register("authEvent",(t=>(v(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zt,{type:Zt},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[Zt];void 0!==i&&t(!!i),d(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return C(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(Lt(e))return}catch(e){}d(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return he()||ie()||ue()}};var Qt="@firebase/auth",en="1.7.4";class tn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const nn=(0,i.XA)("authIdTokenMaxAge")||300;let rn=null;const an=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nn)return;const i=null==n?void 0:n.token;rn!==i&&(rn=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function on(e=(0,r.getApp)()){const t=(0,r._getProvider)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,r._getProvider)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,i.bD)(r,null!=t?t:{}))return e;d(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Jt,persistence:[vt,et,nt]}),a=(0,i.XA)("authTokenSyncURL");if(a&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(a,location.origin);if(location.origin===e.origin){const t=an(e.toString());!function(e,t,n){(0,i.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,n,r,a){(0,i.Ku)(e).onIdTokenChanged((e=>t(e)),void 0,void 0)}(n)}}const o=(0,i.Tj)("auth");return o&&function(e,t,n){const r=ge(e);v(r._canInitEmulator,r,"emulator-config-failed"),v(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),a=xe(t),{host:o,port:s}=function(e){const t=xe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Me(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Me(t)}}}(t),c=null===s?"":`:${s}`;r.config.emulator={url:`${a}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${o}`),n}var sn;be={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");var i,a;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=f("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(a=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==a?a:document).appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},sn="Browser",(0,r._registerComponent)(new s.uA("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;v(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const s={apiKey:a,authDomain:o,clientPlatform:sn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:de(sn)},c=new me(n,r,i,s);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Z);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(c,t),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),(0,r._registerComponent)(new s.uA("auth-internal",(e=>{return t=ge(e.getProvider("auth").getImmediate()),new tn(t);var t}),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.registerVersion)(Qt,en,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(sn)),(0,r.registerVersion)(Qt,en,"esm2017")},22151:(e,t,n)=>{"use strict";n.d(t,{Dt:()=>r.Y,HF:()=>r.X,LD:()=>r.Z,eN:()=>r.a1,hG:()=>r.E,hg:()=>r.y,xI:()=>r.o});var r=n(90053);n(69971),n(84187),n(90938),n(49623)},37531:(e,t,n)=>{"use strict";n.d(t,{p8:()=>r,tb:()=>i});var r=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array;Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},50416:(e,t,n)=>{"use strict";n.d(t,{aI:()=>l,hs:()=>o,kN:()=>s,lw:()=>a,v3:()=>c,vt:()=>i});var r=n(37531);function i(){var e=new r.tb(16);return r.tb!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function a(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],l=t[6],u=t[7],h=t[8],d=t[9],f=t[10],p=t[11],m=t[12],g=t[13],v=t[14],b=t[15],_=n[0],y=n[1],w=n[2],S=n[3];return e[0]=_*r+y*s+w*h+S*m,e[1]=_*i+y*c+w*d+S*g,e[2]=_*a+y*l+w*f+S*v,e[3]=_*o+y*u+w*p+S*b,_=n[4],y=n[5],w=n[6],S=n[7],e[4]=_*r+y*s+w*h+S*m,e[5]=_*i+y*c+w*d+S*g,e[6]=_*a+y*l+w*f+S*v,e[7]=_*o+y*u+w*p+S*b,_=n[8],y=n[9],w=n[10],S=n[11],e[8]=_*r+y*s+w*h+S*m,e[9]=_*i+y*c+w*d+S*g,e[10]=_*a+y*l+w*f+S*v,e[11]=_*o+y*u+w*p+S*b,_=n[12],y=n[13],w=n[14],S=n[15],e[12]=_*r+y*s+w*h+S*m,e[13]=_*i+y*c+w*d+S*g,e[14]=_*a+y*l+w*f+S*v,e[15]=_*o+y*u+w*p+S*b,e}function o(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function s(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}var c=function(e,t,n,r,i,a,o){var s=1/(t-n),c=1/(r-i),l=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*c,e[14]=(o+a)*l,e[15]=1,e};function l(e,t){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],c=e[5],l=e[6],u=e[7],h=e[8],d=e[9],f=e[10],p=e[11],m=e[12],g=e[13],v=e[14],b=e[15],_=t[0],y=t[1],w=t[2],S=t[3],k=t[4],x=t[5],M=t[6],E=t[7],T=t[8],C=t[9],A=t[10],O=t[11],P=t[12],I=t[13],R=t[14],B=t[15];return Math.abs(n-_)<=r.p8*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(i-y)<=r.p8*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(a-w)<=r.p8*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(o-S)<=r.p8*Math.max(1,Math.abs(o),Math.abs(S))&&Math.abs(s-k)<=r.p8*Math.max(1,Math.abs(s),Math.abs(k))&&Math.abs(c-x)<=r.p8*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(l-M)<=r.p8*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(u-E)<=r.p8*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(h-T)<=r.p8*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(d-C)<=r.p8*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(f-A)<=r.p8*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(p-O)<=r.p8*Math.max(1,Math.abs(p),Math.abs(O))&&Math.abs(m-P)<=r.p8*Math.max(1,Math.abs(m),Math.abs(P))&&Math.abs(g-I)<=r.p8*Math.max(1,Math.abs(g),Math.abs(I))&&Math.abs(v-R)<=r.p8*Math.max(1,Math.abs(v),Math.abs(R))&&Math.abs(b-B)<=r.p8*Math.max(1,Math.abs(b),Math.abs(B))}},70429:(e,t,n)=>{"use strict";n.d(t,{fA:()=>a});var r,i=n(37531);function a(e,t,n){var r=new i.tb(3);return r[0]=e,r[1]=t,r[2]=n,r}r=new i.tb(3),i.tb!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0)},51080:(e,t,n)=>{"use strict";n.d(t,{Cc:()=>o,aI:()=>c,fA:()=>a,v_:()=>s,vt:()=>i});var r=n(37531);function i(){var e=new r.tb(4);return r.tb!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function a(e,t,n,i){var a=new r.tb(4);return a[0]=e,a[1]=t,a[2]=n,a[3]=i,a}function o(e,t,n,r){var i=t[0],a=t[1],o=t[2],s=t[3];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e[2]=o+r*(n[2]-o),e[3]=s+r*(n[3]-s),e}function s(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function c(e,t){var n=e[0],i=e[1],a=e[2],o=e[3],s=t[0],c=t[1],l=t[2],u=t[3];return Math.abs(n-s)<=r.p8*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-c)<=r.p8*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(a-l)<=r.p8*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(o-u)<=r.p8*Math.max(1,Math.abs(o),Math.abs(u))}i()},96701:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},29525:e=>{e.exports=function(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}},10149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},82863:(e,t,n)=>{var r=n(14772),i=n(39316),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];a.call(e,t)&&i(o,n)&&(void 0!==n||t in e)||r(e,t,n)}},26793:(e,t,n)=>{var r=n(72305);e.exports=function(e,t,n,i){return r(e,(function(e,r,a){t(i,e,n(e),a)})),i}},61145:(e,t,n)=>{var r=n(42083),i=n(31178);e.exports=function(e,t){return e&&r(t,i(t),e)}},14306:(e,t,n)=>{var r=n(42083),i=n(15405);e.exports=function(e,t){return e&&r(t,i(t),e)}},14772:(e,t,n)=>{var r=n(18559);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},2931:(e,t,n)=>{var r=n(86469),i=n(10149),a=n(82863),o=n(61145),s=n(14306),c=n(87030),l=n(68835),u=n(90859),h=n(96728),d=n(90966),f=n(29697),p=n(31201),m=n(96785),g=n(43283),v=n(19181),b=n(6397),_=n(30492),y=n(50422),w=n(58953),S=n(53764),k=n(31178),x=n(15405),M="[object Arguments]",E="[object Function]",T="[object Object]",C={};C[M]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[T]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[E]=C["[object WeakMap]"]=!1,e.exports=function e(t,n,A,O,P,I){var R,B=1&n,N=2&n,L=4&n;if(A&&(R=P?A(t,O,P,I):A(t)),void 0!==R)return R;if(!w(t))return t;var D=b(t);if(D){if(R=m(t),!B)return l(t,R)}else{var j=p(t),z=j==E||"[object GeneratorFunction]"==j;if(_(t))return c(t,B);if(j==T||j==M||z&&!P){if(R=N||z?{}:v(t),!B)return N?h(t,s(R,t)):u(t,o(R,t))}else{if(!C[j])return P?t:{};R=g(t,j,B)}}I||(I=new r);var F=I.get(t);if(F)return F;I.set(t,R),S(t)?t.forEach((function(r){R.add(e(r,n,A,r,t,I))})):y(t)&&t.forEach((function(r,i){R.set(i,e(r,n,A,i,t,I))}));var V=D?void 0:(L?N?f:d:N?x:k)(t);return i(V||t,(function(r,i){V&&(r=t[i=r]),a(R,i,e(r,n,A,i,t,I))})),R}},23508:(e,t,n)=>{var r=n(58953),i=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},92732:(e,t,n)=>{var r=n(61527),i=n(12769),a=n(60021),o=n(44272),s=n(30041),c=n(79151);e.exports=function(e,t,n,l){var u=-1,h=i,d=!0,f=e.length,p=[],m=t.length;if(!f)return p;n&&(t=o(t,s(n))),l?(h=a,d=!1):t.length>=200&&(h=c,d=!1,t=new r(t));e:for(;++u<f;){var g=e[u],v=null==n?g:n(g);if(g=l||0!==g?g:0,d&&v==v){for(var b=m;b--;)if(t[b]===v)continue e;p.push(g)}else h(t,v,l)||p.push(g)}return p}},72305:(e,t,n)=>{var r=n(61701),i=n(42965)(r);e.exports=i},61044:(e,t,n)=>{var r=n(78740),i=n(18031);e.exports=function e(t,n,a,o,s){var c=-1,l=t.length;for(a||(a=i),s||(s=[]);++c<l;){var u=t[c];n>0&&a(u)?n>1?e(u,n-1,a,o,s):r(s,u):o||(s[s.length]=u)}return s}},61469:(e,t,n)=>{var r=n(15409)();e.exports=r},61701:(e,t,n)=>{var r=n(61469),i=n(31178);e.exports=function(e,t){return e&&r(e,t,i)}},4800:(e,t,n)=>{var r=n(31201),i=n(22934);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},7866:(e,t,n)=>{var r=n(31201),i=n(22934);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},41491:(e,t,n)=>{var r=n(58953),i=n(67499),a=n(68201),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&n.push(s);return n}},23892:(e,t,n)=>{var r=n(72305),i=n(18330);e.exports=function(e,t){var n=-1,a=i(e)?Array(e.length):[];return r(e,(function(e,r,i){a[++n]=t(e,r,i)})),a}},54183:(e,t,n)=>{var r=n(44272),i=n(17722),a=n(31454),o=n(23892),s=n(75069),c=n(30041),l=n(51366),u=n(74796),h=n(6397);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return h(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[u];var d=-1;t=r(t,c(a));var f=o(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++d,value:e}}));return s(f,(function(e,t){return l(e,t,n)}))}},71506:(e,t,n)=>{var r=n(74796),i=n(25265),a=n(26805);e.exports=function(e,t){return a(i(e,t,r),e+"")}},7310:(e,t,n)=>{var r=n(53122),i=n(18559),a=n(74796),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=o},49772:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}},75069:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},35263:(e,t,n)=>{var r=n(87181),i=n(75342),a=n(48549),o=n(86729);e.exports=function(e,t){return t=r(t,e),null==(e=a(e,t))||delete e[o(i(t))]}},57177:(e,t,n)=>{var r=n(28944);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},87030:(e,t,n)=>{e=n.nmd(e);var r=n(41433),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},24893:(e,t,n)=>{var r=n(57177);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},94021:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},61548:(e,t,n)=>{var r=n(32781),i=r?r.prototype:void 0,a=i?i.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},76733:(e,t,n)=>{var r=n(57177);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},37414:(e,t,n)=>{var r=n(75414);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,a=e==e,o=r(e),s=void 0!==t,c=null===t,l=t==t,u=r(t);if(!c&&!u&&!o&&e>t||o&&s&&l&&!c&&!u||i&&s&&l||!n&&l||!a)return 1;if(!i&&!o&&!u&&e<t||u&&n&&a&&!i&&!o||c&&n&&a||!s&&a||!l)return-1}return 0}},51366:(e,t,n)=>{var r=n(37414);e.exports=function(e,t,n){for(var i=-1,a=e.criteria,o=t.criteria,s=a.length,c=n.length;++i<s;){var l=r(a[i],o[i]);if(l)return i>=c?l:l*("desc"==n[i]?-1:1)}return e.index-t.index}},68835:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},42083:(e,t,n)=>{var r=n(82863),i=n(14772);e.exports=function(e,t,n,a){var o=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var l=t[s],u=a?a(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),o?i(n,l,u):r(n,l,u)}return n}},90859:(e,t,n)=>{var r=n(42083),i=n(88876);e.exports=function(e,t){return r(e,i(e),t)}},96728:(e,t,n)=>{var r=n(42083),i=n(58355);e.exports=function(e,t){return r(e,i(e),t)}},58332:(e,t,n)=>{var r=n(29525),i=n(26793),a=n(31454),o=n(6397);e.exports=function(e,t){return function(n,s){var c=o(n)?r:i,l=t?t():{};return c(n,e,a(s,2),l)}}},42965:(e,t,n)=>{var r=n(18330);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var a=n.length,o=t?a:-1,s=Object(n);(t?o--:++o<a)&&!1!==i(s[o],o,s););return n}}},15409:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var c=o[e?s:++i];if(!1===n(a[c],c,a))break}return t}}},77222:(e,t,n)=>{var r=n(54679);e.exports=function(e){return r(e)?void 0:e}},18559:(e,t,n)=>{var r=n(99138),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},59820:(e,t,n)=>{var r=n(73406),i=n(25265),a=n(26805);e.exports=function(e){return a(i(e,void 0,r),e+"")}},29697:(e,t,n)=>{var r=n(74403),i=n(58355),a=n(15405);e.exports=function(e){return r(e,a,i)}},13347:(e,t,n)=>{var r=n(51019)(Object.getPrototypeOf,Object);e.exports=r},58355:(e,t,n)=>{var r=n(78740),i=n(13347),a=n(88876),o=n(53629),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,a(e)),e=i(e);return t}:o;e.exports=s},96785:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},43283:(e,t,n)=>{var r=n(57177),i=n(24893),a=n(94021),o=n(61548),s=n(76733);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return a(e);case"[object Symbol]":return o(e)}}},19181:(e,t,n)=>{var r=n(23508),i=n(13347),a=n(67499);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:r(i(e))}},18031:(e,t,n)=>{var r=n(32781),i=n(21256),a=n(6397),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||i(e)||!!(o&&e&&e[o])}},68201:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},25265:(e,t,n)=>{var r=n(96701),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=i(a.length-t,0),c=Array(s);++o<s;)c[o]=a[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=a[o];return l[t]=n(c),r(e,this,l)}}},48549:(e,t,n)=>{var r=n(17722),i=n(49772);e.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}},26805:(e,t,n)=>{var r=n(7310),i=n(23983)(r);e.exports=i},23983:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),a=16-(i-r);if(r=i,a>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},53122:e=>{e.exports=function(e){return function(){return e}}},15841:(e,t,n)=>{var r=n(92732),i=n(61044),a=n(71506),o=n(75569),s=a((function(e,t){return o(e)?r(e,i(t,1,o,!0)):[]}));e.exports=s},73406:(e,t,n)=>{var r=n(61044);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},38750:(e,t,n)=>{var r=n(14772),i=n(58332),a=Object.prototype.hasOwnProperty,o=i((function(e,t,n){a.call(e,n)?e[n].push(t):r(e,n,[t])}));e.exports=o},75569:(e,t,n)=>{var r=n(18330),i=n(22934);e.exports=function(e){return i(e)&&r(e)}},18264:(e,t,n)=>{var r=n(22122);e.exports=function(e,t){return r(e,t)}},50422:(e,t,n)=>{var r=n(4800),i=n(30041),a=n(23685),o=a&&a.isMap,s=o?i(o):r;e.exports=s},54679:(e,t,n)=>{var r=n(87148),i=n(13347),a=n(22934),o=Function.prototype,s=Object.prototype,c=o.toString,l=s.hasOwnProperty,u=c.call(Object);e.exports=function(e){if(!a(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==u}},53764:(e,t,n)=>{var r=n(7866),i=n(30041),a=n(23685),o=a&&a.isSet,s=o?i(o):r;e.exports=s},15405:(e,t,n)=>{var r=n(31163),i=n(41491),a=n(18330);e.exports=function(e){return a(e)?r(e,!0):i(e)}},75342:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},17243:function(e,t,n){var r;e=n.nmd(e),function(){var i,a="Expected a function",o="__lodash_hash_undefined__",s="__lodash_placeholder__",c=32,l=128,u=1/0,h=9007199254740991,d=NaN,f=4294967295,p=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],m="[object Arguments]",g="[object Array]",v="[object Boolean]",b="[object Date]",_="[object Error]",y="[object Function]",w="[object GeneratorFunction]",S="[object Map]",k="[object Number]",x="[object Object]",M="[object Promise]",E="[object RegExp]",T="[object Set]",C="[object String]",A="[object Symbol]",O="[object WeakMap]",P="[object ArrayBuffer]",I="[object DataView]",R="[object Float32Array]",B="[object Float64Array]",N="[object Int8Array]",L="[object Int16Array]",D="[object Int32Array]",j="[object Uint8Array]",z="[object Uint8ClampedArray]",F="[object Uint16Array]",V="[object Uint32Array]",H=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,U=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,Y=RegExp(G.source),X=RegExp(q.source),K=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,ie=/\s/,ae=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,oe=/\{\n\/\* \[wrapped with (.+)\] \*/,se=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,le=/[()=,{}\[\]\/\s]/,ue=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,fe=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,ve=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,ye=/['\n\r\u2028\u2029\\]/g,we="\\ud800-\\udfff",Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",xe="a-z\\xdf-\\xf6\\xf8-\\xff",Me="A-Z\\xc0-\\xd6\\xd8-\\xde",Ee="\\ufe0e\\ufe0f",Te="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ce="["+we+"]",Ae="["+Te+"]",Oe="["+Se+"]",Pe="\\d+",Ie="["+ke+"]",Re="["+xe+"]",Be="[^"+we+Te+Pe+ke+xe+Me+"]",Ne="\\ud83c[\\udffb-\\udfff]",Le="[^"+we+"]",De="(?:\\ud83c[\\udde6-\\uddff]){2}",je="[\\ud800-\\udbff][\\udc00-\\udfff]",ze="["+Me+"]",Fe="\\u200d",Ve="(?:"+Re+"|"+Be+")",He="(?:"+ze+"|"+Be+")",We="(?:['](?:d|ll|m|re|s|t|ve))?",Ue="(?:['](?:D|LL|M|RE|S|T|VE))?",Ge="(?:"+Oe+"|"+Ne+")?",qe="["+Ee+"]?",Ye=qe+Ge+"(?:"+Fe+"(?:"+[Le,De,je].join("|")+")"+qe+Ge+")*",Xe="(?:"+[Ie,De,je].join("|")+")"+Ye,Ke="(?:"+[Le+Oe+"?",Oe,De,je,Ce].join("|")+")",$e=RegExp("[']","g"),Ze=RegExp(Oe,"g"),Je=RegExp(Ne+"(?="+Ne+")|"+Ke+Ye,"g"),Qe=RegExp([ze+"?"+Re+"+"+We+"(?="+[Ae,ze,"$"].join("|")+")",He+"+"+Ue+"(?="+[Ae,ze+Ve,"$"].join("|")+")",ze+"?"+Ve+"+"+We,ze+"+"+Ue,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pe,Xe].join("|"),"g"),et=RegExp("["+Fe+we+Se+Ee+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,it={};it[R]=it[B]=it[N]=it[L]=it[D]=it[j]=it[z]=it[F]=it[V]=!0,it[m]=it[g]=it[P]=it[v]=it[I]=it[b]=it[_]=it[y]=it[S]=it[k]=it[x]=it[E]=it[T]=it[C]=it[O]=!1;var at={};at[m]=at[g]=at[P]=at[I]=at[v]=at[b]=at[R]=at[B]=at[N]=at[L]=at[D]=at[S]=at[k]=at[x]=at[E]=at[T]=at[C]=at[A]=at[j]=at[z]=at[F]=at[V]=!0,at[_]=at[y]=at[O]=!1;var ot={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},st=parseFloat,ct=parseInt,lt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ut="object"==typeof self&&self&&self.Object===Object&&self,ht=lt||ut||Function("return this")(),dt=t&&!t.nodeType&&t,ft=dt&&e&&!e.nodeType&&e,pt=ft&&ft.exports===dt,mt=pt&&lt.process,gt=function(){try{return ft&&ft.require&&ft.require("util").types||mt&&mt.binding&&mt.binding("util")}catch(e){}}(),vt=gt&&gt.isArrayBuffer,bt=gt&&gt.isDate,_t=gt&&gt.isMap,yt=gt&&gt.isRegExp,wt=gt&&gt.isSet,St=gt&&gt.isTypedArray;function kt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function xt(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function Mt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Et(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ct(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function At(e,t){return!(null==e||!e.length)&&zt(e,t,0)>-1}function Ot(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Pt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function It(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Rt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Bt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Lt=Wt("length");function Dt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function jt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function zt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):jt(e,Vt,n)}function Ft(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function Vt(e){return e!=e}function Ht(e,t){var n=null==e?0:e.length;return n?qt(e,t)/n:d}function Wt(e){return function(t){return null==t?i:t[e]}}function Ut(e){return function(t){return null==e?i:e[t]}}function Gt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function qt(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function Yt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,dn(e)+1).replace(re,""):e}function Kt(e){return function(t){return e(t)}}function $t(e,t){return Pt(t,(function(t){return e[t]}))}function Zt(e,t){return e.has(t)}function Jt(e,t){for(var n=-1,r=e.length;++n<r&&zt(t,e[n],0)>-1;);return n}function Qt(e,t){for(var n=e.length;n--&&zt(t,e[n],0)>-1;);return n}var en=Ut({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),tn=Ut({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(e){return"\\"+ot[e]}function rn(e){return et.test(e)}function an(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function on(e,t){return function(n){return e(t(n))}}function sn(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&o!==s||(e[n]=s,a[i++]=n)}return a}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function un(e){return rn(e)?function(e){for(var t=Je.lastIndex=0;Je.test(e);)++t;return t}(e):Lt(e)}function hn(e){return rn(e)?function(e){return e.match(Je)||[]}(e):function(e){return e.split("")}(e)}function dn(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var fn=Ut({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),pn=function e(t){var n,r=(t=null==t?ht:pn.defaults(ht.Object(),t,pn.pick(ht,nt))).Array,ie=t.Date,we=t.Error,Se=t.Function,ke=t.Math,xe=t.Object,Me=t.RegExp,Ee=t.String,Te=t.TypeError,Ce=r.prototype,Ae=Se.prototype,Oe=xe.prototype,Pe=t["__core-js_shared__"],Ie=Ae.toString,Re=Oe.hasOwnProperty,Be=0,Ne=(n=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Le=Oe.toString,De=Ie.call(xe),je=ht._,ze=Me("^"+Ie.call(Re).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fe=pt?t.Buffer:i,Ve=t.Symbol,He=t.Uint8Array,We=Fe?Fe.allocUnsafe:i,Ue=on(xe.getPrototypeOf,xe),Ge=xe.create,qe=Oe.propertyIsEnumerable,Ye=Ce.splice,Xe=Ve?Ve.isConcatSpreadable:i,Ke=Ve?Ve.iterator:i,Je=Ve?Ve.toStringTag:i,et=function(){try{var e=ca(xe,"defineProperty");return e({},"",{}),e}catch(e){}}(),ot=t.clearTimeout!==ht.clearTimeout&&t.clearTimeout,lt=ie&&ie.now!==ht.Date.now&&ie.now,ut=t.setTimeout!==ht.setTimeout&&t.setTimeout,dt=ke.ceil,ft=ke.floor,mt=xe.getOwnPropertySymbols,gt=Fe?Fe.isBuffer:i,Lt=t.isFinite,Ut=Ce.join,mn=on(xe.keys,xe),gn=ke.max,vn=ke.min,bn=ie.now,_n=t.parseInt,yn=ke.random,wn=Ce.reverse,Sn=ca(t,"DataView"),kn=ca(t,"Map"),xn=ca(t,"Promise"),Mn=ca(t,"Set"),En=ca(t,"WeakMap"),Tn=ca(xe,"create"),Cn=En&&new En,An={},On=La(Sn),Pn=La(kn),In=La(xn),Rn=La(Mn),Bn=La(En),Nn=Ve?Ve.prototype:i,Ln=Nn?Nn.valueOf:i,Dn=Nn?Nn.toString:i;function jn(e){if(es(e)&&!Wo(e)&&!(e instanceof Hn)){if(e instanceof Vn)return e;if(Re.call(e,"__wrapped__"))return Da(e)}return new Vn(e)}var zn=function(){function e(){}return function(t){if(!Qo(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Fn(){}function Vn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Hn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Un(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function Yn(e){var t=this.__data__=new Un(e);this.size=t.size}function Xn(e,t){var n=Wo(e),r=!n&&Ho(e),i=!n&&!r&&Yo(e),a=!n&&!r&&!i&&cs(e),o=n||r||i||a,s=o?Yt(e.length,Ee):[],c=s.length;for(var l in e)!t&&!Re.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ma(l,c))||s.push(l);return s}function Kn(e){var t=e.length;return t?e[Gr(0,t-1)]:i}function $n(e,t){return Pa(Ei(e),ar(t,0,e.length))}function Zn(e){return Pa(Ei(e))}function Jn(e,t,n){(n!==i&&!zo(e[t],n)||n===i&&!(t in e))&&rr(e,t,n)}function Qn(e,t,n){var r=e[t];Re.call(e,t)&&zo(r,n)&&(n!==i||t in e)||rr(e,t,n)}function er(e,t){for(var n=e.length;n--;)if(zo(e[n][0],t))return n;return-1}function tr(e,t,n,r){return ur(e,(function(e,i,a){t(r,e,n(e),a)})),r}function nr(e,t){return e&&Ti(t,Os(t),e)}function rr(e,t,n){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ir(e,t){for(var n=-1,a=t.length,o=r(a),s=null==e;++n<a;)o[n]=s?i:Ms(e,t[n]);return o}function ar(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function or(e,t,n,r,a,o){var s,c=1&t,l=2&t,u=4&t;if(n&&(s=a?n(e,r,a,o):n(e)),s!==i)return s;if(!Qo(e))return e;var h=Wo(e);if(h){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Re.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return Ei(e,s)}else{var d=ha(e),f=d==y||d==w;if(Yo(e))return yi(e,c);if(d==x||d==m||f&&!a){if(s=l||f?{}:fa(e),!c)return l?function(e,t){return Ti(e,ua(e),t)}(e,function(e,t){return e&&Ti(t,Ps(t),e)}(s,e)):function(e,t){return Ti(e,la(e),t)}(e,nr(s,e))}else{if(!at[d])return a?e:{};s=function(e,t,n){var r,i=e.constructor;switch(t){case P:return wi(e);case v:case b:return new i(+e);case I:return function(e,t){var n=t?wi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case R:case B:case N:case L:case D:case j:case z:case F:case V:return Si(e,n);case S:return new i;case k:case C:return new i(e);case E:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case T:return new i;case A:return r=e,Ln?xe(Ln.call(r)):{}}}(e,d,c)}}o||(o=new Yn);var p=o.get(e);if(p)return p;o.set(e,s),as(e)?e.forEach((function(r){s.add(or(r,t,n,r,e,o))})):ts(e)&&e.forEach((function(r,i){s.set(i,or(r,t,n,i,e,o))}));var g=h?i:(u?l?ta:ea:l?Ps:Os)(e);return Mt(g||e,(function(r,i){g&&(r=e[i=r]),Qn(s,i,or(r,t,n,i,e,o))})),s}function sr(e,t,n){var r=n.length;if(null==e)return!r;for(e=xe(e);r--;){var a=n[r],o=t[a],s=e[a];if(s===i&&!(a in e)||!o(s))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new Te(a);return Ta((function(){e.apply(i,n)}),t)}function lr(e,t,n,r){var i=-1,a=At,o=!0,s=e.length,c=[],l=t.length;if(!s)return c;n&&(t=Pt(t,Kt(n))),r?(a=Ot,o=!1):t.length>=200&&(a=Zt,o=!1,t=new qn(t));e:for(;++i<s;){var u=e[i],h=null==n?u:n(u);if(u=r||0!==u?u:0,o&&h==h){for(var d=l;d--;)if(t[d]===h)continue e;c.push(u)}else a(t,h,r)||c.push(u)}return c}jn.templateSettings={escape:K,evaluate:$,interpolate:Z,variable:"",imports:{_:jn}},jn.prototype=Fn.prototype,jn.prototype.constructor=jn,Vn.prototype=zn(Fn.prototype),Vn.prototype.constructor=Vn,Hn.prototype=zn(Fn.prototype),Hn.prototype.constructor=Hn,Wn.prototype.clear=function(){this.__data__=Tn?Tn(null):{},this.size=0},Wn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wn.prototype.get=function(e){var t=this.__data__;if(Tn){var n=t[e];return n===o?i:n}return Re.call(t,e)?t[e]:i},Wn.prototype.has=function(e){var t=this.__data__;return Tn?t[e]!==i:Re.call(t,e)},Wn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Tn&&t===i?o:t,this},Un.prototype.clear=function(){this.__data__=[],this.size=0},Un.prototype.delete=function(e){var t=this.__data__,n=er(t,e);return!(n<0||(n==t.length-1?t.pop():Ye.call(t,n,1),--this.size,0))},Un.prototype.get=function(e){var t=this.__data__,n=er(t,e);return n<0?i:t[n][1]},Un.prototype.has=function(e){return er(this.__data__,e)>-1},Un.prototype.set=function(e,t){var n=this.__data__,r=er(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(kn||Un),string:new Wn}},Gn.prototype.delete=function(e){var t=oa(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return oa(this,e).get(e)},Gn.prototype.has=function(e){return oa(this,e).has(e)},Gn.prototype.set=function(e,t){var n=oa(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},qn.prototype.add=qn.prototype.push=function(e){return this.__data__.set(e,o),this},qn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.clear=function(){this.__data__=new Un,this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yn.prototype.get=function(e){return this.__data__.get(e)},Yn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Un){var r=n.__data__;if(!kn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(e,t),this.size=n.size,this};var ur=Oi(br),hr=Oi(_r,!0);function dr(e,t){var n=!0;return ur(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function fr(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],s=t(o);if(null!=s&&(c===i?s==s&&!ss(s):n(s,c)))var c=s,l=o}return l}function pr(e,t){var n=[];return ur(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function mr(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=pa),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?mr(s,t-1,n,r,i):It(i,s):r||(i[i.length]=s)}return i}var gr=Pi(),vr=Pi(!0);function br(e,t){return e&&gr(e,t,Os)}function _r(e,t){return e&&vr(e,t,Os)}function yr(e,t){return Ct(t,(function(t){return $o(e[t])}))}function wr(e,t){for(var n=0,r=(t=gi(t,e)).length;null!=e&&n<r;)e=e[Na(t[n++])];return n&&n==r?e:i}function Sr(e,t,n){var r=t(e);return Wo(e)?r:It(r,n(e))}function kr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Je&&Je in xe(e)?function(e){var t=Re.call(e,Je),n=e[Je];try{e[Je]=i;var r=!0}catch(e){}var a=Le.call(e);return r&&(t?e[Je]=n:delete e[Je]),a}(e):function(e){return Le.call(e)}(e)}function xr(e,t){return e>t}function Mr(e,t){return null!=e&&Re.call(e,t)}function Er(e,t){return null!=e&&t in xe(e)}function Tr(e,t,n){for(var a=n?Ot:At,o=e[0].length,s=e.length,c=s,l=r(s),u=1/0,h=[];c--;){var d=e[c];c&&t&&(d=Pt(d,Kt(t))),u=vn(d.length,u),l[c]=!n&&(t||o>=120&&d.length>=120)?new qn(c&&d):i}d=e[0];var f=-1,p=l[0];e:for(;++f<o&&h.length<u;){var m=d[f],g=t?t(m):m;if(m=n||0!==m?m:0,!(p?Zt(p,g):a(h,g,n))){for(c=s;--c;){var v=l[c];if(!(v?Zt(v,g):a(e[c],g,n)))continue e}p&&p.push(g),h.push(m)}}return h}function Cr(e,t,n){var r=null==(e=xa(e,t=gi(t,e)))?e:e[Na(Xa(t))];return null==r?i:kt(r,e,n)}function Ar(e){return es(e)&&kr(e)==m}function Or(e,t,n,r,a){return e===t||(null==e||null==t||!es(e)&&!es(t)?e!=e&&t!=t:function(e,t,n,r,a,o){var s=Wo(e),c=Wo(t),l=s?g:ha(e),u=c?g:ha(t),h=(l=l==m?x:l)==x,d=(u=u==m?x:u)==x,f=l==u;if(f&&Yo(e)){if(!Yo(t))return!1;s=!0,h=!1}if(f&&!h)return o||(o=new Yn),s||cs(e)?Ji(e,t,n,r,a,o):function(e,t,n,r,i,a,o){switch(n){case I:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case P:return!(e.byteLength!=t.byteLength||!a(new He(e),new He(t)));case v:case b:case k:return zo(+e,+t);case _:return e.name==t.name&&e.message==t.message;case E:case C:return e==t+"";case S:var s=an;case T:var c=1&r;if(s||(s=cn),e.size!=t.size&&!c)return!1;var l=o.get(e);if(l)return l==t;r|=2,o.set(e,t);var u=Ji(s(e),s(t),r,i,a,o);return o.delete(e),u;case A:if(Ln)return Ln.call(e)==Ln.call(t)}return!1}(e,t,l,n,r,a,o);if(!(1&n)){var p=h&&Re.call(e,"__wrapped__"),y=d&&Re.call(t,"__wrapped__");if(p||y){var w=p?e.value():e,M=y?t.value():t;return o||(o=new Yn),a(w,M,n,r,o)}}return!!f&&(o||(o=new Yn),function(e,t,n,r,a,o){var s=1&n,c=ea(e),l=c.length;if(l!=ea(t).length&&!s)return!1;for(var u=l;u--;){var h=c[u];if(!(s?h in t:Re.call(t,h)))return!1}var d=o.get(e),f=o.get(t);if(d&&f)return d==t&&f==e;var p=!0;o.set(e,t),o.set(t,e);for(var m=s;++u<l;){var g=e[h=c[u]],v=t[h];if(r)var b=s?r(v,g,h,t,e,o):r(g,v,h,e,t,o);if(!(b===i?g===v||a(g,v,n,r,o):b)){p=!1;break}m||(m="constructor"==h)}if(p&&!m){var _=e.constructor,y=t.constructor;_==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof y&&y instanceof y||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,a,o))}(e,t,n,r,Or,a))}function Pr(e,t,n,r){var a=n.length,o=a,s=!r;if(null==e)return!o;for(e=xe(e);a--;){var c=n[a];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<o;){var l=(c=n[a])[0],u=e[l],h=c[1];if(s&&c[2]){if(u===i&&!(l in e))return!1}else{var d=new Yn;if(r)var f=r(u,h,l,e,t,d);if(!(f===i?Or(h,u,3,r,d):f))return!1}}return!0}function Ir(e){return!(!Qo(e)||(t=e,Ne&&Ne in t))&&($o(e)?ze:me).test(La(e));var t}function Rr(e){return"function"==typeof e?e:null==e?nc:"object"==typeof e?Wo(e)?jr(e[0],e[1]):Dr(e):hc(e)}function Br(e){if(!ya(e))return mn(e);var t=[];for(var n in xe(e))Re.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Nr(e,t){return e<t}function Lr(e,t){var n=-1,i=Go(e)?r(e.length):[];return ur(e,(function(e,r,a){i[++n]=t(e,r,a)})),i}function Dr(e){var t=sa(e);return 1==t.length&&t[0][2]?Sa(t[0][0],t[0][1]):function(n){return n===e||Pr(n,e,t)}}function jr(e,t){return va(e)&&wa(t)?Sa(Na(e),t):function(n){var r=Ms(n,e);return r===i&&r===t?Es(n,e):Or(t,r,3)}}function zr(e,t,n,r,a){e!==t&&gr(t,(function(o,s){if(a||(a=new Yn),Qo(o))!function(e,t,n,r,a,o,s){var c=Ma(e,n),l=Ma(t,n),u=s.get(l);if(u)Jn(e,n,u);else{var h=o?o(c,l,n+"",e,t,s):i,d=h===i;if(d){var f=Wo(l),p=!f&&Yo(l),m=!f&&!p&&cs(l);h=l,f||p||m?Wo(c)?h=c:qo(c)?h=Ei(c):p?(d=!1,h=yi(l,!0)):m?(d=!1,h=Si(l,!0)):h=[]:rs(l)||Ho(l)?(h=c,Ho(c)?h=gs(c):Qo(c)&&!$o(c)||(h=fa(l))):d=!1}d&&(s.set(l,h),a(h,l,r,o,s),s.delete(l)),Jn(e,n,h)}}(e,t,s,n,zr,r,a);else{var c=r?r(Ma(e,s),o,s+"",e,t,a):i;c===i&&(c=o),Jn(e,s,c)}}),Ps)}function Fr(e,t){var n=e.length;if(n)return ma(t+=t<0?n:0,n)?e[t]:i}function Vr(e,t,n){t=t.length?Pt(t,(function(e){return Wo(e)?function(t){return wr(t,1===e.length?e[0]:e)}:e})):[nc];var r=-1;t=Pt(t,Kt(aa()));var i=Lr(e,(function(e,n,i){var a=Pt(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return function(e,t){var r=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var c=ki(i[r],a[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));r--;)e[r]=e[r].value;return e}(i)}function Hr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=wr(e,o);n(s,o)&&$r(a,gi(o,e),s)}return a}function Wr(e,t,n,r){var i=r?Ft:zt,a=-1,o=t.length,s=e;for(e===t&&(t=Ei(t)),n&&(s=Pt(e,Kt(n)));++a<o;)for(var c=0,l=t[a],u=n?n(l):l;(c=i(s,u,c,r))>-1;)s!==e&&Ye.call(s,c,1),Ye.call(e,c,1);return e}function Ur(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ma(i)?Ye.call(e,i,1):ci(e,i)}}return e}function Gr(e,t){return e+ft(yn()*(t-e+1))}function qr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=ft(t/2))&&(e+=e)}while(t);return n}function Yr(e,t){return Ca(ka(e,t,nc),e+"")}function Xr(e){return Kn(zs(e))}function Kr(e,t){var n=zs(e);return Pa(n,ar(t,0,n.length))}function $r(e,t,n,r){if(!Qo(e))return e;for(var a=-1,o=(t=gi(t,e)).length,s=o-1,c=e;null!=c&&++a<o;){var l=Na(t[a]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(a!=s){var h=c[l];(u=r?r(h,l,c):i)===i&&(u=Qo(h)?h:ma(t[a+1])?[]:{})}Qn(c,l,u),c=c[l]}return e}var Zr=Cn?function(e,t){return Cn.set(e,t),e}:nc,Jr=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Qs(t),writable:!0})}:nc;function Qr(e){return Pa(zs(e))}function ei(e,t,n){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=r(a);++i<a;)o[i]=e[i+t];return o}function ti(e,t){var n;return ur(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ni(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!ss(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return ri(e,t,nc,n)}function ri(e,t,n,r){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!=t,c=null===t,l=ss(t),u=t===i;a<o;){var h=ft((a+o)/2),d=n(e[h]),f=d!==i,p=null===d,m=d==d,g=ss(d);if(s)var v=r||m;else v=u?m&&(r||f):c?m&&f&&(r||!p):l?m&&f&&!p&&(r||!g):!p&&!g&&(r?d<=t:d<t);v?a=h+1:o=h}return vn(o,4294967294)}function ii(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!zo(s,c)){var c=s;a[i++]=0===o?0:o}}return a}function ai(e){return"number"==typeof e?e:ss(e)?d:+e}function oi(e){if("string"==typeof e)return e;if(Wo(e))return Pt(e,oi)+"";if(ss(e))return Dn?Dn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function si(e,t,n){var r=-1,i=At,a=e.length,o=!0,s=[],c=s;if(n)o=!1,i=Ot;else if(a>=200){var l=t?null:qi(e);if(l)return cn(l);o=!1,i=Zt,c=new qn}else c=t?[]:s;e:for(;++r<a;){var u=e[r],h=t?t(u):u;if(u=n||0!==u?u:0,o&&h==h){for(var d=c.length;d--;)if(c[d]===h)continue e;t&&c.push(h),s.push(u)}else i(c,h,n)||(c!==s&&c.push(h),s.push(u))}return s}function ci(e,t){return null==(e=xa(e,t=gi(t,e)))||delete e[Na(Xa(t))]}function li(e,t,n,r){return $r(e,t,n(wr(e,t)),r)}function ui(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ei(e,r?0:a,r?a+1:i):ei(e,r?a+1:0,r?i:a)}function hi(e,t){var n=e;return n instanceof Hn&&(n=n.value()),Rt(t,(function(e,t){return t.func.apply(t.thisArg,It([e],t.args))}),n)}function di(e,t,n){var i=e.length;if(i<2)return i?si(e[0]):[];for(var a=-1,o=r(i);++a<i;)for(var s=e[a],c=-1;++c<i;)c!=a&&(o[a]=lr(o[a]||s,e[c],t,n));return si(mr(o,1),t,n)}function fi(e,t,n){for(var r=-1,a=e.length,o=t.length,s={};++r<a;){var c=r<o?t[r]:i;n(s,e[r],c)}return s}function pi(e){return qo(e)?e:[]}function mi(e){return"function"==typeof e?e:nc}function gi(e,t){return Wo(e)?e:va(e,t)?[e]:Ba(vs(e))}var vi=Yr;function bi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ei(e,t,n)}var _i=ot||function(e){return ht.clearTimeout(e)};function yi(e,t){if(t)return e.slice();var n=e.length,r=We?We(n):new e.constructor(n);return e.copy(r),r}function wi(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function Si(e,t){var n=t?wi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ki(e,t){if(e!==t){var n=e!==i,r=null===e,a=e==e,o=ss(e),s=t!==i,c=null===t,l=t==t,u=ss(t);if(!c&&!u&&!o&&e>t||o&&s&&l&&!c&&!u||r&&s&&l||!n&&l||!a)return 1;if(!r&&!o&&!u&&e<t||u&&n&&a&&!r&&!o||c&&n&&a||!s&&a||!l)return-1}return 0}function xi(e,t,n,i){for(var a=-1,o=e.length,s=n.length,c=-1,l=t.length,u=gn(o-s,0),h=r(l+u),d=!i;++c<l;)h[c]=t[c];for(;++a<s;)(d||a<o)&&(h[n[a]]=e[a]);for(;u--;)h[c++]=e[a++];return h}function Mi(e,t,n,i){for(var a=-1,o=e.length,s=-1,c=n.length,l=-1,u=t.length,h=gn(o-c,0),d=r(h+u),f=!i;++a<h;)d[a]=e[a];for(var p=a;++l<u;)d[p+l]=t[l];for(;++s<c;)(f||a<o)&&(d[p+n[s]]=e[a++]);return d}function Ei(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Ti(e,t,n,r){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var c=t[o],l=r?r(n[c],e[c],c,n,e):i;l===i&&(l=e[c]),a?rr(n,c,l):Qn(n,c,l)}return n}function Ci(e,t){return function(n,r){var i=Wo(n)?xt:tr,a=t?t():{};return i(n,e,aa(r,2),a)}}function Ai(e){return Yr((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,s=a>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,s&&ga(n[0],n[1],s)&&(o=a<3?i:o,a=1),t=xe(t);++r<a;){var c=n[r];c&&e(t,c,r,o)}return t}))}function Oi(e,t){return function(n,r){if(null==n)return n;if(!Go(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=xe(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Pi(e){return function(t,n,r){for(var i=-1,a=xe(t),o=r(t),s=o.length;s--;){var c=o[e?s:++i];if(!1===n(a[c],c,a))break}return t}}function Ii(e){return function(t){var n=rn(t=vs(t))?hn(t):i,r=n?n[0]:t.charAt(0),a=n?bi(n,1).join(""):t.slice(1);return r[e]()+a}}function Ri(e){return function(t){return Rt($s(Hs(t).replace($e,"")),e,"")}}function Bi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=zn(e.prototype),r=e.apply(n,t);return Qo(r)?r:n}}function Ni(e){return function(t,n,r){var a=xe(t);if(!Go(t)){var o=aa(n,3);t=Os(t),n=function(e){return o(a[e],e,a)}}var s=e(t,n,r);return s>-1?a[o?t[s]:s]:i}}function Li(e){return Qi((function(t){var n=t.length,r=n,o=Vn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Te(a);if(o&&!c&&"wrapper"==ra(s))var c=new Vn([],!0)}for(r=c?r:n;++r<n;){var l=ra(s=t[r]),u="wrapper"==l?na(s):i;c=u&&ba(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?c[ra(u[0])].apply(c,u[3]):1==s.length&&ba(s)?c[l]():c.thru(s)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Wo(r))return c.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}}))}function Di(e,t,n,a,o,s,c,u,h,d){var f=t&l,p=1&t,m=2&t,g=24&t,v=512&t,b=m?i:Bi(e);return function l(){for(var _=arguments.length,y=r(_),w=_;w--;)y[w]=arguments[w];if(g)var S=ia(l),k=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(y,S);if(a&&(y=xi(y,a,o,g)),s&&(y=Mi(y,s,c,g)),_-=k,g&&_<d){var x=sn(y,S);return Ui(e,t,Di,l.placeholder,n,y,x,u,h,d-_)}var M=p?n:this,E=m?M[e]:e;return _=y.length,u?y=function(e,t){for(var n=e.length,r=vn(t.length,n),a=Ei(e);r--;){var o=t[r];e[r]=ma(o,n)?a[o]:i}return e}(y,u):v&&_>1&&y.reverse(),f&&h<_&&(y.length=h),this&&this!==ht&&this instanceof l&&(E=b||Bi(E)),E.apply(M,y)}}function ji(e,t){return function(n,r){return function(e,t,n,r){return br(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function zi(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=oi(n),r=oi(r)):(n=ai(n),r=ai(r)),a=e(n,r)}return a}}function Fi(e){return Qi((function(t){return t=Pt(t,Kt(aa())),Yr((function(n){var r=this;return e(t,(function(e){return kt(e,r,n)}))}))}))}function Vi(e,t){var n=(t=t===i?" ":oi(t)).length;if(n<2)return n?qr(t,e):t;var r=qr(t,dt(e/un(t)));return rn(t)?bi(hn(r),0,e).join(""):r.slice(0,e)}function Hi(e){return function(t,n,a){return a&&"number"!=typeof a&&ga(t,n,a)&&(n=a=i),t=ds(t),n===i?(n=t,t=0):n=ds(n),function(e,t,n,i){for(var a=-1,o=gn(dt((t-e)/(n||1)),0),s=r(o);o--;)s[i?o:++a]=e,e+=n;return s}(t,n,a=a===i?t<n?1:-1:ds(a),e)}}function Wi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ms(t),n=ms(n)),e(t,n)}}function Ui(e,t,n,r,a,o,s,l,u,h){var d=8&t;t|=d?c:64,4&(t&=~(d?64:c))||(t&=-4);var f=[e,t,a,d?o:i,d?s:i,d?i:o,d?i:s,l,u,h],p=n.apply(i,f);return ba(e)&&Ea(p,f),p.placeholder=r,Aa(p,e,t)}function Gi(e){var t=ke[e];return function(e,n){if(e=ms(e),(n=null==n?0:vn(fs(n),292))&&Lt(e)){var r=(vs(e)+"e").split("e");return+((r=(vs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var qi=Mn&&1/cn(new Mn([,-0]))[1]==u?function(e){return new Mn(e)}:sc;function Yi(e){return function(t){var n=ha(t);return n==S?an(t):n==T?ln(t):function(e,t){return Pt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Xi(e,t,n,o,u,h,d,f){var p=2&t;if(!p&&"function"!=typeof e)throw new Te(a);var m=o?o.length:0;if(m||(t&=-97,o=u=i),d=d===i?d:gn(fs(d),0),f=f===i?f:fs(f),m-=u?u.length:0,64&t){var g=o,v=u;o=u=i}var b=p?i:na(e),_=[e,t,n,o,u,g,v,h,d,f];if(b&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,o=r==l&&8==n||r==l&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?xi(u,c,t[4]):c,e[4]=u?sn(e[3],s):t[4]}(c=t[5])&&(u=e[5],e[5]=u?Mi(u,c,t[6]):c,e[6]=u?sn(e[5],s):t[6]),(c=t[7])&&(e[7]=c),r&l&&(e[8]=null==e[8]?t[8]:vn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(_,b),e=_[0],t=_[1],n=_[2],o=_[3],u=_[4],!(f=_[9]=_[9]===i?p?0:e.length:gn(_[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)y=8==t||16==t?function(e,t,n){var a=Bi(e);return function o(){for(var s=arguments.length,c=r(s),l=s,u=ia(o);l--;)c[l]=arguments[l];var h=s<3&&c[0]!==u&&c[s-1]!==u?[]:sn(c,u);return(s-=h.length)<n?Ui(e,t,Di,o.placeholder,i,c,h,i,i,n-s):kt(this&&this!==ht&&this instanceof o?a:e,this,c)}}(e,t,f):t!=c&&33!=t||u.length?Di.apply(i,_):function(e,t,n,i){var a=1&t,o=Bi(e);return function t(){for(var s=-1,c=arguments.length,l=-1,u=i.length,h=r(u+c),d=this&&this!==ht&&this instanceof t?o:e;++l<u;)h[l]=i[l];for(;c--;)h[l++]=arguments[++s];return kt(d,a?n:this,h)}}(e,t,n,o);else var y=function(e,t,n){var r=1&t,i=Bi(e);return function t(){return(this&&this!==ht&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Aa((b?Zr:Ea)(y,_),e,t)}function Ki(e,t,n,r){return e===i||zo(e,Oe[n])&&!Re.call(r,n)?t:e}function $i(e,t,n,r,a,o){return Qo(e)&&Qo(t)&&(o.set(t,e),zr(e,t,i,$i,o),o.delete(t)),e}function Zi(e){return rs(e)?i:e}function Ji(e,t,n,r,a,o){var s=1&n,c=e.length,l=t.length;if(c!=l&&!(s&&l>c))return!1;var u=o.get(e),h=o.get(t);if(u&&h)return u==t&&h==e;var d=-1,f=!0,p=2&n?new qn:i;for(o.set(e,t),o.set(t,e);++d<c;){var m=e[d],g=t[d];if(r)var v=s?r(g,m,d,t,e,o):r(m,g,d,e,t,o);if(v!==i){if(v)continue;f=!1;break}if(p){if(!Nt(t,(function(e,t){if(!Zt(p,t)&&(m===e||a(m,e,n,r,o)))return p.push(t)}))){f=!1;break}}else if(m!==g&&!a(m,g,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function Qi(e){return Ca(ka(e,i,Wa),e+"")}function ea(e){return Sr(e,Os,la)}function ta(e){return Sr(e,Ps,ua)}var na=Cn?function(e){return Cn.get(e)}:sc;function ra(e){for(var t=e.name+"",n=An[t],r=Re.call(An,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function ia(e){return(Re.call(jn,"placeholder")?jn:e).placeholder}function aa(){var e=jn.iteratee||rc;return e=e===rc?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function oa(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function sa(e){for(var t=Os(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,wa(i)]}return t}function ca(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Ir(n)?n:i}var la=mt?function(e){return null==e?[]:(e=xe(e),Ct(mt(e),(function(t){return qe.call(e,t)})))}:pc,ua=mt?function(e){for(var t=[];e;)It(t,la(e)),e=Ue(e);return t}:pc,ha=kr;function da(e,t,n){for(var r=-1,i=(t=gi(t,e)).length,a=!1;++r<i;){var o=Na(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Jo(i)&&ma(o,i)&&(Wo(e)||Ho(e))}function fa(e){return"function"!=typeof e.constructor||ya(e)?{}:zn(Ue(e))}function pa(e){return Wo(e)||Ho(e)||!!(Xe&&e&&e[Xe])}function ma(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&ve.test(e))&&e>-1&&e%1==0&&e<t}function ga(e,t,n){if(!Qo(n))return!1;var r=typeof t;return!!("number"==r?Go(n)&&ma(t,n.length):"string"==r&&t in n)&&zo(n[t],e)}function va(e,t){if(Wo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ss(e))||Q.test(e)||!J.test(e)||null!=t&&e in xe(t)}function ba(e){var t=ra(e),n=jn[t];if("function"!=typeof n||!(t in Hn.prototype))return!1;if(e===n)return!0;var r=na(n);return!!r&&e===r[0]}(Sn&&ha(new Sn(new ArrayBuffer(1)))!=I||kn&&ha(new kn)!=S||xn&&ha(xn.resolve())!=M||Mn&&ha(new Mn)!=T||En&&ha(new En)!=O)&&(ha=function(e){var t=kr(e),n=t==x?e.constructor:i,r=n?La(n):"";if(r)switch(r){case On:return I;case Pn:return S;case In:return M;case Rn:return T;case Bn:return O}return t});var _a=Pe?$o:mc;function ya(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Oe)}function wa(e){return e==e&&!Qo(e)}function Sa(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in xe(n))}}function ka(e,t,n){return t=gn(t===i?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=gn(i.length-t,0),s=r(o);++a<o;)s[a]=i[t+a];a=-1;for(var c=r(t+1);++a<t;)c[a]=i[a];return c[t]=n(s),kt(e,this,c)}}function xa(e,t){return t.length<2?e:wr(e,ei(t,0,-1))}function Ma(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ea=Oa(Zr),Ta=ut||function(e,t){return ht.setTimeout(e,t)},Ca=Oa(Jr);function Aa(e,t,n){var r=t+"";return Ca(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ae,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Mt(p,(function(n){var r="_."+n[0];t&n[1]&&!At(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(oe);return t?t[1].split(se):[]}(r),n)))}function Oa(e){var t=0,n=0;return function(){var r=bn(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Pa(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var o=Gr(n,a),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var Ia,Ra,Ba=(Ia=Ro((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,r,i){t.push(r?i.replace(ue,"$1"):n||e)})),t}),(function(e){return 500===Ra.size&&Ra.clear(),e})),Ra=Ia.cache,Ia);function Na(e){if("string"==typeof e||ss(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function La(e){if(null!=e){try{return Ie.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Da(e){if(e instanceof Hn)return e.clone();var t=new Vn(e.__wrapped__,e.__chain__);return t.__actions__=Ei(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ja=Yr((function(e,t){return qo(e)?lr(e,mr(t,1,qo,!0)):[]})),za=Yr((function(e,t){var n=Xa(t);return qo(n)&&(n=i),qo(e)?lr(e,mr(t,1,qo,!0),aa(n,2)):[]})),Fa=Yr((function(e,t){var n=Xa(t);return qo(n)&&(n=i),qo(e)?lr(e,mr(t,1,qo,!0),i,n):[]}));function Va(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:fs(n);return i<0&&(i=gn(r+i,0)),jt(e,aa(t,3),i)}function Ha(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=fs(n),a=n<0?gn(r+a,0):vn(a,r-1)),jt(e,aa(t,3),a,!0)}function Wa(e){return null!=e&&e.length?mr(e,1):[]}function Ua(e){return e&&e.length?e[0]:i}var Ga=Yr((function(e){var t=Pt(e,pi);return t.length&&t[0]===e[0]?Tr(t):[]})),qa=Yr((function(e){var t=Xa(e),n=Pt(e,pi);return t===Xa(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Tr(n,aa(t,2)):[]})),Ya=Yr((function(e){var t=Xa(e),n=Pt(e,pi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Tr(n,i,t):[]}));function Xa(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Ka=Yr($a);function $a(e,t){return e&&e.length&&t&&t.length?Wr(e,t):e}var Za=Qi((function(e,t){var n=null==e?0:e.length,r=ir(e,t);return Ur(e,Pt(t,(function(e){return ma(e,n)?+e:e})).sort(ki)),r}));function Ja(e){return null==e?e:wn.call(e)}var Qa=Yr((function(e){return si(mr(e,1,qo,!0))})),eo=Yr((function(e){var t=Xa(e);return qo(t)&&(t=i),si(mr(e,1,qo,!0),aa(t,2))})),to=Yr((function(e){var t=Xa(e);return t="function"==typeof t?t:i,si(mr(e,1,qo,!0),i,t)}));function no(e){if(!e||!e.length)return[];var t=0;return e=Ct(e,(function(e){if(qo(e))return t=gn(e.length,t),!0})),Yt(t,(function(t){return Pt(e,Wt(t))}))}function ro(e,t){if(!e||!e.length)return[];var n=no(e);return null==t?n:Pt(n,(function(e){return kt(t,i,e)}))}var io=Yr((function(e,t){return qo(e)?lr(e,t):[]})),ao=Yr((function(e){return di(Ct(e,qo))})),oo=Yr((function(e){var t=Xa(e);return qo(t)&&(t=i),di(Ct(e,qo),aa(t,2))})),so=Yr((function(e){var t=Xa(e);return t="function"==typeof t?t:i,di(Ct(e,qo),i,t)})),co=Yr(no),lo=Yr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,ro(e,n)}));function uo(e){var t=jn(e);return t.__chain__=!0,t}function ho(e,t){return t(e)}var fo=Qi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return ir(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Hn&&ma(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ho,args:[a],thisArg:i}),new Vn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)})),po=Ci((function(e,t,n){Re.call(e,n)?++e[n]:rr(e,n,1)})),mo=Ni(Va),go=Ni(Ha);function vo(e,t){return(Wo(e)?Mt:ur)(e,aa(t,3))}function bo(e,t){return(Wo(e)?Et:hr)(e,aa(t,3))}var _o=Ci((function(e,t,n){Re.call(e,n)?e[n].push(t):rr(e,n,[t])})),yo=Yr((function(e,t,n){var i=-1,a="function"==typeof t,o=Go(e)?r(e.length):[];return ur(e,(function(e){o[++i]=a?kt(t,e,n):Cr(e,t,n)})),o})),wo=Ci((function(e,t,n){rr(e,n,t)}));function So(e,t){return(Wo(e)?Pt:Lr)(e,aa(t,3))}var ko=Ci((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),xo=Yr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ga(e,t[0],t[1])?t=[]:n>2&&ga(t[0],t[1],t[2])&&(t=[t[0]]),Vr(e,mr(t,1),[])})),Mo=lt||function(){return ht.Date.now()};function Eo(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Xi(e,l,i,i,i,i,t)}function To(e,t){var n;if("function"!=typeof t)throw new Te(a);return e=fs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Co=Yr((function(e,t,n){var r=1;if(n.length){var i=sn(n,ia(Co));r|=c}return Xi(e,r,t,n,i)})),Ao=Yr((function(e,t,n){var r=3;if(n.length){var i=sn(n,ia(Ao));r|=c}return Xi(t,r,e,n,i)}));function Oo(e,t,n){var r,o,s,c,l,u,h=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new Te(a);function m(t){var n=r,a=o;return r=o=i,h=t,c=e.apply(a,n)}function g(e){var n=e-u;return u===i||n>=t||n<0||f&&e-h>=s}function v(){var e=Mo();if(g(e))return b(e);l=Ta(v,function(e){var n=t-(e-u);return f?vn(n,s-(e-h)):n}(e))}function b(e){return l=i,p&&r?m(e):(r=o=i,c)}function _(){var e=Mo(),n=g(e);if(r=arguments,o=this,u=e,n){if(l===i)return function(e){return h=e,l=Ta(v,t),d?m(e):c}(u);if(f)return _i(l),l=Ta(v,t),m(u)}return l===i&&(l=Ta(v,t)),c}return t=ms(t)||0,Qo(n)&&(d=!!n.leading,s=(f="maxWait"in n)?gn(ms(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),_.cancel=function(){l!==i&&_i(l),h=0,r=u=o=l=i},_.flush=function(){return l===i?c:b(Mo())},_}var Po=Yr((function(e,t){return cr(e,1,t)})),Io=Yr((function(e,t,n){return cr(e,ms(t)||0,n)}));function Ro(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Te(a);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Ro.Cache||Gn),n}function Bo(e){if("function"!=typeof e)throw new Te(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ro.Cache=Gn;var No=vi((function(e,t){var n=(t=1==t.length&&Wo(t[0])?Pt(t[0],Kt(aa())):Pt(mr(t,1),Kt(aa()))).length;return Yr((function(r){for(var i=-1,a=vn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return kt(e,this,r)}))})),Lo=Yr((function(e,t){var n=sn(t,ia(Lo));return Xi(e,c,i,t,n)})),Do=Yr((function(e,t){var n=sn(t,ia(Do));return Xi(e,64,i,t,n)})),jo=Qi((function(e,t){return Xi(e,256,i,i,i,t)}));function zo(e,t){return e===t||e!=e&&t!=t}var Fo=Wi(xr),Vo=Wi((function(e,t){return e>=t})),Ho=Ar(function(){return arguments}())?Ar:function(e){return es(e)&&Re.call(e,"callee")&&!qe.call(e,"callee")},Wo=r.isArray,Uo=vt?Kt(vt):function(e){return es(e)&&kr(e)==P};function Go(e){return null!=e&&Jo(e.length)&&!$o(e)}function qo(e){return es(e)&&Go(e)}var Yo=gt||mc,Xo=bt?Kt(bt):function(e){return es(e)&&kr(e)==b};function Ko(e){if(!es(e))return!1;var t=kr(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!rs(e)}function $o(e){if(!Qo(e))return!1;var t=kr(e);return t==y||t==w||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Zo(e){return"number"==typeof e&&e==fs(e)}function Jo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function Qo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function es(e){return null!=e&&"object"==typeof e}var ts=_t?Kt(_t):function(e){return es(e)&&ha(e)==S};function ns(e){return"number"==typeof e||es(e)&&kr(e)==k}function rs(e){if(!es(e)||kr(e)!=x)return!1;var t=Ue(e);if(null===t)return!0;var n=Re.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ie.call(n)==De}var is=yt?Kt(yt):function(e){return es(e)&&kr(e)==E},as=wt?Kt(wt):function(e){return es(e)&&ha(e)==T};function os(e){return"string"==typeof e||!Wo(e)&&es(e)&&kr(e)==C}function ss(e){return"symbol"==typeof e||es(e)&&kr(e)==A}var cs=St?Kt(St):function(e){return es(e)&&Jo(e.length)&&!!it[kr(e)]},ls=Wi(Nr),us=Wi((function(e,t){return e<=t}));function hs(e){if(!e)return[];if(Go(e))return os(e)?hn(e):Ei(e);if(Ke&&e[Ke])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ke]());var t=ha(e);return(t==S?an:t==T?cn:zs)(e)}function ds(e){return e?(e=ms(e))===u||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function fs(e){var t=ds(e),n=t%1;return t==t?n?t-n:t:0}function ps(e){return e?ar(fs(e),0,f):0}function ms(e){if("number"==typeof e)return e;if(ss(e))return d;if(Qo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Qo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=pe.test(e);return n||ge.test(e)?ct(e.slice(2),n?2:8):fe.test(e)?d:+e}function gs(e){return Ti(e,Ps(e))}function vs(e){return null==e?"":oi(e)}var bs=Ai((function(e,t){if(ya(t)||Go(t))Ti(t,Os(t),e);else for(var n in t)Re.call(t,n)&&Qn(e,n,t[n])})),_s=Ai((function(e,t){Ti(t,Ps(t),e)})),ys=Ai((function(e,t,n,r){Ti(t,Ps(t),e,r)})),ws=Ai((function(e,t,n,r){Ti(t,Os(t),e,r)})),Ss=Qi(ir),ks=Yr((function(e,t){e=xe(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&ga(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],s=Ps(o),c=-1,l=s.length;++c<l;){var u=s[c],h=e[u];(h===i||zo(h,Oe[u])&&!Re.call(e,u))&&(e[u]=o[u])}return e})),xs=Yr((function(e){return e.push(i,$i),kt(Rs,i,e)}));function Ms(e,t,n){var r=null==e?i:wr(e,t);return r===i?n:r}function Es(e,t){return null!=e&&da(e,t,Er)}var Ts=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),e[t]=n}),Qs(nc)),Cs=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),Re.call(e,t)?e[t].push(n):e[t]=[n]}),aa),As=Yr(Cr);function Os(e){return Go(e)?Xn(e):Br(e)}function Ps(e){return Go(e)?Xn(e,!0):function(e){if(!Qo(e))return function(e){var t=[];if(null!=e)for(var n in xe(e))t.push(n);return t}(e);var t=ya(e),n=[];for(var r in e)("constructor"!=r||!t&&Re.call(e,r))&&n.push(r);return n}(e)}var Is=Ai((function(e,t,n){zr(e,t,n)})),Rs=Ai((function(e,t,n,r){zr(e,t,n,r)})),Bs=Qi((function(e,t){var n={};if(null==e)return n;var r=!1;t=Pt(t,(function(t){return t=gi(t,e),r||(r=t.length>1),t})),Ti(e,ta(e),n),r&&(n=or(n,7,Zi));for(var i=t.length;i--;)ci(n,t[i]);return n})),Ns=Qi((function(e,t){return null==e?{}:function(e,t){return Hr(e,t,(function(t,n){return Es(e,n)}))}(e,t)}));function Ls(e,t){if(null==e)return{};var n=Pt(ta(e),(function(e){return[e]}));return t=aa(t),Hr(e,n,(function(e,n){return t(e,n[0])}))}var Ds=Yi(Os),js=Yi(Ps);function zs(e){return null==e?[]:$t(e,Os(e))}var Fs=Ri((function(e,t,n){return t=t.toLowerCase(),e+(n?Vs(t):t)}));function Vs(e){return Ks(vs(e).toLowerCase())}function Hs(e){return(e=vs(e))&&e.replace(be,en).replace(Ze,"")}var Ws=Ri((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Us=Ri((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Gs=Ii("toLowerCase"),qs=Ri((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Ys=Ri((function(e,t,n){return e+(n?" ":"")+Ks(t)})),Xs=Ri((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ks=Ii("toUpperCase");function $s(e,t,n){return e=vs(e),(t=n?i:t)===i?function(e){return tt.test(e)}(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var Zs=Yr((function(e,t){try{return kt(e,i,t)}catch(e){return Ko(e)?e:new we(e)}})),Js=Qi((function(e,t){return Mt(t,(function(t){t=Na(t),rr(e,t,Co(e[t],e))})),e}));function Qs(e){return function(){return e}}var ec=Li(),tc=Li(!0);function nc(e){return e}function rc(e){return Rr("function"==typeof e?e:or(e,1))}var ic=Yr((function(e,t){return function(n){return Cr(n,e,t)}})),ac=Yr((function(e,t){return function(n){return Cr(e,n,t)}}));function oc(e,t,n){var r=Os(t),i=yr(t,r);null!=n||Qo(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=yr(t,Os(t)));var a=!(Qo(n)&&"chain"in n&&!n.chain),o=$o(e);return Mt(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=Ei(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,It([this.value()],arguments))})})),e}function sc(){}var cc=Fi(Pt),lc=Fi(Tt),uc=Fi(Nt);function hc(e){return va(e)?Wt(Na(e)):function(e){return function(t){return wr(t,e)}}(e)}var dc=Hi(),fc=Hi(!0);function pc(){return[]}function mc(){return!1}var gc,vc=zi((function(e,t){return e+t}),0),bc=Gi("ceil"),_c=zi((function(e,t){return e/t}),1),yc=Gi("floor"),wc=zi((function(e,t){return e*t}),1),Sc=Gi("round"),kc=zi((function(e,t){return e-t}),0);return jn.after=function(e,t){if("function"!=typeof t)throw new Te(a);return e=fs(e),function(){if(--e<1)return t.apply(this,arguments)}},jn.ary=Eo,jn.assign=bs,jn.assignIn=_s,jn.assignInWith=ys,jn.assignWith=ws,jn.at=Ss,jn.before=To,jn.bind=Co,jn.bindAll=Js,jn.bindKey=Ao,jn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wo(e)?e:[e]},jn.chain=uo,jn.chunk=function(e,t,n){t=(n?ga(e,t,n):t===i)?1:gn(fs(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,s=0,c=r(dt(a/t));o<a;)c[s++]=ei(e,o,o+=t);return c},jn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},jn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return It(Wo(n)?Ei(n):[n],mr(t,1))},jn.cond=function(e){var t=null==e?0:e.length,n=aa();return e=t?Pt(e,(function(e){if("function"!=typeof e[1])throw new Te(a);return[n(e[0]),e[1]]})):[],Yr((function(n){for(var r=-1;++r<t;){var i=e[r];if(kt(i[0],this,n))return kt(i[1],this,n)}}))},jn.conforms=function(e){return function(e){var t=Os(e);return function(n){return sr(n,e,t)}}(or(e,1))},jn.constant=Qs,jn.countBy=po,jn.create=function(e,t){var n=zn(e);return null==t?n:nr(n,t)},jn.curry=function e(t,n,r){var a=Xi(t,8,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},jn.curryRight=function e(t,n,r){var a=Xi(t,16,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},jn.debounce=Oo,jn.defaults=ks,jn.defaultsDeep=xs,jn.defer=Po,jn.delay=Io,jn.difference=ja,jn.differenceBy=za,jn.differenceWith=Fa,jn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,(t=n||t===i?1:fs(t))<0?0:t,r):[]},jn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,0,(t=r-(t=n||t===i?1:fs(t)))<0?0:t):[]},jn.dropRightWhile=function(e,t){return e&&e.length?ui(e,aa(t,3),!0,!0):[]},jn.dropWhile=function(e,t){return e&&e.length?ui(e,aa(t,3),!0):[]},jn.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&ga(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=fs(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:fs(r))<0&&(r+=a),r=n>r?0:ps(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},jn.filter=function(e,t){return(Wo(e)?Ct:pr)(e,aa(t,3))},jn.flatMap=function(e,t){return mr(So(e,t),1)},jn.flatMapDeep=function(e,t){return mr(So(e,t),u)},jn.flatMapDepth=function(e,t,n){return n=n===i?1:fs(n),mr(So(e,t),n)},jn.flatten=Wa,jn.flattenDeep=function(e){return null!=e&&e.length?mr(e,u):[]},jn.flattenDepth=function(e,t){return null!=e&&e.length?mr(e,t=t===i?1:fs(t)):[]},jn.flip=function(e){return Xi(e,512)},jn.flow=ec,jn.flowRight=tc,jn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},jn.functions=function(e){return null==e?[]:yr(e,Os(e))},jn.functionsIn=function(e){return null==e?[]:yr(e,Ps(e))},jn.groupBy=_o,jn.initial=function(e){return null!=e&&e.length?ei(e,0,-1):[]},jn.intersection=Ga,jn.intersectionBy=qa,jn.intersectionWith=Ya,jn.invert=Ts,jn.invertBy=Cs,jn.invokeMap=yo,jn.iteratee=rc,jn.keyBy=wo,jn.keys=Os,jn.keysIn=Ps,jn.map=So,jn.mapKeys=function(e,t){var n={};return t=aa(t,3),br(e,(function(e,r,i){rr(n,t(e,r,i),e)})),n},jn.mapValues=function(e,t){var n={};return t=aa(t,3),br(e,(function(e,r,i){rr(n,r,t(e,r,i))})),n},jn.matches=function(e){return Dr(or(e,1))},jn.matchesProperty=function(e,t){return jr(e,or(t,1))},jn.memoize=Ro,jn.merge=Is,jn.mergeWith=Rs,jn.method=ic,jn.methodOf=ac,jn.mixin=oc,jn.negate=Bo,jn.nthArg=function(e){return e=fs(e),Yr((function(t){return Fr(t,e)}))},jn.omit=Bs,jn.omitBy=function(e,t){return Ls(e,Bo(aa(t)))},jn.once=function(e){return To(2,e)},jn.orderBy=function(e,t,n,r){return null==e?[]:(Wo(t)||(t=null==t?[]:[t]),Wo(n=r?i:n)||(n=null==n?[]:[n]),Vr(e,t,n))},jn.over=cc,jn.overArgs=No,jn.overEvery=lc,jn.overSome=uc,jn.partial=Lo,jn.partialRight=Do,jn.partition=ko,jn.pick=Ns,jn.pickBy=Ls,jn.property=hc,jn.propertyOf=function(e){return function(t){return null==e?i:wr(e,t)}},jn.pull=Ka,jn.pullAll=$a,jn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,aa(n,2)):e},jn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,i,n):e},jn.pullAt=Za,jn.range=dc,jn.rangeRight=fc,jn.rearg=jo,jn.reject=function(e,t){return(Wo(e)?Ct:pr)(e,Bo(aa(t,3)))},jn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=aa(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Ur(e,i),n},jn.rest=function(e,t){if("function"!=typeof e)throw new Te(a);return Yr(e,t=t===i?t:fs(t))},jn.reverse=Ja,jn.sampleSize=function(e,t,n){return t=(n?ga(e,t,n):t===i)?1:fs(t),(Wo(e)?$n:Kr)(e,t)},jn.set=function(e,t,n){return null==e?e:$r(e,t,n)},jn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:$r(e,t,n,r)},jn.shuffle=function(e){return(Wo(e)?Zn:Qr)(e)},jn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ga(e,t,n)?(t=0,n=r):(t=null==t?0:fs(t),n=n===i?r:fs(n)),ei(e,t,n)):[]},jn.sortBy=xo,jn.sortedUniq=function(e){return e&&e.length?ii(e):[]},jn.sortedUniqBy=function(e,t){return e&&e.length?ii(e,aa(t,2)):[]},jn.split=function(e,t,n){return n&&"number"!=typeof n&&ga(e,t,n)&&(t=n=i),(n=n===i?f:n>>>0)?(e=vs(e))&&("string"==typeof t||null!=t&&!is(t))&&!(t=oi(t))&&rn(e)?bi(hn(e),0,n):e.split(t,n):[]},jn.spread=function(e,t){if("function"!=typeof e)throw new Te(a);return t=null==t?0:gn(fs(t),0),Yr((function(n){var r=n[t],i=bi(n,0,t);return r&&It(i,r),kt(e,this,i)}))},jn.tail=function(e){var t=null==e?0:e.length;return t?ei(e,1,t):[]},jn.take=function(e,t,n){return e&&e.length?ei(e,0,(t=n||t===i?1:fs(t))<0?0:t):[]},jn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,(t=r-(t=n||t===i?1:fs(t)))<0?0:t,r):[]},jn.takeRightWhile=function(e,t){return e&&e.length?ui(e,aa(t,3),!1,!0):[]},jn.takeWhile=function(e,t){return e&&e.length?ui(e,aa(t,3)):[]},jn.tap=function(e,t){return t(e),e},jn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Te(a);return Qo(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Oo(e,t,{leading:r,maxWait:t,trailing:i})},jn.thru=ho,jn.toArray=hs,jn.toPairs=Ds,jn.toPairsIn=js,jn.toPath=function(e){return Wo(e)?Pt(e,Na):ss(e)?[e]:Ei(Ba(vs(e)))},jn.toPlainObject=gs,jn.transform=function(e,t,n){var r=Wo(e),i=r||Yo(e)||cs(e);if(t=aa(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:Qo(e)&&$o(a)?zn(Ue(e)):{}}return(i?Mt:br)(e,(function(e,r,i){return t(n,e,r,i)})),n},jn.unary=function(e){return Eo(e,1)},jn.union=Qa,jn.unionBy=eo,jn.unionWith=to,jn.uniq=function(e){return e&&e.length?si(e):[]},jn.uniqBy=function(e,t){return e&&e.length?si(e,aa(t,2)):[]},jn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?si(e,i,t):[]},jn.unset=function(e,t){return null==e||ci(e,t)},jn.unzip=no,jn.unzipWith=ro,jn.update=function(e,t,n){return null==e?e:li(e,t,mi(n))},jn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:li(e,t,mi(n),r)},jn.values=zs,jn.valuesIn=function(e){return null==e?[]:$t(e,Ps(e))},jn.without=io,jn.words=$s,jn.wrap=function(e,t){return Lo(mi(t),e)},jn.xor=ao,jn.xorBy=oo,jn.xorWith=so,jn.zip=co,jn.zipObject=function(e,t){return fi(e||[],t||[],Qn)},jn.zipObjectDeep=function(e,t){return fi(e||[],t||[],$r)},jn.zipWith=lo,jn.entries=Ds,jn.entriesIn=js,jn.extend=_s,jn.extendWith=ys,oc(jn,jn),jn.add=vc,jn.attempt=Zs,jn.camelCase=Fs,jn.capitalize=Vs,jn.ceil=bc,jn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ms(n))==n?n:0),t!==i&&(t=(t=ms(t))==t?t:0),ar(ms(e),t,n)},jn.clone=function(e){return or(e,4)},jn.cloneDeep=function(e){return or(e,5)},jn.cloneDeepWith=function(e,t){return or(e,5,t="function"==typeof t?t:i)},jn.cloneWith=function(e,t){return or(e,4,t="function"==typeof t?t:i)},jn.conformsTo=function(e,t){return null==t||sr(e,t,Os(t))},jn.deburr=Hs,jn.defaultTo=function(e,t){return null==e||e!=e?t:e},jn.divide=_c,jn.endsWith=function(e,t,n){e=vs(e),t=oi(t);var r=e.length,a=n=n===i?r:ar(fs(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},jn.eq=zo,jn.escape=function(e){return(e=vs(e))&&X.test(e)?e.replace(q,tn):e},jn.escapeRegExp=function(e){return(e=vs(e))&&ne.test(e)?e.replace(te,"\\$&"):e},jn.every=function(e,t,n){var r=Wo(e)?Tt:dr;return n&&ga(e,t,n)&&(t=i),r(e,aa(t,3))},jn.find=mo,jn.findIndex=Va,jn.findKey=function(e,t){return Dt(e,aa(t,3),br)},jn.findLast=go,jn.findLastIndex=Ha,jn.findLastKey=function(e,t){return Dt(e,aa(t,3),_r)},jn.floor=yc,jn.forEach=vo,jn.forEachRight=bo,jn.forIn=function(e,t){return null==e?e:gr(e,aa(t,3),Ps)},jn.forInRight=function(e,t){return null==e?e:vr(e,aa(t,3),Ps)},jn.forOwn=function(e,t){return e&&br(e,aa(t,3))},jn.forOwnRight=function(e,t){return e&&_r(e,aa(t,3))},jn.get=Ms,jn.gt=Fo,jn.gte=Vo,jn.has=function(e,t){return null!=e&&da(e,t,Mr)},jn.hasIn=Es,jn.head=Ua,jn.identity=nc,jn.includes=function(e,t,n,r){e=Go(e)?e:zs(e),n=n&&!r?fs(n):0;var i=e.length;return n<0&&(n=gn(i+n,0)),os(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&zt(e,t,n)>-1},jn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:fs(n);return i<0&&(i=gn(r+i,0)),zt(e,t,i)},jn.inRange=function(e,t,n){return t=ds(t),n===i?(n=t,t=0):n=ds(n),function(e,t,n){return e>=vn(t,n)&&e<gn(t,n)}(e=ms(e),t,n)},jn.invoke=As,jn.isArguments=Ho,jn.isArray=Wo,jn.isArrayBuffer=Uo,jn.isArrayLike=Go,jn.isArrayLikeObject=qo,jn.isBoolean=function(e){return!0===e||!1===e||es(e)&&kr(e)==v},jn.isBuffer=Yo,jn.isDate=Xo,jn.isElement=function(e){return es(e)&&1===e.nodeType&&!rs(e)},jn.isEmpty=function(e){if(null==e)return!0;if(Go(e)&&(Wo(e)||"string"==typeof e||"function"==typeof e.splice||Yo(e)||cs(e)||Ho(e)))return!e.length;var t=ha(e);if(t==S||t==T)return!e.size;if(ya(e))return!Br(e).length;for(var n in e)if(Re.call(e,n))return!1;return!0},jn.isEqual=function(e,t){return Or(e,t)},jn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Or(e,t,i,n):!!r},jn.isError=Ko,jn.isFinite=function(e){return"number"==typeof e&&Lt(e)},jn.isFunction=$o,jn.isInteger=Zo,jn.isLength=Jo,jn.isMap=ts,jn.isMatch=function(e,t){return e===t||Pr(e,t,sa(t))},jn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Pr(e,t,sa(t),n)},jn.isNaN=function(e){return ns(e)&&e!=+e},jn.isNative=function(e){if(_a(e))throw new we("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ir(e)},jn.isNil=function(e){return null==e},jn.isNull=function(e){return null===e},jn.isNumber=ns,jn.isObject=Qo,jn.isObjectLike=es,jn.isPlainObject=rs,jn.isRegExp=is,jn.isSafeInteger=function(e){return Zo(e)&&e>=-9007199254740991&&e<=h},jn.isSet=as,jn.isString=os,jn.isSymbol=ss,jn.isTypedArray=cs,jn.isUndefined=function(e){return e===i},jn.isWeakMap=function(e){return es(e)&&ha(e)==O},jn.isWeakSet=function(e){return es(e)&&"[object WeakSet]"==kr(e)},jn.join=function(e,t){return null==e?"":Ut.call(e,t)},jn.kebabCase=Ws,jn.last=Xa,jn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=fs(n))<0?gn(r+a,0):vn(a,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):jt(e,Vt,a,!0)},jn.lowerCase=Us,jn.lowerFirst=Gs,jn.lt=ls,jn.lte=us,jn.max=function(e){return e&&e.length?fr(e,nc,xr):i},jn.maxBy=function(e,t){return e&&e.length?fr(e,aa(t,2),xr):i},jn.mean=function(e){return Ht(e,nc)},jn.meanBy=function(e,t){return Ht(e,aa(t,2))},jn.min=function(e){return e&&e.length?fr(e,nc,Nr):i},jn.minBy=function(e,t){return e&&e.length?fr(e,aa(t,2),Nr):i},jn.stubArray=pc,jn.stubFalse=mc,jn.stubObject=function(){return{}},jn.stubString=function(){return""},jn.stubTrue=function(){return!0},jn.multiply=wc,jn.nth=function(e,t){return e&&e.length?Fr(e,fs(t)):i},jn.noConflict=function(){return ht._===this&&(ht._=je),this},jn.noop=sc,jn.now=Mo,jn.pad=function(e,t,n){e=vs(e);var r=(t=fs(t))?un(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Vi(ft(i),n)+e+Vi(dt(i),n)},jn.padEnd=function(e,t,n){e=vs(e);var r=(t=fs(t))?un(e):0;return t&&r<t?e+Vi(t-r,n):e},jn.padStart=function(e,t,n){e=vs(e);var r=(t=fs(t))?un(e):0;return t&&r<t?Vi(t-r,n)+e:e},jn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),_n(vs(e).replace(re,""),t||0)},jn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ga(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=ds(e),t===i?(t=e,e=0):t=ds(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=yn();return vn(e+a*(t-e+st("1e-"+((a+"").length-1))),t)}return Gr(e,t)},jn.reduce=function(e,t,n){var r=Wo(e)?Rt:Gt,i=arguments.length<3;return r(e,aa(t,4),n,i,ur)},jn.reduceRight=function(e,t,n){var r=Wo(e)?Bt:Gt,i=arguments.length<3;return r(e,aa(t,4),n,i,hr)},jn.repeat=function(e,t,n){return t=(n?ga(e,t,n):t===i)?1:fs(t),qr(vs(e),t)},jn.replace=function(){var e=arguments,t=vs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},jn.result=function(e,t,n){var r=-1,a=(t=gi(t,e)).length;for(a||(a=1,e=i);++r<a;){var o=null==e?i:e[Na(t[r])];o===i&&(r=a,o=n),e=$o(o)?o.call(e):o}return e},jn.round=Sc,jn.runInContext=e,jn.sample=function(e){return(Wo(e)?Kn:Xr)(e)},jn.size=function(e){if(null==e)return 0;if(Go(e))return os(e)?un(e):e.length;var t=ha(e);return t==S||t==T?e.size:Br(e).length},jn.snakeCase=qs,jn.some=function(e,t,n){var r=Wo(e)?Nt:ti;return n&&ga(e,t,n)&&(t=i),r(e,aa(t,3))},jn.sortedIndex=function(e,t){return ni(e,t)},jn.sortedIndexBy=function(e,t,n){return ri(e,t,aa(n,2))},jn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ni(e,t);if(r<n&&zo(e[r],t))return r}return-1},jn.sortedLastIndex=function(e,t){return ni(e,t,!0)},jn.sortedLastIndexBy=function(e,t,n){return ri(e,t,aa(n,2),!0)},jn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ni(e,t,!0)-1;if(zo(e[n],t))return n}return-1},jn.startCase=Ys,jn.startsWith=function(e,t,n){return e=vs(e),n=null==n?0:ar(fs(n),0,e.length),t=oi(t),e.slice(n,n+t.length)==t},jn.subtract=kc,jn.sum=function(e){return e&&e.length?qt(e,nc):0},jn.sumBy=function(e,t){return e&&e.length?qt(e,aa(t,2)):0},jn.template=function(e,t,n){var r=jn.templateSettings;n&&ga(e,t,n)&&(t=i),e=vs(e),t=ys({},t,r,Ki);var a,o,s=ys({},t.imports,r.imports,Ki),c=Os(s),l=$t(s,c),u=0,h=t.interpolate||_e,d="__p += '",f=Me((t.escape||_e).source+"|"+h.source+"|"+(h===Z?he:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),p="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(f,(function(t,n,r,i,s,c){return r||(r=i),d+=e.slice(u,c).replace(ye,nn),n&&(a=!0,d+="' +\n__e("+n+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),d+="';\n";var m=Re.call(t,"variable")&&t.variable;if(m){if(le.test(m))throw new we("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(H,""):d).replace(W,"$1").replace(U,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Zs((function(){return Se(c,p+"return "+d).apply(i,l)}));if(g.source=d,Ko(g))throw g;return g},jn.times=function(e,t){if((e=fs(e))<1||e>h)return[];var n=f,r=vn(e,f);t=aa(t),e-=f;for(var i=Yt(r,t);++n<e;)t(n);return i},jn.toFinite=ds,jn.toInteger=fs,jn.toLength=ps,jn.toLower=function(e){return vs(e).toLowerCase()},jn.toNumber=ms,jn.toSafeInteger=function(e){return e?ar(fs(e),-9007199254740991,h):0===e?e:0},jn.toString=vs,jn.toUpper=function(e){return vs(e).toUpperCase()},jn.trim=function(e,t,n){if((e=vs(e))&&(n||t===i))return Xt(e);if(!e||!(t=oi(t)))return e;var r=hn(e),a=hn(t);return bi(r,Jt(r,a),Qt(r,a)+1).join("")},jn.trimEnd=function(e,t,n){if((e=vs(e))&&(n||t===i))return e.slice(0,dn(e)+1);if(!e||!(t=oi(t)))return e;var r=hn(e);return bi(r,0,Qt(r,hn(t))+1).join("")},jn.trimStart=function(e,t,n){if((e=vs(e))&&(n||t===i))return e.replace(re,"");if(!e||!(t=oi(t)))return e;var r=hn(e);return bi(r,Jt(r,hn(t))).join("")},jn.truncate=function(e,t){var n=30,r="...";if(Qo(t)){var a="separator"in t?t.separator:a;n="length"in t?fs(t.length):n,r="omission"in t?oi(t.omission):r}var o=(e=vs(e)).length;if(rn(e)){var s=hn(e);o=s.length}if(n>=o)return e;var c=n-un(r);if(c<1)return r;var l=s?bi(s,0,c).join(""):e.slice(0,c);if(a===i)return l+r;if(s&&(c+=l.length-c),is(a)){if(e.slice(c).search(a)){var u,h=l;for(a.global||(a=Me(a.source,vs(de.exec(a))+"g")),a.lastIndex=0;u=a.exec(h);)var d=u.index;l=l.slice(0,d===i?c:d)}}else if(e.indexOf(oi(a),c)!=c){var f=l.lastIndexOf(a);f>-1&&(l=l.slice(0,f))}return l+r},jn.unescape=function(e){return(e=vs(e))&&Y.test(e)?e.replace(G,fn):e},jn.uniqueId=function(e){var t=++Be;return vs(e)+t},jn.upperCase=Xs,jn.upperFirst=Ks,jn.each=vo,jn.eachRight=bo,jn.first=Ua,oc(jn,(gc={},br(jn,(function(e,t){Re.call(jn.prototype,t)||(gc[t]=e)})),gc),{chain:!1}),jn.VERSION="4.17.21",Mt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){jn[e].placeholder=jn})),Mt(["drop","take"],(function(e,t){Hn.prototype[e]=function(n){n=n===i?1:gn(fs(n),0);var r=this.__filtered__&&!t?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=vn(n,r.__takeCount__):r.__views__.push({size:vn(n,f),type:e+(r.__dir__<0?"Right":"")}),r},Hn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Mt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Hn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:aa(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Mt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Hn.prototype[e]=function(){return this[n](1).value()[0]}})),Mt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Hn.prototype[e]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(nc)},Hn.prototype.find=function(e){return this.filter(e).head()},Hn.prototype.findLast=function(e){return this.reverse().find(e)},Hn.prototype.invokeMap=Yr((function(e,t){return"function"==typeof e?new Hn(this):this.map((function(n){return Cr(n,e,t)}))})),Hn.prototype.reject=function(e){return this.filter(Bo(aa(e)))},Hn.prototype.slice=function(e,t){e=fs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Hn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=fs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Hn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hn.prototype.toArray=function(){return this.take(f)},br(Hn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=jn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);a&&(jn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,c=t instanceof Hn,l=s[0],u=c||Wo(t),h=function(e){var t=a.apply(jn,It([e],s));return r&&d?t[0]:t};u&&n&&"function"==typeof l&&1!=l.length&&(c=u=!1);var d=this.__chain__,f=!!this.__actions__.length,p=o&&!d,m=c&&!f;if(!o&&u){t=m?t:new Hn(this);var g=e.apply(t,s);return g.__actions__.push({func:ho,args:[h],thisArg:i}),new Vn(g,d)}return p&&m?e.apply(this,s):(g=this.thru(h),p?r?g.value()[0]:g.value():g)})})),Mt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ce[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);jn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Wo(i)?i:[],e)}return this[n]((function(n){return t.apply(Wo(n)?n:[],e)}))}})),br(Hn.prototype,(function(e,t){var n=jn[t];if(n){var r=n.name+"";Re.call(An,r)||(An[r]=[]),An[r].push({name:t,func:n})}})),An[Di(i,2).name]=[{name:"wrapper",func:i}],Hn.prototype.clone=function(){var e=new Hn(this.__wrapped__);return e.__actions__=Ei(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ei(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ei(this.__views__),e},Hn.prototype.reverse=function(){if(this.__filtered__){var e=new Hn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Wo(e),r=t<0,i=n?e.length:0,a=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=vn(t,e+o);break;case"takeRight":e=gn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,c=s-o,l=r?s:o-1,u=this.__iteratees__,h=u.length,d=0,f=vn(c,this.__takeCount__);if(!n||!r&&i==c&&f==c)return hi(e,this.__actions__);var p=[];e:for(;c--&&d<f;){for(var m=-1,g=e[l+=t];++m<h;){var v=u[m],b=v.iteratee,_=v.type,y=b(g);if(2==_)g=y;else if(!y){if(1==_)continue e;break e}}p[d++]=g}return p},jn.prototype.at=fo,jn.prototype.chain=function(){return uo(this)},jn.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},jn.prototype.next=function(){this.__values__===i&&(this.__values__=hs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},jn.prototype.plant=function(e){for(var t,n=this;n instanceof Fn;){var r=Da(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},jn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hn){var t=e;return this.__actions__.length&&(t=new Hn(this)),(t=t.reverse()).__actions__.push({func:ho,args:[Ja],thisArg:i}),new Vn(t,this.__chain__)}return this.thru(Ja)},jn.prototype.toJSON=jn.prototype.valueOf=jn.prototype.value=function(){return hi(this.__wrapped__,this.__actions__)},jn.prototype.first=jn.prototype.head,Ke&&(jn.prototype[Ke]=function(){return this}),jn}();ht._=pn,(r=function(){return pn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},9680:(e,t,n)=>{var r=n(14772),i=n(61701),a=n(31454);e.exports=function(e,t){var n={};return t=a(t,3),i(e,(function(e,i,a){r(n,i,t(e,i,a))})),n}},24319:(e,t,n)=>{var r=n(44272),i=n(2931),a=n(35263),o=n(87181),s=n(42083),c=n(77222),l=n(59820),u=n(29697),h=l((function(e,t){var n={};if(null==e)return n;var l=!1;t=r(t,(function(t){return t=o(t,e),l||(l=t.length>1),t})),s(e,u(e),n),l&&(n=i(n,7,c));for(var h=t.length;h--;)a(n,t[h]);return n}));e.exports=h},1883:(e,t,n)=>{var r=n(61044),i=n(54183),a=n(71506),o=n(66220),s=a((function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},39751:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"}))},s=i.memo?i.memo(o):o;e.exports=s},599:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z"}))},s=i.memo?i.memo(o):o;e.exports=s},10716:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M7,10L12,15L17,10H7Z"}))},s=i.memo?i.memo(o):o;e.exports=s},19401:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M7,15L12,10L17,15H7Z"}))},s=i.memo?i.memo(o):o;e.exports=s},64122:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z"}))},s=i.memo?i.memo(o):o;e.exports=s},95352:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},s=i.memo?i.memo(o):o;e.exports=s},57631:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M18.41,7.41L17,6L11,12L17,18L18.41,16.59L13.83,12L18.41,7.41M12.41,7.41L11,6L5,12L11,18L12.41,16.59L7.83,12L12.41,7.41Z"}))},s=i.memo?i.memo(o):o;e.exports=s},65272:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M5.59,7.41L7,6L13,12L7,18L5.59,16.59L10.17,12L5.59,7.41M11.59,7.41L13,6L19,12L13,18L11.59,16.59L16.17,12L11.59,7.41Z"}))},s=i.memo?i.memo(o):o;e.exports=s},97891:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"}))},s=i.memo?i.memo(o):o;e.exports=s},66760:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z"}))},s=i.memo?i.memo(o):o;e.exports=s},61851:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M13,6V18L21.5,12M4,18L12.5,12L4,6V18Z"}))},s=i.memo?i.memo(o):o;e.exports=s},97401:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M11.5,12L20,18V6M11,18V6L2.5,12L11,18Z"}))},s=i.memo?i.memo(o):o;e.exports=s},81381:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M19,12C19,15.86 15.86,19 12,19C8.14,19 5,15.86 5,12C5,8.14 8.14,5 12,5C15.86,5 19,8.14 19,12Z"}))},s=i.memo?i.memo(o):o;e.exports=s},38990:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M7,5H21V7H7V5M7,13V11H21V13H7M4,4.5A1.5,1.5 0 0,1 5.5,6A1.5,1.5 0 0,1 4,7.5A1.5,1.5 0 0,1 2.5,6A1.5,1.5 0 0,1 4,4.5M4,10.5A1.5,1.5 0 0,1 5.5,12A1.5,1.5 0 0,1 4,13.5A1.5,1.5 0 0,1 2.5,12A1.5,1.5 0 0,1 4,10.5M7,19V17H21V19H7M4,16.5A1.5,1.5 0 0,1 5.5,18A1.5,1.5 0 0,1 4,19.5A1.5,1.5 0 0,1 2.5,18A1.5,1.5 0 0,1 4,16.5Z"}))},s=i.memo?i.memo(o):o;e.exports=s},73119:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M12,1C7,1 3,5 3,10V17A3,3 0 0,0 6,20H9V12H5V10A7,7 0 0,1 12,3A7,7 0 0,1 19,10V12H15V20H18A3,3 0 0,0 21,17V10C21,5 16.97,1 12,1Z"}))},s=i.memo?i.memo(o):o;e.exports=s},73303:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"}))},s=i.memo?i.memo(o):o;e.exports=s},48390:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"}))},s=i.memo?i.memo(o):o;e.exports=s},98919:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z"}))},s=i.memo?i.memo(o):o;e.exports=s},11484:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M20,18H22V6H20M11.59,7.41L15.17,11H1V13H15.17L11.59,16.58L13,18L19,12L13,6L11.59,7.41Z"}))},s=i.memo?i.memo(o):o;e.exports=s},43138:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z"}))},s=i.memo?i.memo(o):o;e.exports=s},35302:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"}))},s=i.memo?i.memo(o):o;e.exports=s},52662:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M14,7L9,12L14,17V7Z"}))},s=i.memo?i.memo(o):o;e.exports=s},5176:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M12,1.75L8.57,2.67L4.06,19.53C4.03,19.68 4,19.84 4,20C4,21.11 4.89,22 6,22H18C19.11,22 20,21.11 20,20C20,19.84 19.97,19.68 19.94,19.53L18.58,14.42L17,16L17.2,17H13.41L16.25,14.16L14.84,12.75L10.59,17H6.8L10.29,4H13.71L15.17,9.43L16.8,7.79L15.43,2.67L12,1.75M11.25,5V14.75L12.75,13.25V5H11.25M19.79,7.8L16.96,10.63L16.25,9.92L14.84,11.34L17.66,14.16L19.08,12.75L18.37,12.04L21.2,9.21L19.79,7.8Z"}))},s=i.memo?i.memo(o):o;e.exports=s},56988:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M19,13H5V11H19V13Z"}))},s=i.memo?i.memo(o):o;e.exports=s},56279:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M12 3V13.55C11.41 13.21 10.73 13 10 13C7.79 13 6 14.79 6 17S7.79 21 10 21 14 19.21 14 17V7H18V3H12Z"}))},s=i.memo?i.memo(o):o;e.exports=s},22399:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z"}))},s=i.memo?i.memo(o):o;e.exports=s},40756:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}))},s=i.memo?i.memo(o):o;e.exports=s},50813:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"}))},s=i.memo?i.memo(o):o;e.exports=s},34368:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M18,18H6V6H18V18Z"}))},s=i.memo?i.memo(o):o;e.exports=s},4126:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z"}))},s=i.memo?i.memo(o):o;e.exports=s},28951:(e,t,n)=>{"use strict";var r,i=(r=n(63696))&&"object"==typeof r&&"default"in r?r.default:r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,o=void 0===r?24:r,s=(e.children,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","size","children"])),c="mdi-icon "+(s.className||"");return i.createElement("svg",a({},s,{className:c,width:o,height:o,fill:n,viewBox:"0 0 24 24"}),i.createElement("path",{d:"M12,4L9.91,6.09L12,8.18M4.27,3L3,4.27L7.73,9H3V15H7L12,20V13.27L16.25,17.53C15.58,18.04 14.83,18.46 14,18.7V20.77C15.38,20.45 16.63,19.82 17.68,18.96L19.73,21L21,19.73L12,10.73M19,12C19,12.94 18.8,13.82 18.46,14.64L19.97,16.15C20.62,14.91 21,13.5 21,12C21,7.72 18,4.14 14,3.23V5.29C16.89,6.15 19,8.83 19,12M16.5,12C16.5,10.23 15.5,8.71 14,7.97V10.18L16.45,12.63C16.5,12.43 16.5,12.21 16.5,12Z"}))},s=i.memo?i.memo(o):o;e.exports=s},10711:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function i(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!((i=e[n])===(a=t[n])||r(i)&&r(a)))return!1;var i,a;return!0}const a=function(e,t){var n;void 0===t&&(t=i);var r,a=[],o=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return o&&n===this&&t(i,a)||(r=e.apply(this,i),o=!0,n=this,a=i),r}}},98904:(e,t,n)=>{"use strict";n.d(t,{Y:()=>h});var r=n(89193),i=n(99896),a=n(13665),o=n(37953),s=n(41087),c=n(8111),l=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},u=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},h=function(){function e(e,t,n){var i,l,u,h,d,f,p,m;void 0===n&&(n={}),this.cancelWatch=null,this.properties=[],this.reactionOptions={},this.storageAdapter=null,this.target=null,this.version=void 0,this.debugMode=!1,this.isHydrated=!1,this.isPersisting=!1,this.storageName="",this.target=e,this.storageName=t.name,this.version=null!==(i=t.version)&&void 0!==i?i:o.ns.version,this.properties=(0,s.l)(t.properties),this.reactionOptions=Object.assign({fireImmediately:!0},o.sP,n),this.debugMode=null!==(u=null!==(l=t.debugMode)&&void 0!==l?l:o.ns.debugMode)&&void 0!==u&&u,this.storageAdapter=new a.b({version:this.version,expireIn:null!==(h=t.expireIn)&&void 0!==h?h:o.ns.expireIn,removeOnExpiration:null===(f=null!==(d=t.removeOnExpiration)&&void 0!==d?d:o.ns.removeOnExpiration)||void 0===f||f,stringify:null===(m=null!==(p=t.stringify)&&void 0!==p?p:o.ns.stringify)||void 0===m||m,storage:t.storage?t.storage:o.ns.storage,debugMode:this.debugMode}),(0,r.Gn)(this,{clearPersistedStore:r.XI,hydrateStore:r.XI,isHydrated:r.sH,isPersisting:r.sH,pausePersisting:r.XI,startPersisting:r.XI,stopPersisting:r.XI},{autoBind:!0,deep:!1}),(0,c.lO)(this.storageAdapter.options.storage,this.storageName),(0,c.$Z)(this.debugMode,"".concat(this.storageName," - (makePersistable)"),{properties:this.properties,storageAdapter:this.storageAdapter,reactionOptions:this.reactionOptions})}return e.prototype.init=function(){return l(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.hydrateStore()];case 1:return e.sent(),this.startPersisting(),[2,this]}}))}))},e.prototype.hydrateStore=function(){return l(this,void 0,void 0,(function(){var e,t,n,i=this;return u(this,(function(a){switch(a.label){case 0:return e=Boolean(this.cancelWatch),this.isPersisting&&this.pausePersisting(),(0,r.h5)((function(){i.isHydrated=!1,(0,c.$Z)(i.debugMode,"".concat(i.storageName," - (hydrateStore) isHydrated:"),i.isHydrated)})),this.storageAdapter&&this.target?[4,this.storageAdapter.getItem(this.storageName)]:[3,2];case 1:t=a.sent(),n=this.target,t&&(0,r.h5)((function(){i.properties.forEach((function(e){if([n.hasOwnProperty(e.key),void 0!==t[e.key]].every(Boolean)){var i=t[e.key];n[e.key]instanceof r.Es&&(0,c.tu)(i)?n[e.key]=e.deserialize(new Map(i)):n[e.key]=e.deserialize(i)}}))})),a.label=2;case 2:return(0,r.h5)((function(){i.isHydrated=!0,(0,c.$Z)(i.debugMode,"".concat(i.storageName," - isHydrated:"),i.isHydrated)})),e&&this.startPersisting(),[2]}}))}))},e.prototype.startPersisting=function(){var e=this;if(this.storageAdapter&&this.target&&!this.cancelWatch){var t=this.target;this.cancelWatch=(0,r.mJ)((function(){var n={};return e.properties.forEach((function(e){var i=(0,r.H8)(t,e.key),a=(0,r.ve)(t[e.key]);if((0,c.Rq)(i,String(e.key)),(0,c._C)(a,String(e.key)),!i&&!a){var o=e.serialize(t[e.key]);if(o instanceof r.Es){var s=[];o.forEach((function(e,t){s.push([t,(0,r.HO)(e)])})),o=s}n[e.key]=(0,r.HO)(o)}})),n}),(function(t){return l(e,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return this.storageAdapter?[4,this.storageAdapter.setItem(this.storageName,t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}),this.reactionOptions),this.isPersisting=!0,(0,c.$Z)(this.debugMode,"".concat(this.storageName," - (startPersisting) isPersisting:"),this.isPersisting)}},e.prototype.pausePersisting=function(){this.isPersisting=!1,(0,c.$Z)(this.debugMode,"".concat(this.storageName," - pausePersisting (isPersisting):"),this.isPersisting),this.cancelWatch&&(this.cancelWatch(),this.cancelWatch=null)},e.prototype.stopPersisting=function(){this.pausePersisting(),(0,c.$Z)(this.debugMode,"".concat(this.storageName," - (stopPersisting)")),i.i.delete(this.target),this.cancelWatch=null,this.properties=[],this.reactionOptions={},this.storageAdapter=null,this.target=null},e.prototype.clearPersistedStore=function(){return l(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return this.storageAdapter?((0,c.$Z)(this.debugMode,"".concat(this.storageName," - (clearPersistedStore)")),[4,this.storageAdapter.removeItem(this.storageName)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.getPersistedStore=function(){return l(this,void 0,void 0,(function(){return u(this,(function(e){return this.storageAdapter?((0,c.$Z)(this.debugMode,"".concat(this.storageName," - (getPersistedStore)")),[2,this.storageAdapter.getItem(this.storageName)]):[2,null]}))}))},e}()},99896:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var r=new Map},13665:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(8111),i=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},o=function(){function e(e){this.options=e}return e.prototype.setItem=function(e,t){var n;return i(this,void 0,void 0,(function(){var i,o,s,c,l,u,h,d;return a(this,(function(a){switch(a.label){case 0:return i=this.options,o=i.stringify,s=void 0===o||o,c=i.debugMode,l=void 0!==c&&c,u=(0,r.kY)({expireInTimestamp:this.options.expireIn?(0,r.cd)(this.options.expireIn):void 0,version:this.options.version},(function(e){return void 0===e})),h=Object.keys(u).length?Object.assign({},t,{__mps__:u}):t,d=s?JSON.stringify(h):h,(0,r.$Z)(l,"".concat(e," - setItem:"),d),[4,null===(n=this.options.storage)||void 0===n?void 0:n.setItem(e,d)];case 1:return a.sent(),[2]}}))}))},e.prototype.getItem=function(e){var t,n,o;return i(this,void 0,void 0,(function(){var i,s,c,l,u,h,d,f,p,m;return a(this,(function(a){switch(a.label){case 0:return i=this.options,s=i.removeOnExpiration,c=void 0===s||s,l=i.debugMode,u=void 0!==l&&l,h=i.version,[4,null===(t=this.options.storage)||void 0===t?void 0:t.getItem(e)];case 1:d=a.sent();try{f=JSON.parse(d)||{}}catch(e){f=d||{}}return p=(0,r.wU)(null===(n=f.__mps__)||void 0===n?void 0:n.expireInTimestamp),m=h&&(null===(o=f.__mps__)||void 0===o?void 0:o.version)!==h,(0,r.$Z)(u,"".concat(e," - hasExpired"),p),(0,r.$Z)(u,"".concat(e," - mismatchedVersion"),m),p&&c||m?[4,this.removeItem(e)]:[3,3];case 2:a.sent(),a.label=3;case 3:return f=p||m?{}:f,(0,r.$Z)(u,"".concat(e," - (getItem):"),f),[2,f]}}))}))},e.prototype.removeItem=function(e){var t;return i(this,void 0,void 0,(function(){var n,i;return a(this,(function(a){switch(a.label){case 0:return n=this.options.debugMode,i=void 0!==n&&n,(0,r.$Z)(i,"".concat(e," - (removeItem): storage was removed")),[4,null===(t=this.options.storage)||void 0===t?void 0:t.removeItem(e)];case 1:return a.sent(),[2]}}))}))},e}()},10994:(e,t,n)=>{"use strict";n(99896)},37953:(e,t,n)=>{"use strict";n.d(t,{ns:()=>r,sP:()=>i});var r={},i={}},66287:(e,t,n)=>{"use strict";n(99896)},24453:(e,t,n)=>{"use strict";n(99896)},78193:(e,t,n)=>{"use strict";n.d(t,{pu:()=>r.p}),n(10994),n(37953),n(66287),n(24453),n(11456),n(56573);var r=n(19351);n(98667),n(98904),n(99896),n(86545),n(23209),n(13665)},11456:(e,t,n)=>{"use strict";n(99896)},56573:(e,t,n)=>{"use strict";n(99896)},19351:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});var r=n(98904),i=n(99896),a=n(8111),o=function(e,t,n){return o=void 0,s=void 0,l=function(){var o,s;return function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(c){return o=new r.Y(e,t,n),s=Array.from(i.i.values()).map((function(e){return e.storageName})).includes(o.storageName),(0,a.SR)(s,o.storageName),function(e,t){i.i.set(e,t)}(e,o),[2,o.init()]}))},new((c=void 0)||(c=Promise))((function(e,t){function n(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof c?i:new c((function(e){e(i)}))).then(n,r)}i((l=l.apply(o,s||[])).next())}));var o,s,c,l}},98667:(e,t,n)=>{"use strict";n(99896)},41087:(e,t,n)=>{"use strict";n.d(t,{l:()=>a});var r=n(37953),i=n(8111),a=function(e){return e.reduce((function(e,t){return"string"==typeof t?(e.push({key:t,serialize:function(e){return e},deserialize:function(e){return e}}),e):(n=t,((0,i.Gv)(n)?["key","serialize","deserialize"].every((function(e){return!(!n.hasOwnProperty(e)||void 0===e)||((0,i.$Z)(!!r.ns.debugMode,"".concat(String(e)," not found in SerializableProperty"),{key:e,obj:n}),!1)})):((0,i.$Z)(!!r.ns.debugMode,"passed value is not an object",{obj:n}),0))?(e.push(t),e):e);var n}),[])}},86545:(e,t,n)=>{"use strict";n(99896)},23209:(e,t,n)=>{"use strict";n(99896)},8111:(e,t,n)=>{"use strict";n.d(t,{$Z:()=>u,Gv:()=>a,Rq:()=>c,SR:()=>s,_C:()=>l,cd:()=>r,kY:()=>d,lO:()=>o,tu:()=>h,wU:()=>i});var r=function(e){return(new Date).getTime()+e},i=function(e){var t=(new Date).getTime();return new Date(e).getTime()<=t},a=function(e){return Boolean(e)&&!1===Array.isArray(e)&&"object"==typeof e},o=function(e,t){},s=function(e,t){},c=function(e,t){},l=function(e,t){},u=function(e,t,n){void 0===n&&(n="")},h=function(e){return!!Array.isArray(e)&&e.every((function(e){return Array.isArray(e)}))},d=function(e,t){return Object.keys(e).forEach((function(n){return t(e[n])&&delete e[n]})),e}},89193:(e,t,n)=>{"use strict";function r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}n.d(t,{EW:()=>De,Es:()=>Hn,Gn:()=>Sn,H8:()=>sn,HO:()=>dn,Rn:()=>fn,XI:()=>Nt,fm:()=>zt,h5:()=>Dt,jK:()=>$t,lB:()=>ln,mJ:()=>Ht,qT:()=>St,sH:()=>Re,ve:()=>jt,yl:()=>Zt});var i={};function a(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:i}var o=Object.assign,s=Object.getOwnPropertyDescriptor,c=Object.defineProperty,l=Object.prototype,u=[];Object.freeze(u);var h={};Object.freeze(h);var d="undefined"!=typeof Proxy,f=Object.toString();function p(){d||r("Proxy not available")}function m(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var g=function(){};function v(e){return"function"==typeof e}function b(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function _(e){return null!==e&&"object"==typeof e}function y(e){if(!_(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===f}function w(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function S(e,t,n){c(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function k(e,t,n){c(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function x(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return _(e)&&!0===e[n]}}function M(e){return e instanceof Map}function E(e){return e instanceof Set}var T=void 0!==Object.getOwnPropertySymbols,C="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:T?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function A(e){return null===e?null:"object"==typeof e?""+e:e}function O(e,t){return l.hasOwnProperty.call(e,t)}var P=Object.getOwnPropertyDescriptors||function(e){var t={};return C(e).forEach((function(n){t[n]=s(e,n)})),t};function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,"symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key))?i:String(i)),r)}var i}function R(e,t,n){return t&&I(e.prototype,t),n&&I(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}function N(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,L(e,t)}function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var F=Symbol("mobx-stored-annotations");function V(e){return Object.assign((function(t,n){if(W(n))return e.decorate_20223_(t,n);H(t,n,e)}),e)}function H(e,t,n){O(e,F)||S(e,F,B({},e[F])),function(e){return e.annotationType_===Z}(n)||(e[F][t]=n)}function W(e){return"object"==typeof e&&"string"==typeof e.kind}var U=Symbol("mobx administration"),G=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=$e.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return yt(this)},t.reportChanged=function(){bt(),wt(this),_t()},t.toString=function(){return this.name_},e}(),q=x("Atom",G);function Y(e,t,n){void 0===t&&(t=g),void 0===n&&(n=g);var r=new G(e);return t!==g&&qt(Wt,r,t,undefined),n!==g&&Gt(r,n),r}var X={identity:function(e,t){return e===t},structural:function(e,t){return vr(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t},shallow:function(e,t){return vr(e,t,1)}};function K(e,t,n){return cn(e)?e:Array.isArray(e)?Re.array(e,{name:n}):y(e)?Re.object(e,void 0,{name:n}):M(e)?Re.map(e,{name:n}):E(e)?Re.set(e,{name:n}):"function"!=typeof e||jt(e)||on(e)?e:w(e)?rn(e):Lt(n,e)}function $(e){return e}var Z="override";function J(e,t){return{annotationType_:e,options_:t,make_:Q,extend_:ee,decorate_20223_:te}}function Q(e,t,n,r){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(jt(n.value))return 1;var a=ne(e,this,t,n,!1);return c(r,t,a),2}function ee(e,t,n,r){var i=ne(e,this,t,n);return e.defineProperty_(t,i,r)}function te(e,t){var n=t.kind,i=t.name,a=t.addInitializer,o=this;if("field"!=n){var s,c,l,u,h,d;if("method"==n)return jt(e)||(c=e,e=We(null!=(l=null==(u=o.options_)?void 0:u.name)?l:i.toString(),c,null!=(h=null==(d=o.options_)?void 0:d.autoAction)&&h)),null!=(s=this.options_)&&s.bound&&a((function(){var e=this,t=e[i].bind(e);t.isMobxAction=!0,e[i]=t})),e;r("Cannot apply '"+o.annotationType_+"' to '"+String(i)+"' (kind: "+n+"):\n'"+o.annotationType_+"' can only be used on properties with a function value.")}else a((function(){H(this,i,o)}))}function ne(e,t,n,r,i){var a,o,s,c,l,u,h,d;void 0===i&&(i=pt.safeDescriptors),d=r,t.annotationType_,d.value;var f,p=r.value;return null!=(a=t.options_)&&a.bound&&(p=p.bind(null!=(f=e.proxy_)?f:e.target_)),{value:We(null!=(o=null==(s=t.options_)?void 0:s.name)?o:n.toString(),p,null!=(c=null==(l=t.options_)?void 0:l.autoAction)&&c,null!=(u=t.options_)&&u.bound?null!=(h=e.proxy_)?h:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function re(e,t){return{annotationType_:e,options_:t,make_:ie,extend_:ae,decorate_20223_:oe}}function ie(e,t,n,r){var i;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!O(e.target_,t)||!on(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(on(n.value))return 1;var a=se(e,this,0,n,!1,!1);return c(r,t,a),2}function ae(e,t,n,r){var i,a=se(e,this,0,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,a,r)}function oe(e,t){var n,r=t.name,i=t.addInitializer;return on(e)||(e=rn(e)),null!=(n=this.options_)&&n.bound&&i((function(){var e=this,t=e[r].bind(e);t.isMobXFlow=!0,e[r]=t})),e}function se(e,t,n,r,i,a){var o;void 0===a&&(a=pt.safeDescriptors),o=r,t.annotationType_,o.value;var s,c=r.value;return on(c)||(c=rn(c)),i&&((c=c.bind(null!=(s=e.proxy_)?s:e.target_)).isMobXFlow=!0),{value:c,configurable:!a||e.isPlainObject_,enumerable:!1,writable:!a}}function ce(e,t){return{annotationType_:e,options_:t,make_:le,extend_:ue,decorate_20223_:he}}function le(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function ue(e,t,n,r){return i=n,this.annotationType_,i.get,e.defineComputedProperty_(t,B({},this.options_,{get:n.get,set:n.set}),r);var i}function he(e,t){var n=this,r=t.name;return(0,t.addInitializer)((function(){var t=$n(this)[U],i=B({},n.options_,{get:e,context:this});i.name||(i.name="ObservableObject."+r.toString()),t.values_.set(r,new Je(i))})),function(){return this[U].getObservablePropValue_(r)}}function de(e,t){return{annotationType_:e,options_:t,make_:fe,extend_:pe,decorate_20223_:me}}function fe(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function pe(e,t,n,r){var i,a;return this.annotationType_,e.defineObservableProperty_(t,n.value,null!=(i=null==(a=this.options_)?void 0:a.enhancer)?i:K,r)}function me(e,t){var n=this,r=t.kind,i=t.name,a=new WeakSet;function o(e,t){var r,o,s=$n(e)[U],c=new Xe(t,null!=(r=null==(o=n.options_)?void 0:o.enhancer)?r:K,"ObservableObject."+i.toString(),!1);s.values_.set(i,c),a.add(e)}if("accessor"==r)return{get:function(){return a.has(this)||o(this,e.get.call(this)),this[U].getObservablePropValue_(i)},set:function(e){return a.has(this)||o(this,e),this[U].setObservablePropValue_(i,e)},init:function(e){return a.has(this)||o(this,e),e}}}var ge="true",ve=be();function be(e){return{annotationType_:ge,options_:e,make_:_e,extend_:ye,decorate_20223_:we}}function _e(e,t,n,r){var i,a,o,s;if(n.get)return De.make_(e,t,n,r);if(n.set){var l=We(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!pt.safeDescriptors||e.isPlainObject_,set:l})?0:2:(c(r,t,{configurable:!0,set:l}),2)}if(r!==e.target_&&"function"==typeof n.value)return w(n.value)?(null!=(s=this.options_)&&s.autoBind?rn.bound:rn).make_(e,t,n,r):(null!=(o=this.options_)&&o.autoBind?Lt.bound:Lt).make_(e,t,n,r);var u,h=!1===(null==(i=this.options_)?void 0:i.deep)?Re.ref:Re;return"function"==typeof n.value&&null!=(a=this.options_)&&a.autoBind&&(n.value=n.value.bind(null!=(u=e.proxy_)?u:e.target_)),h.make_(e,t,n,r)}function ye(e,t,n,r){var i,a,o;return n.get?De.extend_(e,t,n,r):n.set?e.defineProperty_(t,{configurable:!pt.safeDescriptors||e.isPlainObject_,set:We(t.toString(),n.set)},r):("function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(o=e.proxy_)?o:e.target_)),(!1===(null==(a=this.options_)?void 0:a.deep)?Re.ref:Re).extend_(e,t,n,r))}function we(e,t){r("'"+this.annotationType_+"' cannot be used as a decorator")}var Se={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ke(e){return e||Se}Object.freeze(Se);var xe=de("observable"),Me=de("observable.ref",{enhancer:$}),Ee=de("observable.shallow",{enhancer:function(e,t,n){return null==e||Qn(e)||Ln(e)||Wn(e)||qn(e)?e:Array.isArray(e)?Re.array(e,{name:n,deep:!1}):y(e)?Re.object(e,void 0,{name:n,deep:!1}):M(e)?Re.map(e,{name:n,deep:!1}):E(e)?Re.set(e,{name:n,deep:!1}):void 0}}),Te=de("observable.struct",{enhancer:function(e,t){return vr(e,t)?t:e}}),Ce=V(xe);function Ae(e){return!0===e.deep?K:!1===e.deep?$:(t=e.defaultDecorator)&&null!=(n=null==(r=t.options_)?void 0:r.enhancer)?n:K;var t,n,r}function Oe(e,t,n){return W(t)?xe.decorate_20223_(e,t):b(t)?void H(e,t,xe):cn(e)?e:y(e)?Re.object(e,t,n):Array.isArray(e)?Re.array(e,t):M(e)?Re.map(e,t):E(e)?Re.set(e,t):"object"==typeof e&&null!==e?e:Re.box(e,t)}o(Oe,Ce);var Pe,Ie,Re=o(Oe,{box:function(e,t){var n=ke(t);return new Xe(e,Ae(n),n.name,!0,n.equals)},array:function(e,t){var n=ke(t);return(!1===pt.useProxies||!1===n.proxy?hr:Tn)(e,Ae(n),n.name)},map:function(e,t){var n=ke(t);return new Hn(e,Ae(n),n.name)},set:function(e,t){var n=ke(t);return new Gn(e,Ae(n),n.name)},object:function(e,t,n){return mr((function(){return function(e,t,n,r){var i=P(t);return mr((function(){var t=$n(e,r)[U];C(i).forEach((function(e){t.extend_(e,i[e],!n||!(e in n)||n[e])}))})),e}(!1===pt.useProxies||!1===(null==n?void 0:n.proxy)?$n({},n):function(e,t){var n,r;return p(),null!=(r=(n=(e=$n(e,t))[U]).proxy_)?r:n.proxy_=new Proxy(e,mn)}({},n),e,t)}))},ref:V(Me),shallow:V(Ee),deep:Ce,struct:V(Te)}),Be="computed",Ne=ce(Be),Le=ce("computed.struct",{equals:X.structural}),De=function(e,t){if(W(t))return Ne.decorate_20223_(e,t);if(b(t))return H(e,t,Ne);if(y(e))return V(ce(Be,e));var n=y(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new Je(n)};Object.assign(De,Ne),De.struct=V(Le);var je,ze=0,Fe=1,Ve=null!=(Pe=null==(Ie=s((function(){}),"name"))?void 0:Ie.configurable)&&Pe,He={value:"action",configurable:!0,writable:!1,enumerable:!1};function We(e,t,n,r){function i(){return Ue(0,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,i.toString=function(){return t.toString()},Ve&&(He.value=e,c(i,"name",He)),i}function Ue(e,t,n,i,a){var o=function(e,t,n,r){var i=pt.trackingDerivation,a=!t||!i;bt();var o=pt.allowStateChanges;a&&(ot(),o=Ge(!0));var s={runAsAction_:a,prevDerivation_:i,prevAllowStateChanges_:o,prevAllowStateReads_:ct(!0),notifySpy_:!1,startTime_:0,actionId_:Fe++,parentActionId_:ze};return ze=s.actionId_,s}(0,t);try{return n.apply(i,a)}catch(e){throw o.error_=e,e}finally{!function(e){ze!==e.actionId_&&r(30),ze=e.parentActionId_,void 0!==e.error_&&(pt.suppressReactionErrors=!0),qe(e.prevAllowStateChanges_),lt(e.prevAllowStateReads_),_t(),e.runAsAction_&&st(e.prevDerivation_),pt.suppressReactionErrors=!1}(o)}}function Ge(e){var t=pt.allowStateChanges;return pt.allowStateChanges=e,t}function qe(e){pt.allowStateChanges=e}je=Symbol.toPrimitive;var Ye,Xe=function(e){function t(t,n,r,i,a){var o;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===a&&(a=X.default),(o=e.call(this,r)||this).enhancer=void 0,o.name_=void 0,o.equals=void 0,o.hasUnreportedChange_=!1,o.interceptors_=void 0,o.changeListeners_=void 0,o.value_=void 0,o.dehancer=void 0,o.enhancer=n,o.name_=r,o.equals=a,o.value_=n(t,void 0,r),o}N(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_,(e=this.prepareNewValue_(e))!==pt.UNCHANGED&&this.setNewValue_(e)},n.prepareNewValue_=function(e){if(gn(this)){var t=bn(this,{object:this,type:xn,newValue:e});if(!t)return pt.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?pt.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),_n(this)&&wn(this,{type:xn,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return vn(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:xn,newValue:this.value_,oldValue:void 0}),yn(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return A(this.get())},n[je]=function(){return this.valueOf()},t}(G),Ke=x("ObservableValue",Xe);Ye=Symbol.toPrimitive;var $e,Ze,Je=function(){function e(e){this.dependenciesState_=$e.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=$e.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new et(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Ze.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||r(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=We("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?X.structural:X.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){!function(e){e.lowestObserverState_===$e.UP_TO_DATE_&&(e.lowestObserverState_=$e.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===$e.UP_TO_DATE_&&(e.dependenciesState_=$e.POSSIBLY_STALE_,e.onBecomeStale_())})))}(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function(){if(this.isComputing_&&r(32,this.name_,this.derivation),0!==pt.inBatch||0!==this.observers_.size||this.keepAlive_){if(yt(this),nt(this)){var e=pt.trackingContext;this.keepAlive_&&!e&&(pt.trackingContext=this),this.trackAndCompute()&&function(e){e.lowestObserverState_!==$e.STALE_&&(e.lowestObserverState_=$e.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===$e.POSSIBLY_STALE_?t.dependenciesState_=$e.STALE_:t.dependenciesState_===$e.UP_TO_DATE_&&(e.lowestObserverState_=$e.UP_TO_DATE_)})))}(this),pt.trackingContext=e}}else nt(this)&&(this.warnAboutUntrackedRead_(),bt(),this.value_=this.computeValue_(!1),_t());var t=this.value_;if(tt(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter_&&r(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else r(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===$e.NOT_TRACKING_,n=this.computeValue_(!0),r=t||tt(e)||tt(n)||!this.equals_(e,n);return r&&(this.value_=n),r},t.computeValue_=function(e){this.isComputing_=!0;var t,n=Ge(!1);if(e)t=rt(this,this.derivation,this.scope_);else if(!0===pt.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new et(e)}return qe(n),this.isComputing_=!1,t},t.suspend_=function(){this.keepAlive_||(it(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,r=!0,i=void 0;return zt((function(){var a=n.get();if(!r||t){var o=ot();e({observableKind:"computed",debugObjectName:n.name_,type:xn,object:n,newValue:a,oldValue:i}),st(o)}r=!1,i=a}))},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return A(this.get())},t[Ye]=function(){return this.valueOf()},e}(),Qe=x("ComputedValue",Je);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}($e||($e={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(Ze||(Ze={}));var et=function(e){this.cause=void 0,this.cause=e};function tt(e){return e instanceof et}function nt(e){switch(e.dependenciesState_){case $e.UP_TO_DATE_:return!1;case $e.NOT_TRACKING_:case $e.STALE_:return!0;case $e.POSSIBLY_STALE_:for(var t=ct(!0),n=ot(),r=e.observing_,i=r.length,a=0;a<i;a++){var o=r[a];if(Qe(o)){if(pt.disableErrorBoundaries)o.get();else try{o.get()}catch(e){return st(n),lt(t),!0}if(e.dependenciesState_===$e.STALE_)return st(n),lt(t),!0}}return ut(e),st(n),lt(t),!1}}function rt(e,t,n){var r=ct(!0);ut(e),e.newObserving_=new Array(0===e.runId_?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++pt.runId;var i,a=pt.trackingDerivation;if(pt.trackingDerivation=e,pt.inBatch++,!0===pt.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new et(e)}return pt.inBatch--,pt.trackingDerivation=a,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=$e.UP_TO_DATE_,i=0,a=e.unboundDepsCount_,o=0;o<a;o++){var s=n[o];0===s.diffValue_&&(s.diffValue_=1,i!==o&&(n[i]=s),i++),s.dependenciesState_>r&&(r=s.dependenciesState_)}for(n.length=i,e.newObserving_=null,a=t.length;a--;){var c=t[a];0===c.diffValue_&&gt(c,e),c.diffValue_=0}for(;i--;){var l=n[i];1===l.diffValue_&&(l.diffValue_=0,mt(l,e))}r!==$e.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),lt(r),i}function it(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)gt(t[n],e);e.dependenciesState_=$e.NOT_TRACKING_}function at(e){var t=ot();try{return e()}finally{st(t)}}function ot(){var e=pt.trackingDerivation;return pt.trackingDerivation=null,e}function st(e){pt.trackingDerivation=e}function ct(e){var t=pt.allowStateReads;return pt.allowStateReads=e,t}function lt(e){pt.allowStateReads=e}function ut(e){if(e.dependenciesState_!==$e.UP_TO_DATE_){e.dependenciesState_=$e.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=$e.UP_TO_DATE_}}var ht=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},dt=!0,ft=!1,pt=function(){var e=a();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(dt=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new ht).version&&(dt=!1),dt?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new ht):(setTimeout((function(){ft||r(35)}),1),new ht)}();function mt(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function gt(e,t){e.observers_.delete(t),0===e.observers_.size&&vt(e)}function vt(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,pt.pendingUnobservations.push(e))}function bt(){pt.inBatch++}function _t(){if(0==--pt.inBatch){Mt();for(var e=pt.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof Je&&n.suspend_())}pt.pendingUnobservations=[]}}function yt(e){var t=pt.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&pt.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),e.isBeingObserved_):(0===e.observers_.size&&pt.inBatch>0&&vt(e),!1)}function wt(e){e.lowestObserverState_!==$e.STALE_&&(e.lowestObserverState_=$e.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===$e.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=$e.STALE_})))}var St=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=$e.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Ze.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,pt.pendingReactions.push(this),Mt())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){bt(),this.isScheduled_=!1;var e=pt.trackingContext;if(pt.trackingContext=this,nt(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}pt.trackingContext=e,_t()}},t.track=function(e){if(!this.isDisposed_){bt(),this.isRunning_=!0;var t=pt.trackingContext;pt.trackingContext=this;var n=rt(this,e,void 0);pt.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&it(this),tt(n)&&this.reportExceptionInDerivation_(n.cause),_t()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(pt.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";pt.suppressReactionErrors||console.error(n,e),pt.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(bt(),it(this),_t()))},t.getDisposer_=function(e){var t=this,n=function n(){t.dispose(),null==e||null==e.removeEventListener||e.removeEventListener("abort",n)};return null==e||null==e.addEventListener||e.addEventListener("abort",n),n[U]=this,n},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1)},e}(),kt=100,xt=function(e){return e()};function Mt(){pt.inBatch>0||pt.isRunningReactions||xt(Et)}function Et(){pt.isRunningReactions=!0;for(var e=pt.pendingReactions,t=0;e.length>0;){++t===kt&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}pt.isRunningReactions=!1}var Tt=x("Reaction",St),Ct="action",At="autoAction",Ot=J(Ct),Pt=J("action.bound",{bound:!0}),It=J(At,{autoAction:!0}),Rt=J("autoAction.bound",{autoAction:!0,bound:!0});function Bt(e){return function(t,n){return v(t)?We(t.name||"<unnamed action>",t,e):v(n)?We(t,n,e):W(n)?(e?It:Ot).decorate_20223_(t,n):b(n)?H(t,n,e?It:Ot):b(t)?V(J(e?At:Ct,{name:t,autoAction:e})):void 0}}var Nt=Bt(!1);Object.assign(Nt,Ot);var Lt=Bt(!0);function Dt(e){return Ue(e.name,!1,e,this,void 0)}function jt(e){return v(e)&&!0===e.isMobxAction}function zt(e,t){var n,r,i,a,o;void 0===t&&(t=h);var s,c=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(t.scheduler||t.delay){var l=Vt(t),u=!1;s=new St(c,(function(){u||(u=!0,l((function(){u=!1,s.isDisposed_||s.track(d)})))}),t.onError,t.requiresObservable)}else s=new St(c,(function(){this.track(d)}),t.onError,t.requiresObservable);function d(){e(s)}return null!=(i=t)&&null!=(a=i.signal)&&a.aborted||s.schedule_(),s.getDisposer_(null==(o=t)?void 0:o.signal)}Object.assign(Lt,It),Nt.bound=V(Pt),Lt.bound=V(Rt);var Ft=function(e){return e()};function Vt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Ft}function Ht(e,t,n){var r,i,a,o;void 0===n&&(n=h);var s,c,l,u=null!=(r=n.name)?r:"Reaction",d=Nt(u,n.onError?(s=n.onError,c=t,function(){try{return c.apply(this,arguments)}catch(e){s.call(this,e)}}):t),f=!n.scheduler&&!n.delay,p=Vt(n),m=!0,g=!1,v=n.compareStructural?X.structural:n.equals||X.default,b=new St(u,(function(){m||f?_():g||(g=!0,p(_))}),n.onError,n.requiresObservable);function _(){if(g=!1,!b.isDisposed_){var t=!1,r=l;b.track((function(){var n=function(e,t){var n=Ge(e);try{return t()}finally{qe(n)}}(!1,(function(){return e(b)}));t=m||!v(l,n),l=n})),(m&&n.fireImmediately||!m&&t)&&d(l,r,b),m=!1}}return null!=(i=n)&&null!=(a=i.signal)&&a.aborted||b.schedule_(),b.getDisposer_(null==(o=n)?void 0:o.signal)}var Wt="onBO",Ut="onBUO";function Gt(e,t,n){return qt(Ut,e,t,n)}function qt(e,t,n,r){var i="function"==typeof r?dr(t,n):dr(t),a=v(r)?r:n,o=e+"L";return i[o]?i[o].add(a):i[o]=new Set([a]),function(){var e=i[o];e&&(e.delete(a),0===e.size&&delete i[o])}}var Yt="never",Xt="always",Kt="observed";function $t(e){!0===e.isolateGlobalState&&function(){if((pt.pendingReactions.length||pt.inBatch||pt.isRunningReactions)&&r(36),ft=!0,dt){var e=a();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),pt=new ht}}();var t,n,i=e.useProxies,o=e.enforceActions;if(void 0!==i&&(pt.useProxies=i===Xt||i!==Yt&&"undefined"!=typeof Proxy),"ifavailable"===i&&(pt.verifyProxies=!0),void 0!==o){var s=o===Xt?Xt:o===Kt;pt.enforceActions=s,pt.allowStateChanges=!0!==s&&s!==Xt}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(pt[t]=!!e[t])})),pt.allowStateReads=!pt.observableRequiresReaction,e.reactionScheduler&&(t=e.reactionScheduler,n=xt,xt=function(e){return t((function(){return n(e)}))})}function Zt(e,t){return Jt(dr(e,t))}function Jt(e){var t,n={name:e.name_};return e.observing_&&e.observing_.length>0&&(n.dependencies=(t=e.observing_,Array.from(new Set(t))).map(Jt)),n}var Qt=0;function en(){this.message="FLOW_CANCELLED"}en.prototype=Object.create(Error.prototype);var tn=re("flow"),nn=re("flow.bound",{bound:!0}),rn=Object.assign((function(e,t){if(W(t))return tn.decorate_20223_(e,t);if(b(t))return H(e,t,tn);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=arguments,i=++Qt,a=Nt(r+" - runid: "+i+" - init",n).apply(this,t),o=void 0,s=new Promise((function(t,n){var s=0;function c(e){var t;o=void 0;try{t=Nt(r+" - runid: "+i+" - yield "+s++,a.next).call(a,e)}catch(e){return n(e)}u(t)}function l(e){var t;o=void 0;try{t=Nt(r+" - runid: "+i+" - yield "+s++,a.throw).call(a,e)}catch(e){return n(e)}u(t)}function u(e){if(!v(null==e?void 0:e.then))return e.done?t(e.value):(o=Promise.resolve(e.value)).then(c,l);e.then(u,n)}e=n,c(void 0)}));return s.cancel=Nt(r+" - runid: "+i+" - cancel",(function(){try{o&&an(o);var t=a.return(void 0),n=Promise.resolve(t.value);n.then(g,g),an(n),e(new en)}catch(t){e(t)}})),s};return i.isMobXFlow=!0,i}),tn);function an(e){v(e.cancel)&&e.cancel()}function on(e){return!0===(null==e?void 0:e.isMobXFlow)}function sn(e,t){return function(e,t){if(void 0===t)return Qe(e);if(!1===Qn(e))return!1;if(!e[U].values_.has(t))return!1;var n=dr(e,t);return Qe(n)}(e,t)}function cn(e){return function(e,t){return!!e&&(void 0!==t?!!Qn(e)&&e[U].values_.has(t):Qn(e)||!!e[U]||q(e)||Tt(e)||Qe(e))}(e)}function ln(e,t,n,r){return v(n)?function(e,t,n,r){return fr(e,t).observe_(n,r)}(e,t,n,r):function(e,t,n){return fr(e).observe_(t,n)}(e,t,n)}function un(e,t,n){return e.set(t,n),n}function hn(e,t){if(null==e||"object"!=typeof e||e instanceof Date||!cn(e))return e;if(Ke(e)||Qe(e))return hn(e.get(),t);if(t.has(e))return t.get(e);if(Ln(e)){var n=un(t,e,new Array(e.length));return e.forEach((function(e,r){n[r]=hn(e,t)})),n}if(qn(e)){var i=un(t,e,new Set);return e.forEach((function(e){i.add(hn(e,t))})),i}if(Wn(e)){var a=un(t,e,new Map);return e.forEach((function(e,n){a.set(n,hn(e,t))})),a}var o=un(t,e,{});return function(e){if(Qn(e))return e[U].ownKeys_();r(38)}(e).forEach((function(n){l.propertyIsEnumerable.call(e,n)&&(o[n]=hn(e[n],t))})),o}function dn(e,t){return hn(e,new Map)}function fn(e,t){void 0===t&&(t=void 0),bt();try{return e.apply(t)}finally{_t()}}function pn(e){return e[U]}rn.bound=V(nn);var mn={has:function(e,t){return pn(e).has_(t)},get:function(e,t){return pn(e).get_(t)},set:function(e,t,n){var r;return!!b(t)&&(null==(r=pn(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!b(t)&&(null==(n=pn(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=pn(e).defineProperty_(t,n))||r},ownKeys:function(e){return pn(e).ownKeys_()},preventExtensions:function(e){r(13)}};function gn(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function vn(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),m((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function bn(e,t){var n=ot();try{for(var i=[].concat(e.interceptors_||[]),a=0,o=i.length;a<o&&((t=i[a](t))&&!t.type&&r(14),t);a++);return t}finally{st(n)}}function _n(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function yn(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),m((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function wn(e,t){var n=ot(),r=e.changeListeners_;if(r){for(var i=0,a=(r=r.slice()).length;i<a;i++)r[i](t);st(n)}}function Sn(e,t,n){return mr((function(){var r=$n(e,n)[U];null!=t||(t=function(e){return O(e,F)||S(e,F,B({},e[F])),e[F]}(e)),C(t).forEach((function(e){return r.make_(e,t[e])}))})),e}var kn="splice",xn="update",Mn={get:function(e,t){var n=e[U];return t===U?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?O(Cn,t)?Cn[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[U];return"length"===t&&r.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){r(15)}},En=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new G(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return vn(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),yn(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&r("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),i=0;i<e-t;i++)n[i]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&r(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&ur(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=u),gn(this)){var a=bn(this,{object:this.proxy_,type:kn,index:e,removedCount:t,added:n});if(!a)return u;t=a.removedCount,n=a.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var o=n.length-t;this.updateArrayLength_(i,o)}var s=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,s),this.dehanceValues_(s)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),a=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var o=0;o<n.length;o++)this.values_[e+o]=n[o];for(var s=0;s<a.length;s++)this.values_[e+n.length+s]=a[s];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=_n(this),a=i||r?{observableKind:"array",object:this.proxy_,type:xn,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&wn(this,a)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=_n(this),a=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:kn,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&wn(this,a)},t.get_=function(e){if(!(this.legacyMode_&&e>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx] Out of bounds read: "+e)},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&r(17,e,n.length),e<n.length){this.atom_;var i=n[e];if(gn(this)){var a=bn(this,{type:xn,object:this.proxy_,index:e,newValue:t});if(!a)return;t=a.newValue}(t=this.enhancer_(t,i))!==i&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,i))}else{for(var o=new Array(e+1-n.length),s=0;s<o.length-1;s++)o[s]=void 0;o[o.length-1]=t,this.spliceWithArray_(n.length,0,o)}},e}();function Tn(e,t,n,r){return void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),p(),mr((function(){var i=new En(n,t,r,!1);k(i.values_,U,i);var a=new Proxy(i.values_,Mn);return i.proxy_=a,e&&e.length&&i.spliceWithArray_(0,0,e),a}))}var Cn={clear:function(){return this.splice(0)},replace:function(e){var t=this[U];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=this[U];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(e);case 2:return a.spliceWithArray_(e,t)}return a.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[U].spliceWithArray_(e,t,n)},push:function(){for(var e=this[U],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[U].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[U],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return pt.trackingDerivation&&r(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){pt.trackingDerivation&&r(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[U],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function An(e,t){"function"==typeof Array.prototype[e]&&(Cn[e]=t(e))}function On(e){return function(){var t=this[U];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Pn(e){return function(t,n){var r=this,i=this[U];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(n,e,i,r)}))}}function In(e){return function(){var t=this,n=this[U];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}An("at",On),An("concat",On),An("flat",On),An("includes",On),An("indexOf",On),An("join",On),An("lastIndexOf",On),An("slice",On),An("toString",On),An("toLocaleString",On),An("toSorted",On),An("toSpliced",On),An("with",On),An("every",Pn),An("filter",Pn),An("find",Pn),An("findIndex",Pn),An("findLast",Pn),An("findLastIndex",Pn),An("flatMap",Pn),An("forEach",Pn),An("map",Pn),An("some",Pn),An("toReversed",Pn),An("reduce",In),An("reduceRight",In);var Rn,Bn,Nn=x("ObservableArrayAdministration",En);function Ln(e){return _(e)&&Nn(e[U])}var Dn={},jn="add",zn="delete";Rn=Symbol.iterator,Bn=Symbol.toStringTag;var Fn,Vn,Hn=function(){function e(e,t,n){var i=this;void 0===t&&(t=K),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[U]=Dn,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,v(Map)||r(18),mr((function(){i.keysAtom_=Y("ObservableMap.keys()"),i.data_=new Map,i.hasMap_=new Map,e&&i.merge(e)}))}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!pt.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new Xe(this.has_(e),$,"ObservableMap.key?",!1);this.hasMap_.set(e,r),Gt(r,(function(){return t.hasMap_.delete(e)}))}return n.get()},t.set=function(e,t){var n=this.has_(e);if(gn(this)){var r=bn(this,{type:n?xn:jn,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if(this.keysAtom_,gn(this)&&!bn(this,{type:zn,object:this,name:e}))return!1;if(this.has_(e)){var n=_n(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:zn,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return fn((function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&wn(this,r),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==pt.UNCHANGED){var r=_n(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:xn,object:this,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),r&&wn(this,i)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,fn((function(){var r,i=new Xe(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()}));var r=_n(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:jn,object:this,name:e,newValue:t}:null;r&&wn(this,i)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return yr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},t.entries=function(){var e=this,t=this.keys();return yr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},t[Rn]=function(){return this.entries()},t.forEach=function(e,t){for(var n,r=z(this);!(n=r()).done;){var i=n.value,a=i[0],o=i[1];e.call(t,o,a,this)}},t.merge=function(e){var t=this;return Wn(e)&&(e=new Map(e)),fn((function(){y(e)?function(e){var t=Object.keys(e);if(!T)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return l.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];return t.set(n,r)})):M(e)?(e.constructor!==Map&&r(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&r(20,e)})),this},t.clear=function(){var e=this;fn((function(){at((function(){for(var t,n=z(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.replace=function(e){var t=this;return fn((function(){for(var n,i=function(e){if(M(e)||Wn(e))return e;if(Array.isArray(e))return new Map(e);if(y(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return r(21,e)}(e),a=new Map,o=!1,s=z(t.data_.keys());!(n=s()).done;){var c=n.value;if(!i.has(c))if(t.delete(c))o=!0;else{var l=t.data_.get(c);a.set(c,l)}}for(var u,h=z(i.entries());!(u=h()).done;){var d=u.value,f=d[0],p=d[1],m=t.data_.has(f);if(t.set(f,p),t.data_.has(f)){var g=t.data_.get(f);a.set(f,g),m||(o=!0)}}if(!o)if(t.data_.size!==a.size)t.keysAtom_.reportChanged();else for(var v=t.data_.keys(),b=a.keys(),_=v.next(),w=b.next();!_.done;){if(_.value!==w.value){t.keysAtom_.reportChanged();break}_=v.next(),w=b.next()}t.data_=a})),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return yn(this,e)},t.intercept_=function(e){return vn(this,e)},R(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Bn,get:function(){return"Map"}}]),e}(),Wn=x("ObservableMap",Hn),Un={};Fn=Symbol.iterator,Vn=Symbol.toStringTag;var Gn=function(){function e(e,t,n){var i=this;void 0===t&&(t=K),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[U]=Un,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,v(Set)||r(22),this.enhancer_=function(e,r){return t(e,r,n)},mr((function(){i.atom_=Y(i.name_),e&&i.replace(e)}))}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;fn((function(){at((function(){for(var t,n=z(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.forEach=function(e,t){for(var n,r=z(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},t.add=function(e){var t=this;if(this.atom_,gn(this)&&!bn(this,{type:jn,object:this,newValue:e}))return this;if(!this.has(e)){fn((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var n=_n(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:jn,object:this,newValue:e}:null;n&&wn(this,r)}return this},t.delete=function(e){var t=this;if(gn(this)&&!bn(this,{type:zn,object:this,oldValue:e}))return!1;if(this.has(e)){var n=_n(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:zn,object:this,oldValue:e}:null;return fn((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&wn(this,r),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return yr({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return yr({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},t.replace=function(e){var t=this;return qn(e)&&(e=new Set(e)),fn((function(){Array.isArray(e)||E(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&r("Cannot initialize set from "+e)})),this},t.observe_=function(e,t){return yn(this,e)},t.intercept_=function(e){return vn(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Fn]=function(){return this.values()},R(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Vn,get:function(){return"Set"}}]),e}(),qn=x("ObservableSet",Gn),Yn=Object.create(null),Xn="remove",Kn=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=ve),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new G("ObservableObject.keys"),this.isPlainObject_=y(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof Je)return n.set(t),!0;if(gn(this)){var r=bn(this,{type:xn,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==pt.UNCHANGED){var i=_n(this),a=i?{type:xn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),i&&wn(this,a)}return!0},t.get_=function(e){return pt.trackingDerivation&&!O(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),O(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!pt.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new Xe(e in this.target_,$,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(!(e in this.target_)){var n;if(null!=(n=this.target_[F])&&n[e])return;r(1,t.annotationType_,this.name_+"."+e.toString())}for(var i=this.target_;i&&i!==l;){var a=s(i,e);if(a){var o=t.make_(this,e,a,i);if(0===o)return;if(1===o)break}i=Object.getPrototypeOf(i)}er(this,0,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);var i=n.extend_(this,e,t,r);return i&&er(this,0,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{bt();var r=this.delete_(e);if(!r)return r;if(gn(this)){var i=bn(this,{object:this.proxy_||this.target_,name:e,type:jn,newValue:t.value});if(!i)return null;var a=i.newValue;t.value!==a&&(t=B({},t,{value:a}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else c(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{_t()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1),this.keysAtom_;try{bt();var i=this.delete_(e);if(!i)return i;if(gn(this)){var a=bn(this,{object:this.proxy_||this.target_,name:e,type:jn,newValue:t});if(!a)return null;t=a.newValue}var o=Jn(e),s={configurable:!pt.safeDescriptors||this.isPlainObject_,enumerable:!0,get:o.get,set:o.set};if(r){if(!Reflect.defineProperty(this.target_,e,s))return!1}else c(this.target_,e,s);var l=new Xe(t,n,"ObservableObject.key",!1);this.values_.set(e,l),this.notifyPropertyAddition_(e,l.value_)}finally{_t()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{bt();var r=this.delete_(e);if(!r)return r;if(gn(this)&&!bn(this,{object:this.proxy_||this.target_,name:e,type:jn,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=Jn(e),a={configurable:!pt.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,a))return!1}else c(this.target_,e,a);this.values_.set(e,new Je(t)),this.notifyPropertyAddition_(e,void 0)}finally{_t()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),this.keysAtom_,!O(this.target_,e))return!0;if(gn(this)&&!bn(this,{object:this.proxy_||this.target_,name:e,type:Xn}))return null;try{var n,r;bt();var i,a=_n(this),o=this.values_.get(e),c=void 0;if(!o&&a&&(c=null==(i=s(this.target_,e))?void 0:i.value),t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(o&&(this.values_.delete(e),o instanceof Xe&&(c=o.value_),wt(o)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(e in this.target_),a){var l={type:Xn,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:c,name:e};a&&wn(this,l)}}finally{_t()}return!0},t.observe_=function(e,t){return yn(this,e)},t.intercept_=function(e){return vn(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r,i=_n(this);if(i){var a=i?{type:jn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;i&&wn(this,a)}null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),C(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function $n(e,t){var n;if(O(e,U))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new Kn(e,new Map,String(r),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:be(e):void 0}(t));return S(e,U,i),e}var Zn=x("ObservableObjectAdministration",Kn);function Jn(e){return Yn[e]||(Yn[e]={get:function(){return this[U].getObservablePropValue_(e)},set:function(t){return this[U].setObservablePropValue_(e,t)}})}function Qn(e){return!!_(e)&&Zn(e[U])}function er(e,t,n){var r;null==(r=e.target_[F])||delete r[n]}var tr,nr,rr=cr(0),ir=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,!1===e}(),ar=0,or=function(){};tr=or,nr=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(tr.prototype,nr):void 0!==tr.prototype.__proto__?tr.prototype.__proto__=nr:tr.prototype=nr;var sr=function(e,t,n){function r(t,n,r,i){var a;return void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),a=e.call(this)||this,mr((function(){var e=new En(r,n,i,!0);e.proxy_=D(a),k(D(a),U,e),t&&t.length&&a.spliceWithArray(0,0,t),ir&&Object.defineProperty(D(a),"0",rr)})),a}N(r,e);var i=r.prototype;return i.concat=function(){this[U].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return Ln(e)?e.slice():e})))},i[n]=function(){var e=this,t=0;return yr({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},R(r,[{key:"length",get:function(){return this[U].getArrayLength_()},set:function(e){this[U].setArrayLength_(e)}},{key:t,get:function(){return"Array"}}]),r}(or,Symbol.toStringTag,Symbol.iterator);function cr(e){return{enumerable:!1,configurable:!0,get:function(){return this[U].get_(e)},set:function(t){this[U].set_(e,t)}}}function lr(e){c(sr.prototype,""+e,cr(e))}function ur(e){if(e>ar){for(var t=ar;t<e+100;t++)lr(t);ar=e}}function hr(e,t,n){return new sr(e,t,n)}function dr(e,t){if("object"==typeof e&&null!==e){if(Ln(e))return void 0!==t&&r(23),e[U].atom_;if(qn(e))return e.atom_;if(Wn(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||r(25,t,pr(e)),n}if(Qn(e)){if(!t)return r(26);var i=e[U].values_.get(t);return i||r(27,t,pr(e)),i}if(q(e)||Qe(e)||Tt(e))return e}else if(v(e)&&Tt(e[U]))return e[U];r(28)}function fr(e,t){return e||r(29),void 0!==t?fr(dr(e,t)):q(e)||Qe(e)||Tt(e)||Wn(e)||qn(e)?e:e[U]?e[U]:void r(24,e)}function pr(e,t){var n;if(void 0!==t)n=dr(e,t);else{if(jt(e))return e.name;n=Qn(e)||Wn(e)||qn(e)?fr(e):dr(e)}return n.name_}function mr(e){var t=ot(),n=Ge(!0);bt();try{return e()}finally{_t(),qe(n),st(t)}}Object.entries(Cn).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&S(sr.prototype,t,n)})),ur(1e3);var gr=l.toString;function vr(e,t,n){return void 0===n&&(n=-1),br(e,t,n)}function br(e,t,n,r,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var a=typeof e;if("function"!==a&&"object"!==a&&"object"!=typeof t)return!1;var o=gr.call(e);if(o!==gr.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=_r(e),t=_r(t);var s="[object Array]"===o;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var c=e.constructor,l=t.constructor;if(c!==l&&!(v(c)&&c instanceof c&&v(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var u=(r=r||[]).length;u--;)if(r[u]===e)return i[u]===t;if(r.push(e),i.push(t),s){if((u=e.length)!==t.length)return!1;for(;u--;)if(!br(e[u],t[u],n-1,r,i))return!1}else{var h,d=Object.keys(e);if(u=d.length,Object.keys(t).length!==u)return!1;for(;u--;)if(!O(t,h=d[u])||!br(e[h],t[h],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function _r(e){return Ln(e)?e.slice():M(e)||Wn(e)||E(e)||qn(e)?Array.from(e.entries()):e}function yr(e){return e[Symbol.iterator]=wr,e}function wr(){return this}["Symbol","Map","Set"].forEach((function(e){void 0===a()[e]&&r("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:pr},$mobx:U})},40362:(e,t,n)=>{"use strict";var r=n(56441);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},62688:(e,t,n)=>{e.exports=n(40362)()},56441:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},78325:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(76067)},96853:(e,t,n)=>{"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function a(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==s){var c=e.displayName||e.name,l="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+c+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=a;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,r)}}return e}n.d(t,{M:()=>o}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0},28428:e=>{e.exports=["alignContent","MozAlignContent","WebkitAlignContent","MSAlignContent","OAlignContent","alignItems","MozAlignItems","WebkitAlignItems","MSAlignItems","OAlignItems","alignSelf","MozAlignSelf","WebkitAlignSelf","MSAlignSelf","OAlignSelf","all","MozAll","WebkitAll","MSAll","OAll","animation","MozAnimation","WebkitAnimation","MSAnimation","OAnimation","animationDelay","MozAnimationDelay","WebkitAnimationDelay","MSAnimationDelay","OAnimationDelay","animationDirection","MozAnimationDirection","WebkitAnimationDirection","MSAnimationDirection","OAnimationDirection","animationDuration","MozAnimationDuration","WebkitAnimationDuration","MSAnimationDuration","OAnimationDuration","animationFillMode","MozAnimationFillMode","WebkitAnimationFillMode","MSAnimationFillMode","OAnimationFillMode","animationIterationCount","MozAnimationIterationCount","WebkitAnimationIterationCount","MSAnimationIterationCount","OAnimationIterationCount","animationName","MozAnimationName","WebkitAnimationName","MSAnimationName","OAnimationName","animationPlayState","MozAnimationPlayState","WebkitAnimationPlayState","MSAnimationPlayState","OAnimationPlayState","animationTimingFunction","MozAnimationTimingFunction","WebkitAnimationTimingFunction","MSAnimationTimingFunction","OAnimationTimingFunction","backfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","MSBackfaceVisibility","OBackfaceVisibility","background","MozBackground","WebkitBackground","MSBackground","OBackground","backgroundAttachment","MozBackgroundAttachment","WebkitBackgroundAttachment","MSBackgroundAttachment","OBackgroundAttachment","backgroundBlendMode","MozBackgroundBlendMode","WebkitBackgroundBlendMode","MSBackgroundBlendMode","OBackgroundBlendMode","backgroundClip","MozBackgroundClip","WebkitBackgroundClip","MSBackgroundClip","OBackgroundClip","backgroundColor","MozBackgroundColor","WebkitBackgroundColor","MSBackgroundColor","OBackgroundColor","backgroundImage","MozBackgroundImage","WebkitBackgroundImage","MSBackgroundImage","OBackgroundImage","backgroundOrigin","MozBackgroundOrigin","WebkitBackgroundOrigin","MSBackgroundOrigin","OBackgroundOrigin","backgroundPosition","MozBackgroundPosition","WebkitBackgroundPosition","MSBackgroundPosition","OBackgroundPosition","backgroundRepeat","MozBackgroundRepeat","WebkitBackgroundRepeat","MSBackgroundRepeat","OBackgroundRepeat","backgroundSize","MozBackgroundSize","WebkitBackgroundSize","MSBackgroundSize","OBackgroundSize","blockSize","MozBlockSize","WebkitBlockSize","MSBlockSize","OBlockSize","border","MozBorder","WebkitBorder","MSBorder","OBorder","borderBlockEnd","MozBorderBlockEnd","WebkitBorderBlockEnd","MSBorderBlockEnd","OBorderBlockEnd","borderBlockEndColor","MozBorderBlockEndColor","WebkitBorderBlockEndColor","MSBorderBlockEndColor","OBorderBlockEndColor","borderBlockEndStyle","MozBorderBlockEndStyle","WebkitBorderBlockEndStyle","MSBorderBlockEndStyle","OBorderBlockEndStyle","borderBlockEndWidth","MozBorderBlockEndWidth","WebkitBorderBlockEndWidth","MSBorderBlockEndWidth","OBorderBlockEndWidth","borderBlockStart","MozBorderBlockStart","WebkitBorderBlockStart","MSBorderBlockStart","OBorderBlockStart","borderBlockStartColor","MozBorderBlockStartColor","WebkitBorderBlockStartColor","MSBorderBlockStartColor","OBorderBlockStartColor","borderBlockStartStyle","MozBorderBlockStartStyle","WebkitBorderBlockStartStyle","MSBorderBlockStartStyle","OBorderBlockStartStyle","borderBlockStartWidth","MozBorderBlockStartWidth","WebkitBorderBlockStartWidth","MSBorderBlockStartWidth","OBorderBlockStartWidth","borderBottom","MozBorderBottom","WebkitBorderBottom","MSBorderBottom","OBorderBottom","borderBottomColor","MozBorderBottomColor","WebkitBorderBottomColor","MSBorderBottomColor","OBorderBottomColor","borderBottomLeftRadius","MozBorderBottomLeftRadius","WebkitBorderBottomLeftRadius","MSBorderBottomLeftRadius","OBorderBottomLeftRadius","borderBottomRightRadius","MozBorderBottomRightRadius","WebkitBorderBottomRightRadius","MSBorderBottomRightRadius","OBorderBottomRightRadius","borderBottomStyle","MozBorderBottomStyle","WebkitBorderBottomStyle","MSBorderBottomStyle","OBorderBottomStyle","borderBottomWidth","MozBorderBottomWidth","WebkitBorderBottomWidth","MSBorderBottomWidth","OBorderBottomWidth","borderCollapse","MozBorderCollapse","WebkitBorderCollapse","MSBorderCollapse","OBorderCollapse","borderColor","MozBorderColor","WebkitBorderColor","MSBorderColor","OBorderColor","borderImage","MozBorderImage","WebkitBorderImage","MSBorderImage","OBorderImage","borderImageOutset","MozBorderImageOutset","WebkitBorderImageOutset","MSBorderImageOutset","OBorderImageOutset","borderImageRepeat","MozBorderImageRepeat","WebkitBorderImageRepeat","MSBorderImageRepeat","OBorderImageRepeat","borderImageSlice","MozBorderImageSlice","WebkitBorderImageSlice","MSBorderImageSlice","OBorderImageSlice","borderImageSource","MozBorderImageSource","WebkitBorderImageSource","MSBorderImageSource","OBorderImageSource","borderImageWidth","MozBorderImageWidth","WebkitBorderImageWidth","MSBorderImageWidth","OBorderImageWidth","borderInlineEnd","MozBorderInlineEnd","WebkitBorderInlineEnd","MSBorderInlineEnd","OBorderInlineEnd","borderInlineEndColor","MozBorderInlineEndColor","WebkitBorderInlineEndColor","MSBorderInlineEndColor","OBorderInlineEndColor","borderInlineEndStyle","MozBorderInlineEndStyle","WebkitBorderInlineEndStyle","MSBorderInlineEndStyle","OBorderInlineEndStyle","borderInlineEndWidth","MozBorderInlineEndWidth","WebkitBorderInlineEndWidth","MSBorderInlineEndWidth","OBorderInlineEndWidth","borderInlineStart","MozBorderInlineStart","WebkitBorderInlineStart","MSBorderInlineStart","OBorderInlineStart","borderInlineStartColor","MozBorderInlineStartColor","WebkitBorderInlineStartColor","MSBorderInlineStartColor","OBorderInlineStartColor","borderInlineStartStyle","MozBorderInlineStartStyle","WebkitBorderInlineStartStyle","MSBorderInlineStartStyle","OBorderInlineStartStyle","borderInlineStartWidth","MozBorderInlineStartWidth","WebkitBorderInlineStartWidth","MSBorderInlineStartWidth","OBorderInlineStartWidth","borderLeft","MozBorderLeft","WebkitBorderLeft","MSBorderLeft","OBorderLeft","borderLeftColor","MozBorderLeftColor","WebkitBorderLeftColor","MSBorderLeftColor","OBorderLeftColor","borderLeftStyle","MozBorderLeftStyle","WebkitBorderLeftStyle","MSBorderLeftStyle","OBorderLeftStyle","borderLeftWidth","MozBorderLeftWidth","WebkitBorderLeftWidth","MSBorderLeftWidth","OBorderLeftWidth","borderRadius","MozBorderRadius","WebkitBorderRadius","MSBorderRadius","OBorderRadius","borderRight","MozBorderRight","WebkitBorderRight","MSBorderRight","OBorderRight","borderRightColor","MozBorderRightColor","WebkitBorderRightColor","MSBorderRightColor","OBorderRightColor","borderRightStyle","MozBorderRightStyle","WebkitBorderRightStyle","MSBorderRightStyle","OBorderRightStyle","borderRightWidth","MozBorderRightWidth","WebkitBorderRightWidth","MSBorderRightWidth","OBorderRightWidth","borderSpacing","MozBorderSpacing","WebkitBorderSpacing","MSBorderSpacing","OBorderSpacing","borderStyle","MozBorderStyle","WebkitBorderStyle","MSBorderStyle","OBorderStyle","borderTop","MozBorderTop","WebkitBorderTop","MSBorderTop","OBorderTop","borderTopColor","MozBorderTopColor","WebkitBorderTopColor","MSBorderTopColor","OBorderTopColor","borderTopLeftRadius","MozBorderTopLeftRadius","WebkitBorderTopLeftRadius","MSBorderTopLeftRadius","OBorderTopLeftRadius","borderTopRightRadius","MozBorderTopRightRadius","WebkitBorderTopRightRadius","MSBorderTopRightRadius","OBorderTopRightRadius","borderTopStyle","MozBorderTopStyle","WebkitBorderTopStyle","MSBorderTopStyle","OBorderTopStyle","borderTopWidth","MozBorderTopWidth","WebkitBorderTopWidth","MSBorderTopWidth","OBorderTopWidth","borderWidth","MozBorderWidth","WebkitBorderWidth","MSBorderWidth","OBorderWidth","bottom","MozBottom","WebkitBottom","MSBottom","OBottom","boxDecorationBreak","MozBoxDecorationBreak","WebkitBoxDecorationBreak","MSBoxDecorationBreak","OBoxDecorationBreak","boxShadow","MozBoxShadow","WebkitBoxShadow","MSBoxShadow","OBoxShadow","boxSizing","MozBoxSizing","WebkitBoxSizing","MSBoxSizing","OBoxSizing","breakAfter","MozBreakAfter","WebkitBreakAfter","MSBreakAfter","OBreakAfter","breakBefore","MozBreakBefore","WebkitBreakBefore","MSBreakBefore","OBreakBefore","breakInside","MozBreakInside","WebkitBreakInside","MSBreakInside","OBreakInside","captionSide","MozCaptionSide","WebkitCaptionSide","MSCaptionSide","OCaptionSide","caretColor","MozCaretColor","WebkitCaretColor","MSCaretColor","OCaretColor","ch","MozCh","WebkitCh","MSCh","OCh","clear","MozClear","WebkitClear","MSClear","OClear","clip","MozClip","WebkitClip","MSClip","OClip","clipPath","MozClipPath","WebkitClipPath","MSClipPath","OClipPath","cm","MozCm","WebkitCm","MSCm","OCm","color","MozColor","WebkitColor","MSColor","OColor","columnCount","MozColumnCount","WebkitColumnCount","MSColumnCount","OColumnCount","columnFill","MozColumnFill","WebkitColumnFill","MSColumnFill","OColumnFill","columnGap","MozColumnGap","WebkitColumnGap","MSColumnGap","OColumnGap","columnRule","MozColumnRule","WebkitColumnRule","MSColumnRule","OColumnRule","columnRuleColor","MozColumnRuleColor","WebkitColumnRuleColor","MSColumnRuleColor","OColumnRuleColor","columnRuleStyle","MozColumnRuleStyle","WebkitColumnRuleStyle","MSColumnRuleStyle","OColumnRuleStyle","columnRuleWidth","MozColumnRuleWidth","WebkitColumnRuleWidth","MSColumnRuleWidth","OColumnRuleWidth","columnSpan","MozColumnSpan","WebkitColumnSpan","MSColumnSpan","OColumnSpan","columnWidth","MozColumnWidth","WebkitColumnWidth","MSColumnWidth","OColumnWidth","columns","MozColumns","WebkitColumns","MSColumns","OColumns","content","MozContent","WebkitContent","MSContent","OContent","counterIncrement","MozCounterIncrement","WebkitCounterIncrement","MSCounterIncrement","OCounterIncrement","counterReset","MozCounterReset","WebkitCounterReset","MSCounterReset","OCounterReset","cursor","MozCursor","WebkitCursor","MSCursor","OCursor","deg","MozDeg","WebkitDeg","MSDeg","ODeg","direction","MozDirection","WebkitDirection","MSDirection","ODirection","display","MozDisplay","WebkitDisplay","MSDisplay","ODisplay","dpcm","MozDpcm","WebkitDpcm","MSDpcm","ODpcm","dpi","MozDpi","WebkitDpi","MSDpi","ODpi","dppx","MozDppx","WebkitDppx","MSDppx","ODppx","em","MozEm","WebkitEm","MSEm","OEm","emptyCells","MozEmptyCells","WebkitEmptyCells","MSEmptyCells","OEmptyCells","ex","MozEx","WebkitEx","MSEx","OEx","filter","MozFilter","WebkitFilter","MSFilter","OFilter","flexBasis","MozFlexBasis","WebkitFlexBasis","MSFlexBasis","OFlexBasis","flexDirection","MozFlexDirection","WebkitFlexDirection","MSFlexDirection","OFlexDirection","flexFlow","MozFlexFlow","WebkitFlexFlow","MSFlexFlow","OFlexFlow","flexGrow","MozFlexGrow","WebkitFlexGrow","MSFlexGrow","OFlexGrow","flexShrink","MozFlexShrink","WebkitFlexShrink","MSFlexShrink","OFlexShrink","flexWrap","MozFlexWrap","WebkitFlexWrap","MSFlexWrap","OFlexWrap","float","MozFloat","WebkitFloat","MSFloat","OFloat","font","MozFont","WebkitFont","MSFont","OFont","fontFamily","MozFontFamily","WebkitFontFamily","MSFontFamily","OFontFamily","fontFeatureSettings","MozFontFeatureSettings","WebkitFontFeatureSettings","MSFontFeatureSettings","OFontFeatureSettings","fontKerning","MozFontKerning","WebkitFontKerning","MSFontKerning","OFontKerning","fontLanguageOverride","MozFontLanguageOverride","WebkitFontLanguageOverride","MSFontLanguageOverride","OFontLanguageOverride","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","fontSizeAdjust","MozFontSizeAdjust","WebkitFontSizeAdjust","MSFontSizeAdjust","OFontSizeAdjust","fontStretch","MozFontStretch","WebkitFontStretch","MSFontStretch","OFontStretch","fontStyle","MozFontStyle","WebkitFontStyle","MSFontStyle","OFontStyle","fontSynthesis","MozFontSynthesis","WebkitFontSynthesis","MSFontSynthesis","OFontSynthesis","fontVariant","MozFontVariant","WebkitFontVariant","MSFontVariant","OFontVariant","fontVariantAlternates","MozFontVariantAlternates","WebkitFontVariantAlternates","MSFontVariantAlternates","OFontVariantAlternates","fontVariantCaps","MozFontVariantCaps","WebkitFontVariantCaps","MSFontVariantCaps","OFontVariantCaps","fontVariantEastAsian","MozFontVariantEastAsian","WebkitFontVariantEastAsian","MSFontVariantEastAsian","OFontVariantEastAsian","fontVariantLigatures","MozFontVariantLigatures","WebkitFontVariantLigatures","MSFontVariantLigatures","OFontVariantLigatures","fontVariantNumeric","MozFontVariantNumeric","WebkitFontVariantNumeric","MSFontVariantNumeric","OFontVariantNumeric","fontVariantPosition","MozFontVariantPosition","WebkitFontVariantPosition","MSFontVariantPosition","OFontVariantPosition","fontWeight","MozFontWeight","WebkitFontWeight","MSFontWeight","OFontWeight","fr","MozFr","WebkitFr","MSFr","OFr","grad","MozGrad","WebkitGrad","MSGrad","OGrad","grid","MozGrid","WebkitGrid","MSGrid","OGrid","gridArea","MozGridArea","WebkitGridArea","MSGridArea","OGridArea","gridAutoColumns","MozGridAutoColumns","WebkitGridAutoColumns","MSGridAutoColumns","OGridAutoColumns","gridAutoFlow","MozGridAutoFlow","WebkitGridAutoFlow","MSGridAutoFlow","OGridAutoFlow","gridAutoRows","MozGridAutoRows","WebkitGridAutoRows","MSGridAutoRows","OGridAutoRows","gridColumn","MozGridColumn","WebkitGridColumn","MSGridColumn","OGridColumn","gridColumnEnd","MozGridColumnEnd","WebkitGridColumnEnd","MSGridColumnEnd","OGridColumnEnd","gridColumnGap","MozGridColumnGap","WebkitGridColumnGap","MSGridColumnGap","OGridColumnGap","gridColumnStart","MozGridColumnStart","WebkitGridColumnStart","MSGridColumnStart","OGridColumnStart","gridGap","MozGridGap","WebkitGridGap","MSGridGap","OGridGap","gridRow","MozGridRow","WebkitGridRow","MSGridRow","OGridRow","gridRowEnd","MozGridRowEnd","WebkitGridRowEnd","MSGridRowEnd","OGridRowEnd","gridRowGap","MozGridRowGap","WebkitGridRowGap","MSGridRowGap","OGridRowGap","gridRowStart","MozGridRowStart","WebkitGridRowStart","MSGridRowStart","OGridRowStart","gridTemplate","MozGridTemplate","WebkitGridTemplate","MSGridTemplate","OGridTemplate","gridTemplateAreas","MozGridTemplateAreas","WebkitGridTemplateAreas","MSGridTemplateAreas","OGridTemplateAreas","gridTemplateColumns","MozGridTemplateColumns","WebkitGridTemplateColumns","MSGridTemplateColumns","OGridTemplateColumns","gridTemplateRows","MozGridTemplateRows","WebkitGridTemplateRows","MSGridTemplateRows","OGridTemplateRows","height","MozHeight","WebkitHeight","MSHeight","OHeight","hyphens","MozHyphens","WebkitHyphens","MSHyphens","OHyphens","hz","MozHz","WebkitHz","MSHz","OHz","imageOrientation","MozImageOrientation","WebkitImageOrientation","MSImageOrientation","OImageOrientation","imageRendering","MozImageRendering","WebkitImageRendering","MSImageRendering","OImageRendering","imageResolution","MozImageResolution","WebkitImageResolution","MSImageResolution","OImageResolution","imeMode","MozImeMode","WebkitImeMode","MSImeMode","OImeMode","in","MozIn","WebkitIn","MSIn","OIn","inherit","MozInherit","WebkitInherit","MSInherit","OInherit","initial","MozInitial","WebkitInitial","MSInitial","OInitial","inlineSize","MozInlineSize","WebkitInlineSize","MSInlineSize","OInlineSize","isolation","MozIsolation","WebkitIsolation","MSIsolation","OIsolation","justifyContent","MozJustifyContent","WebkitJustifyContent","MSJustifyContent","OJustifyContent","khz","MozKhz","WebkitKhz","MSKhz","OKhz","left","MozLeft","WebkitLeft","MSLeft","OLeft","letterSpacing","MozLetterSpacing","WebkitLetterSpacing","MSLetterSpacing","OLetterSpacing","lineBreak","MozLineBreak","WebkitLineBreak","MSLineBreak","OLineBreak","lineHeight","MozLineHeight","WebkitLineHeight","MSLineHeight","OLineHeight","listStyle","MozListStyle","WebkitListStyle","MSListStyle","OListStyle","listStyleImage","MozListStyleImage","WebkitListStyleImage","MSListStyleImage","OListStyleImage","listStylePosition","MozListStylePosition","WebkitListStylePosition","MSListStylePosition","OListStylePosition","listStyleType","MozListStyleType","WebkitListStyleType","MSListStyleType","OListStyleType","margin","MozMargin","WebkitMargin","MSMargin","OMargin","marginBlockEnd","MozMarginBlockEnd","WebkitMarginBlockEnd","MSMarginBlockEnd","OMarginBlockEnd","marginBlockStart","MozMarginBlockStart","WebkitMarginBlockStart","MSMarginBlockStart","OMarginBlockStart","marginBottom","MozMarginBottom","WebkitMarginBottom","MSMarginBottom","OMarginBottom","marginInlineEnd","MozMarginInlineEnd","WebkitMarginInlineEnd","MSMarginInlineEnd","OMarginInlineEnd","marginInlineStart","MozMarginInlineStart","WebkitMarginInlineStart","MSMarginInlineStart","OMarginInlineStart","marginLeft","MozMarginLeft","WebkitMarginLeft","MSMarginLeft","OMarginLeft","marginRight","MozMarginRight","WebkitMarginRight","MSMarginRight","OMarginRight","marginTop","MozMarginTop","WebkitMarginTop","MSMarginTop","OMarginTop","mask","MozMask","WebkitMask","MSMask","OMask","maskClip","MozMaskClip","WebkitMaskClip","MSMaskClip","OMaskClip","maskComposite","MozMaskComposite","WebkitMaskComposite","MSMaskComposite","OMaskComposite","maskImage","MozMaskImage","WebkitMaskImage","MSMaskImage","OMaskImage","maskMode","MozMaskMode","WebkitMaskMode","MSMaskMode","OMaskMode","maskOrigin","MozMaskOrigin","WebkitMaskOrigin","MSMaskOrigin","OMaskOrigin","maskPosition","MozMaskPosition","WebkitMaskPosition","MSMaskPosition","OMaskPosition","maskRepeat","MozMaskRepeat","WebkitMaskRepeat","MSMaskRepeat","OMaskRepeat","maskSize","MozMaskSize","WebkitMaskSize","MSMaskSize","OMaskSize","maskType","MozMaskType","WebkitMaskType","MSMaskType","OMaskType","maxHeight","MozMaxHeight","WebkitMaxHeight","MSMaxHeight","OMaxHeight","maxWidth","MozMaxWidth","WebkitMaxWidth","MSMaxWidth","OMaxWidth","minBlockSize","MozMinBlockSize","WebkitMinBlockSize","MSMinBlockSize","OMinBlockSize","minHeight","MozMinHeight","WebkitMinHeight","MSMinHeight","OMinHeight","minInlineSize","MozMinInlineSize","WebkitMinInlineSize","MSMinInlineSize","OMinInlineSize","minWidth","MozMinWidth","WebkitMinWidth","MSMinWidth","OMinWidth","mixBlendMode","MozMixBlendMode","WebkitMixBlendMode","MSMixBlendMode","OMixBlendMode","mm","MozMm","WebkitMm","MSMm","OMm","ms","MozMs","WebkitMs","MSMs","OMs","objectFit","MozObjectFit","WebkitObjectFit","MSObjectFit","OObjectFit","objectPosition","MozObjectPosition","WebkitObjectPosition","MSObjectPosition","OObjectPosition","offsetBlockEnd","MozOffsetBlockEnd","WebkitOffsetBlockEnd","MSOffsetBlockEnd","OOffsetBlockEnd","offsetBlockStart","MozOffsetBlockStart","WebkitOffsetBlockStart","MSOffsetBlockStart","OOffsetBlockStart","offsetInlineEnd","MozOffsetInlineEnd","WebkitOffsetInlineEnd","MSOffsetInlineEnd","OOffsetInlineEnd","offsetInlineStart","MozOffsetInlineStart","WebkitOffsetInlineStart","MSOffsetInlineStart","OOffsetInlineStart","opacity","MozOpacity","WebkitOpacity","MSOpacity","OOpacity","order","MozOrder","WebkitOrder","MSOrder","OOrder","orphans","MozOrphans","WebkitOrphans","MSOrphans","OOrphans","outline","MozOutline","WebkitOutline","MSOutline","OOutline","outlineColor","MozOutlineColor","WebkitOutlineColor","MSOutlineColor","OOutlineColor","outlineOffset","MozOutlineOffset","WebkitOutlineOffset","MSOutlineOffset","OOutlineOffset","outlineStyle","MozOutlineStyle","WebkitOutlineStyle","MSOutlineStyle","OOutlineStyle","outlineWidth","MozOutlineWidth","WebkitOutlineWidth","MSOutlineWidth","OOutlineWidth","overflow","MozOverflow","WebkitOverflow","MSOverflow","OOverflow","overflowWrap","MozOverflowWrap","WebkitOverflowWrap","MSOverflowWrap","OOverflowWrap","overflowX","MozOverflowX","WebkitOverflowX","MSOverflowX","OOverflowX","overflowY","MozOverflowY","WebkitOverflowY","MSOverflowY","OOverflowY","padding","MozPadding","WebkitPadding","MSPadding","OPadding","paddingBlockEnd","MozPaddingBlockEnd","WebkitPaddingBlockEnd","MSPaddingBlockEnd","OPaddingBlockEnd","paddingBlockStart","MozPaddingBlockStart","WebkitPaddingBlockStart","MSPaddingBlockStart","OPaddingBlockStart","paddingBottom","MozPaddingBottom","WebkitPaddingBottom","MSPaddingBottom","OPaddingBottom","paddingInlineEnd","MozPaddingInlineEnd","WebkitPaddingInlineEnd","MSPaddingInlineEnd","OPaddingInlineEnd","paddingInlineStart","MozPaddingInlineStart","WebkitPaddingInlineStart","MSPaddingInlineStart","OPaddingInlineStart","paddingLeft","MozPaddingLeft","WebkitPaddingLeft","MSPaddingLeft","OPaddingLeft","paddingRight","MozPaddingRight","WebkitPaddingRight","MSPaddingRight","OPaddingRight","paddingTop","MozPaddingTop","WebkitPaddingTop","MSPaddingTop","OPaddingTop","pageBreakAfter","MozPageBreakAfter","WebkitPageBreakAfter","MSPageBreakAfter","OPageBreakAfter","pageBreakBefore","MozPageBreakBefore","WebkitPageBreakBefore","MSPageBreakBefore","OPageBreakBefore","pageBreakInside","MozPageBreakInside","WebkitPageBreakInside","MSPageBreakInside","OPageBreakInside","pc","MozPc","WebkitPc","MSPc","OPc","perspective","MozPerspective","WebkitPerspective","MSPerspective","OPerspective","perspectiveOrigin","MozPerspectiveOrigin","WebkitPerspectiveOrigin","MSPerspectiveOrigin","OPerspectiveOrigin","pointerEvents","MozPointerEvents","WebkitPointerEvents","MSPointerEvents","OPointerEvents","position","MozPosition","WebkitPosition","MSPosition","OPosition","pt","MozPt","WebkitPt","MSPt","OPt","px","MozPx","WebkitPx","MSPx","OPx","q","MozQ","WebkitQ","MSQ","OQ","quotes","MozQuotes","WebkitQuotes","MSQuotes","OQuotes","rad","MozRad","WebkitRad","MSRad","ORad","rem","MozRem","WebkitRem","MSRem","ORem","resize","MozResize","WebkitResize","MSResize","OResize","revert","MozRevert","WebkitRevert","MSRevert","ORevert","right","MozRight","WebkitRight","MSRight","ORight","rubyAlign","MozRubyAlign","WebkitRubyAlign","MSRubyAlign","ORubyAlign","rubyMerge","MozRubyMerge","WebkitRubyMerge","MSRubyMerge","ORubyMerge","rubyPosition","MozRubyPosition","WebkitRubyPosition","MSRubyPosition","ORubyPosition","s","MozS","WebkitS","MSS","OS","scrollBehavior","MozScrollBehavior","WebkitScrollBehavior","MSScrollBehavior","OScrollBehavior","scrollSnapCoordinate","MozScrollSnapCoordinate","WebkitScrollSnapCoordinate","MSScrollSnapCoordinate","OScrollSnapCoordinate","scrollSnapDestination","MozScrollSnapDestination","WebkitScrollSnapDestination","MSScrollSnapDestination","OScrollSnapDestination","scrollSnapType","MozScrollSnapType","WebkitScrollSnapType","MSScrollSnapType","OScrollSnapType","shapeImageThreshold","MozShapeImageThreshold","WebkitShapeImageThreshold","MSShapeImageThreshold","OShapeImageThreshold","shapeMargin","MozShapeMargin","WebkitShapeMargin","MSShapeMargin","OShapeMargin","shapeOutside","MozShapeOutside","WebkitShapeOutside","MSShapeOutside","OShapeOutside","tabSize","MozTabSize","WebkitTabSize","MSTabSize","OTabSize","tableLayout","MozTableLayout","WebkitTableLayout","MSTableLayout","OTableLayout","textAlign","MozTextAlign","WebkitTextAlign","MSTextAlign","OTextAlign","textAlignLast","MozTextAlignLast","WebkitTextAlignLast","MSTextAlignLast","OTextAlignLast","textCombineUpright","MozTextCombineUpright","WebkitTextCombineUpright","MSTextCombineUpright","OTextCombineUpright","textDecoration","MozTextDecoration","WebkitTextDecoration","MSTextDecoration","OTextDecoration","textDecorationColor","MozTextDecorationColor","WebkitTextDecorationColor","MSTextDecorationColor","OTextDecorationColor","textDecorationLine","MozTextDecorationLine","WebkitTextDecorationLine","MSTextDecorationLine","OTextDecorationLine","textDecorationStyle","MozTextDecorationStyle","WebkitTextDecorationStyle","MSTextDecorationStyle","OTextDecorationStyle","textEmphasis","MozTextEmphasis","WebkitTextEmphasis","MSTextEmphasis","OTextEmphasis","textEmphasisColor","MozTextEmphasisColor","WebkitTextEmphasisColor","MSTextEmphasisColor","OTextEmphasisColor","textEmphasisPosition","MozTextEmphasisPosition","WebkitTextEmphasisPosition","MSTextEmphasisPosition","OTextEmphasisPosition","textEmphasisStyle","MozTextEmphasisStyle","WebkitTextEmphasisStyle","MSTextEmphasisStyle","OTextEmphasisStyle","textIndent","MozTextIndent","WebkitTextIndent","MSTextIndent","OTextIndent","textOrientation","MozTextOrientation","WebkitTextOrientation","MSTextOrientation","OTextOrientation","textOverflow","MozTextOverflow","WebkitTextOverflow","MSTextOverflow","OTextOverflow","textRendering","MozTextRendering","WebkitTextRendering","MSTextRendering","OTextRendering","textShadow","MozTextShadow","WebkitTextShadow","MSTextShadow","OTextShadow","textTransform","MozTextTransform","WebkitTextTransform","MSTextTransform","OTextTransform","textUnderlinePosition","MozTextUnderlinePosition","WebkitTextUnderlinePosition","MSTextUnderlinePosition","OTextUnderlinePosition","top","MozTop","WebkitTop","MSTop","OTop","touchAction","MozTouchAction","WebkitTouchAction","MSTouchAction","OTouchAction","transform","MozTransform","WebkitTransform","msTransform","OTransform","transformBox","MozTransformBox","WebkitTransformBox","MSTransformBox","OTransformBox","transformOrigin","MozTransformOrigin","WebkitTransformOrigin","MSTransformOrigin","OTransformOrigin","transformStyle","MozTransformStyle","WebkitTransformStyle","MSTransformStyle","OTransformStyle","transition","MozTransition","WebkitTransition","MSTransition","OTransition","transitionDelay","MozTransitionDelay","WebkitTransitionDelay","MSTransitionDelay","OTransitionDelay","transitionDuration","MozTransitionDuration","WebkitTransitionDuration","MSTransitionDuration","OTransitionDuration","transitionProperty","MozTransitionProperty","WebkitTransitionProperty","MSTransitionProperty","OTransitionProperty","transitionTimingFunction","MozTransitionTimingFunction","WebkitTransitionTimingFunction","MSTransitionTimingFunction","OTransitionTimingFunction","turn","MozTurn","WebkitTurn","MSTurn","OTurn","unicodeBidi","MozUnicodeBidi","WebkitUnicodeBidi","MSUnicodeBidi","OUnicodeBidi","unset","MozUnset","WebkitUnset","MSUnset","OUnset","verticalAlign","MozVerticalAlign","WebkitVerticalAlign","MSVerticalAlign","OVerticalAlign","vh","MozVh","WebkitVh","MSVh","OVh","visibility","MozVisibility","WebkitVisibility","MSVisibility","OVisibility","vmax","MozVmax","WebkitVmax","MSVmax","OVmax","vmin","MozVmin","WebkitVmin","MSVmin","OVmin","vw","MozVw","WebkitVw","MSVw","OVw","whiteSpace","MozWhiteSpace","WebkitWhiteSpace","MSWhiteSpace","OWhiteSpace","widows","MozWidows","WebkitWidows","MSWidows","OWidows","width","MozWidth","WebkitWidth","MSWidth","OWidth","willChange","MozWillChange","WebkitWillChange","MSWillChange","OWillChange","wordBreak","MozWordBreak","WebkitWordBreak","MSWordBreak","OWordBreak","wordSpacing","MozWordSpacing","WebkitWordSpacing","MSWordSpacing","OWordSpacing","wordWrap","MozWordWrap","WebkitWordWrap","MSWordWrap","OWordWrap","writingMode","MozWritingMode","WebkitWritingMode","MSWritingMode","OWritingMode","zIndex","MozZIndex","WebkitZIndex","MSZIndex","OZIndex","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","flex","MozFlex","WebkitFlex","MSFlex","OFlex","fr","MozFr","WebkitFr","MSFr","OFr","overflowScrolling","MozOverflowScrolling","WebkitOverflowScrolling","MSOverflowScrolling","OOverflowScrolling","userSelect","MozUserSelect","WebkitUserSelect","MSUserSelect","OUserSelect"]},40063:(e,t,n)=>{var r=n(28428),i=n(62688);e.exports=function(e,t,n){var i=e[t];if(i){var a=[];if(Object.keys(i).forEach((function(e){-1===r.indexOf(e)&&a.push(e)})),a.length)throw new Error("Prop "+t+" passed to "+n+". Has invalid keys "+a.join(", "))}},e.exports.isRequired=function(t,n,r){if(!t[n])throw new Error("Prop "+n+" passed to "+r+" is required");return e.exports(t,n,r)},e.exports.supportingArrays=i.oneOfType([i.arrayOf(e.exports),e.exports])},97329:(e,t,n)=>{"use strict";n.d(t,{Y1:()=>v});var r=n(68102),i=n(72367),a=n(51449),o=n(10711),s=n(63696),c="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function l(e){cancelAnimationFrame(e.id)}var u=-1;function h(e){if(void 0===e&&(e=!1),-1===u||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),u=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return u}var d=null;function f(e){if(void 0===e&&(e=!1),null===d||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?d="positive-descending":(t.scrollLeft=1,d=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),d}return d}var p=function(e,t){return e};function m(e){var t,n=e.getItemOffset,u=e.getEstimatedTotalSize,d=e.getItemSize,m=e.getOffsetForIndexAndAlignment,v=e.getStartIndexForOffset,b=e.getStopIndexForStartIndex,_=e.initInstanceProps,y=e.shouldResetStyleCacheOnItemSizeChange,w=e.validateProps;return t=function(e){function t(t){var r;return(r=e.call(this,t)||this)._instanceProps=_(r.props,(0,i.A)(r)),r._outerRef=void 0,r._resetIsScrollingTimeoutId=null,r.state={instance:(0,i.A)(r),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof r.props.initialScrollOffset?r.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},r._callOnItemsRendered=void 0,r._callOnItemsRendered=(0,o.A)((function(e,t,n,i){return r.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:n,visibleStopIndex:i})})),r._callOnScroll=void 0,r._callOnScroll=(0,o.A)((function(e,t,n){return r.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:n})})),r._getItemStyle=void 0,r._getItemStyle=function(e){var t,i=r.props,a=i.direction,o=i.itemSize,s=i.layout,c=r._getItemStyleCache(y&&o,y&&s,y&&a);if(c.hasOwnProperty(e))t=c[e];else{var l=n(r.props,e,r._instanceProps),u=d(r.props,e,r._instanceProps),h="horizontal"===a||"horizontal"===s,f="rtl"===a,p=h?l:0;c[e]=t={position:"absolute",left:f?void 0:p,right:f?p:void 0,top:h?0:l,height:h?"100%":u,width:h?u:"100%"}}return t},r._getItemStyleCache=void 0,r._getItemStyleCache=(0,o.A)((function(e,t,n){return{}})),r._onScrollHorizontal=function(e){var t=e.currentTarget,n=t.clientWidth,i=t.scrollLeft,a=t.scrollWidth;r.setState((function(e){if(e.scrollOffset===i)return null;var t=r.props.direction,o=i;if("rtl"===t)switch(f()){case"negative":o=-i;break;case"positive-descending":o=a-n-i}return o=Math.max(0,Math.min(o,a-n)),{isScrolling:!0,scrollDirection:e.scrollOffset<o?"forward":"backward",scrollOffset:o,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._onScrollVertical=function(e){var t=e.currentTarget,n=t.clientHeight,i=t.scrollHeight,a=t.scrollTop;r.setState((function(e){if(e.scrollOffset===a)return null;var t=Math.max(0,Math.min(a,i-n));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._outerRefSetter=function(e){var t=r.props.outerRef;r._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},r._resetIsScrollingDebounced=function(){var e,t,n,i;null!==r._resetIsScrollingTimeoutId&&l(r._resetIsScrollingTimeoutId),r._resetIsScrollingTimeoutId=(e=r._resetIsScrolling,t=150,n=c(),i={id:requestAnimationFrame((function r(){c()-n>=t?e.call(null):i.id=requestAnimationFrame(r)}))})},r._resetIsScrolling=function(){r._resetIsScrollingTimeoutId=null,r.setState({isScrolling:!1},(function(){r._getItemStyleCache(-1,null)}))},r}(0,a.A)(t,e),t.getDerivedStateFromProps=function(e,t){return g(e,t),w(e),null};var S=t.prototype;return S.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},S.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props,r=n.itemCount,i=n.layout,a=this.state.scrollOffset;e=Math.max(0,Math.min(e,r-1));var o=0;if(this._outerRef){var s=this._outerRef;o="vertical"===i?s.scrollWidth>s.clientWidth?h():0:s.scrollHeight>s.clientHeight?h():0}this.scrollTo(m(this.props,e,t,a,this._instanceProps,o))},S.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,r=e.layout;if("number"==typeof n&&null!=this._outerRef){var i=this._outerRef;"horizontal"===t||"horizontal"===r?i.scrollLeft=n:i.scrollTop=n}this._callPropsCallbacks()},S.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,r=this.state,i=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var a=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(f()){case"negative":a.scrollLeft=-i;break;case"positive-ascending":a.scrollLeft=i;break;default:var o=a.clientWidth,s=a.scrollWidth;a.scrollLeft=s-o-i}else a.scrollLeft=i;else a.scrollTop=i}this._callPropsCallbacks()},S.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&l(this._resetIsScrollingTimeoutId)},S.render=function(){var e=this.props,t=e.children,n=e.className,i=e.direction,a=e.height,o=e.innerRef,c=e.innerElementType,l=e.innerTagName,h=e.itemCount,d=e.itemData,f=e.itemKey,m=void 0===f?p:f,g=e.layout,v=e.outerElementType,b=e.outerTagName,_=e.style,y=e.useIsScrolling,w=e.width,S=this.state.isScrolling,k="horizontal"===i||"horizontal"===g,x=k?this._onScrollHorizontal:this._onScrollVertical,M=this._getRangeToRender(),E=M[0],T=M[1],C=[];if(h>0)for(var A=E;A<=T;A++)C.push((0,s.createElement)(t,{data:d,key:m(A,d),index:A,isScrolling:y?S:void 0,style:this._getItemStyle(A)}));var O=u(this.props,this._instanceProps);return(0,s.createElement)(v||b||"div",{className:n,onScroll:x,ref:this._outerRefSetter,style:(0,r.A)({position:"relative",height:a,width:w,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:i},_)},(0,s.createElement)(c||l||"div",{children:C,ref:o,style:{height:k?"100%":O,pointerEvents:S?"none":void 0,width:k?O:"100%"}}))},S._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],r=e[2],i=e[3];this._callOnItemsRendered(t,n,r,i)}if("function"==typeof this.props.onScroll){var a=this.state,o=a.scrollDirection,s=a.scrollOffset,c=a.scrollUpdateWasRequested;this._callOnScroll(o,s,c)}},S._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,r=this.state,i=r.isScrolling,a=r.scrollDirection,o=r.scrollOffset;if(0===t)return[0,0,0,0];var s=v(this.props,o,this._instanceProps),c=b(this.props,s,o,this._instanceProps),l=i&&"backward"!==a?1:Math.max(1,n),u=i&&"forward"!==a?1:Math.max(1,n);return[Math.max(0,s-l),Math.max(0,Math.min(t-1,c+u)),s,c]},t}(s.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var g=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},v=m({getItemOffset:function(e,t){return t*e.itemSize},getItemSize:function(e,t){return e.itemSize},getEstimatedTotalSize:function(e){var t=e.itemCount;return e.itemSize*t},getOffsetForIndexAndAlignment:function(e,t,n,r,i,a){var o=e.direction,s=e.height,c=e.itemCount,l=e.itemSize,u=e.layout,h=e.width,d="horizontal"===o||"horizontal"===u?h:s,f=Math.max(0,c*l-d),p=Math.min(f,t*l),m=Math.max(0,t*l-d+l+a);switch("smart"===n&&(n=r>=m-d&&r<=p+d?"auto":"center"),n){case"start":return p;case"end":return m;case"center":var g=Math.round(m+(p-m)/2);return g<Math.ceil(d/2)?0:g>f+Math.floor(d/2)?f:g;default:return r>=m&&r<=p?r:r<m?m:p}},getStartIndexForOffset:function(e,t){var n=e.itemCount,r=e.itemSize;return Math.max(0,Math.min(n-1,Math.floor(t/r)))},getStopIndexForStartIndex:function(e,t,n){var r=e.direction,i=e.height,a=e.itemCount,o=e.itemSize,s=e.layout,c=e.width,l=t*o,u="horizontal"===r||"horizontal"===s?c:i,h=Math.ceil((u+n-l)/o);return Math.max(0,Math.min(a-1,t+h-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}})},14403:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function b(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var y=_.prototype=new b;y.constructor=_,m(y,v.prototype),y.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,i)&&!x.hasOwnProperty(i)&&(a[i]=t[i]);var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===a[i]&&(a[i]=c[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:k.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return o=o(c=e),e=""===a?"."+C(c,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(c=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var u=a+C(s=e[l],l);c+=A(s,t,i,u,o)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),l=0;!(s=e.next()).done;)c+=A(s=s.value,t,i,u=a+C(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function O(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},R={transition:null},B={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};function N(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.act=N,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)S.call(t,l)&&!x.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=M,t.createFactory=function(e){var t=M.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=N,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},63696:(e,t,n)=>{"use strict";e.exports=n(14403)},39013:(e,t,n)=>{"use strict";n.d(t,{Ie:()=>E,Ik:()=>M,MY:()=>p,PL:()=>f,iu:()=>y,lK:()=>v,p_:()=>T});var r={j:function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: ".concat(e.message)}},l:function(e){return e.toString()}};function i(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!e){var a=[],o=0,s=t.replace(/%([a-zA-Z%])/g,(function(e,t){if("%%"===e)return e;var i=r[t];if("function"==typeof i){var s=n[o++];return a.push(s),i(s)}return e}));throw console&&a.length>0&&console.log.apply(console,a),new Error("[serializr] "+(s||"Illegal State"))}}function a(e){if(e)throw new Error(e)}function o(e,t,n){if(0!==e.length){var r=e.filter((function(e){return!0})).length,i=[],a=!1;e.forEach((function(e,o){t(e,(function(e,t){e?a||(a=!0,n(e)):(i[o]=t,0==--r&&n(null,i))}),o)}))}else n(null,[])}function s(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function c(e){return e&&e.factory&&e.props}function l(e){return e&&e.serializer&&e.deserializer}function u(e,t){for(var n=e;n;){if(n===t)return!0;n=n.extends}return!1}function h(e,t){return t&&(i(l(e),"expected a propSchema"),Object.assign(e,t)),e}function d(e){if(e)return c(e)?e:c(e.serializeInfo)?e.serializeInfo:e.constructor&&e.constructor.serializeInfo?e.constructor.serializeInfo:void 0}function f(e,t,n){i(e!==Object,"one cannot simply put define a model schema for Object"),i("function"==typeof e,"expected constructor function");var r={targetClass:e,factory:n||function(){return new e},props:t};if(e.prototype.constructor!==Object){var a=d(e.prototype.constructor);a&&a.targetClass!==e&&(r.extends=a)}return function(e,t){i(c(t),"expected modelSchema, got ".concat(t)),e.serializeInfo=t}(e,r),r}function p(e){var t={serializer:function(e){return i(s(e),"this value is not primitive: ".concat(e)),e},deserializer:function(e,t){s(e)?t(null,e):t("[serializr] this value is not primitive: ".concat(e))}};return h(t,e)}var m="undefined"!=typeof Symbol?Symbol("SKIP"):{SKIP:!0},g=p();function v(){for(var e,t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return i(1===n.length||2===n.length,"serialize expects one or 2 arguments"),1===n.length?(e=void 0,t=n[0]):(e=n[0],t=n[1]),Array.isArray(t)?t.map((function(t){return e?v(e,t):v(t)})):(e?"object"!=typeof e&&(e=d(e)):e=d(t),e||i(e,"Failed to find default schema for ".concat(t)),b(e,t))}function b(e,t){var n,r;return i(e&&"object"==typeof e&&e.props,"Expected schema"),i(t&&"object"==typeof t,"Expected object"),r=e.extends?b(e.extends,t):{},Object.keys(e.props).forEach((function(n){var i=e.props[n];if(i)if("*"!==n){!0===i&&(i=g);var a=i.serializer(t[n],n,t);a!==m&&(r[i.jsonname||n]=a)}else!function(e,t,n,r){for(var i=0,a=Object.keys(n);i<a.length;i++){var o=a[i];if(!(o in e.props)&&(!0===t||t&&(!t.pattern||t.pattern.test(o)))){var c=n[o];if(!0===t)s(c)&&(r[o]=c);else{var l=t.serializer(c,o,n);if(l===m)return;r[o]=l}}}}(e,i,t,r)})),(null===(n=e.discriminator)||void 0===n?void 0:n.storeDiscriminator)&&e.discriminator.storeDiscriminator(r),r}var _=function(){function e(e,t,n,r,i){this.parentContext=e,this.modelSchema=t,this.json=n,this.onReadyCb=r,this.isRoot=!e,this.pendingCallbacks=0,this.pendingRefsCount=0,this.target=void 0,this.hasError=!1,e?(this.rootContext=e.rootContext,this.args=e.args):(this.rootContext=this,this.args=i,this.pendingRefs={},this.resolvedRefs={})}return e.prototype.createCallback=function(t){var n=this;return this.pendingCallbacks++,function(e){var t=!1;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(!t)return t=!0,e.apply(void 0,n);i(!1,"callback was invoked twice")}}((function(r,i){r?n.hasError||(n.hasError=!0,n.onReadyCb(r),e.rootContextCache.delete(n)):n.hasError||(t(i),--n.pendingCallbacks===n.pendingRefsCount&&(n.pendingRefsCount>0?(n.onReadyCb(new Error('Unresolvable references in json: "'.concat(Object.keys(n.pendingRefs).filter((function(e){return n.pendingRefs[e].length>0})).join('", "'),'"'))),e.rootContextCache.delete(n)):(n.onReadyCb(null,n.target),e.rootContextCache.delete(n))))}))},e.prototype.await=function(e,t,n){if(i(this.isRoot,"await can only be called on the root context"),t in this.resolvedRefs){var r=this.resolvedRefs[t].filter((function(t){return u(t.modelSchema,e)}))[0];if(r)return void n(null,r.value)}this.pendingRefsCount++,this.pendingRefs[t]||(this.pendingRefs[t]=[]),this.pendingRefs[t].push({modelSchema:e,uuid:t,callback:n})},e.prototype.resolve=function(e,t,n){if(i(this.isRoot,"resolve can only called on the root context"),this.resolvedRefs[t]||(this.resolvedRefs[t]=[]),this.resolvedRefs[t].push({modelSchema:e,value:n}),t in this.pendingRefs)for(var r=this.pendingRefs[t].length-1;r>=0;r--){var a=this.pendingRefs[t][r];u(e,a.modelSchema)&&(this.pendingRefs[t].splice(r,1),this.pendingRefsCount--,a.callback(null,n))}},e.prototype.setTarget=function(t){this.isRoot&&this.target&&e.rootContextCache.delete(this.target),this.target=t,e.rootContextCache.set(this.target,this)},e.prototype.cancelAwaits=function(){var e=this;i(this.isRoot,"cancelAwaits can only be called on the root context"),Object.keys(this.pendingRefs).forEach((function(t){e.pendingRefs[t].forEach((function(n){e.pendingRefsCount--,n.callback(new Error("Reference resolution canceled for "+t))}))})),this.pendingRefs={},this.pendingRefsCount=0},e.getTargetContext=function(t){return e.rootContextCache.get(t)},e.rootContextCache=new WeakMap,e}();function y(e,t,n,r){void 0===n&&(n=a),i(arguments.length>=2,"deserialize expects at least 2 arguments");var s=d(e);if(i(c(s),"first argument should be model schema"),Array.isArray(t)){var l=[];return o(t,(function(e,t){var n=w(void 0,s,e,t,r);l.push(n)}),n),l}return w(void 0,s,t,n,r)}function w(e,t,n,r,o){if(null!=n&&"object"==typeof n){var s=function(e,t){var n;if(null===(n=t.subSchemas)||void 0===n?void 0:n.length)for(var r=0,i=t.subSchemas;r<i.length;r++){var a=i[r];if(a.discriminator&&a.discriminator.isActualType(e))return a}return t}(n,t),c=new _(e,s,n,r,o),l=s.factory(c);i(!!l,"No object returned from factory"),c.setTarget(l);var u=c.createCallback(a);return x(c,s,n,l),u(),l}r(null,null)}var S=function(e,t,n,r,i,a){a&&"function"==typeof a.beforeDeserialize?a.beforeDeserialize(e,t,n,r,i,a):e(null,t)},k=function(e,t,n,r,i,a,o,s){s&&"function"==typeof s.afterDeserialize?s.afterDeserialize(e,t,n,r,i,a,o,s):e(t,n)};function x(e,t,n,r){var a;t.extends&&x(e,t.extends,n,r);for(var o=function(o){var c=t.props[o];if(!c)return{value:void 0};if("*"===o)return function(e,t,n,r,a){var o=function(o){if(!(o in t.props)&&!function(e,t){for(var n in e.props){var r=e.props[n];if("object"==typeof r&&r.jsonname===t)return!0}return!1}(t,o)){var c=a[o];!0===n?(i(s(c),"encountered non primitive value while deserializing '*' properties in property '".concat(o,"': ").concat(c)),r[o]=c):!n||n.pattern&&!n.pattern.test(o)||n.deserializer(c,e.rootContext.createCallback((function(e){return e!==m&&(r[o]=e)})),e)}};for(var c in a)o(c)}(e,t,c,r,n),{value:void 0};!0===c&&(c=g);var l=null!==(a=c.jsonname)&&void 0!==a?a:o;i("symbol"!=typeof l,"You must alias symbol properties. prop = %l",o);var u=n[l],h=c;S((function(t,i){t||void 0===i||function(t,i,a){var o=e.rootContext.createCallback((function(e){return e!==m&&(r[a]=e)}));t.deserializer(i,(function(r,s){return k(o,r,s,i,n,a,e,t)}),e,r[a])}(h,i,o)}),u,n,l,e,c)},c=0,l=Object.keys(t.props);c<l.length;c++){var u=o(l[c]);if("object"==typeof u)return u.value}}function M(e,t){i("object"==typeof e||"function"==typeof e,"No modelschema provided. If you are importing it from another file be aware of circular dependencies.");var n={serializer:function(t){return i(c(e=d(e)),"expected modelSchema, got ".concat(e)),null==t?t:v(e,t)},deserializer:function(t,n,r){i(c(e=d(e)),"expected modelSchema, got ".concat(e)),null!=t?w(r,e,t,n,void 0):n(null,t)}};return h(n,t)}function E(e,t,n){i("function"==typeof e,"first argument should be function"),i("function"==typeof t,"second argument should be a function or promise");var r={serializer:e,deserializer:function(e,n,r,i){var a=t(e,r,i,n);4!==t.length&&n(null,a)}};return h(r,n)}function T(e,t){i(l(e=e||g),"expected prop schema as first argument"),i(!function(e){return"object"==typeof e&&"string"==typeof e.jsonname}(e),"provided prop is aliased, please put aliases first");var n={serializer:function(t){return void 0===t?m:null===t?null:(i(t&&"length"in t&&"map"in t,"expected array (like) object"),t.map(e.serializer))},deserializer:function(t,n,r){null!==t?Array.isArray(t)?o(t,(function(n,i,a){function o(o,s){"function"==typeof e.afterDeserialize?k(i,o,s,n,t,a,r,e):i(o,s)}S((function(t,n){t?i(t):e.deserializer(n,o,r)}),n,t,a,r,e)}),(function(e,t){e?n(e):n(void 0,t.filter((function(e){return m!==e})))})):n("[serializr] expected JSON array"):n(null,t)}};return h(n,t)}},78779:(e,t,n)=>{"use strict";var r=n(63696),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,c=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s((function(){i.value=n,i.getSnapshot=t,l(i)&&u({inst:i})}),[e,n,t]),o((function(){return l(i)&&u({inst:i}),e((function(){l(i)&&u({inst:i})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},46952:e=>{"use strict";function t(e,t){if(t=t||{},null===(e=function(e){var t={};return"number"!=typeof e.sampleRate?null:Array.isArray(e.channelData)&&e.channelData[0]instanceof Float32Array?(t.numberOfChannels=e.channelData.length,t.length=0|e.channelData[0].length,t.sampleRate=0|e.sampleRate,t.channelData=e.channelData,t):null}(e)))throw new TypeError("Invalid AudioData");var n=!(!t.floatingPoint&&!t.float),r=n?32:0|t.bitDepth||16,i=r>>3,a=e.length*e.numberOfChannels*i,o=new DataView(new Uint8Array(44+a).buffer),s=function(e){var t=0;return{int16:function(n){e.setInt16(t,n,!0),t+=2},uint16:function(n){e.setUint16(t,n,!0),t+=2},uint32:function(n){e.setUint32(t,n,!0),t+=4},string:function(n){for(var r=0,i=n.length;r<i;r++)e.setUint8(t++,n.charCodeAt(r))},pcm8:function(n){n=255*(.5*(n=Math.max(-1,Math.min(n,1)))+.5),n=0|Math.round(n),e.setUint8(t,n,!0),t+=1},pcm8s:function(n){n=Math.round(128*n)+128,n=Math.max(0,Math.min(n,255)),e.setUint8(t,n,!0),t+=1},pcm16:function(n){n=(n=Math.max(-1,Math.min(n,1)))<0?32768*n:32767*n,n=0|Math.round(n),e.setInt16(t,n,!0),t+=2},pcm16s:function(n){n=Math.round(32768*n),n=Math.max(-32768,Math.min(n,32767)),e.setInt16(t,n,!0),t+=2},pcm24:function(n){n=(n=Math.max(-1,Math.min(n,1)))<0?16777216+8388608*n:8388607*n;var r=255&(n=0|Math.round(n)),i=n>>8&255,a=n>>16&255;e.setUint8(t+0,r),e.setUint8(t+1,i),e.setUint8(t+2,a),t+=3},pcm24s:function(n){n=Math.round(8388608*n);var r=255&(n=Math.max(-8388608,Math.min(n,8388607))),i=n>>8&255,a=n>>16&255;e.setUint8(t+0,r),e.setUint8(t+1,i),e.setUint8(t+2,a),t+=3},pcm32:function(n){n=(n=Math.max(-1,Math.min(n,1)))<0?2147483648*n:2147483647*n,n=0|Math.round(n),e.setInt32(t,n,!0),t+=4},pcm32s:function(n){n=Math.round(2147483648*n),n=Math.max(-2147483648,Math.min(n,2147483647)),e.setInt32(t,n,!0),t+=4},pcm32f:function(n){e.setFloat32(t,n,!0),t+=4}}}(o),c={formatId:n?3:1,floatingPoint:n,numberOfChannels:e.numberOfChannels,sampleRate:e.sampleRate,bitDepth:r};!function(e,t,n){var r=t.bitDepth>>3;e.string("RIFF"),e.uint32(n),e.string("WAVE"),e.string("fmt "),e.uint32(16),e.uint16(t.floatingPoint?3:1),e.uint16(t.numberOfChannels),e.uint32(t.sampleRate),e.uint32(t.sampleRate*t.numberOfChannels*r),e.uint16(t.numberOfChannels*r),e.uint16(t.bitDepth)}(s,c,o.buffer.byteLength-8);var l=function(e,t,n,r,i){var a=t.bitDepth,o="pcm"+a+(t.floatingPoint?"f":i.symmetric?"s":"");if(!e[o])return new TypeError("Not supported bit depth: "+a);var s=e[o].bind(e),c=t.numberOfChannels,l=r.channelData;e.string("data"),e.uint32(n);for(var u=0,h=r.length;u<h;u++)for(var d=0;d<c;d++)s(l[d][u])}(s,c,a,e,t);if(l instanceof Error)throw l;return o.buffer}e.exports.l=function(e,n){return new Promise((function(r){r(t(e,n))}))},e.exports.l.sync=t},72367:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{A:()=>r})},51449:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(91576);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.A)(e,t)}},91576:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{A:()=>r})},38257:(e,t,n)=>{"use strict";n.d(t,{x3:()=>rn});var r={};function i(e){return new Int16Array(e)}function a(e){return new Int32Array(e)}function o(e){return new Float32Array(e)}var s={arraycopy:function(e,t,n,r,i){for(var a=t+i;t<a;)n[r++]=e[t++]},out:{}};s.out.println=function(e){console.log(e)},s.out.printf=function(){console.log.apply(console,arguments)};var c={};function l(e){this.ordinal=e}c.SQRT2=1.4142135623730951,c.FAST_LOG10=function(e){return Math.log10(e)},c.FAST_LOG10_X=function(e,t){return Math.log10(e)*t},l.short_block_allowed=new l(0),l.short_block_coupled=new l(1),l.short_block_dispensed=new l(2),l.short_block_forced=new l(3);var u={};function h(e){this.ordinal=e}u.MAX_VALUE=34028235e31,h.vbr_off=new h(0),h.vbr_mt=new h(1),h.vbr_rh=new h(2),h.vbr_abr=new h(3),h.vbr_mtrh=new h(4),h.vbr_default=h.vbr_mtrh;var d,f,p,m,g,v,b={System:s,VbrMode:h,Float:u,ShortBlock:l,Util:c,Arrays:{fill:function(e,t,n,r){if(2==arguments.length)for(var i=0;i<e.length;i++)e[i]=arguments[1];else for(i=t;i<n;i++)e[i]=r}},new_array_n:function e(t){if(1==t.length)return new Array(t[0]);var n=t[0];t=t.slice(1);for(var r=[],i=0;i<n;i++)r.push(e(t));return r},new_byte:function(e){return new Int8Array(e)},new_double:function(e){return new Float64Array(e)},new_float:o,new_float_n:function e(t){if(1==t.length)return o(t[0]);var n=t[0];t=t.slice(1);for(var r=[],i=0;i<n;i++)r.push(e(t));return r},new_int:a,new_int_n:function e(t){if(1==t.length)return a(t[0]);var n=t[0];t=t.slice(1);for(var r=[],i=0;i<n;i++)r.push(e(t));return r},new_short:i,new_short_n:function e(t){if(1==t.length)return i(t[0]);var n=t[0];t=t.slice(1);for(var r=[],a=0;a<n;a++)r.push(e(t));return r},assert:function(e){}};function _(){if(m)return p;m=1;var e=x(),t=b,n=t.System,r=t.new_float,i=t.new_float_n;return p=function(){this.l=r(e.SBMAX_l),this.s=i([e.SBMAX_s,3]);var t=this;this.assign=function(r){n.arraycopy(r.l,0,t.l,0,e.SBMAX_l);for(var i=0;i<e.SBMAX_s;i++)for(var a=0;a<3;a++)t.s[i][a]=r.s[i][a]}}}function y(e){var t=e;this.ordinal=function(){return t}}y.STEREO=new y(0),y.JOINT_STEREO=new y(1),y.DUAL_CHANNEL=new y(2),y.MONO=new y(3),y.NOT_SET=new y(4);var w,S,k=y;function x(){if(S)return w;S=1;var e=b,t=e.System,n=e.VbrMode,r=e.new_array_n,i=e.new_float,a=e.new_float_n,o=e.new_int,s=e.assert;function c(){var e=function(){if(f)return d;f=1;var e=b,t=e.System,n=e.Util,r=e.Arrays,i=e.new_float,a=x();return d=function(){var e=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*n.SQRT2*.5/2384e-9,.017876148*n.SQRT2*.5/2384e-9,.003134727*n.SQRT2*.5/2384e-9,.002457142*n.SQRT2*.5/2384e-9,971317e-9*n.SQRT2*.5/2384e-9,218868e-9*n.SQRT2*.5/2384e-9,101566e-9*n.SQRT2*.5/2384e-9,13828e-9*n.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],o=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],s=o[a.SHORT_TYPE],c=o[a.SHORT_TYPE],l=o[a.SHORT_TYPE],u=o[a.SHORT_TYPE],h=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function d(t,r,i){for(var a=10,o=r+238-14-286,s=-15;s<0;s++){var c;c=e[a+-10],l=t[o+-224]*c,u=t[r+224]*c,c=e[a+-9],l+=t[o+-160]*c,u+=t[r+160]*c,c=e[a+-8],l+=t[o+-96]*c,u+=t[r+96]*c,c=e[a+-7],l+=t[o+-32]*c,u+=t[r+32]*c,c=e[a+-6],l+=t[o+32]*c,u+=t[r+-32]*c,c=e[a+-5],l+=t[o+96]*c,u+=t[r+-96]*c,c=e[a+-4],l+=t[o+160]*c,u+=t[r+-160]*c,c=e[a+-3],l+=t[o+224]*c,u+=t[r+-224]*c,c=e[a+-2],l+=t[r+-256]*c,u-=t[o+256]*c,c=e[a+-1],l+=t[r+-192]*c,u-=t[o+192]*c,c=e[a+0],l+=t[r+-128]*c,u-=t[o+128]*c,c=e[a+1],l+=t[r+-64]*c,u-=t[o+64]*c,c=e[a+2],l+=t[r+0]*c,u-=t[o+0]*c,c=e[a+3],l+=t[r+64]*c,u-=t[o+-64]*c,c=e[a+4],l+=t[r+128]*c,u-=t[o+-128]*c,c=e[a+5],l+=t[r+192]*c,c=(u-=t[o+-192]*c)-(l*=e[a+6]),i[30+2*s]=u+l,i[31+2*s]=e[a+7]*c,a+=18,r--,o++}var l,u,h,d,f;u=t[r+-16]*e[a+-10],l=t[r+-32]*e[a+-2],u+=(t[r+-48]-t[r+16])*e[a+-9],l+=t[r+-96]*e[a+-1],u+=(t[r+-80]+t[r+48])*e[a+-8],l+=t[r+-160]*e[a+0],u+=(t[r+-112]-t[r+80])*e[a+-7],l+=t[r+-224]*e[a+1],u+=(t[r+-144]+t[r+112])*e[a+-6],l-=t[r+32]*e[a+2],u+=(t[r+-176]-t[r+144])*e[a+-5],l-=t[r+96]*e[a+3],u+=(t[r+-208]+t[r+176])*e[a+-4],l-=t[r+160]*e[a+4],u+=(t[r+-240]-t[r+208])*e[a+-3],h=(l-=t[r+224])-u,d=l+u,u=i[14],l=i[15]-u,i[31]=d+u,i[30]=h+l,i[15]=h-l,i[14]=d-u,f=i[28]-i[0],i[0]+=i[28],i[28]=f*e[a+-36+7],f=i[29]-i[1],i[1]+=i[29],i[29]=f*e[a+-36+7],f=i[26]-i[2],i[2]+=i[26],i[26]=f*e[a+-72+7],f=i[27]-i[3],i[3]+=i[27],i[27]=f*e[a+-72+7],f=i[24]-i[4],i[4]+=i[24],i[24]=f*e[a+-108+7],f=i[25]-i[5],i[5]+=i[25],i[25]=f*e[a+-108+7],f=i[22]-i[6],i[6]+=i[22],i[22]=f*n.SQRT2,f=i[23]-i[7],i[7]+=i[23],i[23]=f*n.SQRT2-i[7],i[7]-=i[6],i[22]-=i[7],i[23]-=i[22],f=i[6],i[6]=i[31]-f,i[31]=i[31]+f,f=i[7],i[7]=i[30]-f,i[30]=i[30]+f,f=i[22],i[22]=i[15]-f,i[15]=i[15]+f,f=i[23],i[23]=i[14]-f,i[14]=i[14]+f,f=i[20]-i[8],i[8]+=i[20],i[20]=f*e[a+-180+7],f=i[21]-i[9],i[9]+=i[21],i[21]=f*e[a+-180+7],f=i[18]-i[10],i[10]+=i[18],i[18]=f*e[a+-216+7],f=i[19]-i[11],i[11]+=i[19],i[19]=f*e[a+-216+7],f=i[16]-i[12],i[12]+=i[16],i[16]=f*e[a+-252+7],f=i[17]-i[13],i[13]+=i[17],i[17]=f*e[a+-252+7],f=-i[20]+i[24],i[20]+=i[24],i[24]=f*e[a+-216+7],f=-i[21]+i[25],i[21]+=i[25],i[25]=f*e[a+-216+7],f=i[4]-i[8],i[4]+=i[8],i[8]=f*e[a+-216+7],f=i[5]-i[9],i[5]+=i[9],i[9]=f*e[a+-216+7],f=i[0]-i[12],i[0]+=i[12],i[12]=f*e[a+-72+7],f=i[1]-i[13],i[1]+=i[13],i[13]=f*e[a+-72+7],f=i[16]-i[28],i[16]+=i[28],i[28]=f*e[a+-72+7],f=-i[17]+i[29],i[17]+=i[29],i[29]=f*e[a+-72+7],f=n.SQRT2*(i[2]-i[10]),i[2]+=i[10],i[10]=f,f=n.SQRT2*(i[3]-i[11]),i[3]+=i[11],i[11]=f,f=n.SQRT2*(-i[18]+i[26]),i[18]+=i[26],i[26]=f-i[18],f=n.SQRT2*(-i[19]+i[27]),i[19]+=i[27],i[27]=f-i[19],f=i[2],i[19]-=i[3],i[3]-=f,i[2]=i[31]-f,i[31]+=f,f=i[3],i[11]-=i[19],i[18]-=f,i[3]=i[30]-f,i[30]+=f,f=i[18],i[27]-=i[11],i[19]-=f,i[18]=i[15]-f,i[15]+=f,f=i[19],i[10]-=f,i[19]=i[14]-f,i[14]+=f,f=i[10],i[11]-=f,i[10]=i[23]-f,i[23]+=f,f=i[11],i[26]-=f,i[11]=i[22]-f,i[22]+=f,f=i[26],i[27]-=f,i[26]=i[7]-f,i[7]+=f,f=i[27],i[27]=i[6]-f,i[6]+=f,f=n.SQRT2*(i[0]-i[4]),i[0]+=i[4],i[4]=f,f=n.SQRT2*(i[1]-i[5]),i[1]+=i[5],i[5]=f,f=n.SQRT2*(i[16]-i[20]),i[16]+=i[20],i[20]=f,f=n.SQRT2*(i[17]-i[21]),i[17]+=i[21],i[21]=f,f=-n.SQRT2*(i[8]-i[12]),i[8]+=i[12],i[12]=f-i[8],f=-n.SQRT2*(i[9]-i[13]),i[9]+=i[13],i[13]=f-i[9],f=-n.SQRT2*(i[25]-i[29]),i[25]+=i[29],i[29]=f-i[25],f=-n.SQRT2*(i[24]+i[28]),i[24]-=i[28],i[28]=f-i[24],f=i[24]-i[16],i[24]=f,f=i[20]-f,i[20]=f,f=i[28]-f,i[28]=f,f=i[25]-i[17],i[25]=f,f=i[21]-f,i[21]=f,f=i[29]-f,i[29]=f,f=i[17]-i[1],i[17]=f,f=i[9]-f,i[9]=f,f=i[25]-f,i[25]=f,f=i[5]-f,i[5]=f,f=i[21]-f,i[21]=f,f=i[13]-f,i[13]=f,f=i[29]-f,i[29]=f,f=i[1]-i[0],i[1]=f,f=i[16]-f,i[16]=f,f=i[17]-f,i[17]=f,f=i[8]-f,i[8]=f,f=i[9]-f,i[9]=f,f=i[24]-f,i[24]=f,f=i[25]-f,i[25]=f,f=i[4]-f,i[4]=f,f=i[5]-f,i[5]=f,f=i[20]-f,i[20]=f,f=i[21]-f,i[21]=f,f=i[12]-f,i[12]=f,f=i[13]-f,i[13]=f,f=i[28]-f,i[28]=f,f=i[29]-f,i[29]=f,f=i[0],i[0]+=i[31],i[31]-=f,f=i[1],i[1]+=i[30],i[30]-=f,f=i[16],i[16]+=i[15],i[15]-=f,f=i[17],i[17]+=i[14],i[14]-=f,f=i[8],i[8]+=i[23],i[23]-=f,f=i[9],i[9]+=i[22],i[22]-=f,f=i[24],i[24]+=i[7],i[7]-=f,f=i[25],i[25]+=i[6],i[6]-=f,f=i[4],i[4]+=i[27],i[27]-=f,f=i[5],i[5]+=i[26],i[26]-=f,f=i[20],i[20]+=i[11],i[11]-=f,f=i[21],i[21]+=i[10],i[10]-=f,f=i[12],i[12]+=i[19],i[19]-=f,f=i[13],i[13]+=i[18],i[18]-=f,f=i[28],i[28]+=i[3],i[3]-=f,f=i[29],i[29]+=i[2],i[2]-=f}function f(e,t){for(var n=0;n<3;n++){var r,i,s,c,l,u;i=(c=e[t+6]*o[a.SHORT_TYPE][0]-e[t+15])+(r=e[t+0]*o[a.SHORT_TYPE][2]-e[t+9]),s=c-r,l=(c=e[t+15]*o[a.SHORT_TYPE][0]+e[t+6])+(r=e[t+9]*o[a.SHORT_TYPE][2]+e[t+0]),u=-c+r,r=2069978111953089e-26*(e[t+3]*o[a.SHORT_TYPE][1]-e[t+12]),c=2069978111953089e-26*(e[t+12]*o[a.SHORT_TYPE][1]+e[t+3]),e[t+0]=190752519173728e-25*i+r,e[t+15]=190752519173728e-25*-l+c,s=.8660254037844387*s*1907525191737281e-26,l=.5*l*1907525191737281e-26+c,e[t+3]=s-l,e[t+6]=s+l,i=.5*i*1907525191737281e-26-r,u=.8660254037844387*u*1907525191737281e-26,e[t+9]=i+u,e[t+12]=i-u,t++}}function p(e,t,n){var r,i,a,o,s,l,u,h,d,f,p,m,g,v,b,_,y,w;a=n[17]-n[9],s=n[15]-n[11],l=n[14]-n[12],u=n[0]+n[8],h=n[1]+n[7],d=n[2]+n[6],f=n[3]+n[5],e[t+17]=u+d-f-(h-n[4]),i=(u+d-f)*c[19]+(h-n[4]),r=(a-s-l)*c[18],e[t+5]=r+i,e[t+6]=r-i,o=(n[16]-n[10])*c[18],h=h*c[19]+n[4],r=a*c[12]+o+s*c[13]+l*c[14],i=-u*c[16]+h-d*c[17]+f*c[15],e[t+1]=r+i,e[t+2]=r-i,r=a*c[13]-o-s*c[14]+l*c[12],i=-u*c[17]+h-d*c[15]+f*c[16],e[t+9]=r+i,e[t+10]=r-i,r=a*c[14]-o+s*c[12]-l*c[13],i=u*c[15]-h+d*c[16]-f*c[17],e[t+13]=r+i,e[t+14]=r-i,p=n[8]-n[0],g=n[6]-n[2],v=n[5]-n[3],b=n[17]+n[9],_=n[16]+n[10],y=n[15]+n[11],w=n[14]+n[12],e[t+0]=b+y+w+(_+n[13]),r=(b+y+w)*c[19]-(_+n[13]),i=(p-g+v)*c[18],e[t+11]=r+i,e[t+12]=r-i,m=(n[7]-n[1])*c[18],_=n[13]-_*c[19],r=b*c[15]-_+y*c[16]+w*c[17],i=p*c[14]+m+g*c[12]+v*c[13],e[t+3]=r+i,e[t+4]=r-i,r=-b*c[17]+_-y*c[15]-w*c[16],i=p*c[13]+m-g*c[14]-v*c[12],e[t+7]=r+i,e[t+8]=r-i,r=-b*c[16]+_-y*c[17]-w*c[15],i=p*c[12]-m+g*c[13]-v*c[14],e[t+15]=r+i,e[t+16]=r-i}this.mdct_sub48=function(e,n,c){for(var m=n,g=286,v=0;v<e.channels_out;v++){for(var b=0;b<e.mode_gr;b++){for(var _,y=e.l3_side.tt[b][v],w=y.xr,S=0,k=e.sb_sample[v][1-b],x=0,M=0;M<9;M++)for(d(m,g,k[x]),d(m,g+32,k[x+1]),x+=2,g+=64,_=1;_<32;_+=2)k[x-1][_]*=-1;for(_=0;_<32;_++,S+=18){var E=y.block_type,T=e.sb_sample[v][b],C=e.sb_sample[v][1-b];if(0!=y.mixed_block_flag&&_<2&&(E=0),e.amp_filter[_]<1e-12)r.fill(w,S+0,S+18,0);else{if(e.amp_filter[_]<1)for(M=0;M<18;M++)C[M][h[_]]*=e.amp_filter[_];if(E==a.SHORT_TYPE){for(M=-3;M<0;M++){var A=o[a.SHORT_TYPE][M+3];w[S+3*M+9]=T[9+M][h[_]]*A-T[8-M][h[_]],w[S+3*M+18]=T[14-M][h[_]]*A+T[15+M][h[_]],w[S+3*M+10]=T[15+M][h[_]]*A-T[14-M][h[_]],w[S+3*M+19]=C[2-M][h[_]]*A+C[3+M][h[_]],w[S+3*M+11]=C[3+M][h[_]]*A-C[2-M][h[_]],w[S+3*M+20]=C[8-M][h[_]]*A+C[9+M][h[_]]}f(w,S)}else{var O=i(18);for(M=-9;M<0;M++){var P,I;P=o[E][M+27]*C[M+9][h[_]]+o[E][M+36]*C[8-M][h[_]],I=o[E][M+9]*T[M+9][h[_]]-o[E][M+18]*T[8-M][h[_]],O[M+9]=P-I*s[3+M+9],O[M+18]=P*s[3+M+9]+I}p(w,S,O)}}if(E!=a.SHORT_TYPE&&0!=_)for(M=7;M>=0;--M){var R,B;R=w[S+M]*l[20+M]+w[S+-1-M]*u[28+M],B=w[S+M]*u[28+M]-w[S+-1-M]*l[20+M],w[S+-1-M]=R,w[S+M]=B}}}if(m=c,g=286,1==e.mode_gr)for(var N=0;N<18;N++)t.arraycopy(e.sb_sample[v][1][N],0,e.sb_sample[v][0][N],0,32)}}}}(),l=function(){if(v)return g;v=1;var e=_();return g=function(){this.thm=new e,this.en=new e}}(),u=k,h=c.FFTOFFSET,p=c.MPG_MD_MS_LR,m=null;this.psy=null;var y=null,w=null,S=null;this.setModules=function(e,t,n,r){m=e,this.psy=t,y=t,w=r,S=n};var M=new e;this.lame_encode_mp3_frame=function(e,d,f,g,v,b){var _,k=r([2,2]);k[0][0]=new l,k[0][1]=new l,k[1][0]=new l,k[1][1]=new l;var x=r([2,2]);x[0][0]=new l,x[0][1]=new l,x[1][0]=new l,x[1][1]=new l;var E,T,C,A,O=[null,null],P=e.internal_flags,I=a([2,4]),R=[.5,.5],B=[[0,0],[0,0]],N=[[0,0],[0,0]];if(O[0]=d,O[1]=f,0==P.lame_encode_frame_init&&function(e,t){var n,r,a=e.internal_flags;if(0==a.lame_encode_frame_init){var o,l,u=i(2014),h=i(2014);for(a.lame_encode_frame_init=1,o=0,l=0;o<286+576*(1+a.mode_gr);++o)o<576*a.mode_gr?(u[o]=0,2==a.channels_out&&(h[o]=0)):(u[o]=t[0][l],2==a.channels_out&&(h[o]=t[1][l]),++l);for(r=0;r<a.mode_gr;r++)for(n=0;n<a.channels_out;n++)a.l3_side.tt[r][n].block_type=c.SHORT_TYPE;M.mdct_sub48(a,u,h),s(576>=c.FFTOFFSET),s(a.mf_size>=c.BLKSIZE+e.framesize-c.FFTOFFSET),s(a.mf_size>=512+e.framesize-32)}}(e,O),P.padding=0,(P.slot_lag-=P.frac_SpF)<0&&(P.slot_lag+=e.out_samplerate,P.padding=1),0!=P.psymodel){var L=[null,null],D=0,j=o(2);for(A=0;A<P.mode_gr;A++){for(C=0;C<P.channels_out;C++)L[C]=O[C],D=576+576*A-c.FFTOFFSET;if(0!=(e.VBR==n.vbr_mtrh||e.VBR==n.vbr_mt?y.L3psycho_anal_vbr(e,L,D,A,k,x,B[A],N[A],I[A],j):y.L3psycho_anal_ns(e,L,D,A,k,x,B[A],N[A],I[A],j)))return-4;for(e.mode==u.JOINT_STEREO&&(R[A]=I[A][2]+I[A][3],R[A]>0&&(R[A]=I[A][3]/R[A])),C=0;C<P.channels_out;C++){var z=P.l3_side.tt[A][C];z.block_type=j[C],z.mixed_block_flag=0}}}else for(A=0;A<P.mode_gr;A++)for(C=0;C<P.channels_out;C++)P.l3_side.tt[A][C].block_type=c.NORM_TYPE,P.l3_side.tt[A][C].mixed_block_flag=0,N[A][C]=B[A][C]=700;if(function(e){var t,n;if(0!=e.ATH.useAdjust)if(n=e.loudness_sq[0][0],t=e.loudness_sq[1][0],2==e.channels_out?(n+=e.loudness_sq[0][1],t+=e.loudness_sq[1][1]):(n+=n,t+=t),2==e.mode_gr&&(n=Math.max(n,t)),n*=.5,(n*=e.ATH.aaSensitivityP)>.03125)e.ATH.adjust>=1?e.ATH.adjust=1:e.ATH.adjust<e.ATH.adjustLimit&&(e.ATH.adjust=e.ATH.adjustLimit),e.ATH.adjustLimit=1;else{var r=31.98*n+625e-6;e.ATH.adjust>=r?(e.ATH.adjust*=.075*r+.925,e.ATH.adjust<r&&(e.ATH.adjust=r)):e.ATH.adjustLimit>=r?e.ATH.adjust=r:e.ATH.adjust<e.ATH.adjustLimit&&(e.ATH.adjust=e.ATH.adjustLimit),e.ATH.adjustLimit=r}else e.ATH.adjust=1}(P),M.mdct_sub48(P,O[0],O[1]),P.mode_ext=c.MPG_MD_LR_LR,e.force_ms)P.mode_ext=c.MPG_MD_MS_LR;else if(e.mode==u.JOINT_STEREO){var F=0,V=0;for(A=0;A<P.mode_gr;A++)for(C=0;C<P.channels_out;C++)F+=N[A][C],V+=B[A][C];if(F<=1*V){var H=P.l3_side.tt[0],W=P.l3_side.tt[P.mode_gr-1];H[0].block_type==H[1].block_type&&W[0].block_type==W[1].block_type&&(P.mode_ext=c.MPG_MD_MS_LR)}}if(P.mode_ext==p?(E=x,T=N):(E=k,T=B),e.analysis&&null!=P.pinfo)for(A=0;A<P.mode_gr;A++)for(C=0;C<P.channels_out;C++)P.pinfo.ms_ratio[A]=P.ms_ratio[A],P.pinfo.ms_ener_ratio[A]=R[A],P.pinfo.blocktype[A][C]=P.l3_side.tt[A][C].block_type,P.pinfo.pe[A][C]=T[A][C],t.arraycopy(P.l3_side.tt[A][C].xr,0,P.pinfo.xr[A][C],0,576),P.mode_ext==p&&(P.pinfo.ers[A][C]=P.pinfo.ers[A][C+2],t.arraycopy(P.pinfo.energy[A][C+2],0,P.pinfo.energy[A][C],0,P.pinfo.energy[A][C].length));if(e.VBR==n.vbr_off||e.VBR==n.vbr_abr){var U,G;for(U=0;U<18;U++)P.nsPsy.pefirbuf[U]=P.nsPsy.pefirbuf[U+1];for(G=0,A=0;A<P.mode_gr;A++)for(C=0;C<P.channels_out;C++)G+=T[A][C];for(P.nsPsy.pefirbuf[18]=G,G=P.nsPsy.pefirbuf[9],U=0;U<9;U++)G+=(P.nsPsy.pefirbuf[U]+P.nsPsy.pefirbuf[18-U])*c.fircoef[U];for(G=3350*P.mode_gr*P.channels_out/G,A=0;A<P.mode_gr;A++)for(C=0;C<P.channels_out;C++)T[A][C]*=G}if(P.iteration_loop.iteration_loop(e,T,R,E),m.format_bitstream(e),_=m.copy_buffer(P,g,v,b,1),e.bWriteVbrTag&&w.addVbrFrame(e),e.analysis&&null!=P.pinfo){for(C=0;C<P.channels_out;C++){var q;for(q=0;q<h;q++)P.pinfo.pcmdata[C][q]=P.pinfo.pcmdata[C][q+e.framesize];for(q=h;q<1600;q++)P.pinfo.pcmdata[C][q]=O[C][q-h]}S.set_frame_pinfo(e,E)}return function(e){var t,n;for(s(0<=e.bitrate_index&&e.bitrate_index<16),s(0<=e.mode_ext&&e.mode_ext<4),e.bitrate_stereoMode_Hist[e.bitrate_index][4]++,e.bitrate_stereoMode_Hist[15][4]++,2==e.channels_out&&(e.bitrate_stereoMode_Hist[e.bitrate_index][e.mode_ext]++,e.bitrate_stereoMode_Hist[15][e.mode_ext]++),t=0;t<e.mode_gr;++t)for(n=0;n<e.channels_out;++n){var r=0|e.l3_side.tt[t][n].block_type;0!=e.l3_side.tt[t][n].mixed_block_flag&&(r=4),e.bitrate_blockType_Hist[e.bitrate_index][r]++,e.bitrate_blockType_Hist[e.bitrate_index][5]++,e.bitrate_blockType_Hist[15][r]++,e.bitrate_blockType_Hist[15][5]++}}(P),_}}return c.ENCDELAY=576,c.POSTDELAY=1152,c.MDCTDELAY=48,c.FFTOFFSET=224+c.MDCTDELAY,c.DECDELAY=528,c.SBLIMIT=32,c.CBANDS=64,c.SBPSY_l=21,c.SBPSY_s=12,c.SBMAX_l=22,c.SBMAX_s=13,c.PSFB21=6,c.PSFB12=6,c.BLKSIZE=1024,c.HBLKSIZE=c.BLKSIZE/2+1,c.BLKSIZE_s=256,c.HBLKSIZE_s=c.BLKSIZE_s/2+1,c.NORM_TYPE=0,c.START_TYPE=1,c.SHORT_TYPE=2,c.STOP_TYPE=3,c.MPG_MD_LR_LR=0,c.MPG_MD_LR_I=1,c.MPG_MD_MS_LR=2,c.MPG_MD_MS_I=3,c.fircoef=[-.1039435,-.1892065,5*-.0432472,-.155915,3898045e-23,.0467745*5,.50455,.756825,.187098*5],w=c}var M=b,E=M.Util,T=M.new_float,C=x(),A=b,O=A.VbrMode,P=A.Float,I=A.ShortBlock,R=A.Util,B=A.Arrays,N=A.new_float,L=A.new_float_n,D=A.new_int,j=A.assert,z=function(){var e=T(C.BLKSIZE),t=T(C.BLKSIZE_s/2),n=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function r(e,t,r){var i,a,o,s=0,c=t+(r<<=1);i=4;do{var l,u,h,d,f,p,m;m=i>>1,p=(f=i<<1)+(d=i),i=f<<1,o=(a=t)+m;do{S=e[a+0]-e[a+d],w=e[a+0]+e[a+d],T=e[a+f]-e[a+p],x=e[a+f]+e[a+p],e[a+f]=w-x,e[a+0]=w+x,e[a+p]=S-T,e[a+d]=S+T,S=e[o+0]-e[o+d],w=e[o+0]+e[o+d],T=E.SQRT2*e[o+p],x=E.SQRT2*e[o+f],e[o+f]=w-x,e[o+0]=w+x,e[o+p]=S-T,e[o+d]=S+T,o+=i,a+=i}while(a<c);for(u=n[s+0],l=n[s+1],h=1;h<m;h++){var g,v;g=1-2*l*l,v=2*l*u,a=t+h,o=t+d-h;do{var b,_,y,w,S,k,x,M,T,C;_=v*e[a+d]-g*e[o+d],b=g*e[a+d]+v*e[o+d],S=e[a+0]-b,w=e[a+0]+b,k=e[o+0]-_,y=e[o+0]+_,_=v*e[a+p]-g*e[o+p],b=g*e[a+p]+v*e[o+p],T=e[a+f]-b,x=e[a+f]+b,C=e[o+f]-_,M=e[o+f]+_,_=l*x-u*C,b=u*x+l*C,e[a+f]=w-b,e[a+0]=w+b,e[o+p]=k-_,e[o+d]=k+_,_=u*M-l*T,b=l*M+u*T,e[o+f]=y-b,e[o+0]=y+b,e[a+p]=S-_,e[a+d]=S+_,o+=i,a+=i}while(a<c);u=(g=u)*n[s+0]-l*n[s+1],l=g*n[s+1]+l*n[s+0]}s+=2}while(i<r)}var i=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(e,n,a,o,s){for(var c=0;c<3;c++){var l=C.BLKSIZE_s/2,u=65535&192*(c+1),h=C.BLKSIZE_s/8-1;do{var d,f,p,m,g,v=255&i[h<<2];f=(d=t[v]*o[a][s+v+u])-(g=t[127-v]*o[a][s+v+u+128]),d+=g,m=(p=t[v+64]*o[a][s+v+u+64])-(g=t[63-v]*o[a][s+v+u+192]),p+=g,l-=4,n[c][l+0]=d+p,n[c][l+2]=d-p,n[c][l+1]=f+m,n[c][l+3]=f-m,f=(d=t[v+1]*o[a][s+v+u+1])-(g=t[126-v]*o[a][s+v+u+129]),d+=g,m=(p=t[v+65]*o[a][s+v+u+65])-(g=t[62-v]*o[a][s+v+u+193]),p+=g,n[c][l+C.BLKSIZE_s/2+0]=d+p,n[c][l+C.BLKSIZE_s/2+2]=d-p,n[c][l+C.BLKSIZE_s/2+1]=f+m,n[c][l+C.BLKSIZE_s/2+3]=f-m}while(--h>=0);r(n[c],l,C.BLKSIZE_s/2)}},this.fft_long=function(t,n,a,o,s){var c=C.BLKSIZE/8-1,l=C.BLKSIZE/2;do{var u,h,d,f,p,m=255&i[c];h=(u=e[m]*o[a][s+m])-(p=e[m+512]*o[a][s+m+512]),u+=p,f=(d=e[m+256]*o[a][s+m+256])-(p=e[m+768]*o[a][s+m+768]),d+=p,n[0+(l-=4)]=u+d,n[l+2]=u-d,n[l+1]=h+f,n[l+3]=h-f,h=(u=e[m+1]*o[a][s+m+1])-(p=e[m+513]*o[a][s+m+513]),u+=p,f=(d=e[m+257]*o[a][s+m+257])-(p=e[m+769]*o[a][s+m+769]),d+=p,n[l+C.BLKSIZE/2+0]=u+d,n[l+C.BLKSIZE/2+2]=u-d,n[l+C.BLKSIZE/2+1]=h+f,n[l+C.BLKSIZE/2+3]=h-f}while(--c>=0);r(n,l,C.BLKSIZE/2)},this.init_fft=function(n){for(var r=0;r<C.BLKSIZE;r++)e[r]=.42-.5*Math.cos(2*Math.PI*(r+.5)/C.BLKSIZE)+.08*Math.cos(4*Math.PI*(r+.5)/C.BLKSIZE);for(r=0;r<C.BLKSIZE_s/2;r++)t[r]=.5*(1-Math.cos(2*Math.PI*(r+.5)/C.BLKSIZE_s))}},F=x(),V=function(){var e=k,t=new z,n=2.302585092994046,r=1/217621504/(F.BLKSIZE/2),i=21,a=.2302585093;function o(e,t){for(var n=0,i=0;i<F.BLKSIZE/2;++i)n+=e[i]*t.ATH.eql_w[i];return n*r}function s(e,n,r,i,a,s,c,l,u,h,d){var f=e.internal_flags;if(u<2)t.fft_long(f,i[a],u,h,d),t.fft_short(f,s[c],u,h,d);else if(2==u){for(var p=F.BLKSIZE-1;p>=0;--p){var m=i[a+0][p],g=i[a+1][p];i[a+0][p]=(m+g)*R.SQRT2*.5,i[a+1][p]=(m-g)*R.SQRT2*.5}for(var v=2;v>=0;--v)for(p=F.BLKSIZE_s-1;p>=0;--p)m=s[c+0][v][p],g=s[c+1][v][p],s[c+0][v][p]=(m+g)*R.SQRT2*.5,s[c+1][v][p]=(m-g)*R.SQRT2*.5}for(n[0]=i[a+0][0],n[0]*=n[0],p=F.BLKSIZE/2-1;p>=0;--p){var b=i[a+0][F.BLKSIZE/2-p],_=i[a+0][F.BLKSIZE/2+p];n[F.BLKSIZE/2-p]=.5*(b*b+_*_)}for(v=2;v>=0;--v)for(r[v][0]=s[c+0][v][0],r[v][0]*=r[v][0],p=F.BLKSIZE_s/2-1;p>=0;--p)b=s[c+0][v][F.BLKSIZE_s/2-p],_=s[c+0][v][F.BLKSIZE_s/2+p],r[v][F.BLKSIZE_s/2-p]=.5*(b*b+_*_);var y=0;for(p=11;p<F.HBLKSIZE;p++)y+=n[p];if(f.tot_ener[u]=y,e.analysis){for(p=0;p<F.HBLKSIZE;p++)f.pinfo.energy[l][u][p]=f.pinfo.energy_save[u][p],f.pinfo.energy_save[u][p]=n[p];f.pinfo.pe[l][u]=f.pe[u]}2==e.athaa_loudapprox&&u<2&&(f.loudness_sq[l][u]=f.loudness_sq_save[u],f.loudness_sq_save[u]=o(n,f))}var c,l,u,h=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749],d=[3.3246*3.3246,3.23837*3.23837,9.9500500969,9.0247369744,8.1854926609,7.0440875649,2.46209*2.46209,2.284*2.284,4.4892710641,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,2.4621061921,2.1508568964,1.37074*1.37074,1.31036*1.31036,1.5691069696,1.4555939904,1.16203*1.16203,1.2715945225,1.09428*1.09428,1.0659*1.0659,1.0779838276,1.0382591025,1],f=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1],p=[5.5396212496,2.29259*2.29259,4.9868695969,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,2.2499700001,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.2339655056,1.0779838276];function m(e,t,n,r,i,a){var o,s,h;if(t>e){if(!(t<e*l))return e+t;o=t/e}else{if(e>=t*l)return e+t;o=e/t}if(e+=t,r+3<=6){if(o>=c)return e;var m=0|R.FAST_LOG10_X(o,16);return e*f[m]}return m=0|R.FAST_LOG10_X(o,16),t=0!=a?i.ATH.cb_s[n]*i.ATH.adjust:i.ATH.cb_l[n]*i.ATH.adjust,e<u*t?e>t?(s=1,m<=13&&(s=p[m]),h=R.FAST_LOG10_X(e/t,10/15),e*((d[m]-s)*h+s)):m>13?e:e*p[m]:e*d[m]}var g=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1];function v(e,t,n){var r;if(e<0&&(e=0),t<0&&(t=0),e<=0)return t;if(t<=0)return e;if(r=t>e?t/e:e/t,-2<=n&&n<=2){if(r>=c)return e+t;var i=0|R.FAST_LOG10_X(r,16);return(e+t)*g[i]}return r<l?e+t:(e<t&&(e=t),e)}function b(e,t,n,r,i){var a,o,s=0,c=0;for(a=o=0;a<F.SBMAX_s;++o,++a){for(var l=e.bo_s[a],u=e.npart_s,h=l<u?l:u;o<h;)j(t[o]>=0),j(n[o]>=0),s+=t[o],c+=n[o],o++;if(e.en[r].s[a][i]=s,e.thm[r].s[a][i]=c,o>=u){++a;break}j(t[o]>=0),j(n[o]>=0);var d=e.PSY.bo_s_weight[a],f=1-d;s=d*t[o],c=d*n[o],e.en[r].s[a][i]+=s,e.thm[r].s[a][i]+=c,s=f*t[o],c=f*n[o]}for(;a<F.SBMAX_s;++a)e.en[r].s[a][i]=0,e.thm[r].s[a][i]=0}function _(e,t,n,r){var i,a,o=0,s=0;for(i=a=0;i<F.SBMAX_l;++a,++i){for(var c=e.bo_l[i],l=e.npart_l,u=c<l?c:l;a<u;)j(t[a]>=0),j(n[a]>=0),o+=t[a],s+=n[a],a++;if(e.en[r].l[i]=o,e.thm[r].l[i]=s,a>=l){++i;break}j(t[a]>=0),j(n[a]>=0);var h=e.PSY.bo_l_weight[i],d=1-h;o=h*t[a],s=h*n[a],e.en[r].l[i]+=o,e.thm[r].l[i]+=s,o=d*t[a],s=d*n[a]}for(;i<F.SBMAX_l;++i)e.en[r].l[i]=0,e.thm[r].l[i]=0}function y(e,t,n,r,i,a){var o,s,c=e.internal_flags;for(s=o=0;s<c.npart_s;++s){for(var l=0,u=c.numlines_s[s],h=0;h<u;++h,++o)l+=t[a][o];n[s]=l}for(j(s==c.npart_s),o=s=0;s<c.npart_s;s++){var d=c.s3ind_s[s][0],f=c.s3_ss[o++]*n[d];for(++d;d<=c.s3ind_s[s][1];)f+=c.s3_ss[o]*n[d],++o,++d;var p=2*c.nb_s1[i][s];if(r[s]=Math.min(f,p),c.blocktype_old[1&i]==F.SHORT_TYPE){p=16*c.nb_s2[i][s];var m=r[s];r[s]=Math.min(p,m)}c.nb_s2[i][s]=c.nb_s1[i][s],c.nb_s1[i][s]=f,j(r[s]>=0)}for(;s<=F.CBANDS;++s)n[s]=0,r[s]=0}function w(e,t,n){return n>=1?e:n<=0?t:t>0?Math.pow(e/t,n)*t:0}var S=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function x(e,t){for(var r=309.07,i=0;i<F.SBMAX_s-1;i++)for(var a=0;a<3;a++){var o=e.thm.s[i][a];if(o>0){var s=o*t,c=e.en.s[i][a];c>s&&(r+=c>1e10*s?S[i]*(10*n):S[i]*R.FAST_LOG10(c/s))}}return r}var M=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function E(e,t){for(var r=281.0575,i=0;i<F.SBMAX_l-1;i++){var a=e.thm.l[i];if(a>0){var o=a*t,s=e.en.l[i];s>o&&(r+=s>1e10*o?M[i]*(10*n):M[i]*R.FAST_LOG10(s/o))}}return r}function T(e,t,n,r,i){var a,o;for(a=o=0;a<e.npart_l;++a){var s,c=0,l=0;for(s=0;s<e.numlines_l[a];++s,++o){var u=t[o];c+=u,l<u&&(l=u)}n[a]=c,r[a]=l,i[a]=c*e.rnumlines_l[a],j(e.rnumlines_l[a]>=0),j(n[a]>=0),j(r[a]>=0),j(i[a]>=0)}}function C(e,t,n,r){var i=h.length-1,a=0,o=n[a]+n[a+1];for(o>0?((s=t[a])<t[a+1]&&(s=t[a+1]),j(e.numlines_l[a]+e.numlines_l[a+1]-1>0),(c=0|(o=20*(2*s-o)/(o*(e.numlines_l[a]+e.numlines_l[a+1]-1))))>i&&(c=i),r[a]=c):r[a]=0,a=1;a<e.npart_l-1;a++)if((o=n[a-1]+n[a]+n[a+1])>0){var s,c;(s=t[a-1])<t[a]&&(s=t[a]),s<t[a+1]&&(s=t[a+1]),j(e.numlines_l[a-1]+e.numlines_l[a]+e.numlines_l[a+1]-1>0),(c=0|(o=20*(3*s-o)/(o*(e.numlines_l[a-1]+e.numlines_l[a]+e.numlines_l[a+1]-1))))>i&&(c=i),r[a]=c}else r[a]=0;j(a==e.npart_l-1),(o=n[a-1]+n[a])>0?((s=t[a-1])<t[a]&&(s=t[a]),j(e.numlines_l[a-1]+e.numlines_l[a]-1>0),(c=0|(o=20*(2*s-o)/(o*(e.numlines_l[a-1]+e.numlines_l[a]-1))))>i&&(c=i),r[a]=c):r[a]=0,j(a==e.npart_l-1)}var A=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function V(e,n,r,i,a,o,s,c){var l=e.internal_flags;if(i<2)t.fft_long(l,s[c],i,n,r);else if(2==i)for(var u=F.BLKSIZE-1;u>=0;--u){var h=s[c+0][u],d=s[c+1][u];s[c+0][u]=(h+d)*R.SQRT2*.5,s[c+1][u]=(h-d)*R.SQRT2*.5}for(o[0]=s[c+0][0],o[0]*=o[0],u=F.BLKSIZE/2-1;u>=0;--u){var f=s[c+0][F.BLKSIZE/2-u],p=s[c+0][F.BLKSIZE/2+u];o[F.BLKSIZE/2-u]=.5*(f*f+p*p)}var m=0;for(u=11;u<F.HBLKSIZE;u++)m+=o[u];if(l.tot_ener[i]=m,e.analysis){for(u=0;u<F.HBLKSIZE;u++)l.pinfo.energy[a][i][u]=l.pinfo.energy_save[i][u],l.pinfo.energy_save[i][u]=o[u];l.pinfo.pe[a][i]=l.pe[i]}}function H(e,n,r,i,a,o,s,c){var l=e.internal_flags;if(0==a&&i<2&&t.fft_short(l,s[c],i,n,r),2==i)for(var u=F.BLKSIZE_s-1;u>=0;--u){var h=s[c+0][a][u],d=s[c+1][a][u];s[c+0][a][u]=(h+d)*R.SQRT2*.5,s[c+1][a][u]=(h-d)*R.SQRT2*.5}for(o[a][0]=s[c+0][a][0],o[a][0]*=o[a][0],u=F.BLKSIZE_s/2-1;u>=0;--u){var f=s[c+0][a][F.BLKSIZE_s/2-u],p=s[c+0][a][F.BLKSIZE_s/2+u];o[a][F.BLKSIZE_s/2-u]=.5*(f*f+p*p)}}function W(e,t,n,r){var i=e.internal_flags;2==e.athaa_loudapprox&&n<2&&(i.loudness_sq[t][n]=i.loudness_sq_save[n],i.loudness_sq_save[n]=o(r,i))}this.L3psycho_anal_ns=function(t,n,r,a,o,c,l,u,d,f){var p,g,v,S,k,M,P,R,z,V,H=t.internal_flags,W=L([2,F.BLKSIZE]),U=L([2,3,F.BLKSIZE_s]),G=N(F.CBANDS+1),q=N(F.CBANDS+1),Y=N(F.CBANDS+2),X=D(2),K=D(2),$=L([2,576]),Z=D(F.CBANDS+2),J=D(F.CBANDS+2);for(B.fill(J,0),p=H.channels_out,t.mode==e.JOINT_STEREO&&(p=4),z=t.VBR==O.vbr_off?0==H.ResvMax?0:H.ResvSize/H.ResvMax*.5:t.VBR==O.vbr_rh||t.VBR==O.vbr_mtrh||t.VBR==O.vbr_mt?.6:1,g=0;g<H.channels_out;g++){var Q=n[g],ee=r+576-350-i+192;for(S=0;S<576;S++){var te,ne;for(te=Q[ee+S+10],ne=0,k=0;k<9;k+=2)te+=A[k]*(Q[ee+S+k]+Q[ee+S+i-k]),ne+=A[k+1]*(Q[ee+S+k+1]+Q[ee+S+i-k-1]);$[g][S]=te+ne}o[a][g].en.assign(H.en[g]),o[a][g].thm.assign(H.thm[g]),p>2&&(c[a][g].en.assign(H.en[g+2]),c[a][g].thm.assign(H.thm[g+2]))}for(g=0;g<p;g++){var re,ie=N(12),ae=[0,0,0,0],oe=N(12),se=1,ce=N(F.CBANDS),le=N(F.CBANDS),ue=[0,0,0,0],he=N(F.HBLKSIZE),de=L([3,F.HBLKSIZE_s]);for(j(H.npart_s<=F.CBANDS),j(H.npart_l<=F.CBANDS),S=0;S<3;S++)ie[S]=H.nsPsy.last_en_subshort[g][S+6],j(H.nsPsy.last_en_subshort[g][S+4]>0),oe[S]=ie[S]/H.nsPsy.last_en_subshort[g][S+4],ae[0]+=ie[S];if(2==g)for(S=0;S<576;S++){var fe,pe;fe=$[0][S],pe=$[1][S],$[0][S]=fe+pe,$[1][S]=fe-pe}var me=$[1&g],ge=0;for(S=0;S<9;S++){for(var ve=ge+64,be=1;ge<ve;ge++)be<Math.abs(me[ge])&&(be=Math.abs(me[ge]));H.nsPsy.last_en_subshort[g][S]=ie[S+3]=be,ae[1+S/3]+=be,be>ie[S+3-2]?(j(ie[S+3-2]>0),be/=ie[S+3-2]):be=ie[S+3-2]>10*be?ie[S+3-2]/(10*be):0,oe[S+3]=be}if(t.analysis){var _e=oe[0];for(S=1;S<12;S++)_e<oe[S]&&(_e=oe[S]);H.pinfo.ers[a][g]=H.pinfo.ers_save[g],H.pinfo.ers_save[g]=_e}for(re=3==g?H.nsPsy.attackthre_s:H.nsPsy.attackthre,S=0;S<12;S++)0==ue[S/3]&&oe[S]>re&&(ue[S/3]=S%3+1);for(S=1;S<4;S++){var ye;ae[S-1]>ae[S]?(j(ae[S]>0),ye=ae[S-1]/ae[S]):(j(ae[S-1]>0),ye=ae[S]/ae[S-1]),ye<1.7&&(ue[S]=0,1==S&&(ue[0]=0))}for(0!=ue[0]&&0!=H.nsPsy.lastAttacks[g]&&(ue[0]=0),(3==H.nsPsy.lastAttacks[g]||ue[0]+ue[1]+ue[2]+ue[3]!=0)&&(se=0,0!=ue[1]&&0!=ue[0]&&(ue[1]=0),0!=ue[2]&&0!=ue[1]&&(ue[2]=0),0!=ue[3]&&0!=ue[2]&&(ue[3]=0)),g<2?K[g]=se:0==se&&(K[0]=K[1]=0),d[g]=H.tot_ener[g],s(t,he,de,W,1&g,U,1&g,a,g,n,r),T(H,he,G,ce,le),C(H,ce,le,Z),R=0;R<3;R++){var we,Se;for(y(t,de,q,Y,g,R),b(H,q,Y,g,R),P=0;P<F.SBMAX_s;P++){if(Se=H.thm[g].s[P][R],Se*=.8,ue[R]>=2||1==ue[R+1]){var ke=0!=R?R-1:2;be=w(H.thm[g].s[P][ke],Se,.6*z),Se=Math.min(Se,be)}1==ue[R]?(ke=0!=R?R-1:2,be=w(H.thm[g].s[P][ke],Se,.3*z),Se=Math.min(Se,be)):(0!=R&&3==ue[R-1]||0==R&&3==H.nsPsy.lastAttacks[g])&&(ke=2!=R?R+1:0,be=w(H.thm[g].s[P][ke],Se,.3*z),Se=Math.min(Se,be)),we=ie[3*R+3]+ie[3*R+4]+ie[3*R+5],6*ie[3*R+5]<we&&(Se*=.5,6*ie[3*R+4]<we&&(Se*=.5)),H.thm[g].s[P][R]=Se}}for(H.nsPsy.lastAttacks[g]=ue[2],M=0,v=0;v<H.npart_l;v++){for(var xe=H.s3ind[v][0],Me=G[xe]*h[Z[xe]],Ee=H.s3_ll[M++]*Me;++xe<=H.s3ind[v][1];)Me=G[xe]*h[Z[xe]],Ee=m(Ee,H.s3_ll[M++]*Me,xe,xe-v,H,0);Ee*=.158489319246111,H.blocktype_old[1&g]==F.SHORT_TYPE?Y[v]=Ee:Y[v]=w(Math.min(Ee,Math.min(2*H.nb_1[g][v],16*H.nb_2[g][v])),Ee,z),H.nb_2[g][v]=H.nb_1[g][v],H.nb_1[g][v]=Ee}for(;v<=F.CBANDS;++v)G[v]=0,Y[v]=0;_(H,G,Y,g)}for((t.mode==e.STEREO||t.mode==e.JOINT_STEREO)&&t.interChRatio>0&&function(e,t){var n=e.internal_flags;if(n.channels_out>1){for(var r=0;r<F.SBMAX_l;r++){var i=n.thm[0].l[r],a=n.thm[1].l[r];n.thm[0].l[r]+=a*t,n.thm[1].l[r]+=i*t}for(r=0;r<F.SBMAX_s;r++)for(var o=0;o<3;o++)i=n.thm[0].s[r][o],a=n.thm[1].s[r][o],n.thm[0].s[r][o]+=a*t,n.thm[1].s[r][o]+=i*t}}(t,t.interChRatio),t.mode==e.JOINT_STEREO&&(function(e){for(var t=0;t<F.SBMAX_l;t++)if(!(e.thm[0].l[t]>1.58*e.thm[1].l[t]||e.thm[1].l[t]>1.58*e.thm[0].l[t])){var n=e.mld_l[t]*e.en[3].l[t],r=Math.max(e.thm[2].l[t],Math.min(e.thm[3].l[t],n));n=e.mld_l[t]*e.en[2].l[t];var i=Math.max(e.thm[3].l[t],Math.min(e.thm[2].l[t],n));e.thm[2].l[t]=r,e.thm[3].l[t]=i}for(t=0;t<F.SBMAX_s;t++)for(var a=0;a<3;a++)e.thm[0].s[t][a]>1.58*e.thm[1].s[t][a]||e.thm[1].s[t][a]>1.58*e.thm[0].s[t][a]||(n=e.mld_s[t]*e.en[3].s[t][a],r=Math.max(e.thm[2].s[t][a],Math.min(e.thm[3].s[t][a],n)),n=e.mld_s[t]*e.en[2].s[t][a],i=Math.max(e.thm[3].s[t][a],Math.min(e.thm[2].s[t][a],n)),e.thm[2].s[t][a]=r,e.thm[3].s[t][a]=i)}(H),V=t.msfix,Math.abs(V)>0&&function(e,t,n){var r=t,i=Math.pow(10,n);t*=2,r*=2;for(var a=0;a<F.SBMAX_l;a++)u=e.ATH.cb_l[e.bm_l[a]]*i,(s=Math.min(Math.max(e.thm[0].l[a],u),Math.max(e.thm[1].l[a],u)))*t<(c=Math.max(e.thm[2].l[a],u))+(l=Math.max(e.thm[3].l[a],u))&&(c*=h=s*r/(c+l),l*=h),e.thm[2].l[a]=Math.min(c,e.thm[2].l[a]),e.thm[3].l[a]=Math.min(l,e.thm[3].l[a]);for(i*=F.BLKSIZE_s/F.BLKSIZE,a=0;a<F.SBMAX_s;a++)for(var o=0;o<3;o++){var s,c,l,u,h;u=e.ATH.cb_s[e.bm_s[a]]*i,(s=Math.min(Math.max(e.thm[0].s[a][o],u),Math.max(e.thm[1].s[a][o],u)))*t<(c=Math.max(e.thm[2].s[a][o],u))+(l=Math.max(e.thm[3].s[a][o],u))&&(c*=h=s*t/(c+l),l*=h),e.thm[2].s[a][o]=Math.min(e.thm[2].s[a][o],c),e.thm[3].s[a][o]=Math.min(e.thm[3].s[a][o],l)}}(H,V,t.ATHlower*H.ATH.adjust)),function(e,t,n,r){var i=e.internal_flags;e.short_blocks==I.short_block_coupled&&(0==t[0]||0==t[1])&&(t[0]=t[1]=0);for(var a=0;a<i.channels_out;a++)r[a]=F.NORM_TYPE,e.short_blocks==I.short_block_dispensed&&(t[a]=1),e.short_blocks==I.short_block_forced&&(t[a]=0),0!=t[a]?(j(i.blocktype_old[a]!=F.START_TYPE),i.blocktype_old[a]==F.SHORT_TYPE&&(r[a]=F.STOP_TYPE)):(r[a]=F.SHORT_TYPE,i.blocktype_old[a]==F.NORM_TYPE&&(i.blocktype_old[a]=F.START_TYPE),i.blocktype_old[a]==F.STOP_TYPE&&(i.blocktype_old[a]=F.SHORT_TYPE)),n[a]=i.blocktype_old[a],i.blocktype_old[a]=r[a]}(t,K,f,X),g=0;g<p;g++){var Te,Ce,Ae,Oe=0;g>1?(Te=u,Oe=-2,Ce=F.NORM_TYPE,(f[0]==F.SHORT_TYPE||f[1]==F.SHORT_TYPE)&&(Ce=F.SHORT_TYPE),Ae=c[a][g-2]):(Te=l,Oe=0,Ce=f[g],Ae=o[a][g]),Ce==F.SHORT_TYPE?Te[Oe+g]=x(Ae,H.masking_lower):Te[Oe+g]=E(Ae,H.masking_lower),t.analysis&&(H.pinfo.pe[a][g]=Te[Oe+g])}return 0};var U=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function G(e,t,n){if(0==n)for(var r=0;r<e.npart_s;r++)e.nb_s2[t][r]=e.nb_s1[t][r],e.nb_s1[t][r]=0}function q(e,t){for(var n=0;n<e.npart_l;n++)e.nb_2[t][n]=e.nb_1[t][n],e.nb_1[t][n]=0}function Y(e,t,n,r,i,a){var o,s,c,l=e.internal_flags,u=new float[F.CBANDS],d=N(F.CBANDS),f=new int[F.CBANDS];for(c=s=0;c<l.npart_s;++c){var p=0,m=0,g=l.numlines_s[c];for(o=0;o<g;++o,++s){var b=t[a][s];p+=b,m<b&&(m=b)}n[c]=p,u[c]=m,d[c]=p/g,j(d[c]>=0)}for(j(c==l.npart_s);c<F.CBANDS;++c)u[c]=0,d[c]=0;for(function(e,t,n,r){var i=h.length-1,a=0,o=n[a]+n[a+1];for(o>0?((s=t[a])<t[a+1]&&(s=t[a+1]),j(e.numlines_s[a]+e.numlines_s[a+1]-1>0),(c=0|(o=20*(2*s-o)/(o*(e.numlines_s[a]+e.numlines_s[a+1]-1))))>i&&(c=i),r[a]=c):r[a]=0,a=1;a<e.npart_s-1;a++)if(o=n[a-1]+n[a]+n[a+1],j(a+1<e.npart_s),o>0){var s,c;(s=t[a-1])<t[a]&&(s=t[a]),s<t[a+1]&&(s=t[a+1]),j(e.numlines_s[a-1]+e.numlines_s[a]+e.numlines_s[a+1]-1>0),(c=0|(o=20*(3*s-o)/(o*(e.numlines_s[a-1]+e.numlines_s[a]+e.numlines_s[a+1]-1))))>i&&(c=i),r[a]=c}else r[a]=0;j(a==e.npart_s-1),(o=n[a-1]+n[a])>0?((s=t[a-1])<t[a]&&(s=t[a]),j(e.numlines_s[a-1]+e.numlines_s[a]-1>0),(c=0|(o=20*(2*s-o)/(o*(e.numlines_s[a-1]+e.numlines_s[a]-1))))>i&&(c=i),r[a]=c):r[a]=0,j(a==e.npart_s-1)}(l,u,d,f),s=c=0;c<l.npart_s;c++){var _,y,w,S,k,x=l.s3ind_s[c][0],M=l.s3ind_s[c][1];for(_=f[x],y=1,S=l.s3_ss[s]*n[x]*h[f[x]],++s,++x;x<=M;)_+=f[x],y+=1,S=v(S,w=l.s3_ss[s]*n[x]*h[f[x]],x-c),++s,++x;S*=k=.5*h[_=(1+2*_)/(2*y)],r[c]=S,l.nb_s2[i][c]=l.nb_s1[i][c],l.nb_s1[i][c]=S,w=u[c],w*=l.minval_s[c],w*=k,r[c]>w&&(r[c]=w),l.masking_lower>1&&(r[c]*=l.masking_lower),r[c]>n[c]&&(r[c]=n[c]),l.masking_lower<1&&(r[c]*=l.masking_lower),j(r[c]>=0)}for(;c<F.CBANDS;++c)n[c]=0,r[c]=0}function X(e,t,n,r,i){var a,o=N(F.CBANDS),s=N(F.CBANDS),c=D(F.CBANDS+2);T(e,t,n,o,s),C(e,o,s,c);var l=0;for(a=0;a<e.npart_l;a++){var u,d,f,p=e.s3ind[a][0],m=e.s3ind[a][1],g=0,b=0;for(g=c[p],b+=1,d=e.s3_ll[l]*n[p]*h[c[p]],++l,++p;p<=m;)g+=c[p],b+=1,d=v(d,u=e.s3_ll[l]*n[p]*h[c[p]],p-a),++l,++p;if(d*=f=.5*h[g=(1+2*g)/(2*b)],e.blocktype_old[1&i]==F.SHORT_TYPE){var _=2*e.nb_1[i][a];r[a]=_>0?Math.min(d,_):Math.min(d,.3*n[a])}else{var y=16*e.nb_2[i][a],w=2*e.nb_1[i][a];y<=0&&(y=d),w<=0&&(w=d),_=e.blocktype_old[1&i]==F.NORM_TYPE?Math.min(w,y):w,r[a]=Math.min(d,_)}e.nb_2[i][a]=e.nb_1[i][a],e.nb_1[i][a]=d,u=o[a],u*=e.minval_l[a],u*=f,r[a]>u&&(r[a]=u),e.masking_lower>1&&(r[a]*=e.masking_lower),r[a]>n[a]&&(r[a]=n[a]),e.masking_lower<1&&(r[a]*=e.masking_lower),j(r[a]>=0)}for(;a<F.CBANDS;++a)n[a]=0,r[a]=0}function K(e,t,n,r,i,a,o){for(var s,c,l=2*a,u=a>0?Math.pow(10,i):1,h=0;h<o;++h){var d=e[2][h],f=e[3][h],p=t[0][h],m=t[1][h],g=t[2][h],v=t[3][h];if(p<=1.58*m&&m<=1.58*p){var b=n[h]*f,_=n[h]*d;c=Math.max(g,Math.min(v,b)),s=Math.max(v,Math.min(g,_))}else c=g,s=v;if(a>0){var y,w,S=r[h]*u;if(y=Math.min(Math.max(p,S),Math.max(m,S)),(w=(g=Math.max(c,S))+(v=Math.max(s,S)))>0&&y*l<w){var k=y*l/w;g*=k,v*=k}c=Math.min(g,c),s=Math.min(v,s)}c>d&&(c=d),s>f&&(s=f),t[2][h]=c,t[3][h]=s}}function $(e,t){var n;return(n=e>=0?27*-e:e*t)<=-72?0:Math.exp(n*a)}function Z(e){var t,n,r,i,a=0;for(a=0;$(a,e)>1e-20;a-=1);for(r=a,i=0;Math.abs(i-r)>1e-12;)$(a=(i+r)/2,e)>0?i=a:r=a;for(t=r,a=0,a=0;$(a,e)>1e-20;a+=1);for(r=0,i=a;Math.abs(i-r)>1e-12;)$(a=(i+r)/2,e)>0?r=a:i=a;n=i;var o,s=0,c=1e3;for(o=0;o<=c;++o)s+=$(a=t+o*(n-t)/c,e);return(c+1)/(s*(n-t))}function J(e){var t,n,r,i;return t=e,n=(t*=t>=0?3:1.5)>=.5&&t<=2.5?8*((i=t-.5)*i-2*i):0,(r=15.811389+7.5*(t+=.474)-17.5*Math.sqrt(1+t*t))<=-60?0:(t=Math.exp((n+r)*a),t/=.6609193)}function Q(e){return e<0&&(e=0),e*=.001,13*Math.atan(.76*e)+3.5*Math.atan(e*e/56.25)}function ee(e,t,n,r,i,a,o,s,c,l,u,h){var d,f=N(F.CBANDS+1),p=s/(h>15?1152:384),m=D(F.HBLKSIZE);s/=c;var g=0,v=0;for(d=0;d<F.CBANDS;d++){var b;for(T=Q(s*g),f[d]=s*g,b=g;Q(s*b)-T<.34&&b<=c/2;b++);for(e[d]=b-g,v=d+1;g<b;)j(g<F.HBLKSIZE),m[g++]=d;if(g>c/2){g=c/2,++d;break}}j(d<F.CBANDS),f[d]=s*g;for(var _=0;_<h;_++){var y,w,S,k,x;S=l[_],k=l[_+1],(y=0|Math.floor(.5+u*(S-.5)))<0&&(y=0),(w=0|Math.floor(.5+u*(k-.5)))>c/2&&(w=c/2),n[_]=(m[y]+m[w])/2,t[_]=m[w];var M=p*k;o[_]=(M-f[t[_]])/(f[t[_]+1]-f[t[_]]),o[_]<0?o[_]=0:o[_]>1&&(o[_]=1),x=Q(s*l[_]*u),x=Math.min(x,15.5)/15.5,a[_]=Math.pow(10,1.25*(1-Math.cos(Math.PI*x))-2.5)}g=0;for(var E=0;E<v;E++){var T,C,A=e[E];T=Q(s*g),C=Q(s*(g+A-1)),r[E]=.5*(T+C),T=Q(s*(g-.5)),C=Q(s*(g+A-.5)),i[E]=C-T,g+=A}return v}function te(e,t,n,r,i,a){var o,s=L([F.CBANDS,F.CBANDS]),c=0;if(a)for(var l=0;l<t;l++)for(o=0;o<t;o++){var u=J(n[l]-n[o])*r[o];s[l][o]=u*i[l]}else for(o=0;o<t;o++){var h=15+Math.min(21/n[o],12),d=Z(h);for(l=0;l<t;l++)u=d*$(n[l]-n[o],h)*r[o],s[l][o]=u*i[l]}for(l=0;l<t;l++){for(o=0;o<t&&!(s[l][o]>0);o++);for(e[l][0]=o,o=t-1;o>0&&!(s[l][o]>0);o--);e[l][1]=o,c+=e[l][1]-e[l][0]+1}var f=N(c),p=0;for(l=0;l<t;l++)for(o=e[l][0];o<=e[l][1];o++)f[p++]=s[l][o];return f}function ne(e){var t=Q(e);return t=Math.min(t,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*t))-2.5)}function re(e,t){return e<-.3&&(e=3410),e/=1e3,e=Math.max(.1,e),3.64*Math.pow(e,-.8)-6.8*Math.exp(-.6*Math.pow(e-3.4,2))+6*Math.exp(-.15*Math.pow(e-8.7,2))+.001*(.6+.04*t)*Math.pow(e,4)}this.L3psycho_anal_vbr=function(t,n,r,a,o,s,c,l,u,h){var d=t.internal_flags,f=N(F.HBLKSIZE),p=L([3,F.HBLKSIZE_s]),m=L([2,F.BLKSIZE]),g=L([2,3,F.BLKSIZE_s]),v=L([4,F.CBANDS]),y=L([4,F.CBANDS]),S=L([4,3]),k=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],M=D(2),T=t.mode==e.JOINT_STEREO?4:d.channels_out;(function(t,n,r,a,o,s,c,l,u,h){for(var d=L([2,576]),f=t.internal_flags,p=f.channels_out,m=t.mode==e.JOINT_STEREO?4:p,g=0;g<p;g++){firbuf=n[g];for(var v=r+576-350-i+192,b=0;b<576;b++){var _,y;_=firbuf[v+b+10],y=0;for(var w=0;w<9;w+=2)_+=U[w]*(firbuf[v+b+w]+firbuf[v+b+i-w]),y+=U[w+1]*(firbuf[v+b+w+1]+firbuf[v+b+i-w-1]);d[g][b]=_+y}o[a][g].en.assign(f.en[g]),o[a][g].thm.assign(f.thm[g]),m>2&&(s[a][g].en.assign(f.en[g+2]),s[a][g].thm.assign(f.thm[g+2]))}for(g=0;g<m;g++){var S=N(12),k=N(12),x=[0,0,0,0],M=d[1&g],E=0,T=3==g?f.nsPsy.attackthre_s:f.nsPsy.attackthre,C=1;if(2==g)for(b=0,w=576;w>0;++b,--w){var A=d[0][b],O=d[1][b];d[0][b]=A+O,d[1][b]=A-O}for(b=0;b<3;b++)k[b]=f.nsPsy.last_en_subshort[g][b+6],j(f.nsPsy.last_en_subshort[g][b+4]>0),S[b]=k[b]/f.nsPsy.last_en_subshort[g][b+4],x[0]+=k[b];for(b=0;b<9;b++){for(var P=E+64,I=1;E<P;E++)I<Math.abs(M[E])&&(I=Math.abs(M[E]));f.nsPsy.last_en_subshort[g][b]=k[b+3]=I,x[1+b/3]+=I,I>k[b+3-2]?(j(k[b+3-2]>0),I/=k[b+3-2]):I=k[b+3-2]>10*I?k[b+3-2]/(10*I):0,S[b+3]=I}for(b=0;b<3;++b){var R=k[3*b+3]+k[3*b+4]+k[3*b+5],B=1;6*k[3*b+5]<R&&(B*=.5,6*k[3*b+4]<R&&(B*=.5)),l[g][b]=B}if(t.analysis){var D=S[0];for(b=1;b<12;b++)D<S[b]&&(D=S[b]);f.pinfo.ers[a][g]=f.pinfo.ers_save[g],f.pinfo.ers_save[g]=D}for(b=0;b<12;b++)0==u[g][b/3]&&S[b]>T&&(u[g][b/3]=b%3+1);for(b=1;b<4;b++){var z=x[b-1],F=x[b];Math.max(z,F)<4e4&&z<1.7*F&&F<1.7*z&&(1==b&&u[g][0]<=u[g][b]&&(u[g][0]=0),u[g][b]=0)}u[g][0]<=f.nsPsy.lastAttacks[g]&&(u[g][0]=0),(3==f.nsPsy.lastAttacks[g]||u[g][0]+u[g][1]+u[g][2]+u[g][3]!=0)&&(C=0,0!=u[g][1]&&0!=u[g][0]&&(u[g][1]=0),0!=u[g][2]&&0!=u[g][1]&&(u[g][2]=0),0!=u[g][3]&&0!=u[g][2]&&(u[g][3]=0)),g<2?h[g]=C:0==C&&(h[0]=h[1]=0),c[g]=f.tot_ener[g]}})(t,n,r,a,o,s,u,S,k,M),function(e,t){var n=e.internal_flags;e.short_blocks==I.short_block_coupled&&(0==t[0]||0==t[1])&&(t[0]=t[1]=0);for(var r=0;r<n.channels_out;r++)e.short_blocks==I.short_block_dispensed&&(t[r]=1),e.short_blocks==I.short_block_forced&&(t[r]=0)}(t,M);for(var C=0;C<T;C++)V(t,n,r,C,a,f,m,O=1&C),W(t,a,C,f),0!=M[O]?X(d,f,v[C],y[C],C):q(d,C);for(M[0]+M[1]==2&&t.mode==e.JOINT_STEREO&&K(v,y,d.mld_cb_l,d.ATH.cb_l,t.ATHlower*d.ATH.adjust,t.msfix,d.npart_l),C=0;C<T;C++)0!=M[O=1&C]&&_(d,v[C],y[C],C);for(var A=0;A<3;A++){for(C=0;C<T;++C)0!=M[O=1&C]?G(d,C,A):(H(t,n,r,C,A,p,g,O),Y(t,p,v[C],y[C],C,A));for(M[0]+M[1]==0&&t.mode==e.JOINT_STEREO&&K(v,y,d.mld_cb_s,d.ATH.cb_s,t.ATHlower*d.ATH.adjust,t.msfix,d.npart_s),C=0;C<T;++C)0==M[O=1&C]&&b(d,v[C],y[C],C,A)}for(C=0;C<T;C++){var O;if(0==M[O=1&C])for(var P=0;P<F.SBMAX_s;P++){var R=N(3);for(A=0;A<3;A++){var B=d.thm[C].s[P][A];if(B*=.8,k[C][A]>=2||1==k[C][A+1]){var z=0!=A?A-1:2,$=w(d.thm[C].s[P][z],B,.36);B=Math.min(B,$)}else 1==k[C][A]?(z=0!=A?A-1:2,$=w(d.thm[C].s[P][z],B,.18),B=Math.min(B,$)):(0!=A&&3==k[C][A-1]||0==A&&3==d.nsPsy.lastAttacks[C])&&(z=2!=A?A+1:0,$=w(d.thm[C].s[P][z],B,.18),B=Math.min(B,$));B*=S[C][A],R[A]=B}for(A=0;A<3;A++)d.thm[C].s[P][A]=R[A]}}for(C=0;C<T;C++)d.nsPsy.lastAttacks[C]=k[C][2];for(function(e,t,n){for(var r=e.internal_flags,i=0;i<r.channels_out;i++){var a=F.NORM_TYPE;0!=t[i]?(j(r.blocktype_old[i]!=F.START_TYPE),r.blocktype_old[i]==F.SHORT_TYPE&&(a=F.STOP_TYPE)):(a=F.SHORT_TYPE,r.blocktype_old[i]==F.NORM_TYPE&&(r.blocktype_old[i]=F.START_TYPE),r.blocktype_old[i]==F.STOP_TYPE&&(r.blocktype_old[i]=F.SHORT_TYPE)),n[i]=r.blocktype_old[i],r.blocktype_old[i]=a}}(t,M,h),C=0;C<T;C++){var Z,J,Q,ee;C>1?(Z=l,J=-2,Q=F.NORM_TYPE,(h[0]==F.SHORT_TYPE||h[1]==F.SHORT_TYPE)&&(Q=F.SHORT_TYPE),ee=s[a][C-2]):(Z=c,J=0,Q=h[C],ee=o[a][C]),Q==F.SHORT_TYPE?Z[J+C]=x(ee,d.masking_lower):Z[J+C]=E(ee,d.masking_lower),t.analysis&&(d.pinfo.pe[a][C]=Z[J+C])}return 0},this.psymodel_init=function(e){var r,i,a=e.internal_flags,o=!0,s=13,h=24,d=0,f=0,p=-8.25,m=-4.5,g=N(F.CBANDS),v=N(F.CBANDS),b=N(F.CBANDS),_=e.out_samplerate;switch(e.experimentalZ){default:case 0:o=!0;break;case 1:o=!(e.VBR==O.vbr_mtrh||e.VBR==O.vbr_mt);break;case 2:o=!1;break;case 3:s=8,d=-1.75,f=-.0125,p=-8.25,m=-2.25}for(a.ms_ener_ratio_old=.25,a.blocktype_old[0]=a.blocktype_old[1]=F.NORM_TYPE,r=0;r<4;++r){for(var y=0;y<F.CBANDS;++y)a.nb_1[r][y]=1e20,a.nb_2[r][y]=1e20,a.nb_s1[r][y]=a.nb_s2[r][y]=1;for(var w=0;w<F.SBMAX_l;w++)a.en[r].l[w]=1e20,a.thm[r].l[w]=1e20;for(y=0;y<3;++y){for(w=0;w<F.SBMAX_s;w++)a.en[r].s[w][y]=1e20,a.thm[r].s[w][y]=1e20;a.nsPsy.lastAttacks[r]=0}for(y=0;y<9;y++)a.nsPsy.last_en_subshort[r][y]=10}for(a.loudness_sq_save[0]=a.loudness_sq_save[1]=0,a.npart_l=ee(a.numlines_l,a.bo_l,a.bm_l,g,v,a.mld_l,a.PSY.bo_l_weight,_,F.BLKSIZE,a.scalefac_band.l,F.BLKSIZE/1152,F.SBMAX_l),j(a.npart_l<F.CBANDS),r=0;r<a.npart_l;r++){var S=d;g[r]>=s&&(S=f*(g[r]-s)/(h-s)+d*(h-g[r])/(h-s)),b[r]=Math.pow(10,S/10),a.numlines_l[r]>0?a.rnumlines_l[r]=1/a.numlines_l[r]:a.rnumlines_l[r]=0}for(a.s3_ll=te(a.s3ind,a.npart_l,g,v,b,o),y=0,r=0;r<a.npart_l;r++){M=P.MAX_VALUE;for(var k=0;k<a.numlines_l[r];k++,y++){var x=_*y/(1e3*F.BLKSIZE);E=this.ATHformula(1e3*x,e)-20,E=Math.pow(10,.1*E),M>(E*=a.numlines_l[r])&&(M=E)}a.ATH.cb_l[r]=M,(M=20*g[r]/10-20)>6&&(M=100),M<-15&&(M=-15),M-=8,a.minval_l[r]=Math.pow(10,M/10)*a.numlines_l[r]}for(a.npart_s=ee(a.numlines_s,a.bo_s,a.bm_s,g,v,a.mld_s,a.PSY.bo_s_weight,_,F.BLKSIZE_s,a.scalefac_band.s,F.BLKSIZE_s/384,F.SBMAX_s),j(a.npart_s<F.CBANDS),y=0,r=0;r<a.npart_s;r++){var M;for(S=p,g[r]>=s&&(S=m*(g[r]-s)/(h-s)+p*(h-g[r])/(h-s)),b[r]=Math.pow(10,S/10),M=P.MAX_VALUE,k=0;k<a.numlines_s[r];k++,y++){var E;x=_*y/(1e3*F.BLKSIZE_s),E=this.ATHformula(1e3*x,e)-20,E=Math.pow(10,.1*E),M>(E*=a.numlines_s[r])&&(M=E)}a.ATH.cb_s[r]=M,M=7*g[r]/12-7,g[r]>12&&(M*=1+3.1*Math.log(1+M)),g[r]<12&&(M*=1+2.3*Math.log(1-M)),M<-15&&(M=-15),M-=8,a.minval_s[r]=Math.pow(10,M/10)*a.numlines_s[r]}a.s3_ss=te(a.s3ind_s,a.npart_s,g,v,b,o),c=Math.pow(10,9/16),l=Math.pow(10,1.5),u=Math.pow(10,1.5),t.init_fft(a),a.decay=Math.exp(-1*n/(.01*_/192)),i=3.5,2&e.exp_nspsytune&&(i=1),Math.abs(e.msfix)>0&&(i=e.msfix),e.msfix=i;for(var T=0;T<a.npart_l;T++)a.s3ind[T][1]>a.npart_l-1&&(a.s3ind[T][1]=a.npart_l-1);var C=576*a.mode_gr/_;if(a.ATH.decay=Math.pow(10,-1.2*C),a.ATH.adjust=.01,a.ATH.adjustLimit=1,j(a.bo_l[F.SBMAX_l-1]<=a.npart_l),j(a.bo_s[F.SBMAX_s-1]<=a.npart_s),-1!=e.ATHtype){var A=e.out_samplerate/F.BLKSIZE,I=0;for(x=0,r=0;r<F.BLKSIZE/2;++r)x+=A,a.ATH.eql_w[r]=1/Math.pow(10,this.ATHformula(x,e)/10),I+=a.ATH.eql_w[r];for(I=1/I,r=F.BLKSIZE/2;--r>=0;)a.ATH.eql_w[r]*=I}for(T=y=0;T<a.npart_s;++T)for(r=0;r<a.numlines_s[T];++r)++y;for(T=y=0;T<a.npart_l;++T)for(r=0;r<a.numlines_l[T];++r)++y;for(y=0,r=0;r<a.npart_l;r++)x=_*(y+a.numlines_l[r]/2)/(1*F.BLKSIZE),a.mld_cb_l[r]=ne(x),y+=a.numlines_l[r];for(;r<F.CBANDS;++r)a.mld_cb_l[r]=1;for(y=0,r=0;r<a.npart_s;r++)x=_*(y+a.numlines_s[r]/2)/(1*F.BLKSIZE_s),a.mld_cb_s[r]=ne(x),y+=a.numlines_s[r];for(;r<F.CBANDS;++r)a.mld_cb_s[r]=1;return 0},this.ATHformula=function(e,t){var n;switch(t.ATHtype){case 0:n=re(e,9);break;case 1:n=re(e,-1);break;case 2:default:n=re(e,0);break;case 3:n=re(e,1)+6;break;case 4:n=re(e,t.ATHcurve)}return n}},H=k,W=function(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=H.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null},U=x(),G={};G.SFBMAX=3*U.SBMAX_s;var q=G,Y=b,X=Y.new_float,K=Y.new_int,$=q,Z=function(){this.xr=X(576),this.l3_enc=K(576),this.scalefac=K($.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=K(3),this.subblock_gain=K(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=K($.SFBMAX),this.window=K($.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=K(4),this.max_nonzero_coeff=0;var e=this;function t(e){return new Int32Array(e)}this.assign=function(n){e.xr=function(e){return new Float32Array(e)}(n.xr),e.l3_enc=t(n.l3_enc),e.scalefac=t(n.scalefac),e.xrpow_max=n.xrpow_max,e.part2_3_length=n.part2_3_length,e.big_values=n.big_values,e.count1=n.count1,e.global_gain=n.global_gain,e.scalefac_compress=n.scalefac_compress,e.block_type=n.block_type,e.mixed_block_flag=n.mixed_block_flag,e.table_select=t(n.table_select),e.subblock_gain=t(n.subblock_gain),e.region0_count=n.region0_count,e.region1_count=n.region1_count,e.preflag=n.preflag,e.scalefac_scale=n.scalefac_scale,e.count1table_select=n.count1table_select,e.part2_length=n.part2_length,e.sfb_lmax=n.sfb_lmax,e.sfb_smin=n.sfb_smin,e.psy_lmax=n.psy_lmax,e.sfbmax=n.sfbmax,e.psymax=n.psymax,e.sfbdivide=n.sfbdivide,e.width=t(n.width),e.window=t(n.window),e.count1bits=n.count1bits,e.sfb_partition_table=n.sfb_partition_table.slice(0),e.slen=t(n.slen),e.max_nonzero_coeff=n.max_nonzero_coeff}},J=b.new_int,Q=Z,ee=b,te=ee.System,ne=ee.new_int,re=x(),ie=function(e,t,n,r){this.l=ne(1+re.SBMAX_l),this.s=ne(1+re.SBMAX_s),this.psfb21=ne(1+re.PSFB21),this.psfb12=ne(1+re.PSFB12);var i=this.l,a=this.s;4==arguments.length&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],te.arraycopy(this.arrL,0,i,0,Math.min(this.arrL.length,this.l.length)),te.arraycopy(this.arrS,0,a,0,Math.min(this.arrS.length,this.s.length)),te.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),te.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))},ae=b,oe=ae.new_float,se=ae.new_float_n,ce=ae.new_int,le=x(),ue=b,he=ue.new_byte,de=ue.new_double,fe=ue.new_float,pe=ue.new_float_n,me=ue.new_int,ge=ue.new_int_n,ve=function(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[J(4),J(4)];for(var e=0;e<2;e++)for(var t=0;t<2;t++)this.tt[e][t]=new Q},be=ie,_e=function(){this.last_en_subshort=se([4,9]),this.lastAttacks=ce(4),this.pefirbuf=oe(19),this.longfact=oe(le.SBMAX_l),this.shortfact=oe(le.SBMAX_s),this.attackthre=0,this.attackthre_s=0},ye=function(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0},we=_(),Se=x(),ke=q;function xe(){function e(){this.write_timing=0,this.ptr=0,this.buf=he(40)}this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=pe([2,xe.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new ve,this.ms_ratio=fe(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=me(2),this.CurrentStep=me(2),this.masking_lower=0,this.bv_scf=me(576),this.pseudohalf=me(ke.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*xe.BPC+1),this.itime=de(2),this.sideinfo_len=0,this.sb_sample=pe([2,2,18,Se.SBLIMIT]),this.amp_filter=fe(32),this.header=new Array(xe.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new be,this.minval_l=fe(Se.CBANDS),this.minval_s=fe(Se.CBANDS),this.nb_1=pe([4,Se.CBANDS]),this.nb_2=pe([4,Se.CBANDS]),this.nb_s1=pe([4,Se.CBANDS]),this.nb_s2=pe([4,Se.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=fe(4),this.loudness_sq=pe([2,2]),this.loudness_sq_save=fe(2),this.mld_l=fe(Se.SBMAX_l),this.mld_s=fe(Se.SBMAX_s),this.bm_l=me(Se.SBMAX_l),this.bo_l=me(Se.SBMAX_l),this.bm_s=me(Se.SBMAX_s),this.bo_s=me(Se.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=ge([Se.CBANDS,2]),this.s3ind_s=ge([Se.CBANDS,2]),this.numlines_s=me(Se.CBANDS),this.numlines_l=me(Se.CBANDS),this.rnumlines_l=fe(Se.CBANDS),this.mld_cb_l=fe(Se.CBANDS),this.mld_cb_s=fe(Se.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=fe(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=me(2),this.nsPsy=new _e,this.VBR_seek_table=new ye,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=ge([16,5]),this.bitrate_blockType_Hist=ge([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var t=0;t<this.en.length;t++)this.en[t]=new we;for(t=0;t<this.thm.length;t++)this.thm[t]=new we;for(t=0;t<this.header.length;t++)this.header[t]=new e}xe.MFSIZE=3456+Se.ENCDELAY-Se.MDCTDELAY,xe.MAX_HEADER_BUF=256,xe.MAX_BITS_PER_CHANNEL=4095,xe.MAX_BITS_PER_GRANULE=7680,xe.BPC=320;var Me=xe,Ee=b.new_float,Te=x(),Ce=function(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=Ee(Te.SBMAX_l),this.s=Ee(Te.SBMAX_s),this.psfb21=Ee(Te.PSFB21),this.psfb12=Ee(Te.PSFB12),this.cb_l=Ee(Te.CBANDS),this.cb_s=Ee(Te.CBANDS),this.eql_w=Ee(Te.BLKSIZE/2)},Ae=b,Oe=Ae.System,Pe=Ae.Arrays;function Ie(){var e=Ie.RMS_WINDOW_TIME_NUMERATOR,t=Ie.RMS_WINDOW_TIME_DENOMINATOR,n=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],r=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function i(e,t,n,r,i,a){for(;0!=i--;)n[r]=1e-10+e[t+0]*a[0]-n[r-1]*a[1]+e[t-1]*a[2]-n[r-2]*a[3]+e[t-2]*a[4]-n[r-3]*a[5]+e[t-3]*a[6]-n[r-4]*a[7]+e[t-4]*a[8]-n[r-5]*a[9]+e[t-5]*a[10]-n[r-6]*a[11]+e[t-6]*a[12]-n[r-7]*a[13]+e[t-7]*a[14]-n[r-8]*a[15]+e[t-8]*a[16]-n[r-9]*a[17]+e[t-9]*a[18]-n[r-10]*a[19]+e[t-10]*a[20],++r,++t}function a(e,t,n,r,i,a){for(;0!=i--;)n[r]=e[t+0]*a[0]-n[r-1]*a[1]+e[t-1]*a[2]-n[r-2]*a[3]+e[t-2]*a[4],++r,++t}function o(e){return e*e}this.InitGainAnalysis=function(n,r){return function(n,r){for(var i=0;i<MAX_ORDER;i++)n.linprebuf[i]=n.lstepbuf[i]=n.loutbuf[i]=n.rinprebuf[i]=n.rstepbuf[i]=n.routbuf[i]=0;switch(0|r){case 48e3:n.reqindex=0;break;case 44100:n.reqindex=1;break;case 32e3:n.reqindex=2;break;case 24e3:n.reqindex=3;break;case 22050:n.reqindex=4;break;case 16e3:n.reqindex=5;break;case 12e3:n.reqindex=6;break;case 11025:n.reqindex=7;break;case 8e3:n.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return n.sampleWindow=0|(r*e+t-1)/t,n.lsum=0,n.rsum=0,n.totsamp=0,Pe.ill(n.A,0),INIT_GAIN_ANALYSIS_OK}(n,r)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(n.linpre=MAX_ORDER,n.rinpre=MAX_ORDER,n.lstep=MAX_ORDER,n.rstep=MAX_ORDER,n.lout=MAX_ORDER,n.rout=MAX_ORDER,Pe.fill(n.B,0),INIT_GAIN_ANALYSIS_OK)},this.AnalyzeSamples=function(e,t,s,c,l,u,h){var d,f,p,m,g,v,b;if(0==u)return GAIN_ANALYSIS_OK;switch(b=0,g=u,h){case 1:c=t,l=s;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(u<MAX_ORDER?(Oe.arraycopy(t,s,e.linprebuf,MAX_ORDER,u),Oe.arraycopy(c,l,e.rinprebuf,MAX_ORDER,u)):(Oe.arraycopy(t,s,e.linprebuf,MAX_ORDER,MAX_ORDER),Oe.arraycopy(c,l,e.rinprebuf,MAX_ORDER,MAX_ORDER));g>0;){v=g>e.sampleWindow-e.totsamp?e.sampleWindow-e.totsamp:g,b<MAX_ORDER?(d=e.linpre+b,f=e.linprebuf,p=e.rinpre+b,m=e.rinprebuf,v>MAX_ORDER-b&&(v=MAX_ORDER-b)):(d=s+b,f=t,p=l+b,m=c),i(f,d,e.lstepbuf,e.lstep+e.totsamp,v,n[e.reqindex]),i(m,p,e.rstepbuf,e.rstep+e.totsamp,v,n[e.reqindex]),a(e.lstepbuf,e.lstep+e.totsamp,e.loutbuf,e.lout+e.totsamp,v,r[e.reqindex]),a(e.rstepbuf,e.rstep+e.totsamp,e.routbuf,e.rout+e.totsamp,v,r[e.reqindex]),d=e.lout+e.totsamp,f=e.loutbuf,p=e.rout+e.totsamp,m=e.routbuf;for(var _=v%8;0!=_--;)e.lsum+=o(f[d++]),e.rsum+=o(m[p++]);for(_=v/8;0!=_--;)e.lsum+=o(f[d+0])+o(f[d+1])+o(f[d+2])+o(f[d+3])+o(f[d+4])+o(f[d+5])+o(f[d+6])+o(f[d+7]),d+=8,e.rsum+=o(m[p+0])+o(m[p+1])+o(m[p+2])+o(m[p+3])+o(m[p+4])+o(m[p+5])+o(m[p+6])+o(m[p+7]),p+=8;if(g-=v,b+=v,e.totsamp+=v,e.totsamp==e.sampleWindow){var y=10*Ie.STEPS_per_dB*Math.log10((e.lsum+e.rsum)/e.totsamp*.5+1e-37),w=y<=0?0:0|y;w>=e.A.length&&(w=e.A.length-1),e.A[w]++,e.lsum=e.rsum=0,Oe.arraycopy(e.loutbuf,e.totsamp,e.loutbuf,0,MAX_ORDER),Oe.arraycopy(e.routbuf,e.totsamp,e.routbuf,0,MAX_ORDER),Oe.arraycopy(e.lstepbuf,e.totsamp,e.lstepbuf,0,MAX_ORDER),Oe.arraycopy(e.rstepbuf,e.totsamp,e.rstepbuf,0,MAX_ORDER),e.totsamp=0}if(e.totsamp>e.sampleWindow)return GAIN_ANALYSIS_ERROR}return u<MAX_ORDER?(Oe.arraycopy(e.linprebuf,u,e.linprebuf,0,MAX_ORDER-u),Oe.arraycopy(e.rinprebuf,u,e.rinprebuf,0,MAX_ORDER-u),Oe.arraycopy(t,s,e.linprebuf,MAX_ORDER-u,u),Oe.arraycopy(c,l,e.rinprebuf,MAX_ORDER-u,u)):(Oe.arraycopy(t,s+u-MAX_ORDER,e.linprebuf,0,MAX_ORDER),Oe.arraycopy(c,l+u-MAX_ORDER,e.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK},this.GetTitleGain=function(e){for(var t=function(e,t){var n,r=0;for(n=0;n<t;n++)r+=e[n];if(0==r)return GAIN_NOT_ENOUGH_SAMPLES;var i=0|Math.ceil(r*(1-.95));for(n=t;n-- >0&&!((i-=e[n])<=0););return 64.82-n/Ie.STEPS_per_dB}(e.A,e.A.length),n=0;n<e.A.length;n++)e.B[n]+=e.A[n],e.A[n]=0;for(n=0;n<MAX_ORDER;n++)e.linprebuf[n]=e.lstepbuf[n]=e.loutbuf[n]=e.rinprebuf[n]=e.rstepbuf[n]=e.routbuf[n]=0;return e.totsamp=0,e.lsum=e.rsum=0,t}}Ie.STEPS_per_dB=100,Ie.MAX_dB=120,Ie.GAIN_NOT_ENOUGH_SAMPLES=-24601,Ie.GAIN_ANALYSIS_ERROR=0,Ie.GAIN_ANALYSIS_OK=1,Ie.INIT_GAIN_ANALYSIS_ERROR=0,Ie.INIT_GAIN_ANALYSIS_OK=1,Ie.YULE_ORDER=10,Ie.MAX_ORDER=Ie.YULE_ORDER,Ie.MAX_SAMP_FREQ=48e3,Ie.RMS_WINDOW_TIME_NUMERATOR=1,Ie.RMS_WINDOW_TIME_DENOMINATOR=20,Ie.MAX_SAMPLES_PER_WINDOW=Ie.MAX_SAMP_FREQ*Ie.RMS_WINDOW_TIME_NUMERATOR/Ie.RMS_WINDOW_TIME_DENOMINATOR+1;var Re=Ie,Be=b,Ne=Be.new_float,Le=Be.new_int,De=Re,je=function(){this.linprebuf=Ne(2*De.MAX_ORDER),this.linpre=0,this.lstepbuf=Ne(De.MAX_SAMPLES_PER_WINDOW+De.MAX_ORDER),this.lstep=0,this.loutbuf=Ne(De.MAX_SAMPLES_PER_WINDOW+De.MAX_ORDER),this.lout=0,this.rinprebuf=Ne(2*De.MAX_ORDER),this.rinpre=0,this.rstepbuf=Ne(De.MAX_SAMPLES_PER_WINDOW+De.MAX_ORDER),this.rstep=0,this.routbuf=Ne(De.MAX_SAMPLES_PER_WINDOW+De.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=Le(0|De.STEPS_per_dB*De.MAX_dB),this.B=Le(0|De.STEPS_per_dB*De.MAX_dB)},ze=function(e){this.bits=e},Fe=b,Ve=Fe.new_float,He=Fe.new_int,We=Fe.assert,Ue=ze,Ge=x(),qe=q,Ye=Me,Xe=function(e){var t=e;this.quantize=t,this.iteration_loop=function(e,t,n,r){var i,a=e.internal_flags,o=Ve(qe.SFBMAX),s=Ve(576),c=He(2),l=0,u=a.l3_side,h=new Ue(l);this.quantize.rv.ResvFrameBegin(e,h),l=h.bits;for(var d=0;d<a.mode_gr;d++){i=this.quantize.qupvt.on_pe(e,t,c,l,d,d),a.mode_ext==Ge.MPG_MD_MS_LR&&(this.quantize.ms_convert(a.l3_side,d),this.quantize.qupvt.reduce_side(c,n[d],l,i));for(var f=0;f<a.channels_out;f++){var p,m,g=u.tt[d][f];g.block_type!=Ge.SHORT_TYPE?(p=0,m=a.PSY.mask_adjust-p):(p=0,m=a.PSY.mask_adjust_short-p),a.masking_lower=Math.pow(10,.1*m),this.quantize.init_outer_loop(a,g),this.quantize.init_xrpow(a,g,s)&&(this.quantize.qupvt.calc_xmin(e,r[d][f],g,o),this.quantize.outer_loop(e,g,o,s,f,c[f])),this.quantize.iteration_finish_one(a,d,f),We(g.part2_3_length<=Ye.MAX_BITS_PER_CHANNEL),We(g.part2_3_length<=c[f])}}this.quantize.rv.ResvFrameEnd(a,l)}};function Ke(e,t,n,r){this.xlen=e,this.linmax=t,this.table=n,this.hlen=r}var $e={t1HB:[1,1,1,0],t2HB:[1,2,1,3,1,1,3,2,0],t3HB:[3,2,1,1,1,1,3,2,0],t5HB:[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],t6HB:[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],t7HB:[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],t8HB:[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],t9HB:[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],t10HB:[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],t11HB:[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],t12HB:[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],t13HB:[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],t15HB:[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],t16HB:[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],t24HB:[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],t32HB:[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],t33HB:[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],t1l:[1,4,3,5],t2l:[1,4,7,4,5,7,6,7,8],t3l:[2,3,7,4,4,7,6,7,8],t5l:[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],t6l:[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],t7l:[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],t8l:[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],t9l:[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],t10l:[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],t11l:[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],t12l:[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],t13l:[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],t15l:[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],t16_5l:[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],t16l:[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],t24l:[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],t32l:[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],t33l:[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8]};$e.ht=[new Ke(0,0,null,null),new Ke(2,0,$e.t1HB,$e.t1l),new Ke(3,0,$e.t2HB,$e.t2l),new Ke(3,0,$e.t3HB,$e.t3l),new Ke(0,0,null,null),new Ke(4,0,$e.t5HB,$e.t5l),new Ke(4,0,$e.t6HB,$e.t6l),new Ke(6,0,$e.t7HB,$e.t7l),new Ke(6,0,$e.t8HB,$e.t8l),new Ke(6,0,$e.t9HB,$e.t9l),new Ke(8,0,$e.t10HB,$e.t10l),new Ke(8,0,$e.t11HB,$e.t11l),new Ke(8,0,$e.t12HB,$e.t12l),new Ke(16,0,$e.t13HB,$e.t13l),new Ke(0,0,null,$e.t16_5l),new Ke(16,0,$e.t15HB,$e.t15l),new Ke(1,1,$e.t16HB,$e.t16l),new Ke(2,3,$e.t16HB,$e.t16l),new Ke(3,7,$e.t16HB,$e.t16l),new Ke(4,15,$e.t16HB,$e.t16l),new Ke(6,63,$e.t16HB,$e.t16l),new Ke(8,255,$e.t16HB,$e.t16l),new Ke(10,1023,$e.t16HB,$e.t16l),new Ke(13,8191,$e.t16HB,$e.t16l),new Ke(4,15,$e.t24HB,$e.t24l),new Ke(5,31,$e.t24HB,$e.t24l),new Ke(6,63,$e.t24HB,$e.t24l),new Ke(7,127,$e.t24HB,$e.t24l),new Ke(8,255,$e.t24HB,$e.t24l),new Ke(9,511,$e.t24HB,$e.t24l),new Ke(11,2047,$e.t24HB,$e.t24l),new Ke(13,8191,$e.t24HB,$e.t24l),new Ke(0,0,$e.t32HB,$e.t32l),new Ke(0,0,$e.t33HB,$e.t33l)],$e.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],$e.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],$e.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],$e.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],$e.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],$e.scfsi_band=[0,6,11,16,21];var Ze,Je,Qe,et,tt,nt,rt,it,at=$e;function ot(){if(Je)return Ze;Je=1;var e=ie,t=b,n=t.VbrMode,r=t.Float,i=t.Util,a=t.new_float,o=t.new_int,s=t.assert,c=x(),l=ze,u=Me;function h(){var t=ct(),d=null,f=null,p=null;function m(e){return s(0<=e+h.Q_MAX2&&e<h.Q_MAX),w[e+h.Q_MAX2]}this.setModules=function(e,t,n){d=e,f=t,p=n},this.IPOW20=function(e){return s(0<=e&&e<h.Q_MAX),S[e]};var g=2220446049250313e-31,v=h.IXMAX_VAL+2,b=h.Q_MAX,_=h.Q_MAX2;h.LARGE_BITS;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var y=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=y,this.sfBandIndex=[new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var w=a(b+_+1),S=a(b),k=a(v),x=a(v);function M(e,t){var n=p.ATHformula(t,e);return n-=100,Math.pow(10,n/10+e.ATHlower)}function E(e){this.s=e}this.adj43=x,this.iteration_init=function(e){var t,n=e.internal_flags,i=n.l3_side;if(0==n.iteration_init_init){for(n.iteration_init_init=1,i.main_data_begin=0,function(e){for(var t=e.internal_flags.ATH.l,n=e.internal_flags.ATH.psfb21,i=e.internal_flags.ATH.s,a=e.internal_flags.ATH.psfb12,o=e.internal_flags,s=e.out_samplerate,l=0;l<c.SBMAX_l;l++){var u=o.scalefac_band.l[l],h=o.scalefac_band.l[l+1];t[l]=r.MAX_VALUE;for(var d=u;d<h;d++){var f=M(e,d*s/1152);t[l]=Math.min(t[l],f)}}for(l=0;l<c.PSFB21;l++)for(u=o.scalefac_band.psfb21[l],h=o.scalefac_band.psfb21[l+1],n[l]=r.MAX_VALUE,d=u;d<h;d++)f=M(e,d*s/1152),n[l]=Math.min(n[l],f);for(l=0;l<c.SBMAX_s;l++){for(u=o.scalefac_band.s[l],h=o.scalefac_band.s[l+1],i[l]=r.MAX_VALUE,d=u;d<h;d++)f=M(e,d*s/384),i[l]=Math.min(i[l],f);i[l]*=o.scalefac_band.s[l+1]-o.scalefac_band.s[l]}for(l=0;l<c.PSFB12;l++){for(u=o.scalefac_band.psfb12[l],h=o.scalefac_band.psfb12[l+1],a[l]=r.MAX_VALUE,d=u;d<h;d++)f=M(e,d*s/384),a[l]=Math.min(a[l],f);a[l]*=o.scalefac_band.s[13]-o.scalefac_band.s[12]}if(e.noATH){for(l=0;l<c.SBMAX_l;l++)t[l]=1e-20;for(l=0;l<c.PSFB21;l++)n[l]=1e-20;for(l=0;l<c.SBMAX_s;l++)i[l]=1e-20;for(l=0;l<c.PSFB12;l++)a[l]=1e-20}o.ATH.floor=10*Math.log10(M(e,-1))}(e),k[0]=0,t=1;t<v;t++)k[t]=Math.pow(t,4/3);for(t=0;t<v-1;t++)x[t]=t+1-Math.pow(.5*(k[t]+k[t+1]),.75);for(x[t]=.5,t=0;t<b;t++)S[t]=Math.pow(2,-.1875*(t-210));for(t=0;t<=b+_;t++)w[t]=Math.pow(2,.25*(t-210-_));var a,o,s,l;for(d.huffman_init(n),(t=e.exp_nspsytune>>2&63)>=32&&(t-=64),a=Math.pow(10,t/4/10),(t=e.exp_nspsytune>>8&63)>=32&&(t-=64),o=Math.pow(10,t/4/10),(t=e.exp_nspsytune>>14&63)>=32&&(t-=64),s=Math.pow(10,t/4/10),(t=e.exp_nspsytune>>20&63)>=32&&(t-=64),l=s*Math.pow(10,t/4/10),t=0;t<c.SBMAX_l;t++)u=t<=6?a:t<=13?o:t<=20?s:l,n.nsPsy.longfact[t]=u;for(t=0;t<c.SBMAX_s;t++){var u;u=t<=5?a:t<=10?o:t<=11?s:l,n.nsPsy.shortfact[t]=u}}},this.on_pe=function(e,t,n,r,i,a){var s,c,h=e.internal_flags,d=0,p=o(2),m=new l(d),g=f.ResvMaxBits(e,r,m,a),v=(d=m.bits)+g;for(v>u.MAX_BITS_PER_GRANULE&&(v=u.MAX_BITS_PER_GRANULE),s=0,c=0;c<h.channels_out;++c)n[c]=Math.min(u.MAX_BITS_PER_CHANNEL,d/h.channels_out),p[c]=0|n[c]*t[i][c]/700-n[c],p[c]>3*r/4&&(p[c]=3*r/4),p[c]<0&&(p[c]=0),p[c]+n[c]>u.MAX_BITS_PER_CHANNEL&&(p[c]=Math.max(0,u.MAX_BITS_PER_CHANNEL-n[c])),s+=p[c];if(s>g)for(c=0;c<h.channels_out;++c)p[c]=g*p[c]/s;for(c=0;c<h.channels_out;++c)n[c]+=p[c],g-=p[c];for(s=0,c=0;c<h.channels_out;++c)s+=n[c];if(s>u.MAX_BITS_PER_GRANULE)for(c=0;c<h.channels_out;++c)n[c]*=u.MAX_BITS_PER_GRANULE,n[c]/=s,n[c];return v},this.reduce_side=function(e,t,n,r){s(e[0]+e[1]<=u.MAX_BITS_PER_GRANULE);var i=.33*(.5-t)/.5;i<0&&(i=0),i>.5&&(i=.5);var a=0|.5*i*(e[0]+e[1]);a>u.MAX_BITS_PER_CHANNEL-e[0]&&(a=u.MAX_BITS_PER_CHANNEL-e[0]),a<0&&(a=0),e[1]>=125&&(e[1]-a>125?(e[0]<n&&(e[0]+=a),e[1]-=a):(e[0]+=e[1]-125,e[1]=125)),(a=e[0]+e[1])>r&&(e[0]=r*e[0]/a,e[1]=r*e[1]/a),s(e[0]<=u.MAX_BITS_PER_CHANNEL),s(e[1]<=u.MAX_BITS_PER_CHANNEL),s(e[0]+e[1]<=u.MAX_BITS_PER_GRANULE)},this.athAdjust=function(e,t,n){var r=90.30873362,a=i.FAST_LOG10_X(t,10),o=e*e,s=0;return a-=n,o>1e-20&&(s=1+i.FAST_LOG10_X(o,10/r)),s<0&&(s=0),a*=s,a+=n+r-94.82444863,Math.pow(10,.1*a)},this.calc_xmin=function(e,r,i,a){var o,s=0,l=e.internal_flags,u=0,h=0,d=l.ATH,f=i.xr,p=e.VBR==n.vbr_mtrh?1:0,m=l.masking_lower;for((e.VBR==n.vbr_mtrh||e.VBR==n.vbr_mt)&&(m=1),o=0;o<i.psy_lmax;o++){x=(k=e.VBR==n.vbr_rh||e.VBR==n.vbr_mtrh?athAdjust(d.adjust,d.l[o],d.floor):d.adjust*d.l[o])/(y=i.width[o]),M=g,A=y>>1,C=0;do{C+=O=f[u]*f[u],M+=O<x?O:x,C+=P=f[++u]*f[u],M+=P<x?P:x,u++}while(--A>0);C>k&&h++,o==c.SBPSY_l&&M<(T=k*l.nsPsy.longfact[o])&&(M=T),0!=p&&(k=M),e.ATHonly||(E=r.en.l[o])>0&&(T=C*r.thm.l[o]*m/E,0!=p&&(T*=l.nsPsy.longfact[o]),k<T&&(k=T)),a[s++]=0!=p?k:k*l.nsPsy.longfact[o]}var v=575;if(i.block_type!=c.SHORT_TYPE)for(var b=576;0!=b--&&t.EQ(f[b],0);)v=b;i.max_nonzero_coeff=v;for(var _=i.sfb_smin;o<i.psymax;_++,o+=3){var y,w,S;for(S=e.VBR==n.vbr_rh||e.VBR==n.vbr_mtrh?athAdjust(d.adjust,d.s[_],d.floor):d.adjust*d.s[_],y=i.width[o],w=0;w<3;w++){var k,x,M,E,T,C=0,A=y>>1;x=S/y,M=g;do{var O,P;C+=O=f[u]*f[u],M+=O<x?O:x,C+=P=f[++u]*f[u],M+=P<x?P:x,u++}while(--A>0);C>S&&h++,_==c.SBPSY_s&&M<(T=S*l.nsPsy.shortfact[_])&&(M=T),k=0!=p?M:S,e.ATHonly||e.ATHshort||(E=r.en.s[_][w])>0&&(T=C*r.thm.s[_][w]*m/E,0!=p&&(T*=l.nsPsy.shortfact[_]),k<T&&(k=T)),a[s++]=0!=p?k:k*l.nsPsy.shortfact[_]}e.useTemporal&&(a[s-3]>a[s-3+1]&&(a[s-3+1]+=(a[s-3]-a[s-3+1])*l.decay),a[s-3+1]>a[s-3+2]&&(a[s-3+2]+=(a[s-3+1]-a[s-3+2])*l.decay))}return h},this.calc_noise_core=function(e,t,n,r){var i=0,o=t.s,s=e.l3_enc;if(o>e.count1)for(;0!=n--;)l=e.xr[o],o++,i+=l*l,l=e.xr[o],o++,i+=l*l;else if(o>e.big_values){var c=a(2);for(c[0]=0,c[1]=r;0!=n--;)l=Math.abs(e.xr[o])-c[s[o]],o++,i+=l*l,l=Math.abs(e.xr[o])-c[s[o]],o++,i+=l*l}else for(;0!=n--;){var l;l=Math.abs(e.xr[o])-k[s[o]]*r,o++,i+=l*l,l=Math.abs(e.xr[o])-k[s[o]]*r,o++,i+=l*l}return t.s=o,i},this.calc_noise=function(e,t,n,r,a){var o,s,c=0,l=0,u=0,h=0,d=0,f=-20,p=0,g=e.scalefac,v=0;for(r.over_SSD=0,o=0;o<e.psymax;o++){var b,_=e.global_gain-(g[v++]+(0!=e.preflag?y[o]:0)<<e.scalefac_scale+1)-8*e.subblock_gain[e.window[o]],w=0;if(null!=a&&a.step[o]==_)w=a.noise[o],p+=e.width[o],n[c++]=w/t[l++],w=a.noise_log[o];else{var S,k=m(_);s=e.width[o]>>1,p+e.width[o]>e.max_nonzero_coeff&&(s=(S=e.max_nonzero_coeff-p+1)>0?S>>1:0);var x=new E(p);w=this.calc_noise_core(e,x,s,k),p=x.s,null!=a&&(a.step[o]=_,a.noise[o]=w),w=n[c++]=w/t[l++],w=i.FAST_LOG10(Math.max(w,1e-20)),null!=a&&(a.noise_log[o]=w)}null!=a&&(a.global_gain=e.global_gain),d+=w,w>0&&(b=Math.max(0|10*w+.5,1),r.over_SSD+=b*b,u++,h+=w),f=Math.max(f,w)}return r.over_count=u,r.tot_noise=d,r.over_noise=h,r.max_noise=f,u},this.set_pinfo=function(e,t,n,r,i){var o,l,u,h,d,f=e.internal_flags,p=0==t.scalefac_scale?.5:1,m=t.scalefac,g=a(L3Side.SFBMAX),v=a(L3Side.SFBMAX),b=new CalcNoiseResult;calc_xmin(e,n,t,g),calc_noise(t,g,v,b,null);var _=0;for(l=t.sfb_lmax,t.block_type!=c.SHORT_TYPE&&0==t.mixed_block_flag&&(l=22),o=0;o<l;o++){var w=f.scalefac_band.l[o],S=(k=f.scalefac_band.l[o+1])-w;for(h=0;_<k;_++)h+=t.xr[_]*t.xr[_];h/=S,d=1e15,f.pinfo.en[r][i][o]=d*h,f.pinfo.xfsf[r][i][o]=d*g[o]*v[o]/S,n.en.l[o]>0&&!e.ATHonly?h/=n.en.l[o]:h=0,f.pinfo.thr[r][i][o]=d*Math.max(h*n.thm.l[o],f.ATH.l[o]),f.pinfo.LAMEsfb[r][i][o]=0,0!=t.preflag&&o>=11&&(f.pinfo.LAMEsfb[r][i][o]=-p*y[o]),o<c.SBPSY_l&&(s(m[o]>=0),f.pinfo.LAMEsfb[r][i][o]-=p*m[o])}if(t.block_type==c.SHORT_TYPE)for(l=o,o=t.sfb_smin;o<c.SBMAX_s;o++){w=f.scalefac_band.s[o],S=(k=f.scalefac_band.s[o+1])-w;for(var k,x=0;x<3;x++){for(h=0,u=w;u<k;u++)h+=t.xr[_]*t.xr[_],_++;h=Math.max(h/S,1e-20),d=1e15,f.pinfo.en_s[r][i][3*o+x]=d*h,f.pinfo.xfsf_s[r][i][3*o+x]=d*g[l]*v[l]/S,n.en.s[o][x]>0?h/=n.en.s[o][x]:h=0,(e.ATHonly||e.ATHshort)&&(h=0),f.pinfo.thr_s[r][i][3*o+x]=d*Math.max(h*n.thm.s[o][x],f.ATH.s[o]),f.pinfo.LAMEsfb_s[r][i][3*o+x]=-2*t.subblock_gain[x],o<c.SBPSY_s&&(f.pinfo.LAMEsfb_s[r][i][3*o+x]-=p*m[l]),l++}}f.pinfo.LAMEqss[r][i]=t.global_gain,f.pinfo.LAMEmainbits[r][i]=t.part2_3_length+t.part2_length,f.pinfo.LAMEsfbits[r][i]=t.part2_length,f.pinfo.over[r][i]=b.over_count,f.pinfo.max_noise[r][i]=10*b.max_noise,f.pinfo.over_noise[r][i]=10*b.over_noise,f.pinfo.tot_noise[r][i]=10*b.tot_noise,f.pinfo.over_SSD[r][i]=b.over_SSD}}return h.Q_MAX=257,h.Q_MAX2=116,h.LARGE_BITS=1e5,h.IXMAX_VAL=8206,Ze=h}function st(){if(et)return Qe;et=1;var e=b,t=e.System,n=e.Arrays,r=e.new_int,i=e.assert,a=x(),o=at,s=Z,c=ot();return Qe=function e(){var l=null;function u(e){this.bits=0|e}this.qupvt=null,this.setModules=function(e){this.qupvt=e,l=e};var h=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function d(e,t,n,r,i,a){var o=.5946/t;for(e>>=1;0!=e--;)i[a++]=o>n[r++]?0:1,i[a++]=o>n[r++]?0:1}function f(e,t,n,r,i,a){var o=(e>>=1)%2;for(e>>=1;0!=e--;){var s,c,u,h,d,f,p,m;s=n[r++]*t,c=n[r++]*t,d=0|s,u=n[r++]*t,f=0|c,h=n[r++]*t,p=0|u,s+=l.adj43[d],m=0|h,c+=l.adj43[f],i[a++]=0|s,u+=l.adj43[p],i[a++]=0|c,h+=l.adj43[m],i[a++]=0|u,i[a++]=0|h}0!=o&&(d=0|(s=n[r++]*t),f=0|(c=n[r++]*t),s+=l.adj43[d],c+=l.adj43[f],i[a++]=0|s,i[a++]=0|c)}var p=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function m(e,t,n,r){var i=function(e,t,n){var r=0,i=0;do{var a=e[t++],o=e[t++];r<a&&(r=a),i<o&&(i=o)}while(t<n);return r<i&&(r=i),r}(e,t,n);switch(i){case 0:return i;case 1:return function(e,t,n,r){var i=0,a=o.ht[1].hlen;do{var s=2*e[t+0]+e[t+1];t+=2,i+=a[s]}while(t<n);return r.bits+=i,1}(e,t,n,r);case 2:case 3:return function(e,t,n,r,i){var a,s,c=0,l=o.ht[r].xlen;s=2==r?o.table23:o.table56;do{var u=e[t+0]*l+e[t+1];t+=2,c+=s[u]}while(t<n);return a=65535&c,(c>>=16)>a&&(c=a,r++),i.bits+=c,r}(e,t,n,p[i-1],r);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return function(e,t,n,r,i){var a=0,s=0,c=0,l=o.ht[r].xlen,u=o.ht[r].hlen,h=o.ht[r+1].hlen,d=o.ht[r+2].hlen;do{var f=e[t+0]*l+e[t+1];t+=2,a+=u[f],s+=h[f],c+=d[f]}while(t<n);var p=r;return a>s&&(a=s,p++),a>c&&(a=c,p=r+2),i.bits+=a,p}(e,t,n,p[i-1],r);default:if(i>c.IXMAX_VAL)return r.bits=c.LARGE_BITS,-1;var a,s;for(i-=15,a=24;a<32&&!(o.ht[a].linmax>=i);a++);for(s=a-8;s<24&&!(o.ht[s].linmax>=i);s++);return function(e,t,n,r,i,a){var s,c=65536*o.ht[r].xlen+o.ht[i].xlen,l=0;do{var u=e[t++],h=e[t++];0!=u&&(u>14&&(u=15,l+=c),u*=16),0!=h&&(h>14&&(h=15,l+=c),u+=h),l+=o.largetbl[u]}while(t<n);return s=65535&l,(l>>=16)>s&&(l=s,r=i),a.bits+=l,r}(e,t,n,s,a,r)}}function g(e,t,n,r,i,o,s,c){for(var l=t.big_values,h=2;h<a.SBMAX_l+1;h++){var d=e.scalefac_band.l[h];if(d>=l)break;var f=i[h-2]+t.count1bits;if(n.part2_3_length<=f)break;var p=new u(f),g=m(r,d,l,p);f=p.bits,!(n.part2_3_length<=f)&&(n.assign(t),n.part2_3_length=f,n.region0_count=o[h-2],n.region1_count=h-2-o[h-2],n.table_select[0]=s[h-2],n.table_select[1]=c[h-2],n.table_select[2]=g)}}this.noquant_count_bits=function(e,t,n){var r=t.l3_enc,s=Math.min(576,t.max_nonzero_coeff+2>>1<<1);for(null!=n&&(n.sfb_count1=0);s>1&&!(r[s-1]|r[s-2]);s-=2);t.count1=s;for(var c=0,l=0;s>3;s-=4){var h;if((2147483647&(r[s-1]|r[s-2]|r[s-3]|r[s-4]))>1)break;h=2*(2*(2*r[s-4]+r[s-3])+r[s-2])+r[s-1],c+=o.t32l[h],l+=o.t33l[h]}var d=c;if(t.count1table_select=0,c>l&&(d=l,t.count1table_select=1),t.count1bits=d,t.big_values=s,0==s)return d;if(t.block_type==a.SHORT_TYPE)(c=3*e.scalefac_band.s[3])>t.big_values&&(c=t.big_values),l=t.big_values;else if(t.block_type==a.NORM_TYPE){if(c=t.region0_count=e.bv_scf[s-2],l=t.region1_count=e.bv_scf[s-1],i(c+l+2<a.SBPSY_l),l=e.scalefac_band.l[c+l+2],c=e.scalefac_band.l[c+1],l<s){var f=new u(d);t.table_select[2]=m(r,l,s,f),d=f.bits}}else t.region0_count=7,t.region1_count=a.SBMAX_l-1-7-1,(c=e.scalefac_band.l[8])>(l=s)&&(c=l);if(c=Math.min(c,s),l=Math.min(l,s),0<c&&(f=new u(d),t.table_select[0]=m(r,0,c,f),d=f.bits),c<l&&(f=new u(d),t.table_select[1]=m(r,c,l,f),d=f.bits),2==e.use_best_huffman&&(t.part2_3_length=d,best_huffman_divide(e,t),d=t.part2_3_length),null!=n&&t.block_type==a.NORM_TYPE){for(var p=0;e.scalefac_band.l[p]<t.big_values;)p++;n.sfb_count1=p}return d},this.count_bits=function(e,t,r,o){var s=r.l3_enc,u=c.IXMAX_VAL/l.IPOW20(r.global_gain);if(r.xrpow_max>u)return c.LARGE_BITS;if(function(e,t,r,o,s){var c,u,h,p=0,m=0,g=0,v=0,b=t,_=0,y=b,w=0,S=e,k=0;for(h=null!=s&&o.global_gain==s.global_gain,u=o.block_type==a.SHORT_TYPE?38:21,c=0;c<=u;c++){var x=-1;if((h||o.block_type==a.NORM_TYPE)&&(x=o.global_gain-(o.scalefac[c]+(0!=o.preflag?l.pretab[c]:0)<<o.scalefac_scale+1)-8*o.subblock_gain[o.window[c]]),i(o.width[c]>=0),h&&s.step[c]==x)0!=m&&(f(m,r,S,k,y,w),m=0),0!=g&&(d(g,r,S,k,y,w),g=0);else{var M,E=o.width[c];if(p+o.width[c]>o.max_nonzero_coeff&&(M=o.max_nonzero_coeff-p+1,n.fill(t,o.max_nonzero_coeff,576,0),(E=M)<0&&(E=0),c=u+1),0==m&&0==g&&(y=b,w=_,S=e,k=v),null!=s&&s.sfb_count1>0&&c>=s.sfb_count1&&s.step[c]>0&&x>=s.step[c]?(0!=m&&(f(m,r,S,k,y,w),m=0,y=b,w=_,S=e,k=v),g+=E):(0!=g&&(d(g,r,S,k,y,w),g=0,y=b,w=_,S=e,k=v),m+=E),E<=0){0!=g&&(d(g,r,S,k,y,w),g=0),0!=m&&(f(m,r,S,k,y,w),m=0);break}}c<=u&&(_+=o.width[c],v+=o.width[c],p+=o.width[c])}0!=m&&(f(m,r,S,k,y,w),m=0),0!=g&&(d(g,r,S,k,y,w),g=0)}(t,s,l.IPOW20(r.global_gain),r,o),2&e.substep_shaping)for(var h=0,p=r.global_gain+r.scalefac_scale,m=.634521682242439/l.IPOW20(p),g=0;g<r.sfbmax;g++){var v,b=r.width[g];if(0==e.pseudohalf[g])h+=b;else for(v=h,h+=b;v<h;++v)s[v]=t[v]>=m?s[v]:0}return this.noquant_count_bits(e,r,o)},this.best_huffman_divide=function(e,t){var n=new s,i=t.l3_enc,l=r(23),h=r(23),d=r(23),f=r(23);if(t.block_type!=a.SHORT_TYPE||1!=e.mode_gr){n.assign(t),t.block_type==a.NORM_TYPE&&(function(e,t,n,r,i,a,o){for(var s=t.big_values,l=0;l<=22;l++)r[l]=c.LARGE_BITS;for(l=0;l<16;l++){var h=e.scalefac_band.l[l+1];if(h>=s)break;var d=0,f=new u(d),p=m(n,0,h,f);d=f.bits;for(var g=0;g<8;g++){var v=e.scalefac_band.l[l+g+2];if(v>=s)break;var b=d,_=m(n,h,v,f=new u(b));b=f.bits,r[l+g]>b&&(r[l+g]=b,i[l+g]=l,a[l+g]=p,o[l+g]=_)}}}(e,t,i,l,h,d,f),g(e,n,t,i,l,h,d,f));var p=n.big_values;if(!(0==p||(i[p-2]|i[p-1])>1||(p=t.count1+2,p>576))){n.assign(t),n.count1=p;for(var v=0,b=0;p>n.big_values;p-=4){var _=2*(2*(2*i[p-4]+i[p-3])+i[p-2])+i[p-1];v+=o.t32l[_],b+=o.t33l[_]}if(n.big_values=p,n.count1table_select=0,v>b&&(v=b,n.count1table_select=1),n.count1bits=v,n.block_type==a.NORM_TYPE)g(e,n,t,i,l,h,d,f);else{if(n.part2_3_length=v,(v=e.scalefac_band.l[8])>p&&(v=p),v>0){var y=new u(n.part2_3_length);n.table_select[0]=m(i,0,v,y),n.part2_3_length=y.bits}p>v&&(y=new u(n.part2_3_length),n.table_select[1]=m(i,v,p,y),n.part2_3_length=y.bits),t.part2_3_length>n.part2_3_length&&t.assign(n)}}}};var v=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],b=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],_=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],y=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];e.slen1_tab=_,e.slen2_tab=y,this.best_scalefac_store=function(e,t,n,r){var i,s,c,u,h=r.tt[t][n],d=0;for(c=0,i=0;i<h.sfbmax;i++){var f=h.width[i];for(c+=f,u=-f;u<0&&0==h.l3_enc[u+c];u++);0==u&&(h.scalefac[i]=d=-2)}if(0==h.scalefac_scale&&0==h.preflag){var p=0;for(i=0;i<h.sfbmax;i++)h.scalefac[i]>0&&(p|=h.scalefac[i]);if(!(1&p)&&0!=p){for(i=0;i<h.sfbmax;i++)h.scalefac[i]>0&&(h.scalefac[i]>>=1);h.scalefac_scale=d=1}}if(0==h.preflag&&h.block_type!=a.SHORT_TYPE&&2==e.mode_gr){for(i=11;i<a.SBPSY_l&&!(h.scalefac[i]<l.pretab[i]&&-2!=h.scalefac[i]);i++);if(i==a.SBPSY_l){for(i=11;i<a.SBPSY_l;i++)h.scalefac[i]>0&&(h.scalefac[i]-=l.pretab[i]);h.preflag=d=1}}for(s=0;s<4;s++)r.scfsi[n][s]=0;for(2==e.mode_gr&&1==t&&r.tt[0][n].block_type!=a.SHORT_TYPE&&r.tt[1][n].block_type!=a.SHORT_TYPE&&(function(e,t){for(var n,r=t.tt[1][e],i=t.tt[0][e],s=0;s<o.scfsi_band.length-1;s++){for(n=o.scfsi_band[s];n<o.scfsi_band[s+1]&&!(i.scalefac[n]!=r.scalefac[n]&&r.scalefac[n]>=0);n++);if(n==o.scfsi_band[s+1]){for(n=o.scfsi_band[s];n<o.scfsi_band[s+1];n++)r.scalefac[n]=-1;t.scfsi[e][s]=1}}var c=0,l=0;for(n=0;n<11;n++)-1!=r.scalefac[n]&&(l++,c<r.scalefac[n]&&(c=r.scalefac[n]));for(var u=0,h=0;n<a.SBPSY_l;n++)-1!=r.scalefac[n]&&(h++,u<r.scalefac[n]&&(u=r.scalefac[n]));for(s=0;s<16;s++)if(c<v[s]&&u<b[s]){var d=_[s]*l+y[s]*h;r.part2_length>d&&(r.part2_length=d,r.scalefac_compress=s)}}(n,r),d=0),i=0;i<h.sfbmax;i++)-2==h.scalefac[i]&&(h.scalefac[i]=0);0!=d&&(2==e.mode_gr?this.scale_bitcount(h):this.scale_bitcount_lsf(e,h))};var w=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],S=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],k=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(e){var t,n,r,o=0,s=0,u=e.scalefac;if(i(function(e,t){for(var n=0;n<t;++n)if(e[n]<0)return!1;return!0}(u,e.sfbmax)),e.block_type==a.SHORT_TYPE)r=w,0!=e.mixed_block_flag&&(r=S);else if(r=k,0==e.preflag){for(n=11;n<a.SBPSY_l&&!(u[n]<l.pretab[n]);n++);if(n==a.SBPSY_l)for(e.preflag=1,n=11;n<a.SBPSY_l;n++)u[n]-=l.pretab[n]}for(n=0;n<e.sfbdivide;n++)o<u[n]&&(o=u[n]);for(;n<e.sfbmax;n++)s<u[n]&&(s=u[n]);for(e.part2_length=c.LARGE_BITS,t=0;t<16;t++)o<v[t]&&s<b[t]&&e.part2_length>r[t]&&(e.part2_length=r[t],e.scalefac_compress=t);return e.part2_length==c.LARGE_BITS};var x=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(e,n){var o,s,c,u,h,d,f,p,m=r(4),g=n.scalefac;for(o=0!=n.preflag?2:0,f=0;f<4;f++)m[f]=0;if(n.block_type==a.SHORT_TYPE){s=1;var v=l.nr_of_sfb_block[o][s];for(p=0,c=0;c<4;c++)for(u=v[c]/3,f=0;f<u;f++,p++)for(h=0;h<3;h++)g[3*p+h]>m[c]&&(m[c]=g[3*p+h])}else for(s=0,v=l.nr_of_sfb_block[o][s],p=0,c=0;c<4;c++)for(u=v[c],f=0;f<u;f++,p++)g[p]>m[c]&&(m[c]=g[p]);for(d=!1,c=0;c<4;c++)m[c]>x[o][c]&&(d=!0);if(!d){var b,_,y,w;for(n.sfb_partition_table=l.nr_of_sfb_block[o][s],c=0;c<4;c++)n.slen[c]=M[m[c]];switch(b=n.slen[0],_=n.slen[1],y=n.slen[2],w=n.slen[3],o){case 0:n.scalefac_compress=(5*b+_<<4)+(y<<2)+w;break;case 1:n.scalefac_compress=400+(5*b+_<<2)+y;break;case 2:n.scalefac_compress=500+3*b+_;break;default:t.err.printf("intensity stereo not implemented yet\n")}}if(!d)for(i(null!=n.sfb_partition_table),n.part2_length=0,c=0;c<4;c++)n.part2_length+=n.slen[c]*n.sfb_partition_table[c];return d};var M=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(e){for(var t=2;t<=576;t+=2){for(var n,r=0;e.scalefac_band.l[++r]<t;);for(n=h[r][0];e.scalefac_band.l[n+1]>t;)n--;for(n<0&&(n=h[r][0]),e.bv_scf[t-2]=n,n=h[r][1];e.scalefac_band.l[n+e.bv_scf[t-2]+2]>t;)n--;n<0&&(n=h[r][1]),e.bv_scf[t-1]=n}}}}function ct(){if(nt)return tt;nt=1;var e=b,t=e.System,n=e.Arrays,r=e.new_byte,i=e.new_float_n,a=e.new_int,o=e.assert,s=st(),c=at,l=x(),u=Me;function h(){var e=lt(),h=this,d=null,f=null,p=null,m=null;this.setModules=function(e,t,n,r){d=e,f=t,p=n,m=r};var g=null,v=0,b=0,_=0;function y(e){t.arraycopy(e.header[e.w_ptr].buf,0,g,b,e.sideinfo_len),b+=e.sideinfo_len,v+=8*e.sideinfo_len,e.w_ptr=e.w_ptr+1&u.MAX_HEADER_BUF-1}function w(t,n,r){for(;r>0;){var i;0==_&&(_=8,b++,o(b<e.LAME_MAXMP3BUFFER),o(t.header[t.w_ptr].write_timing>=v),t.header[t.w_ptr].write_timing==v&&y(t),g[b]=0),r-=i=Math.min(r,_),_-=i,g[b]|=n>>r<<_,v+=i}}function S(t,n,r){for(;r>0;){var i;0==_&&(_=8,b++,o(b<e.LAME_MAXMP3BUFFER),g[b]=0),r-=i=Math.min(r,_),_-=i,g[b]|=n>>r<<_,v+=i}}function k(e,t){var n,r=e.internal_flags;if(t>=8&&(w(r,76,8),t-=8),t>=8&&(w(r,65,8),t-=8),t>=8&&(w(r,77,8),t-=8),t>=8&&(w(r,69,8),t-=8),t>=32){var i=p.getLameShortVersion();if(t>=32)for(n=0;n<i.length&&t>=8;++n)t-=8,w(r,i.charAt(n),8)}for(;t>=1;t-=1)w(r,r.ancillary_flag,1),r.ancillary_flag^=e.disable_reservoir?0:1}function x(e,t,n){for(var r=e.header[e.h_ptr].ptr;n>0;){var i=Math.min(n,8-(7&r));n-=i,e.header[e.h_ptr].buf[r>>3]|=t>>n<<8-(7&r)-i,r+=i}e.header[e.h_ptr].ptr=r}function M(e,t){e<<=8;for(var n=0;n<8;n++)65536&((t<<=1)^(e<<=1))&&(t^=32773);return t}function E(e,t){var n,r=c.ht[t.count1table_select+32],i=0,a=t.big_values,s=t.big_values;for(o(t.count1table_select<2),n=(t.count1-t.big_values)/4;n>0;--n){var l=0,u=0;0!=t.l3_enc[a+0]&&(u+=8,t.xr[s+0]<0&&l++),0!=t.l3_enc[a+1]&&(u+=4,l*=2,t.xr[s+1]<0&&l++),0!=t.l3_enc[a+2]&&(u+=2,l*=2,t.xr[s+2]<0&&l++),0!=t.l3_enc[a+3]&&(u++,l*=2,t.xr[s+3]<0&&l++),a+=4,s+=4,w(e,l+r.table[u],r.hlen[u]),i+=r.hlen[u]}return i}function T(e,t,n,r,i){var a=c.ht[t],s=0;if(0==t)return s;for(var l=n;l<r;l+=2){var u=0,h=0,d=a.xlen,f=a.xlen,p=0,m=i.l3_enc[l],g=i.l3_enc[l+1];if(0!=m&&(i.xr[l]<0&&p++,u--),t>15){if(m>14){var v=m-15;o(v<=a.linmax),p|=v<<1,h=d,m=15}if(g>14){var b=g-15;o(b<=a.linmax),p<<=d,p|=b,h+=d,g=15}f=16}0!=g&&(p<<=1,i.xr[l+1]<0&&p++,u--),m=m*f+g,h-=u,u+=a.hlen[m],w(e,a.table[m],u),w(e,p,h),s+=u+h}return s}function C(e,t){var n=3*e.scalefac_band.s[3];return n>t.big_values&&(n=t.big_values),T(e,t.table_select[0],0,n,t)+T(e,t.table_select[1],n,t.big_values,t)}function A(e,t){var n,r,i,a;n=t.big_values;var s=t.region0_count+1;return o(s<e.scalefac_band.l.length),i=e.scalefac_band.l[s],s+=t.region1_count+1,o(s<e.scalefac_band.l.length),i>n&&(i=n),(a=e.scalefac_band.l[s])>n&&(a=n),r=T(e,t.table_select[0],0,i,t),(r+=T(e,t.table_select[1],i,a,t))+T(e,t.table_select[2],a,n,t)}function O(){this.total=0}function P(e,n){var r,i,a,o,s,c=e.internal_flags;return s=c.w_ptr,-1==(o=c.h_ptr-1)&&(o=u.MAX_HEADER_BUF-1),r=c.header[o].write_timing-v,n.total=r,r>=0&&(i=1+o-s,o<s&&(i=1+o-s+u.MAX_HEADER_BUF),r-=8*i*c.sideinfo_len),r+=a=h.getframebits(e),n.total+=a,n.total%8!=0?n.total=1+n.total/8:n.total=n.total/8,n.total+=b+1,r<0&&t.err.println("strange error flushing buffer ... \n"),r}this.getframebits=function(e){var t,n=e.internal_flags;return t=0!=n.bitrate_index?c.bitrate_table[e.version][n.bitrate_index]:e.brate,8*(0|72e3*(e.version+1)*t/e.out_samplerate+n.padding)},this.CRC_writeheader=function(e,t){var n=65535;n=M(255&t[2],n),n=M(255&t[3],n);for(var r=6;r<e.sideinfo_len;r++)n=M(255&t[r],n);t[4]=byte(n>>8),t[5]=byte(255&n)},this.flush_bitstream=function(e){var t,n,r=e.internal_flags,i=r.h_ptr-1;if(-1==i&&(i=u.MAX_HEADER_BUF-1),t=r.l3_side,!((n=P(e,new O))<0)){if(k(e,n),o(r.header[i].write_timing+this.getframebits(e)==v),r.ResvSize=0,t.main_data_begin=0,r.findReplayGain){var a=d.GetTitleGain(r.rgdata);o(NEQ(a,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),r.RadioGain=0|Math.floor(10*a+.5)}r.findPeakSample&&(r.noclipGainChange=0|Math.ceil(20*Math.log10(r.PeakSample/32767)*10),r.noclipGainChange>0&&(EQ(e.scale,1)||EQ(e.scale,0))?r.noclipScale=Math.floor(32767/r.PeakSample*100)/100:r.noclipScale=-1)}},this.add_dummy_byte=function(e,t,n){for(var r,i=e.internal_flags;n-- >0;)for(S(0,t,8),r=0;r<u.MAX_HEADER_BUF;++r)i.header[r].write_timing+=8},this.format_bitstream=function(e){var r,i=e.internal_flags;r=i.l3_side;var a=this.getframebits(e);k(e,r.resvDrain_pre),function(e,r){var i,a,s,c=e.internal_flags;if(i=c.l3_side,c.header[c.h_ptr].ptr=0,n.fill(c.header[c.h_ptr].buf,0,c.sideinfo_len,0),e.out_samplerate<16e3?x(c,4094,12):x(c,4095,12),x(c,e.version,1),x(c,1,2),x(c,e.error_protection?0:1,1),x(c,c.bitrate_index,4),x(c,c.samplerate_index,2),x(c,c.padding,1),x(c,e.extension,1),x(c,e.mode.ordinal(),2),x(c,c.mode_ext,2),x(c,e.copyright,1),x(c,e.original,1),x(c,e.emphasis,2),e.error_protection&&x(c,0,16),1==e.version){for(o(i.main_data_begin>=0),x(c,i.main_data_begin,9),2==c.channels_out?x(c,i.private_bits,3):x(c,i.private_bits,5),s=0;s<c.channels_out;s++){var h;for(h=0;h<4;h++)x(c,i.scfsi[s][h],1)}for(a=0;a<2;a++)for(s=0;s<c.channels_out;s++)x(c,(d=i.tt[a][s]).part2_3_length+d.part2_length,12),x(c,d.big_values/2,9),x(c,d.global_gain,8),x(c,d.scalefac_compress,4),d.block_type!=l.NORM_TYPE?(x(c,1,1),x(c,d.block_type,2),x(c,d.mixed_block_flag,1),14==d.table_select[0]&&(d.table_select[0]=16),x(c,d.table_select[0],5),14==d.table_select[1]&&(d.table_select[1]=16),x(c,d.table_select[1],5),x(c,d.subblock_gain[0],3),x(c,d.subblock_gain[1],3),x(c,d.subblock_gain[2],3)):(x(c,0,1),14==d.table_select[0]&&(d.table_select[0]=16),x(c,d.table_select[0],5),14==d.table_select[1]&&(d.table_select[1]=16),x(c,d.table_select[1],5),14==d.table_select[2]&&(d.table_select[2]=16),x(c,d.table_select[2],5),o(0<=d.region0_count&&d.region0_count<16),o(0<=d.region1_count&&d.region1_count<8),x(c,d.region0_count,4),x(c,d.region1_count,3)),x(c,d.preflag,1),x(c,d.scalefac_scale,1),x(c,d.count1table_select,1)}else for(o(i.main_data_begin>=0),x(c,i.main_data_begin,8),x(c,i.private_bits,c.channels_out),a=0,s=0;s<c.channels_out;s++){var d;x(c,(d=i.tt[a][s]).part2_3_length+d.part2_length,12),x(c,d.big_values/2,9),x(c,d.global_gain,8),x(c,d.scalefac_compress,9),d.block_type!=l.NORM_TYPE?(x(c,1,1),x(c,d.block_type,2),x(c,d.mixed_block_flag,1),14==d.table_select[0]&&(d.table_select[0]=16),x(c,d.table_select[0],5),14==d.table_select[1]&&(d.table_select[1]=16),x(c,d.table_select[1],5),x(c,d.subblock_gain[0],3),x(c,d.subblock_gain[1],3),x(c,d.subblock_gain[2],3)):(x(c,0,1),14==d.table_select[0]&&(d.table_select[0]=16),x(c,d.table_select[0],5),14==d.table_select[1]&&(d.table_select[1]=16),x(c,d.table_select[1],5),14==d.table_select[2]&&(d.table_select[2]=16),x(c,d.table_select[2],5),o(0<=d.region0_count&&d.region0_count<16),o(0<=d.region1_count&&d.region1_count<8),x(c,d.region0_count,4),x(c,d.region1_count,3)),x(c,d.scalefac_scale,1),x(c,d.count1table_select,1)}e.error_protection&&CRC_writeheader(c,c.header[c.h_ptr].buf);var f=c.h_ptr;o(c.header[f].ptr==8*c.sideinfo_len),c.h_ptr=f+1&u.MAX_HEADER_BUF-1,c.header[c.h_ptr].write_timing=c.header[f].write_timing+r,c.h_ptr==c.w_ptr&&t.err.println("Error: MAX_HEADER_BUF too small in bitstream.c \n")}(e,a);var c=8*i.sideinfo_len;if(c+=function(e){var t,n,r,i,a=0,c=e.internal_flags,u=c.l3_side;if(1==e.version)for(t=0;t<2;t++)for(n=0;n<c.channels_out;n++){var h=u.tt[t][n],d=s.slen1_tab[h.scalefac_compress],f=s.slen2_tab[h.scalefac_compress];for(i=0,r=0;r<h.sfbdivide;r++)-1!=h.scalefac[r]&&(w(c,h.scalefac[r],d),i+=d);for(;r<h.sfbmax;r++)-1!=h.scalefac[r]&&(w(c,h.scalefac[r],f),i+=f);o(i==h.part2_length),h.block_type==l.SHORT_TYPE?i+=C(c,h):i+=A(c,h),i+=E(c,h),o(i==h.part2_3_length+h.part2_length),a+=i}else for(t=0,n=0;n<c.channels_out;n++){h=u.tt[t][n];var p,m,g=0;if(o(null!=h.sfb_partition_table),i=0,r=0,m=0,h.block_type==l.SHORT_TYPE){for(;m<4;m++){var v=h.sfb_partition_table[m]/3,b=h.slen[m];for(p=0;p<v;p++,r++)w(c,Math.max(h.scalefac[3*r+0],0),b),w(c,Math.max(h.scalefac[3*r+1],0),b),w(c,Math.max(h.scalefac[3*r+2],0),b),g+=3*b}i+=C(c,h)}else{for(;m<4;m++)for(v=h.sfb_partition_table[m],b=h.slen[m],p=0;p<v;p++,r++)w(c,Math.max(h.scalefac[r],0),b),g+=b;i+=A(c,h)}i+=E(c,h),o(i==h.part2_3_length),o(g==h.part2_length),a+=g+i}return a}(e),k(e,r.resvDrain_post),c+=r.resvDrain_post,r.main_data_begin+=(a-c)/8,P(e,new O)!=i.ResvSize&&t.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),8*r.main_data_begin!=i.ResvSize&&(t.err.printf("bit reservoir error: \nl3_side.main_data_begin: %d \nResvoir size:             %d \nresv drain (post)         %d \nresv drain (pre)          %d \nheader and sideinfo:      %d \ndata bits:                %d \ntotal bits:               %d (remainder: %d) \nbitsperframe:             %d \n",8*r.main_data_begin,i.ResvSize,r.resvDrain_post,r.resvDrain_pre,8*i.sideinfo_len,c-r.resvDrain_post-8*i.sideinfo_len,c,c%8,a),t.err.println("This is a fatal error.  It has several possible causes:"),t.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),t.err.println(" 9%%  Your system is overclocked"),t.err.println(" 1%%  bug in LAME encoding library"),i.ResvSize=8*r.main_data_begin),v>1e9){var h;for(h=0;h<u.MAX_HEADER_BUF;++h)i.header[h].write_timing-=v;v=0}return 0},this.copy_buffer=function(e,n,r,o,s){var c=b+1;if(c<=0)return 0;if(0!=o&&c>o)return-1;if(t.arraycopy(g,0,n,r,c),b=-1,_=0,0!=s){var l=a(1);if(l[0]=e.nMusicCRC,m.updateMusicCRC(l,n,r,c),e.nMusicCRC=l[0],c>0&&(e.VBR_seek_table.nBytesWritten+=c),e.decode_on_the_fly)for(var u,h=i([2,1152]),p=c,v=-1;0!=v;)if(v=f.hip_decode1_unclipped(e.hip,n,r,p,h[0],h[1]),p=0,-1==v&&(v=0),v>0){if(e.findPeakSample){for(u=0;u<v;u++)h[0][u]>e.PeakSample?e.PeakSample=h[0][u]:-h[0][u]>e.PeakSample&&(e.PeakSample=-h[0][u]);if(e.channels_out>1)for(u=0;u<v;u++)h[1][u]>e.PeakSample?e.PeakSample=h[1][u]:-h[1][u]>e.PeakSample&&(e.PeakSample=-h[1][u])}if(e.findReplayGain&&d.AnalyzeSamples(e.rgdata,h[0],0,h[1],0,v,e.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}return c},this.init_bit_stream_w=function(t){g=r(e.LAME_MAXMP3BUFFER),t.h_ptr=t.w_ptr=0,t.header[t.h_ptr].write_timing=0,b=-1,_=0,v=0}}return h.EQ=function(e,t){return Math.abs(e)>Math.abs(t)?Math.abs(e-t)<=1e-6*Math.abs(e):Math.abs(e-t)<=1e-6*Math.abs(t)},h.NEQ=function(e,t){return!h.EQ(e,t)},tt=h}function lt(){if(it)return rt;it=1;var e=b,t=e.System,n=e.VbrMode,r=e.ShortBlock,i=e.new_float,a=e.new_int_n,o=e.new_short_n,s=e.assert,c=V,l=W,u=Me,h=Ce,d=je,f=Xe,p=ct(),m=at,g=x();return rt=function e(){var v=k,b=this;e.V9=410,e.V8=420,e.V7=430,e.V6=440,e.V5=450,e.V4=460,e.V3=470,e.V2=480,e.V1=490,e.V0=500,e.R3MIX=1e3,e.STANDARD=1001,e.EXTREME=1002,e.INSANE=1003,e.STANDARD_FAST=1004,e.EXTREME_FAST=1005,e.MEDIUM=1006,e.MEDIUM_FAST=1007,e.LAME_MAXMP3BUFFER=147456;var _,y,w,S,x,M,E,T,C=new c;function A(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=i(g.SBMAX_l),this.bo_s_weight=i(g.SBMAX_s)}function O(){this.lowerlimit=0}function P(e,t){this.lowpass=t}this.enc=new g,this.setModules=function(e,t,n,r,i,a,o,s,c){_=e,y=t,w=n,S=r,x=i,M=a,E=s,T=c,this.enc.setModules(y,C,S,M)};var I=4294479419;function R(e){return e>1?0:e<=0?1:Math.cos(Math.PI/2*e)}function B(e,t){switch(e){case 44100:return t.version=1,0;case 48e3:return t.version=1,1;case 32e3:return t.version=1,2;case 22050:case 11025:return t.version=0,0;case 24e3:case 12e3:return t.version=0,1;case 16e3:case 8e3:return t.version=0,2;default:return t.version=0,-1}}function N(e,t,n){n<16e3&&(t=2);for(var r=m.bitrate_table[t][1],i=2;i<=14;i++)m.bitrate_table[t][i]>0&&Math.abs(m.bitrate_table[t][i]-e)<Math.abs(r-e)&&(r=m.bitrate_table[t][i]);return r}function L(e,t,n){n<16e3&&(t=2);for(var r=0;r<=14;r++)if(m.bitrate_table[t][r]>0&&m.bitrate_table[t][r]==e)return r;return-1}function D(e,t){var n=[new P(8,2e3),new P(16,3700),new P(24,3900),new P(32,5500),new P(40,7e3),new P(48,7500),new P(56,1e4),new P(64,11e3),new P(80,13500),new P(96,15100),new P(112,15600),new P(128,17e3),new P(160,17500),new P(192,18600),new P(224,19400),new P(256,19700),new P(320,20500)],r=b.nearestBitrateFullIndex(t);e.lowerlimit=n[r].lowpass}function j(e){var t=g.BLKSIZE+e.framesize-g.FFTOFFSET;return Math.max(t,512+e.framesize-32)}function z(e,t,n,r,i,a){var o=b.enc.lame_encode_mp3_frame(e,t,n,r,i,a);return e.frameNum++,o}function F(){this.n_in=0,this.n_out=0}function V(){this.num_used=0}function H(e,t){return 0!=t?H(t,e%t):e}function W(e,t,n){var r=Math.PI*t;(e/=n)<0&&(e=0),e>1&&(e=1);var i=e-.5,a=.42-.5*Math.cos(2*e*Math.PI)+.08*Math.cos(4*e*Math.PI);return Math.abs(i)<1e-9?r/Math.PI:a*Math.sin(n*r*i)/(Math.PI*n*i)}function U(e,t,n,r,a,o,c,l,h){var d,f,p=e.internal_flags,m=0,g=e.out_samplerate/H(e.out_samplerate,e.in_samplerate);g>u.BPC&&(g=u.BPC);var v=Math.abs(p.resample_ratio-Math.floor(.5+p.resample_ratio))<1e-4?1:0,b=1/p.resample_ratio;b>1&&(b=1);var _=31;_%2==0&&--_;var y=(_+=v)+1;if(0==p.fill_buffer_resample_init){for(p.inbuf_old[0]=i(y),p.inbuf_old[1]=i(y),d=0;d<=2*g;++d)p.blackfilt[d]=i(y);for(p.itime[0]=0,p.itime[1]=0,m=0;m<=2*g;m++){var w=0,S=(m-g)/(2*g);for(d=0;d<=_;d++)w+=p.blackfilt[m][d]=W(d-S,b,_);for(d=0;d<=_;d++)p.blackfilt[m][d]/=w}p.fill_buffer_resample_init=1}var k=p.inbuf_old[h];for(f=0;f<r;f++){var x,M;if(x=f*p.resample_ratio,_+(m=0|Math.floor(x-p.itime[h]))-_/2>=c)break;S=x-p.itime[h]-(m+_%2*.5),M=0|Math.floor(2*S*g+g+.5);var E=0;for(d=0;d<=_;++d){var T=0|d+m-_/2;E+=(T<0?k[y+T]:a[o+T])*p.blackfilt[M][d]}t[n+f]=E}if(l.num_used=Math.min(c,_+m-_/2),p.itime[h]+=l.num_used-f*p.resample_ratio,l.num_used>=y)for(d=0;d<y;d++)k[d]=a[o+l.num_used+d-y];else{var C=y-l.num_used;for(d=0;d<C;++d)k[d]=k[d+l.num_used];for(m=0;d<y;++d,++m)k[d]=a[o+m];s(m==l.num_used)}return f}function G(e,t,n,r,i,a){var o=e.internal_flags;if(o.resample_ratio<.9999||o.resample_ratio>1.0001)for(var s=0;s<o.channels_out;s++){var c=new V;a.n_out=U(e,t[s],o.mf_size,e.framesize,n[s],r,i,c,s),a.n_in=c.num_used}else{a.n_out=Math.min(e.framesize,i),a.n_in=a.n_out;for(var l=0;l<a.n_out;++l)t[0][o.mf_size+l]=n[0][r+l],2==o.channels_out&&(t[1][o.mf_size+l]=n[1][r+l])}}this.lame_init=function(){var e=new l;return function(e){var t;e.class_id=I,t=e.internal_flags=new u,e.mode=v.NOT_SET,e.original=1,e.in_samplerate=44100,e.num_channels=2,e.num_samples=-1,e.bWriteVbrTag=!0,e.quality=-1,e.short_blocks=null,t.subblock_gain=-1,e.lowpassfreq=0,e.highpassfreq=0,e.lowpasswidth=-1,e.highpasswidth=-1,e.VBR=n.vbr_off,e.VBR_q=4,e.ATHcurve=-1,e.VBR_mean_bitrate_kbps=128,e.VBR_min_bitrate_kbps=0,e.VBR_max_bitrate_kbps=0,e.VBR_hard_min=0,t.VBR_min_bitrate=1,t.VBR_max_bitrate=13,e.quant_comp=-1,e.quant_comp_short=-1,e.msfix=-1,t.resample_ratio=1,t.OldValue[0]=180,t.OldValue[1]=180,t.CurrentStep[0]=4,t.CurrentStep[1]=4,t.masking_lower=1,t.nsPsy.attackthre=-1,t.nsPsy.attackthre_s=-1,e.scale=-1,e.athaa_type=-1,e.ATHtype=-1,e.athaa_loudapprox=-1,e.athaa_sensitivity=0,e.useTemporal=null,e.interChRatio=-1,t.mf_samples_to_encode=g.ENCDELAY+g.POSTDELAY,e.encoder_padding=0,t.mf_size=g.ENCDELAY-g.MDCTDELAY,e.findReplayGain=!1,e.decode_on_the_fly=!1,t.decode_on_the_fly=!1,t.findReplayGain=!1,t.findPeakSample=!1,t.RadioGain=0,t.AudiophileGain=0,t.noclipGainChange=0,t.noclipScale=-1,e.preset=0,e.write_id3tag_automatic=!0}(e),e.lame_allocated_gfp=1,e},this.nearestBitrateFullIndex=function(e){var t=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],n=0,r=0,i=0,a=0;a=t[16],i=16,r=t[16],n=16;for(var o=0;o<16;o++)if(Math.max(e,t[o+1])!=e){a=t[o+1],i=o+1,r=t[o],n=o;break}return a-e>e-r?n:i},this.lame_init_params=function(e){var i,o=e.internal_flags;if(o.Class_ID=0,null==o.ATH&&(o.ATH=new h),null==o.PSY&&(o.PSY=new A),null==o.rgdata&&(o.rgdata=new d),o.channels_in=e.num_channels,1==o.channels_in&&(e.mode=v.MONO),o.channels_out=e.mode==v.MONO?1:2,o.mode_ext=g.MPG_MD_MS_LR,e.mode==v.MONO&&(e.force_ms=!1),e.VBR==n.vbr_off&&128!=e.VBR_mean_bitrate_kbps&&0==e.brate&&(e.brate=e.VBR_mean_bitrate_kbps),e.VBR==n.vbr_off||e.VBR==n.vbr_mtrh||e.VBR==n.vbr_mt||(e.free_format=!1),e.VBR==n.vbr_off&&0==e.brate&&p.EQ(e.compression_ratio,0)&&(e.compression_ratio=11.025),e.VBR==n.vbr_off&&e.compression_ratio>0&&(0==e.out_samplerate&&(e.out_samplerate=map2MP3Frequency(int(.97*e.in_samplerate))),e.brate=0|16*e.out_samplerate*o.channels_out/(1e3*e.compression_ratio),o.samplerate_index=B(e.out_samplerate,e),e.free_format||(e.brate=N(e.brate,e.version,e.out_samplerate))),0!=e.out_samplerate&&(e.out_samplerate<16e3?(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,64)):e.out_samplerate<32e3?(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,160)):(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,32),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,320))),0==e.lowpassfreq){var l=16e3;switch(e.VBR){case n.vbr_off:D(u=new O,e.brate),l=u.lowerlimit;break;case n.vbr_abr:var u;D(u=new O,e.VBR_mean_bitrate_kbps),l=u.lowerlimit;break;case n.vbr_rh:var b=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=e.VBR_q&&e.VBR_q<=9){var k=b[e.VBR_q],P=b[e.VBR_q+1],j=e.VBR_q_frac;l=linear_int(k,P,j)}else l=19500;break;default:b=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950],0<=e.VBR_q&&e.VBR_q<=9?(k=b[e.VBR_q],P=b[e.VBR_q+1],j=e.VBR_q_frac,l=linear_int(k,P,j)):l=19500}e.mode==v.MONO&&(e.VBR==n.vbr_off||e.VBR==n.vbr_abr)&&(l*=1.5),e.lowpassfreq=0|l}if(0==e.out_samplerate&&(2*e.lowpassfreq>e.in_samplerate&&(e.lowpassfreq=e.in_samplerate/2),e.out_samplerate=function(e,t){var n=44100;return t>=48e3?n=48e3:t>=44100?n=44100:t>=32e3?n=32e3:t>=24e3?n=24e3:t>=22050?n=22050:t>=16e3?n=16e3:t>=12e3?n=12e3:t>=11025?n=11025:t>=8e3&&(n=8e3),-1==e?n:(e<=15960&&(n=44100),e<=15250&&(n=32e3),e<=11220&&(n=24e3),e<=9970&&(n=22050),e<=7230&&(n=16e3),e<=5420&&(n=12e3),e<=4510&&(n=11025),e<=3970&&(n=8e3),t<n?t>44100?48e3:t>32e3?44100:t>24e3?32e3:t>22050?24e3:t>16e3?22050:t>12e3?16e3:t>11025?12e3:t>8e3?11025:8e3:n)}(0|e.lowpassfreq,e.in_samplerate)),e.lowpassfreq=Math.min(20500,e.lowpassfreq),e.lowpassfreq=Math.min(e.out_samplerate/2,e.lowpassfreq),e.VBR==n.vbr_off&&(e.compression_ratio=16*e.out_samplerate*o.channels_out/(1e3*e.brate)),e.VBR==n.vbr_abr&&(e.compression_ratio=16*e.out_samplerate*o.channels_out/(1e3*e.VBR_mean_bitrate_kbps)),e.bWriteVbrTag||(e.findReplayGain=!1,e.decode_on_the_fly=!1,o.findPeakSample=!1),o.findReplayGain=e.findReplayGain,o.decode_on_the_fly=e.decode_on_the_fly,o.decode_on_the_fly&&(o.findPeakSample=!0),o.findReplayGain&&_.InitGainAnalysis(o.rgdata,e.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return e.internal_flags=null,-6;switch(o.decode_on_the_fly&&!e.decode_only&&(null!=o.hip&&T.hip_decode_exit(o.hip),o.hip=T.hip_decode_init()),o.mode_gr=e.out_samplerate<=24e3?1:2,e.framesize=576*o.mode_gr,e.encoder_delay=g.ENCDELAY,o.resample_ratio=e.in_samplerate/e.out_samplerate,e.VBR){case n.vbr_mt:case n.vbr_rh:case n.vbr_mtrh:e.compression_ratio=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5][e.VBR_q];break;case n.vbr_abr:e.compression_ratio=16*e.out_samplerate*o.channels_out/(1e3*e.VBR_mean_bitrate_kbps);break;default:e.compression_ratio=16*e.out_samplerate*o.channels_out/(1e3*e.brate)}if(e.mode==v.NOT_SET&&(e.mode=v.JOINT_STEREO),e.highpassfreq>0?(o.highpass1=2*e.highpassfreq,e.highpasswidth>=0?o.highpass2=2*(e.highpassfreq+e.highpasswidth):o.highpass2=2*e.highpassfreq,o.highpass1/=e.out_samplerate,o.highpass2/=e.out_samplerate):(o.highpass1=0,o.highpass2=0),e.lowpassfreq>0?(o.lowpass2=2*e.lowpassfreq,e.lowpasswidth>=0?(o.lowpass1=2*(e.lowpassfreq-e.lowpasswidth),o.lowpass1<0&&(o.lowpass1=0)):o.lowpass1=2*e.lowpassfreq,o.lowpass1/=e.out_samplerate,o.lowpass2/=e.out_samplerate):(o.lowpass1=0,o.lowpass2=0),function(e){var n=e.internal_flags,r=32,i=-1;if(n.lowpass1>0){for(var a=999,o=0;o<=31;o++)(u=o/31)>=n.lowpass2&&(r=Math.min(r,o)),n.lowpass1<u&&u<n.lowpass2&&(a=Math.min(a,o));n.lowpass1=999==a?(r-.75)/31:(a-.75)/31,n.lowpass2=r/31}if(n.highpass2>0&&n.highpass2<.75/31*.9&&(n.highpass1=0,n.highpass2=0,t.err.println("Warning: highpass filter disabled.  highpass frequency too small\n")),n.highpass2>0){var s=-1;for(o=0;o<=31;o++)(u=o/31)<=n.highpass1&&(i=Math.max(i,o)),n.highpass1<u&&u<n.highpass2&&(s=Math.max(s,o));n.highpass1=i/31,n.highpass2=-1==s?(i+.75)/31:(s+.75)/31}for(o=0;o<32;o++){var c,l,u=o/31;c=n.highpass2>n.highpass1?R((n.highpass2-u)/(n.highpass2-n.highpass1+1e-20)):1,l=n.lowpass2>n.lowpass1?R((u-n.lowpass1)/(n.lowpass2-n.lowpass1+1e-20)):1,n.amp_filter[o]=c*l}}(e),o.samplerate_index=B(e.out_samplerate,e),o.samplerate_index<0)return e.internal_flags=null,-1;if(e.VBR==n.vbr_off){if(e.free_format)o.bitrate_index=0;else if(e.brate=N(e.brate,e.version,e.out_samplerate),o.bitrate_index=L(e.brate,e.version,e.out_samplerate),o.bitrate_index<=0)return e.internal_flags=null,-1}else o.bitrate_index=1;e.analysis&&(e.bWriteVbrTag=!1),null!=o.pinfo&&(e.bWriteVbrTag=!1),y.init_bit_stream_w(o);for(var z=o.samplerate_index+3*e.version+6*(e.out_samplerate<16e3?1:0),F=0;F<g.SBMAX_l+1;F++)o.scalefac_band.l[F]=S.sfBandIndex[z].l[F];for(F=0;F<g.PSFB21+1;F++){var V=(o.scalefac_band.l[22]-o.scalefac_band.l[21])/g.PSFB21,H=o.scalefac_band.l[21]+F*V;o.scalefac_band.psfb21[F]=H}for(o.scalefac_band.psfb21[g.PSFB21]=576,F=0;F<g.SBMAX_s+1;F++)o.scalefac_band.s[F]=S.sfBandIndex[z].s[F];for(F=0;F<g.PSFB12+1;F++)V=(o.scalefac_band.s[13]-o.scalefac_band.s[12])/g.PSFB12,H=o.scalefac_band.s[12]+F*V,o.scalefac_band.psfb12[F]=H;for(o.scalefac_band.psfb12[g.PSFB12]=192,1==e.version?o.sideinfo_len=1==o.channels_out?21:36:o.sideinfo_len=1==o.channels_out?13:21,e.error_protection&&(o.sideinfo_len+=2),function(e){var t=e.internal_flags;e.frameNum=0,e.write_id3tag_automatic&&E.id3tag_write_v2(e),t.bitrate_stereoMode_Hist=a([16,5]),t.bitrate_blockType_Hist=a([16,6]),t.PeakSample=0,e.bWriteVbrTag&&M.InitVbrTag(e)}(e),o.Class_ID=I,i=0;i<19;i++)o.nsPsy.pefirbuf[i]=700*o.mode_gr*o.channels_out;switch(-1==e.ATHtype&&(e.ATHtype=4),s(e.VBR_q<=9),s(e.VBR_q>=0),e.VBR){case n.vbr_mt:e.VBR=n.vbr_mtrh;case n.vbr_mtrh:null==e.useTemporal&&(e.useTemporal=!1),w.apply_preset(e,500-10*e.VBR_q,0),e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),e.quality<5&&(e.quality=0),e.quality>5&&(e.quality=5),o.PSY.mask_adjust=e.maskingadjust,o.PSY.mask_adjust_short=e.maskingadjust_short,e.experimentalY?o.sfb21_extra=!1:o.sfb21_extra=e.out_samplerate>44e3,o.iteration_loop=new VBRNewIterationLoop(x);break;case n.vbr_rh:w.apply_preset(e,500-10*e.VBR_q,0),o.PSY.mask_adjust=e.maskingadjust,o.PSY.mask_adjust_short=e.maskingadjust_short,e.experimentalY?o.sfb21_extra=!1:o.sfb21_extra=e.out_samplerate>44e3,e.quality>6&&(e.quality=6),e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),o.iteration_loop=new VBROldIterationLoop(x);break;default:var W;o.sfb21_extra=!1,e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),(W=e.VBR)==n.vbr_off&&(e.VBR_mean_bitrate_kbps=e.brate),w.apply_preset(e,e.VBR_mean_bitrate_kbps,0),e.VBR=W,o.PSY.mask_adjust=e.maskingadjust,o.PSY.mask_adjust_short=e.maskingadjust_short,W==n.vbr_off?o.iteration_loop=new f(x):o.iteration_loop=new ABRIterationLoop(x)}if(s(e.scale>=0),e.VBR!=n.vbr_off){if(o.VBR_min_bitrate=1,o.VBR_max_bitrate=14,e.out_samplerate<16e3&&(o.VBR_max_bitrate=8),0!=e.VBR_min_bitrate_kbps&&(e.VBR_min_bitrate_kbps=N(e.VBR_min_bitrate_kbps,e.version,e.out_samplerate),o.VBR_min_bitrate=L(e.VBR_min_bitrate_kbps,e.version,e.out_samplerate),o.VBR_min_bitrate<0)||0!=e.VBR_max_bitrate_kbps&&(e.VBR_max_bitrate_kbps=N(e.VBR_max_bitrate_kbps,e.version,e.out_samplerate),o.VBR_max_bitrate=L(e.VBR_max_bitrate_kbps,e.version,e.out_samplerate),o.VBR_max_bitrate<0))return-1;e.VBR_min_bitrate_kbps=m.bitrate_table[e.version][o.VBR_min_bitrate],e.VBR_max_bitrate_kbps=m.bitrate_table[e.version][o.VBR_max_bitrate],e.VBR_mean_bitrate_kbps=Math.min(m.bitrate_table[e.version][o.VBR_max_bitrate],e.VBR_mean_bitrate_kbps),e.VBR_mean_bitrate_kbps=Math.max(m.bitrate_table[e.version][o.VBR_min_bitrate],e.VBR_mean_bitrate_kbps)}return e.tune&&(o.PSY.mask_adjust+=e.tune_value_a,o.PSY.mask_adjust_short+=e.tune_value_a),function(e){var t=e.internal_flags;switch(e.quality){default:case 9:t.psymodel=0,t.noise_shaping=0,t.noise_shaping_amp=0,t.noise_shaping_stop=0,t.use_best_huffman=0,t.full_outer_loop=0;break;case 8:e.quality=7;case 7:t.psymodel=1,t.noise_shaping=0,t.noise_shaping_amp=0,t.noise_shaping_stop=0,t.use_best_huffman=0,t.full_outer_loop=0;break;case 6:case 5:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=0,t.noise_shaping_stop=0,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=0,t.full_outer_loop=0;break;case 4:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=0,t.noise_shaping_stop=0,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 3:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=1,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 2:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),0==t.substep_shaping&&(t.substep_shaping=2),t.noise_shaping_amp=1,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 1:case 0:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),0==t.substep_shaping&&(t.substep_shaping=2),t.noise_shaping_amp=2,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0}}(e),s(e.scale>=0),e.athaa_type<0?o.ATH.useAdjust=3:o.ATH.useAdjust=e.athaa_type,o.ATH.aaSensitivityP=Math.pow(10,e.athaa_sensitivity/-10),null==e.short_blocks&&(e.short_blocks=r.short_block_allowed),e.short_blocks==r.short_block_allowed&&(e.mode==v.JOINT_STEREO||e.mode==v.STEREO)&&(e.short_blocks=r.short_block_coupled),e.quant_comp<0&&(e.quant_comp=1),e.quant_comp_short<0&&(e.quant_comp_short=0),e.msfix<0&&(e.msfix=0),e.exp_nspsytune=1|e.exp_nspsytune,e.internal_flags.nsPsy.attackthre<0&&(e.internal_flags.nsPsy.attackthre=c.NSATTACKTHRE),e.internal_flags.nsPsy.attackthre_s<0&&(e.internal_flags.nsPsy.attackthre_s=c.NSATTACKTHRE_S),s(e.scale>=0),e.scale<0&&(e.scale=1),e.ATHtype<0&&(e.ATHtype=4),e.ATHcurve<0&&(e.ATHcurve=4),e.athaa_loudapprox<0&&(e.athaa_loudapprox=2),e.interChRatio<0&&(e.interChRatio=0),null==e.useTemporal&&(e.useTemporal=!0),o.slot_lag=o.frac_SpF=0,e.VBR==n.vbr_off&&(o.slot_lag=o.frac_SpF=72e3*(e.version+1)*e.brate%e.out_samplerate|0),S.iteration_init(e),C.psymodel_init(e),s(e.scale>=0),0},this.lame_encode_flush=function(e,t,n,r){var i,a,s,c,l=e.internal_flags,u=o([2,1152]),h=0,d=l.mf_samples_to_encode-g.POSTDELAY,f=j(e);if(l.mf_samples_to_encode<1)return 0;for(i=0,e.in_samplerate!=e.out_samplerate&&(d+=16*e.out_samplerate/e.in_samplerate),(s=e.framesize-d%e.framesize)<576&&(s+=e.framesize),e.encoder_padding=s,c=(d+s)/e.framesize;c>0&&h>=0;){var p=f-l.mf_size,m=e.frameNum;p*=e.in_samplerate,(p/=e.out_samplerate)>1152&&(p=1152),p<1&&(p=1),a=r-i,0==r&&(a=0),n+=h=this.lame_encode_buffer(e,u[0],u[1],p,t,n,a),i+=h,c-=m!=e.frameNum?1:0}if(l.mf_samples_to_encode=0,h<0||(a=r-i,0==r&&(a=0),y.flush_bitstream(e),(h=y.copy_buffer(l,t,n,a,1))<0))return h;if(n+=h,a=r-(i+=h),0==r&&(a=0),e.write_id3tag_automatic){if(E.id3tag_write_v1(e),(h=y.copy_buffer(l,t,n,a,0))<0)return h;i+=h}return i},this.lame_encode_buffer=function(e,t,n,r,a,o,c){var l=e.internal_flags,h=[null,null];if(l.Class_ID!=I)return-3;if(0==r)return 0;(function(e,t){(null==e.in_buffer_0||e.in_buffer_nsamples<t)&&(e.in_buffer_0=i(t),e.in_buffer_1=i(t),e.in_buffer_nsamples=t)})(l,r),h[0]=l.in_buffer_0,h[1]=l.in_buffer_1;for(var d=0;d<r;d++)h[0][d]=t[d],l.channels_in>1&&(h[1][d]=n[d]);return function(e,t,n,r,i,a,o){var c,l,h,d,f,m=e.internal_flags,v=0,b=[null,null],w=[null,null];if(m.Class_ID!=I)return-3;if(0==r)return 0;if((f=y.copy_buffer(m,i,a,o,0))<0)return f;if(a+=f,v+=f,w[0]=t,w[1]=n,p.NEQ(e.scale,0)&&p.NEQ(e.scale,1))for(l=0;l<r;++l)w[0][l]*=e.scale,2==m.channels_out&&(w[1][l]*=e.scale);if(p.NEQ(e.scale_left,0)&&p.NEQ(e.scale_left,1))for(l=0;l<r;++l)w[0][l]*=e.scale_left;if(p.NEQ(e.scale_right,0)&&p.NEQ(e.scale_right,1))for(l=0;l<r;++l)w[1][l]*=e.scale_right;if(2==e.num_channels&&1==m.channels_out)for(l=0;l<r;++l)w[0][l]=.5*(w[0][l]+w[1][l]),w[1][l]=0;d=j(e),b[0]=m.mfbuf[0],b[1]=m.mfbuf[1];for(var S=0;r>0;){var k,x,M=[null,null];M[0]=w[0],M[1]=w[1];var E=new F;if(G(e,b,M,S,r,E),k=E.n_in,x=E.n_out,m.findReplayGain&&!m.decode_on_the_fly&&_.AnalyzeSamples(m.rgdata,b[0],m.mf_size,b[1],m.mf_size,x,m.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(r-=k,S+=k,m.channels_out,m.mf_size+=x,s(m.mf_size<=u.MFSIZE),m.mf_samples_to_encode<1&&(m.mf_samples_to_encode=g.ENCDELAY+g.POSTDELAY),m.mf_samples_to_encode+=x,m.mf_size>=d){var T=o-v;if(0==o&&(T=0),(c=z(e,b[0],b[1],i,a,T))<0)return c;for(a+=c,v+=c,m.mf_size-=e.framesize,m.mf_samples_to_encode-=e.framesize,h=0;h<m.channels_out;h++)for(l=0;l<m.mf_size;l++)b[h][l]=b[h][l+e.framesize]}}return v}(e,h[0],h[1],r,a,o,c)}}}var ut=b.VbrMode,ht=b,dt=ht.new_float,ft=ht.new_int,pt=b,mt=pt.System,gt=pt.VbrMode,vt=pt.Util,bt=pt.Arrays,_t=pt.new_float,yt=pt.assert,wt=function(){this.setModules=function(e,t){}},St=function(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0},kt=function(){this.global_gain=0,this.sfb_count1=0,this.step=ft(39),this.noise=dt(39),this.noise_log=dt(39)},xt=x(),Mt=Z,Et=q,Tt=b.assert,Ct=b,At=Ct.System,Ot=Ct.VbrMode,Pt=Ct.ShortBlock,It=Ct.Arrays,Rt=Ct.new_byte,Bt=Ct.assert;function Nt(){var e,t,n;this.setModules=function(r,i,a){e=r,t=i,n=a};var r=Nt.NUMTOCENTRIES,i=Nt.MAXFRAMESIZE,a=r+4+4+4+4+4+9+1+1+8+1+1+3+1+1+2+4+2+2,o="Xing",s="Info",c=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function l(e,t){var n=255&e[t+0];return n<<=8,n|=255&e[t+1],n<<=8,n|=255&e[t+2],(n<<=8)|255&e[t+3]}function u(e,t,n){e[t+0]=255&n>>24,e[t+1]=255&n>>16,e[t+2]=255&n>>8,e[t+3]=255&n}function h(e,t,n){e[t+0]=255&n>>8,e[t+1]=255&n}function d(e,t,n){return 255&(e<<t|n&~(-1<<t))}function f(t,n){var r=t.internal_flags;n[0]=d(n[0],8,255),n[1]=d(n[1],3,7),n[1]=d(n[1],1,t.out_samplerate<16e3?0:1),n[1]=d(n[1],1,t.version),n[1]=d(n[1],2,1),n[1]=d(n[1],1,t.error_protection?0:1),n[2]=d(n[2],4,r.bitrate_index),n[2]=d(n[2],2,r.samplerate_index),n[2]=d(n[2],1,0),n[2]=d(n[2],1,t.extension),n[3]=d(n[3],2,t.mode.ordinal()),n[3]=d(n[3],2,r.mode_ext),n[3]=d(n[3],1,t.copyright),n[3]=d(n[3],1,t.original),n[3]=d(n[3],2,t.emphasis),n[0]=255;var i,a,o=241&n[1];i=1==t.version?128:t.out_samplerate<16e3?32:64,t.VBR==Ot.vbr_off&&(i=t.brate),a=t.free_format?0:255&16*e.BitrateIndex(i,t.version,t.out_samplerate),1==t.version?(n[1]=255&o|10,o=13&n[2],n[2]=255&(a|o)):(n[1]=255&o|2,o=13&n[2],n[2]=255&(a|o))}function p(e,t){return t>>8^c[255&(t^e)]}this.addVbrFrame=function(e){var t=e.internal_flags,n=Tables.bitrate_table[e.version][t.bitrate_index];Bt(null!=t.VBR_seek_table.bag),function(e,t){if(e.nVbrNumFrames++,e.sum+=t,e.seen++,!(e.seen<e.want)&&(e.pos<e.size&&(e.bag[e.pos]=e.sum,e.pos++,e.seen=0),e.pos==e.size)){for(var n=1;n<e.size;n+=2)e.bag[n/2]=e.bag[n];e.want*=2,e.pos/=2}}(t.VBR_seek_table,n)},this.getVbrTag=function(e){var t=new VBRTagData,n=0;t.flags=0;var i=e[n+1]>>3&1,a=e[n+2]>>2&3,c=e[n+3]>>6&3,u=e[n+2]>>4&15;if(u=Tables.bitrate_table[i][u],e[n+1]>>4==14?t.samprate=Tables.samplerate_table[2][a]:t.samprate=Tables.samplerate_table[i][a],!function(e,t){return new String(e,t,4(),null).equals(o)||new String(e,t,4(),null).equals(s)}(e,n+=0!=i?3!=c?36:21:3!=c?21:13))return null;n+=4,t.hId=i;var h=t.flags=l(e,n);if(n+=4,1&h&&(t.frames=l(e,n),n+=4),2&h&&(t.bytes=l(e,n),n+=4),4&h){if(null!=t.toc)for(var d=0;d<r;d++)t.toc[d]=e[n+d];n+=r}t.vbrScale=-1,8&h&&(t.vbrScale=l(e,n),n+=4),t.headersize=72e3*(i+1)*u/t.samprate;var f=e[(n+=21)+0]<<4;f+=e[n+1]>>4;var p=(15&e[n+1])<<8;return(f<0||f>3e3)&&(f=-1),((p+=255&e[n+2])<0||p>3e3)&&(p=-1),t.encDelay=f,t.encPadding=p,t},this.InitVbrTag=function(e){var n,r=e.internal_flags;n=1==e.version?128:e.out_samplerate<16e3?32:64,e.VBR==Ot.vbr_off&&(n=e.brate);var o=72e3*(e.version+1)*n/e.out_samplerate,s=r.sideinfo_len+a;if(r.VBR_seek_table.TotalFrameSize=o,o<s||o>i)e.bWriteVbrTag=!1;else{r.VBR_seek_table.nVbrNumFrames=0,r.VBR_seek_table.nBytesWritten=0,r.VBR_seek_table.sum=0,r.VBR_seek_table.seen=0,r.VBR_seek_table.want=1,r.VBR_seek_table.pos=0,null==r.VBR_seek_table.bag&&(r.VBR_seek_table.bag=new int[400],r.VBR_seek_table.size=400);var c=Rt(i);f(e,c);for(var l=r.VBR_seek_table.TotalFrameSize,u=0;u<l;++u)t.add_dummy_byte(e,255&c[u],1)}},this.updateMusicCRC=function(e,t,n,r){for(var i=0;i<r;++i)e[0]=p(t[n+i],e[0])},this.getLameTagFrame=function(e,i){var a=e.internal_flags;if(!e.bWriteVbrTag||a.Class_ID!=Lame.LAME_ID||a.VBR_seek_table.pos<=0)return 0;if(i.length<a.VBR_seek_table.TotalFrameSize)return a.VBR_seek_table.TotalFrameSize;It.fill(i,0,a.VBR_seek_table.TotalFrameSize,0),f(e,i);var c=Rt(r);if(e.free_format)for(var l=1;l<r;++l)c[l]=255&255*l/100;else!function(e,t){if(!(e.pos<=0))for(var n=1;n<r;++n){var i=n/r,a=0|Math.floor(i*e.pos);a>e.pos-1&&(a=e.pos-1);var o=0|256*e.bag[a]/e.sum;o>255&&(o=255),t[n]=255&o}}(a.VBR_seek_table,c);var d=a.sideinfo_len;e.error_protection&&(d-=2),e.VBR==Ot.vbr_off?(i[d++]=255&s.charAt(0),i[d++]=255&s.charAt(1),i[d++]=255&s.charAt(2),i[d++]=255&s.charAt(3)):(i[d++]=255&o.charAt(0),i[d++]=255&o.charAt(1),i[d++]=255&o.charAt(2),i[d++]=255&o.charAt(3)),u(i,d,15),u(i,d+=4,a.VBR_seek_table.nVbrNumFrames),d+=4;var m=a.VBR_seek_table.nBytesWritten+a.VBR_seek_table.TotalFrameSize;u(i,d,0|m),d+=4,At.arraycopy(c,0,i,d,c.length),d+=c.length,e.error_protection&&t.CRC_writeheader(a,i);var g=0;for(l=0;l<d;l++)g=p(i[l],g);return d+=function(e,t,r,i,a){var o,s,c,l,d,f,m=e.internal_flags,g=0,v=e.encoder_delay,b=e.encoder_padding,_=100-10*e.VBR_q-e.quality,y=n.getLameVeryShortVersion(),w=[1,5,3,2,4,0,3],S=0|(e.lowpassfreq/100+.5>255?255:e.lowpassfreq/100+.5),k=0,x=0,M=e.internal_flags.noise_shaping,E=0,T=0,C=!!(1&e.exp_nspsytune),A=!!(2&e.exp_nspsytune),O=!1,P=!1,I=e.internal_flags.nogap_total,R=e.internal_flags.nogap_current,B=e.ATHtype;switch(e.VBR){case vbr_abr:d=e.VBR_mean_bitrate_kbps;break;case vbr_off:d=e.brate;break;default:d=e.VBR_min_bitrate_kbps}switch(o=0+(e.VBR.ordinal()<w.length?w[e.VBR.ordinal()]:0),m.findReplayGain&&(m.RadioGain>510&&(m.RadioGain=510),m.RadioGain<-510&&(m.RadioGain=-510),x=8192,x|=3072,m.RadioGain>=0?x|=m.RadioGain:(x|=512,x|=-m.RadioGain)),m.findPeakSample&&(k=Math.abs(0|m.PeakSample/32767*Math.pow(2,23)+.5)),-1!=I&&(R>0&&(P=!0),R<I-1&&(O=!0)),l=B+((C?1:0)<<4)+((A?1:0)<<5)+((O?1:0)<<6)+((P?1:0)<<7),_<0&&(_=0),e.mode){case MONO:E=0;break;case STEREO:E=1;break;case DUAL_CHANNEL:E=2;break;case JOINT_STEREO:E=e.force_ms?4:3;break;case NOT_SET:default:E=7}f=e.in_samplerate<=32e3?0:48e3==e.in_samplerate?2:e.in_samplerate>48e3?3:1,(e.short_blocks==Pt.short_block_forced||e.short_blocks==Pt.short_block_dispensed||-1==e.lowpassfreq&&-1==e.highpassfreq||e.scale_left<e.scale_right||e.scale_left>e.scale_right||e.disable_reservoir&&e.brate<320||e.noATH||e.ATHonly||0==B||e.in_samplerate<=32e3)&&(T=1),s=M+(E<<2)+(T<<5)+(f<<6),c=m.nMusicCRC,u(r,i+g,_),g+=4;for(var N=0;N<9;N++)r[i+g+N]=255&y.charAt(N);r[i+(g+=9)]=255&o,r[i+ ++g]=255&S,u(r,i+ ++g,k),h(r,i+(g+=4),x),h(r,i+(g+=2),0),r[i+(g+=2)]=255&l,r[i+ ++g]=d>=255?255:255&d,r[i+ ++g]=255&v>>4,r[i+g+1]=255&(v<<4)+(b>>8),r[i+g+2]=255&b,r[i+(g+=3)]=255&s,g++,r[i+g++]=0,h(r,i+g,e.preset),u(r,i+(g+=2),t),h(r,i+(g+=4),c),g+=2;for(var L=0;L<g;L++)a=p(r[i+L],a);return h(r,i+g,a),g+2}(e,m,i,d,g),a.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(e,t){if(e.internal_flags.VBR_seek_table.pos<=0||(t.seek(t.length()),0==t.length()))return-1;var n=function(e){e.seek(0);var t=Rt(10);return e.readFully(t),new String(t,"ISO-8859-1").startsWith("ID3")?0:((127&t[6])<<21|(127&t[7])<<14|(127&t[8])<<7|127&t[9])+t.length}(t);t.seek(n);var r=Rt(i),a=getLameTagFrame(e,r);return a>r.length?-1:(a<1||t.write(r,0,a),0)}}Nt.NUMTOCENTRIES=100,Nt.MAXFRAMESIZE=2880;var Lt=Nt,Dt=b,jt=Dt.new_byte,zt=Dt.assert,Ft=lt(),Vt=function(){var e,t=lt();function n(e,t,n,r,i,a,o,s,c,l,u,h,d,f,p){this.vbr_q=e,this.quant_comp=t,this.quant_comp_s=n,this.expY=r,this.st_lrm=i,this.st_s=a,this.masking_adj=o,this.masking_adj_short=s,this.ath_lower=c,this.ath_curve=l,this.ath_sensitivity=u,this.interch=h,this.safejoint=d,this.sfb21mod=f,this.msfix=p}function r(e,t,n,r,i,a,o,s,c,l,u,h,d,f){this.quant_comp=t,this.quant_comp_s=n,this.safejoint=r,this.nsmsfix=i,this.st_lrm=a,this.st_s=o,this.nsbass=s,this.scale=c,this.masking_adj=l,this.ath_lower=u,this.ath_curve=h,this.interch=d,this.sfscale=f}this.setModules=function(t){e=t};var i=[new n(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new n(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new n(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new n(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new n(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new n(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new n(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new n(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new n(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new n(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new n(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],a=[new n(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new n(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new n(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new n(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new n(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new n(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new n(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new n(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new n(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new n(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new n(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function o(e,t,n){var r=e.VBR==ut.vbr_rh?i:a,o=e.VBR_q_frac,s=r[t],c=r[t+1],l=s;s.st_lrm=s.st_lrm+o*(c.st_lrm-s.st_lrm),s.st_s=s.st_s+o*(c.st_s-s.st_s),s.masking_adj=s.masking_adj+o*(c.masking_adj-s.masking_adj),s.masking_adj_short=s.masking_adj_short+o*(c.masking_adj_short-s.masking_adj_short),s.ath_lower=s.ath_lower+o*(c.ath_lower-s.ath_lower),s.ath_curve=s.ath_curve+o*(c.ath_curve-s.ath_curve),s.ath_sensitivity=s.ath_sensitivity+o*(c.ath_sensitivity-s.ath_sensitivity),s.interch=s.interch+o*(c.interch-s.interch),s.msfix=s.msfix+o*(c.msfix-s.msfix),function(e,t){0>t&&(-1,t=0),9<t&&(-1,t=9),e.VBR_q=t,e.VBR_q_frac=0}(e,l.vbr_q),0!=n?e.quant_comp=l.quant_comp:Math.abs(e.quant_comp- -1)>0||(e.quant_comp=l.quant_comp),0!=n?e.quant_comp_short=l.quant_comp_s:Math.abs(e.quant_comp_short- -1)>0||(e.quant_comp_short=l.quant_comp_s),0!=l.expY&&(e.experimentalY=0!=l.expY),0!=n?e.internal_flags.nsPsy.attackthre=l.st_lrm:Math.abs(e.internal_flags.nsPsy.attackthre- -1)>0||(e.internal_flags.nsPsy.attackthre=l.st_lrm),0!=n?e.internal_flags.nsPsy.attackthre_s=l.st_s:Math.abs(e.internal_flags.nsPsy.attackthre_s- -1)>0||(e.internal_flags.nsPsy.attackthre_s=l.st_s),0!=n?e.maskingadjust=l.masking_adj:Math.abs(e.maskingadjust-0)>0||(e.maskingadjust=l.masking_adj),0!=n?e.maskingadjust_short=l.masking_adj_short:Math.abs(e.maskingadjust_short-0)>0||(e.maskingadjust_short=l.masking_adj_short),0!=n?e.ATHlower=-l.ath_lower/10:Math.abs(10*-e.ATHlower-0)>0||(e.ATHlower=-l.ath_lower/10),0!=n?e.ATHcurve=l.ath_curve:Math.abs(e.ATHcurve- -1)>0||(e.ATHcurve=l.ath_curve),0!=n?e.athaa_sensitivity=l.ath_sensitivity:Math.abs(e.athaa_sensitivity- -1)>0||(e.athaa_sensitivity=l.ath_sensitivity),l.interch>0&&(0!=n?e.interChRatio=l.interch:Math.abs(e.interChRatio- -1)>0||(e.interChRatio=l.interch)),l.safejoint>0&&(e.exp_nspsytune=e.exp_nspsytune|l.safejoint),l.sfb21mod>0&&(e.exp_nspsytune=e.exp_nspsytune|l.sfb21mod<<20),0!=n?e.msfix=l.msfix:Math.abs(e.msfix- -1)>0||(e.msfix=l.msfix),0==n&&(e.VBR_q=t,e.VBR_q_frac=o)}var s=[new r(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new r(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new r(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new r(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new r(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new r(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new r(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new r(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new r(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new r(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new r(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new r(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new r(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new r(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new r(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new r(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new r(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function c(t,n,r){var i=n,a=e.nearestBitrateFullIndex(n);if(t.VBR=ut.vbr_abr,t.VBR_mean_bitrate_kbps=i,t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,320),t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,8),t.brate=t.VBR_mean_bitrate_kbps,t.VBR_mean_bitrate_kbps>320&&(t.disable_reservoir=!0),s[a].safejoint>0&&(t.exp_nspsytune=2|t.exp_nspsytune),s[a].sfscale>0&&(t.internal_flags.noise_shaping=2),Math.abs(s[a].nsbass)>0){var o=int(4*s[a].nsbass);o<0&&(o+=64),t.exp_nspsytune=t.exp_nspsytune|o<<2}return 0!=r?t.quant_comp=s[a].quant_comp:Math.abs(t.quant_comp- -1)>0||(t.quant_comp=s[a].quant_comp),0!=r?t.quant_comp_short=s[a].quant_comp_s:Math.abs(t.quant_comp_short- -1)>0||(t.quant_comp_short=s[a].quant_comp_s),0!=r?t.msfix=s[a].nsmsfix:Math.abs(t.msfix- -1)>0||(t.msfix=s[a].nsmsfix),0!=r?t.internal_flags.nsPsy.attackthre=s[a].st_lrm:Math.abs(t.internal_flags.nsPsy.attackthre- -1)>0||(t.internal_flags.nsPsy.attackthre=s[a].st_lrm),0!=r?t.internal_flags.nsPsy.attackthre_s=s[a].st_s:Math.abs(t.internal_flags.nsPsy.attackthre_s- -1)>0||(t.internal_flags.nsPsy.attackthre_s=s[a].st_s),0!=r?t.scale=s[a].scale:Math.abs(t.scale- -1)>0||(t.scale=s[a].scale),0!=r?t.maskingadjust=s[a].masking_adj:Math.abs(t.maskingadjust-0)>0||(t.maskingadjust=s[a].masking_adj),s[a].masking_adj>0?0!=r?t.maskingadjust_short=.9*s[a].masking_adj:Math.abs(t.maskingadjust_short-0)>0||(t.maskingadjust_short=.9*s[a].masking_adj):0!=r?t.maskingadjust_short=1.1*s[a].masking_adj:Math.abs(t.maskingadjust_short-0)>0||(t.maskingadjust_short=1.1*s[a].masking_adj),0!=r?t.ATHlower=-s[a].ath_lower/10:Math.abs(10*-t.ATHlower-0)>0||(t.ATHlower=-s[a].ath_lower/10),0!=r?t.ATHcurve=s[a].ath_curve:Math.abs(t.ATHcurve- -1)>0||(t.ATHcurve=s[a].ath_curve),0!=r?t.interChRatio=s[a].interch:Math.abs(t.interChRatio- -1)>0||(t.interChRatio=s[a].interch),n}this.apply_preset=function(e,n,r){switch(n){case t.R3MIX:n=t.V3,e.VBR=ut.vbr_mtrh;break;case t.MEDIUM:n=t.V4,e.VBR=ut.vbr_rh;break;case t.MEDIUM_FAST:n=t.V4,e.VBR=ut.vbr_mtrh;break;case t.STANDARD:n=t.V2,e.VBR=ut.vbr_rh;break;case t.STANDARD_FAST:n=t.V2,e.VBR=ut.vbr_mtrh;break;case t.EXTREME:n=t.V0,e.VBR=ut.vbr_rh;break;case t.EXTREME_FAST:n=t.V0,e.VBR=ut.vbr_mtrh;break;case t.INSANE:return n=320,e.preset=n,c(e,n,r),e.VBR=ut.vbr_off,n}switch(e.preset=n,n){case t.V9:return o(e,9,r),n;case t.V8:return o(e,8,r),n;case t.V7:return o(e,7,r),n;case t.V6:return o(e,6,r),n;case t.V5:return o(e,5,r),n;case t.V4:return o(e,4,r),n;case t.V3:return o(e,3,r),n;case t.V2:return o(e,2,r),n;case t.V1:return o(e,1,r),n;case t.V0:return o(e,0,r),n}return 8<=n&&n<=320?c(e,n,r):(e.preset=0,n)}},Ht=Re,Wt=ot(),Ut=function(){var e,t;this.rv=null,this.qupvt=null;var n,r,i=new wt;function a(e){this.ordinal=e}function o(e){for(var t=0;t<e.sfbmax;t++)if(e.scalefac[t]+e.subblock_gain[e.window[t]]==0)return!1;return!0}function s(e){return vt.FAST_LOG10(.368+.632*e*e*e)}function c(e,t,n,r,i){var a;switch(e){default:case 9:t.over_count>0?(a=n.over_SSD<=t.over_SSD,n.over_SSD==t.over_SSD&&(a=n.bits<t.bits)):a=n.max_noise<0&&10*n.max_noise+n.bits<=10*t.max_noise+t.bits;break;case 0:a=n.over_count<t.over_count||n.over_count==t.over_count&&n.over_noise<t.over_noise||n.over_count==t.over_count&&BitStream.EQ(n.over_noise,t.over_noise)&&n.tot_noise<t.tot_noise;break;case 8:n.max_noise=function(e,t){for(var n=1e-37,r=0;r<t.psymax;r++)n+=s(e[r]);return Math.max(1e-20,n)}(i,r);case 1:a=n.max_noise<t.max_noise;break;case 2:a=n.tot_noise<t.tot_noise;break;case 3:a=n.tot_noise<t.tot_noise&&n.max_noise<t.max_noise;break;case 4:a=n.max_noise<=0&&t.max_noise>.2||n.max_noise<=0&&t.max_noise<0&&t.max_noise>n.max_noise-.2&&n.tot_noise<t.tot_noise||n.max_noise<=0&&t.max_noise>0&&t.max_noise>n.max_noise-.2&&n.tot_noise<t.tot_noise+t.over_noise||n.max_noise>0&&t.max_noise>-.05&&t.max_noise>n.max_noise-.1&&n.tot_noise+n.over_noise<t.tot_noise+t.over_noise||n.max_noise>0&&t.max_noise>-.1&&t.max_noise>n.max_noise-.15&&n.tot_noise+n.over_noise+n.over_noise<t.tot_noise+t.over_noise+t.over_noise;break;case 5:a=n.over_noise<t.over_noise||BitStream.EQ(n.over_noise,t.over_noise)&&n.tot_noise<t.tot_noise;break;case 6:a=n.over_noise<t.over_noise||BitStream.EQ(n.over_noise,t.over_noise)&&(n.max_noise<t.max_noise||BitStream.EQ(n.max_noise,t.max_noise)&&n.tot_noise<=t.tot_noise);break;case 7:a=n.over_count<t.over_count||n.over_noise<t.over_noise}return 0==t.over_count&&(a=a&&n.bits<t.bits),a}function l(e,t,i,a,s){var c=e.internal_flags;!function(e,t,n,r,i){var a,o=e.internal_flags;a=0==t.scalefac_scale?1.2968395546510096:1.6817928305074292;for(var s=0,c=0;c<t.sfbmax;c++)s<n[c]&&(s=n[c]);var l=o.noise_shaping_amp;switch(3==l&&(l=i?2:1),l){case 2:break;case 1:s>1?s=Math.pow(s,.5):s*=.95;break;default:s>1?s=1:s*=.95}var u=0;for(c=0;c<t.sfbmax;c++){var h,d=t.width[c];if(u+=d,!(n[c]<s)){if(2&o.substep_shaping&&(o.pseudohalf[c]=0==o.pseudohalf[c]?1:0,0==o.pseudohalf[c]&&2==o.noise_shaping_amp))return;for(t.scalefac[c]++,h=-d;h<0;h++)r[u+h]*=a,r[u+h]>t.xrpow_max&&(t.xrpow_max=r[u+h]);if(2==o.noise_shaping_amp)return}}}(e,t,i,a,s);var l=o(t);return!(l||(l=2==c.mode_gr?r.scale_bitcount(t):r.scale_bitcount_lsf(c,t))&&(c.noise_shaping>1&&(bt.fill(c.pseudohalf,0),0==t.scalefac_scale?(function(e,t){for(var r=0,i=0;i<e.sfbmax;i++){var a=e.width[i],o=e.scalefac[i];if(0!=e.preflag&&(o+=n.pretab[i]),r+=a,1&o){o++;for(var s=-a;s<0;s++)t[r+s]*=1.2968395546510096,t[r+s]>e.xrpow_max&&(e.xrpow_max=t[r+s])}e.scalefac[i]=o>>1}e.preflag=0,e.scalefac_scale=1}(t,a),l=!1):t.block_type==xt.SHORT_TYPE&&c.subblock_gain>0&&(l=function(e,t,r){var i,a=t.scalefac;for(i=0;i<t.sfb_lmax;i++)if(a[i]>=16)return!0;for(var o=0;o<3;o++){var s=0,c=0;for(i=t.sfb_lmax+o;i<t.sfbdivide;i+=3)s<a[i]&&(s=a[i]);for(;i<t.sfbmax;i+=3)c<a[i]&&(c=a[i]);if(!(s<16&&c<8)){if(t.subblock_gain[o]>=7)return!0;t.subblock_gain[o]++;var l=e.scalefac_band.l[t.sfb_lmax];for(i=t.sfb_lmax+o;i<t.sfbmax;i+=3){var u=t.width[i],h=a[i];if((h-=4>>t.scalefac_scale)>=0)a[i]=h,l+=3*u;else{a[i]=0;var d=210+(h<<t.scalefac_scale+1);p=n.IPOW20(d),l+=u*(o+1);for(var f=-u;f<0;f++)r[l+f]*=p,r[l+f]>t.xrpow_max&&(t.xrpow_max=r[l+f]);l+=u*(3-o-1)}}var p=n.IPOW20(202);for(l+=t.width[i]*(o+1),f=-t.width[i];f<0;f++)r[l+f]*=p,r[l+f]>t.xrpow_max&&(t.xrpow_max=r[l+f])}}return!1}(c,t,a)||o(t))),l||(l=2==c.mode_gr?r.scale_bitcount(t):r.scale_bitcount_lsf(c,t)),l))}this.setModules=function(a,o,s,c){e=a,t=o,this.rv=o,n=s,this.qupvt=s,r=c,i.setModules(n,r)},this.ms_convert=function(e,t){for(var n=0;n<576;++n){var r=e.tt[t][0].xr[n],i=e.tt[t][1].xr[n];e.tt[t][0].xr[n]=(r+i)*(.5*vt.SQRT2),e.tt[t][1].xr[n]=(r-i)*(.5*vt.SQRT2)}},this.init_xrpow=function(e,t,n){var r=0,i=0|t.max_nonzero_coeff;if(t.xrpow_max=0,bt.fill(n,i,576,0),r=function(e,t,n,r){r=0;for(var i=0;i<=n;++i){var a=Math.abs(e.xr[i]);r+=a,t[i]=Math.sqrt(a*Math.sqrt(a)),t[i]>e.xrpow_max&&(e.xrpow_max=t[i])}return r}(t,n,i,r),r>1e-20){var a=0;2&e.substep_shaping&&(a=1);for(var o=0;o<t.psymax;o++)e.pseudohalf[o]=a;return!0}return bt.fill(t.l3_enc,0,576,0),!1},this.init_outer_loop=function(e,t){t.part2_3_length=0,t.big_values=0,t.count1=0,t.global_gain=210,t.scalefac_compress=0,t.table_select[0]=0,t.table_select[1]=0,t.table_select[2]=0,t.subblock_gain[0]=0,t.subblock_gain[1]=0,t.subblock_gain[2]=0,t.subblock_gain[3]=0,t.region0_count=0,t.region1_count=0,t.preflag=0,t.scalefac_scale=0,t.count1table_select=0,t.part2_length=0,t.sfb_lmax=xt.SBPSY_l,t.sfb_smin=xt.SBPSY_s,t.psy_lmax=e.sfb21_extra?xt.SBMAX_l:xt.SBPSY_l,t.psymax=t.psy_lmax,t.sfbmax=t.sfb_lmax,t.sfbdivide=11;for(var r=0;r<xt.SBMAX_l;r++)t.width[r]=e.scalefac_band.l[r+1]-e.scalefac_band.l[r],t.window[r]=3;if(t.block_type==xt.SHORT_TYPE){var i=_t(576);t.sfb_smin=0,t.sfb_lmax=0,0!=t.mixed_block_flag&&(t.sfb_smin=3,t.sfb_lmax=2*e.mode_gr+4),t.psymax=t.sfb_lmax+3*((e.sfb21_extra?xt.SBMAX_s:xt.SBPSY_s)-t.sfb_smin),t.sfbmax=t.sfb_lmax+3*(xt.SBPSY_s-t.sfb_smin),t.sfbdivide=t.sfbmax-18,t.psy_lmax=t.sfb_lmax;var a=e.scalefac_band.l[t.sfb_lmax];for(mt.arraycopy(t.xr,0,i,0,576),r=t.sfb_smin;r<xt.SBMAX_s;r++)for(var o=e.scalefac_band.s[r],s=e.scalefac_band.s[r+1],c=0;c<3;c++)for(var l=o;l<s;l++)t.xr[a++]=i[3*l+c];var u=t.sfb_lmax;for(r=t.sfb_smin;r<xt.SBMAX_s;r++)t.width[u]=t.width[u+1]=t.width[u+2]=e.scalefac_band.s[r+1]-e.scalefac_band.s[r],t.window[u]=0,t.window[u+1]=1,t.window[u+2]=2,u+=3}t.count1bits=0,t.sfb_partition_table=n.nr_of_sfb_block[0][0],t.slen[0]=0,t.slen[1]=0,t.slen[2]=0,t.slen[3]=0,t.max_nonzero_coeff=575,bt.fill(t.scalefac,0),function(e,t){var r=e.ATH,i=t.xr;if(t.block_type!=xt.SHORT_TYPE)for(var a=!1,o=xt.PSFB21-1;o>=0&&!a;o--){var s=e.scalefac_band.psfb21[o],c=e.scalefac_band.psfb21[o+1],l=n.athAdjust(r.adjust,r.psfb21[o],r.floor);e.nsPsy.longfact[21]>1e-12&&(l*=e.nsPsy.longfact[21]);for(var u=c-1;u>=s;u--){if(!(Math.abs(i[u])<l)){a=!0;break}i[u]=0}}else for(var h=0;h<3;h++)for(a=!1,o=xt.PSFB12-1;o>=0&&!a;o--){c=(s=3*e.scalefac_band.s[12]+(e.scalefac_band.s[13]-e.scalefac_band.s[12])*h+(e.scalefac_band.psfb12[o]-e.scalefac_band.psfb12[0]))+(e.scalefac_band.psfb12[o+1]-e.scalefac_band.psfb12[o]);var d=n.athAdjust(r.adjust,r.psfb12[o],r.floor);for(e.nsPsy.shortfact[12]>1e-12&&(d*=e.nsPsy.shortfact[12]),u=c-1;u>=s;u--){if(!(Math.abs(i[u])<d)){a=!0;break}i[u]=0}}}(e,t)},a.BINSEARCH_NONE=new a(0),a.BINSEARCH_UP=new a(1),a.BINSEARCH_DOWN=new a(2),this.trancate_smallspectrums=function(e,t,i,a){var o=_t(Et.SFBMAX);if((4&e.substep_shaping||t.block_type!=xt.SHORT_TYPE)&&!(128&e.substep_shaping)){n.calc_noise(t,i,o,new St,null);for(var s=0;s<576;s++){var c=0;0!=t.l3_enc[s]&&(c=Math.abs(t.xr[s])),a[s]=c}s=0;var l=8;t.block_type==xt.SHORT_TYPE&&(l=6);do{var u,h,d,f,p=t.width[l];if(s+=p,!(o[l]>=1||(bt.sort(a,s-p,p),BitStream.EQ(a[s-1],0)))){u=(1-o[l])*i[l],h=0,f=0;do{var m;for(d=1;f+d<p&&!BitStream.NEQ(a[f+s-p],a[f+s+d-p]);d++);if(u<(m=a[f+s-p]*a[f+s-p]*d)){0!=f&&(h=a[f+s-p-1]);break}u-=m,f+=d}while(f<p);if(!BitStream.EQ(h,0))do{Math.abs(t.xr[s-p])<=h&&(t.l3_enc[s-p]=0)}while(--p>0)}}while(++l<t.psymax);t.part2_3_length=r.noquant_count_bits(e,t,null)}},this.outer_loop=function(e,t,i,o,s,u){var h=e.internal_flags,d=new Mt,f=_t(576),p=_t(Et.SFBMAX),m=new St,g=new kt,v=9999999,b=!1,_=!1,y=0;if(function(e,t,n,i,o){var s,c=e.CurrentStep[i],l=!1,u=e.OldValue[i],h=a.BINSEARCH_NONE;for(t.global_gain=u,n-=t.part2_length;;){var d;if(s=r.count_bits(e,o,t,null),1==c||s==n)break;s>n?(h==a.BINSEARCH_DOWN&&(l=!0),l&&(c/=2),h=a.BINSEARCH_UP,d=c):(h==a.BINSEARCH_UP&&(l=!0),l&&(c/=2),h=a.BINSEARCH_DOWN,d=-c),t.global_gain+=d,t.global_gain<0&&(t.global_gain=0,l=!0),t.global_gain>255&&(t.global_gain=255,l=!0)}for(yt(t.global_gain>=0),yt(t.global_gain<256);s>n&&t.global_gain<255;)t.global_gain++,s=r.count_bits(e,o,t,null);e.CurrentStep[i]=u-t.global_gain>=4?4:2,e.OldValue[i]=t.global_gain,t.part2_3_length=s}(h,t,u,s,o),0==h.noise_shaping)return 100;n.calc_noise(t,i,p,m,g),m.bits=t.part2_3_length,d.assign(t);var w=0;for(mt.arraycopy(o,0,f,0,576);!b;){do{var S,k=new St,x=255;if(S=2&h.substep_shaping?20:3,h.sfb21_extra&&(p[d.sfbmax]>1||d.block_type==xt.SHORT_TYPE&&(p[d.sfbmax+1]>1||p[d.sfbmax+2]>1))||!l(e,d,p,o,_))break;0!=d.scalefac_scale&&(x=254);var M=u-d.part2_length;if(M<=0)break;for(;(d.part2_3_length=r.count_bits(h,o,d,g))>M&&d.global_gain<=x;)d.global_gain++;if(d.global_gain>x)break;if(0==m.over_count){for(;(d.part2_3_length=r.count_bits(h,o,d,g))>v&&d.global_gain<=x;)d.global_gain++;if(d.global_gain>x)break}if(n.calc_noise(d,i,p,k,g),k.bits=d.part2_3_length,0!=(c(t.block_type!=xt.SHORT_TYPE?e.quant_comp:e.quant_comp_short,m,k,d,p)?1:0))v=t.part2_3_length,m=k,t.assign(d),w=0,mt.arraycopy(o,0,f,0,576);else if(0==h.full_outer_loop&&(++w>S&&0==m.over_count||3==h.noise_shaping_amp&&_&&w>30||3==h.noise_shaping_amp&&_&&d.global_gain-y>15))break}while(d.global_gain+d.scalefac_scale<255);3==h.noise_shaping_amp?_?b=!0:(d.assign(t),mt.arraycopy(f,0,o,0,576),w=0,y=d.global_gain,_=!0):b=!0}return yt(t.global_gain+t.scalefac_scale<=255),e.VBR==gt.vbr_rh||e.VBR==gt.vbr_mtrh?mt.arraycopy(f,0,o,0,576):1&h.substep_shaping&&trancate_smallspectrums(h,t,i,o),m.over_count},this.iteration_finish_one=function(e,n,i){var a=e.l3_side,o=a.tt[n][i];r.best_scalefac_store(e,n,i,a),1==e.use_best_huffman&&r.best_huffman_divide(e,o),t.ResvAdjust(e,o)},this.VBR_encode_granule=function(e,t,n,r,i,a,o){var s,c=e.internal_flags,l=new Mt,u=_t(576),h=o,d=o+1,f=(o+a)/2,p=0,m=c.sfb21_extra;yt(h<=LameInternalFlags.MAX_BITS_PER_CHANNEL),bt.fill(l.l3_enc,0);do{c.sfb21_extra=!(f>h-42)&&m,outer_loop(e,t,n,r,i,f)<=0?(p=1,d=t.part2_3_length,l.assign(t),mt.arraycopy(r,0,u,0,576),s=(o=d-32)-a,f=(o+a)/2):(s=o-(a=f+32),f=(o+a)/2,0!=p&&(p=2,t.assign(l),mt.arraycopy(u,0,r,0,576)))}while(s>12);c.sfb21_extra=m,2==p&&mt.arraycopy(l.l3_enc,0,t.l3_enc,0,576),yt(t.part2_3_length<=h)},this.get_framebits=function(n,r){var i=n.internal_flags;i.bitrate_index=i.VBR_min_bitrate;var a=e.getframebits(n);i.bitrate_index=1,a=e.getframebits(n);for(var o=1;o<=i.VBR_max_bitrate;o++){i.bitrate_index=o;var s=new MeanBits(a);r[o]=t.ResvFrameBegin(n,s),a=s.bits}},this.VBR_old_prepare=function(e,r,i,a,o,s,c,l,u){var h,d=e.internal_flags,f=0,p=1,m=0;d.bitrate_index=d.VBR_max_bitrate;var g=t.ResvFrameBegin(e,new MeanBits(0))/d.mode_gr;get_framebits(e,s);for(var v=0;v<d.mode_gr;v++){var b=n.on_pe(e,r,l[v],g,v,0);d.mode_ext==xt.MPG_MD_MS_LR&&(ms_convert(d.l3_side,v),n.reduce_side(l[v],i[v],g,b));for(var _=0;_<d.channels_out;++_){var y=d.l3_side.tt[v][_];y.block_type!=xt.SHORT_TYPE?(f=1.28/(1+Math.exp(3.5-r[v][_]/300))-.05,h=d.PSY.mask_adjust-f):(f=2.56/(1+Math.exp(3.5-r[v][_]/300))-.14,h=d.PSY.mask_adjust_short-f),d.masking_lower=Math.pow(10,.1*h),init_outer_loop(d,y),u[v][_]=n.calc_xmin(e,a[v][_],y,o[v][_]),0!=u[v][_]&&(p=0),c[v][_]=126,m+=l[v][_]}}for(v=0;v<d.mode_gr;v++)for(_=0;_<d.channels_out;_++)m>s[d.VBR_max_bitrate]&&(l[v][_]*=s[d.VBR_max_bitrate],l[v][_]/=m),c[v][_]>l[v][_]&&(c[v][_]=l[v][_]);return p},this.bitpressure_strategy=function(e,t,n,r){for(var i=0;i<e.mode_gr;i++)for(var a=0;a<e.channels_out;a++){for(var o=e.l3_side.tt[i][a],s=t[i][a],c=0,l=0;l<o.psy_lmax;l++)s[c++]*=1+.029*l*l/xt.SBMAX_l/xt.SBMAX_l;if(o.block_type==xt.SHORT_TYPE)for(l=o.sfb_smin;l<xt.SBMAX_s;l++)s[c++]*=1+.029*l*l/xt.SBMAX_s/xt.SBMAX_s,s[c++]*=1+.029*l*l/xt.SBMAX_s/xt.SBMAX_s,s[c++]*=1+.029*l*l/xt.SBMAX_s/xt.SBMAX_s;r[i][a]=0|Math.max(n[i][a],.9*r[i][a])}},this.VBR_new_prepare=function(e,r,i,a,o,s){var c,l=e.internal_flags,u=1,h=0,d=0;if(e.free_format){l.bitrate_index=0;var f=new MeanBits(h);c=t.ResvFrameBegin(e,f),h=f.bits,o[0]=c}else l.bitrate_index=l.VBR_max_bitrate,f=new MeanBits(h),t.ResvFrameBegin(e,f),h=f.bits,get_framebits(e,o),c=o[l.VBR_max_bitrate];for(var p=0;p<l.mode_gr;p++){n.on_pe(e,r,s[p],h,p,0),l.mode_ext==xt.MPG_MD_MS_LR&&ms_convert(l.l3_side,p);for(var m=0;m<l.channels_out;++m){var g=l.l3_side.tt[p][m];l.masking_lower=Math.pow(10,.1*l.PSY.mask_adjust),init_outer_loop(l,g),0!=n.calc_xmin(e,i[p][m],g,a[p][m])&&(u=0),d+=s[p][m]}}for(p=0;p<l.mode_gr;p++)for(m=0;m<l.channels_out;m++)d>c&&(s[p][m]*=c,s[p][m]/=d);return u},this.calc_target_bits=function(r,i,a,o,s,c){var l,u,h,d,f=r.internal_flags,p=f.l3_side,m=0;f.bitrate_index=f.VBR_max_bitrate;var g=new MeanBits(m);for(c[0]=t.ResvFrameBegin(r,g),m=g.bits,f.bitrate_index=1,m=e.getframebits(r)-8*f.sideinfo_len,s[0]=m/(f.mode_gr*f.channels_out),m=r.VBR_mean_bitrate_kbps*r.framesize*1e3,1&f.substep_shaping&&(m*=1.09),m/=r.out_samplerate,m-=8*f.sideinfo_len,m/=f.mode_gr*f.channels_out,(l=.93+.07*(11-r.compression_ratio)/5.5)<.9&&(l=.9),l>1&&(l=1),u=0;u<f.mode_gr;u++){var v=0;for(h=0;h<f.channels_out;h++){if(o[u][h]=int(l*m),i[u][h]>700){var b=int((i[u][h]-700)/1.4),_=p.tt[u][h];o[u][h]=int(l*m),_.block_type==xt.SHORT_TYPE&&b<m/2&&(b=m/2),b>3*m/2?b=3*m/2:b<0&&(b=0),o[u][h]+=b}o[u][h]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(o[u][h]=LameInternalFlags.MAX_BITS_PER_CHANNEL),v+=o[u][h]}if(v>LameInternalFlags.MAX_BITS_PER_GRANULE)for(h=0;h<f.channels_out;++h)o[u][h]*=LameInternalFlags.MAX_BITS_PER_GRANULE,o[u][h]/=v}if(f.mode_ext==xt.MPG_MD_MS_LR)for(u=0;u<f.mode_gr;u++)n.reduce_side(o[u],a[u],m*f.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(d=0,u=0;u<f.mode_gr;u++)for(h=0;h<f.channels_out;h++)o[u][h]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(o[u][h]=LameInternalFlags.MAX_BITS_PER_CHANNEL),d+=o[u][h];if(d>c[0])for(u=0;u<f.mode_gr;u++)for(h=0;h<f.channels_out;h++)o[u][h]*=c[0],o[u][h]/=d}},Gt=st(),qt=function(){var e;this.setModules=function(t){e=t},this.ResvFrameBegin=function(t,n){var r,i=t.internal_flags,a=i.l3_side,o=e.getframebits(t);n.bits=(o-8*i.sideinfo_len)/i.mode_gr;var s=2048*i.mode_gr-8;t.brate>320?r=8*int(1e3*t.brate/(t.out_samplerate/1152)/8+.5):(r=11520,t.strict_ISO&&(r=8*int(32e4/(t.out_samplerate/1152)/8+.5))),i.ResvMax=r-o,i.ResvMax>s&&(i.ResvMax=s),(i.ResvMax<0||t.disable_reservoir)&&(i.ResvMax=0);var c=n.bits*i.mode_gr+Math.min(i.ResvSize,i.ResvMax);return c>r&&(c=r),Tt(i.ResvMax%8==0),Tt(i.ResvMax>=0),a.resvDrain_pre=0,null!=i.pinfo&&(i.pinfo.mean_bits=n.bits/2,i.pinfo.resvsize=i.ResvSize),c},this.ResvMaxBits=function(e,t,n,r){var i,a=e.internal_flags,o=a.ResvSize,s=a.ResvMax;0!=r&&(o+=t),1&a.substep_shaping&&(s*=.9),n.bits=t,10*o>9*s?(i=o-9*s/10,n.bits+=i,a.substep_shaping|=128):(i=0,a.substep_shaping&=127,!e.disable_reservoir&&!(1&a.substep_shaping)&&(n.bits-=.1*t));var c=o<6*a.ResvMax/10?o:6*a.ResvMax/10;return(c-=i)<0&&(c=0),c},this.ResvAdjust=function(e,t){e.ResvSize-=t.part2_3_length+t.part2_length},this.ResvFrameEnd=function(e,t){var n,r=e.l3_side;e.ResvSize+=t*e.mode_gr;var i=0;r.resvDrain_post=0,r.resvDrain_pre=0,0!=(n=e.ResvSize%8)&&(i+=n),(n=e.ResvSize-i-e.ResvMax)>0&&(i+=n);var a=Math.min(8*r.main_data_begin,i)/8;r.resvDrain_pre+=8*a,i-=8*a,e.ResvSize-=8*a,r.main_data_begin-=a,r.resvDrain_post+=i,e.ResvSize-=i}},Yt=k,Xt=ct();x();var Kt=function(){this.getLameVersion=function(){return"3.98.4"},this.getLameShortVersion=function(){return"3.98.4"},this.getLameVeryShortVersion=function(){return"LAME3.98r"},this.getPsyVersion=function(){return"0.93"},this.getLameUrl=function(){return"http://www.mp3dev.org/"},this.getLameOsBitness=function(){return"32bits"}},$t=Lt;function Zt(){this.setModules=function(e,t){}}function Jt(){this.setModules=function(e,t,n){}}function Qt(){}function en(){this.setModules=function(e,t){}}function tn(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function nn(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}tn.RIFF=nn("RIFF"),tn.WAVE=nn("WAVE"),tn.fmt_=nn("fmt "),tn.data=nn("data"),tn.readHeader=function(e){var t=new tn,n=e.getUint32(0,!1);if(tn.RIFF==n&&(e.getUint32(4,!0),tn.WAVE==e.getUint32(8,!1)&&tn.fmt_==e.getUint32(12,!1))){var r=e.getUint32(16,!0),i=20;switch(r){case 16:case 18:t.channels=e.getUint16(i+2,!0),t.sampleRate=e.getUint32(i+4,!0);break;default:throw"extended fmt chunk not implemented"}i+=r;for(var a=tn.data,o=0;a!=n&&(n=e.getUint32(i,!1),o=e.getUint32(i+4,!0),a!=n);)i+=o+8;return t.dataLen=o,t.dataOffset=i+8,t}};var rn=r.Mp3Encoder=function(e,t,n){3!=arguments.length&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),e=1,t=44100,n=128);var r=new Ft,i=new Zt,a=new Ht,o=new Xt,s=new Vt,c=new Wt,l=new Ut,u=new $t,h=new Kt,d=new en,f=new qt,p=new Gt,m=new Jt,g=new Qt;r.setModules(a,o,s,c,l,u,h,d,g),o.setModules(a,g,h,u),d.setModules(o,h),s.setModules(r),l.setModules(o,f,c,p),c.setModules(p,f,r.enc.psy),f.setModules(o),p.setModules(c),u.setModules(r,o,h),i.setModules(m,g),m.setModules(h,d,s);var v=r.lame_init();v.num_channels=e,v.in_samplerate=t,v.brate=n,v.mode=Yt.STEREO,v.quality=3,v.bWriteVbrTag=!1,v.disable_reservoir=!0,v.write_id3tag_automatic=!1,r.lame_init_params(v);var b=1152,_=0|1.25*b+7200,y=jt(_);this.encodeBuffer=function(t,n){1==e&&(n=t),zt(t.length==n.length),t.length>b&&(b=t.length,y=jt(_=0|1.25*b+7200));var i=r.lame_encode_buffer(v,t,n,t.length,y,0,_);return new Int8Array(y.subarray(0,i))},this.flush=function(){var e=r.lame_encode_flush(v,y,0,_);return new Int8Array(y.subarray(0,e))}};r.WavHeader=tn},81419:(e,t,n)=>{"use strict";function r(e,[t,n]){return Math.min(n,Math.max(t,e))}n.d(t,{q:()=>r})},61209:(e,t,n)=>{"use strict";n.d(t,{C1:()=>k,bL:()=>S});var r=n(68102),i=n(63696),a=n(44853),o=n(98303),s=n(18707),c=n(42545),l=n(86811),u=n(99679),h=n(82541),d=n(29409);const f="Checkbox",[p,m]=(0,o.A)(f),[g,v]=p(f),b=(0,i.forwardRef)(((e,t)=>{const{__scopeCheckbox:n,name:o,checked:l,defaultChecked:u,required:h,disabled:f,value:p="on",onCheckedChange:m,...v}=e,[b,S]=(0,i.useState)(null),k=(0,a.s)(t,(e=>S(e))),x=(0,i.useRef)(!1),M=!b||Boolean(b.closest("form")),[E=!1,T]=(0,c.i)({prop:l,defaultProp:u,onChange:m}),C=(0,i.useRef)(E);return(0,i.useEffect)((()=>{const e=null==b?void 0:b.form;if(e){const t=()=>T(C.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}}),[b,T]),(0,i.createElement)(g,{scope:n,state:E,disabled:f},(0,i.createElement)(d.sG.button,(0,r.A)({type:"button",role:"checkbox","aria-checked":y(E)?"mixed":E,"aria-required":h,"data-state":w(E),"data-disabled":f?"":void 0,disabled:f,value:p},v,{ref:k,onKeyDown:(0,s.m)(e.onKeyDown,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:(0,s.m)(e.onClick,(e=>{T((e=>!!y(e)||!e)),M&&(x.current=e.isPropagationStopped(),x.current||e.stopPropagation())}))})),M&&(0,i.createElement)(_,{control:b,bubbles:!x.current,name:o,value:p,checked:E,required:h,disabled:f,style:{transform:"translateX(-100%)"}}))})),_=e=>{const{control:t,checked:n,bubbles:a=!0,...o}=e,s=(0,i.useRef)(null),c=(0,l.Z)(n),h=(0,u.X)(t);return(0,i.useEffect)((()=>{const e=s.current,t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(c!==n&&r){const t=new Event("click",{bubbles:a});e.indeterminate=y(n),r.call(e,!y(n)&&n),e.dispatchEvent(t)}}),[c,n,a]),(0,i.createElement)("input",(0,r.A)({type:"checkbox","aria-hidden":!0,defaultChecked:!y(n)&&n},o,{tabIndex:-1,ref:s,style:{...e.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function y(e){return"indeterminate"===e}function w(e){return y(e)?"indeterminate":e?"checked":"unchecked"}const S=b,k=(0,i.forwardRef)(((e,t)=>{const{__scopeCheckbox:n,forceMount:a,...o}=e,s=v("CheckboxIndicator",n);return(0,i.createElement)(h.C,{present:a||y(s.state)||!0===s.state},(0,i.createElement)(d.sG.span,(0,r.A)({"data-state":w(s.state),"data-disabled":s.disabled?"":void 0},o,{ref:t,style:{pointerEvents:"none",...e.style}})))}))},13600:(e,t,n)=>{"use strict";n.d(t,{L3:()=>L,UC:()=>W,ZL:()=>V,bL:()=>F,hJ:()=>H});var r=n(68102),i=n(63696),a=n(18707),o=n(44853),s=n(98303),c=n(57573),l=n(42545),u=n(3844),h=n(58597),d=n(22538),f=n(82541),p=n(29409),m=n(50181),g=n(12202),v=n(36077),b=n(28780);const _="Dialog",[y,w]=(0,s.A)(_),[S,k]=y(_),x="DialogPortal",[M,E]=y(x,{forceMount:void 0}),T="DialogOverlay",C=(0,i.forwardRef)(((e,t)=>{const n=E(T,e.__scopeDialog),{forceMount:a=n.forceMount,...o}=e,s=k(T,e.__scopeDialog);return s.modal?(0,i.createElement)(f.C,{present:a||s.open},(0,i.createElement)(A,(0,r.A)({},o,{ref:t}))):null})),A=(0,i.forwardRef)(((e,t)=>{const{__scopeDialog:n,...a}=e,o=k(T,n);return(0,i.createElement)(g.A,{as:b.DX,allowPinchZoom:!0,shards:[o.contentRef]},(0,i.createElement)(p.sG.div,(0,r.A)({"data-state":D(o.open)},a,{ref:t,style:{pointerEvents:"auto",...a.style}})))})),O="DialogContent",P=(0,i.forwardRef)(((e,t)=>{const n=E(O,e.__scopeDialog),{forceMount:a=n.forceMount,...o}=e,s=k(O,e.__scopeDialog);return(0,i.createElement)(f.C,{present:a||s.open},s.modal?(0,i.createElement)(I,(0,r.A)({},o,{ref:t})):(0,i.createElement)(R,(0,r.A)({},o,{ref:t})))})),I=(0,i.forwardRef)(((e,t)=>{const n=k(O,e.__scopeDialog),s=(0,i.useRef)(null),c=(0,o.s)(t,n.contentRef,s);return(0,i.useEffect)((()=>{const e=s.current;if(e)return(0,v.Eq)(e)}),[]),(0,i.createElement)(B,(0,r.A)({},e,{ref:c,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.m)(e.onCloseAutoFocus,(e=>{var t;e.preventDefault(),null===(t=n.triggerRef.current)||void 0===t||t.focus()})),onPointerDownOutside:(0,a.m)(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()})),onFocusOutside:(0,a.m)(e.onFocusOutside,(e=>e.preventDefault()))}))})),R=(0,i.forwardRef)(((e,t)=>{const n=k(O,e.__scopeDialog),a=(0,i.useRef)(!1),o=(0,i.useRef)(!1);return(0,i.createElement)(B,(0,r.A)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var r,i;null===(r=e.onCloseAutoFocus)||void 0===r||r.call(e,t),t.defaultPrevented||(a.current||null===(i=n.triggerRef.current)||void 0===i||i.focus(),t.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:t=>{var r,i;null===(r=e.onInteractOutside)||void 0===r||r.call(e,t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(o.current=!0));const s=t.target;(null===(i=n.triggerRef.current)||void 0===i?void 0:i.contains(s))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}}))})),B=(0,i.forwardRef)(((e,t)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:c,...l}=e,d=k(O,n),f=(0,i.useRef)(null),p=(0,o.s)(t,f);return(0,m.Oh)(),(0,i.createElement)(i.Fragment,null,(0,i.createElement)(h.n,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:c},(0,i.createElement)(u.qW,(0,r.A)({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":D(d.open)},l,{ref:p,onDismiss:()=>d.onOpenChange(!1)}))),!1)})),N="DialogTitle",L=(0,i.forwardRef)(((e,t)=>{const{__scopeDialog:n,...a}=e,o=k(N,n);return(0,i.createElement)(p.sG.h2,(0,r.A)({id:o.titleId},a,{ref:t}))}));function D(e){return e?"open":"closed"}const[j,z]=(0,s.q)("DialogTitleWarning",{contentName:O,titleName:N,docsSlug:"dialog"}),F=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:s=!0}=e,u=(0,i.useRef)(null),h=(0,i.useRef)(null),[d=!1,f]=(0,l.i)({prop:r,defaultProp:a,onChange:o});return(0,i.createElement)(S,{scope:t,triggerRef:u,contentRef:h,contentId:(0,c.B)(),titleId:(0,c.B)(),descriptionId:(0,c.B)(),open:d,onOpenChange:f,onOpenToggle:(0,i.useCallback)((()=>f((e=>!e))),[f]),modal:s},n)},V=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,o=k(x,t);return(0,i.createElement)(M,{scope:t,forceMount:n},i.Children.map(r,(e=>(0,i.createElement)(f.C,{present:n||o.open},(0,i.createElement)(d.Z,{asChild:!0,container:a},e)))))},H=C,W=P},4955:(e,t,n)=>{"use strict";n.d(t,{G5:()=>x,Pb:()=>S,UC:()=>w,ZL:()=>y,ZP:()=>k,bL:()=>b,l9:()=>_});var r=n(68102),i=n(63696),a=n(18707),o=n(44853),s=n(98303),c=n(42545),l=n(29409),u=n(43867),h=n(57573);const d="DropdownMenu",[f,p]=(0,s.A)(d,[u.UE]),m=(0,u.UE)(),[g,v]=f(d),b=e=>{const{__scopeDropdownMenu:t,children:n,dir:a,open:o,defaultOpen:s,onOpenChange:l,modal:d=!0}=e,f=m(t),p=(0,i.useRef)(null),[v=!1,b]=(0,c.i)({prop:o,defaultProp:s,onChange:l});return(0,i.createElement)(g,{scope:t,triggerId:(0,h.B)(),triggerRef:p,contentId:(0,h.B)(),open:v,onOpenChange:b,onOpenToggle:(0,i.useCallback)((()=>b((e=>!e))),[b]),modal:d},(0,i.createElement)(u.bL,(0,r.A)({},f,{open:v,onOpenChange:b,dir:a,modal:d}),n))},_=(0,i.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...c}=e,h=v("DropdownMenuTrigger",n),d=m(n);return(0,i.createElement)(u.Mz,(0,r.A)({asChild:!0},d),(0,i.createElement)(l.sG.button,(0,r.A)({type:"button",id:h.triggerId,"aria-haspopup":"menu","aria-expanded":h.open,"aria-controls":h.open?h.contentId:void 0,"data-state":h.open?"open":"closed","data-disabled":s?"":void 0,disabled:s},c,{ref:(0,o.t)(t,h.triggerRef),onPointerDown:(0,a.m)(e.onPointerDown,(e=>{s||0!==e.button||!1!==e.ctrlKey||(h.onOpenToggle(),h.open||e.preventDefault())})),onKeyDown:(0,a.m)(e.onKeyDown,(e=>{s||(["Enter"," "].includes(e.key)&&h.onOpenToggle(),"ArrowDown"===e.key&&h.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())}))})))})),y=e=>{const{__scopeDropdownMenu:t,...n}=e,a=m(t);return(0,i.createElement)(u.ZL,(0,r.A)({},a,n))},w=(0,i.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,s=v("DropdownMenuContent",n),c=m(n),l=(0,i.useRef)(!1);return(0,i.createElement)(u.UC,(0,r.A)({id:s.contentId,"aria-labelledby":s.triggerId},c,o,{ref:t,onCloseAutoFocus:(0,a.m)(e.onCloseAutoFocus,(e=>{var t;l.current||null===(t=s.triggerRef.current)||void 0===t||t.focus(),l.current=!1,e.preventDefault()})),onInteractOutside:(0,a.m)(e.onInteractOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;s.modal&&!r||(l.current=!0)})),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))})),S=e=>{const{__scopeDropdownMenu:t,children:n,open:a,onOpenChange:o,defaultOpen:s}=e,l=m(t),[h=!1,d]=(0,c.i)({prop:a,defaultProp:s,onChange:o});return(0,i.createElement)(u.Pb,(0,r.A)({},l,{open:h,onOpenChange:d}),n)},k=(0,i.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,o=m(n);return(0,i.createElement)(u.ZP,(0,r.A)({},o,a,{ref:t}))})),x=(0,i.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,o=m(n);return(0,i.createElement)(u.G5,(0,r.A)({},o,a,{ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}))},43867:(e,t,n)=>{"use strict";n.d(t,{G5:()=>De,H_:()=>Ae,JU:()=>Te,Mz:()=>ke,Pb:()=>Ne,UC:()=>Me,UE:()=>R,VF:()=>Ie,YJ:()=>Ee,ZL:()=>xe,ZP:()=>Le,bL:()=>Se,hN:()=>Pe,i3:()=>Be,q7:()=>Ce,wv:()=>Re,z6:()=>Oe});var r=n(68102),i=n(63696),a=n(18707),o=n(16604),s=n(44853),c=n(98303),l=n(82937),u=n(3844),h=n(50181),d=n(58597),f=n(57573),p=n(98258),m=n(22538),g=n(82541),v=n(29409),b=n(81012),_=n(28780),y=n(64557),w=n(36077),S=n(12202);const k=["Enter"," "],x=["ArrowUp","PageDown","End"],M=["ArrowDown","PageUp","Home",...x],E={ltr:[...k,"ArrowRight"],rtl:[...k,"ArrowLeft"]},T={ltr:["ArrowLeft"],rtl:["ArrowRight"]},C="Menu",[A,O,P]=(0,o.N)(C),[I,R]=(0,c.A)(C,[P,p.Bk,b.RG]),B=(0,p.Bk)(),N=(0,b.RG)(),[L,D]=I(C),[j,z]=I(C),F=(0,i.forwardRef)(((e,t)=>{const{__scopeMenu:n,...a}=e,o=B(n);return(0,i.createElement)(p.Mz,(0,r.A)({},o,a,{ref:t}))})),V="MenuPortal",[H,W]=I(V,{forceMount:void 0}),U="MenuContent",[G,q]=I(U),Y=(0,i.forwardRef)(((e,t)=>{const n=W(U,e.__scopeMenu),{forceMount:a=n.forceMount,...o}=e,s=D(U,e.__scopeMenu),c=z(U,e.__scopeMenu);return(0,i.createElement)(A.Provider,{scope:e.__scopeMenu},(0,i.createElement)(g.C,{present:a||s.open},(0,i.createElement)(A.Slot,{scope:e.__scopeMenu},c.modal?(0,i.createElement)(X,(0,r.A)({},o,{ref:t})):(0,i.createElement)(K,(0,r.A)({},o,{ref:t})))))})),X=(0,i.forwardRef)(((e,t)=>{const n=D(U,e.__scopeMenu),o=(0,i.useRef)(null),c=(0,s.s)(t,o);return(0,i.useEffect)((()=>{const e=o.current;if(e)return(0,w.Eq)(e)}),[]),(0,i.createElement)($,(0,r.A)({},e,{ref:c,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:(0,a.m)(e.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))})),K=(0,i.forwardRef)(((e,t)=>{const n=D(U,e.__scopeMenu);return(0,i.createElement)($,(0,r.A)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))})),$=(0,i.forwardRef)(((e,t)=>{const{__scopeMenu:n,loop:o=!1,trapFocus:c,onOpenAutoFocus:l,onCloseAutoFocus:f,disableOutsidePointerEvents:m,onEntryFocus:g,onEscapeKeyDown:v,onPointerDownOutside:y,onFocusOutside:w,onInteractOutside:k,onDismiss:E,disableOutsideScroll:T,...C}=e,A=D(U,n),P=z(U,n),I=B(n),R=N(n),L=O(n),[j,F]=(0,i.useState)(null),V=(0,i.useRef)(null),H=(0,s.s)(t,V,A.onContentChange),W=(0,i.useRef)(0),q=(0,i.useRef)(""),Y=(0,i.useRef)(0),X=(0,i.useRef)(null),K=(0,i.useRef)("right"),$=(0,i.useRef)(0),Z=T?S.A:i.Fragment,J=T?{as:_.DX,allowPinchZoom:!0}:void 0;(0,i.useEffect)((()=>()=>window.clearTimeout(W.current)),[]),(0,h.Oh)();const Q=(0,i.useCallback)((e=>{var t,n;return K.current===(null===(t=X.current)||void 0===t?void 0:t.side)&&function(e,t){if(!t)return!1;return function(e,t){const{x:n,y:r}=e;let i=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){const o=t[e].x,s=t[e].y,c=t[a].x,l=t[a].y;s>r!=l>r&&n<(c-o)*(r-s)/(l-s)+o&&(i=!i)}return i}({x:e.clientX,y:e.clientY},t)}(e,null===(n=X.current)||void 0===n?void 0:n.area)}),[]);return(0,i.createElement)(G,{scope:n,searchRef:q,onItemEnter:(0,i.useCallback)((e=>{Q(e)&&e.preventDefault()}),[Q]),onItemLeave:(0,i.useCallback)((e=>{var t;Q(e)||(null===(t=V.current)||void 0===t||t.focus(),F(null))}),[Q]),onTriggerLeave:(0,i.useCallback)((e=>{Q(e)&&e.preventDefault()}),[Q]),pointerGraceTimerRef:Y,onPointerGraceIntentChange:(0,i.useCallback)((e=>{X.current=e}),[])},(0,i.createElement)(Z,J,(0,i.createElement)(d.n,{asChild:!0,trapped:c,onMountAutoFocus:(0,a.m)(l,(e=>{var t;e.preventDefault(),null===(t=V.current)||void 0===t||t.focus()})),onUnmountAutoFocus:f},(0,i.createElement)(u.qW,{asChild:!0,disableOutsidePointerEvents:m,onEscapeKeyDown:v,onPointerDownOutside:y,onFocusOutside:w,onInteractOutside:k,onDismiss:E},(0,i.createElement)(b.bL,(0,r.A)({asChild:!0},R,{dir:P.dir,orientation:"vertical",loop:o,currentTabStopId:j,onCurrentTabStopIdChange:F,onEntryFocus:(0,a.m)(g,(e=>{P.isUsingKeyboardRef.current||e.preventDefault()}))}),(0,i.createElement)(p.UC,(0,r.A)({role:"menu","aria-orientation":"vertical","data-state":be(A.open),"data-radix-menu-content":"",dir:P.dir},I,C,{ref:H,style:{outline:"none",...C.style},onKeyDown:(0,a.m)(C.onKeyDown,(e=>{const t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,n=e.ctrlKey||e.altKey||e.metaKey,r=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!n&&r&&(e=>{var t,n;const r=q.current+e,i=L().filter((e=>!e.disabled)),a=document.activeElement,o=null===(t=i.find((e=>e.ref.current===a)))||void 0===t?void 0:t.textValue,s=function(e,t,n){const r=t.length>1&&Array.from(t).every((e=>e===t[0]))?t[0]:t,i=n?e.indexOf(n):-1;let a=(o=e,s=Math.max(i,0),o.map(((e,t)=>o[(s+t)%o.length])));var o,s;1===r.length&&(a=a.filter((e=>e!==n)));const c=a.find((e=>e.toLowerCase().startsWith(r.toLowerCase())));return c!==n?c:void 0}(i.map((e=>e.textValue)),r,o),c=null===(n=i.find((e=>e.textValue===s)))||void 0===n?void 0:n.ref.current;!function e(t){q.current=t,window.clearTimeout(W.current),""!==t&&(W.current=window.setTimeout((()=>e("")),1e3))}(r),c&&setTimeout((()=>c.focus()))})(e.key));const i=V.current;if(e.target!==i)return;if(!M.includes(e.key))return;e.preventDefault();const a=L().filter((e=>!e.disabled)).map((e=>e.ref.current));x.includes(e.key)&&a.reverse(),function(e){const t=document.activeElement;for(const n of e){if(n===t)return;if(n.focus(),document.activeElement!==t)return}}(a)})),onBlur:(0,a.m)(e.onBlur,(e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(W.current),q.current="")})),onPointerMove:(0,a.m)(e.onPointerMove,we((e=>{const t=e.target,n=$.current!==e.clientX;if(e.currentTarget.contains(t)&&n){const t=e.clientX>$.current?"right":"left";K.current=t,$.current=e.clientX}})))})))))))})),Z=(0,i.forwardRef)(((e,t)=>{const{__scopeMenu:n,...a}=e;return(0,i.createElement)(v.sG.div,(0,r.A)({role:"group"},a,{ref:t}))})),J=(0,i.forwardRef)(((e,t)=>{const{__scopeMenu:n,...a}=e;return(0,i.createElement)(v.sG.div,(0,r.A)({},a,{ref:t}))})),Q="MenuItem",ee="menu.itemSelect",te=(0,i.forwardRef)(((e,t)=>{const{disabled:n=!1,onSelect:o,...c}=e,l=(0,i.useRef)(null),u=z(Q,e.__scopeMenu),h=q(Q,e.__scopeMenu),d=(0,s.s)(t,l),f=(0,i.useRef)(!1);return(0,i.createElement)(ne,(0,r.A)({},c,{ref:d,disabled:n,onClick:(0,a.m)(e.onClick,(()=>{const e=l.current;if(!n&&e){const t=new CustomEvent(ee,{bubbles:!0,cancelable:!0});e.addEventListener(ee,(e=>null==o?void 0:o(e)),{once:!0}),(0,v.hO)(e,t),t.defaultPrevented?f.current=!1:u.onClose()}})),onPointerDown:t=>{var n;null===(n=e.onPointerDown)||void 0===n||n.call(e,t),f.current=!0},onPointerUp:(0,a.m)(e.onPointerUp,(e=>{var t;f.current||null===(t=e.currentTarget)||void 0===t||t.click()})),onKeyDown:(0,a.m)(e.onKeyDown,(e=>{const t=""!==h.searchRef.current;n||t&&" "===e.key||k.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())}))}))})),ne=(0,i.forwardRef)(((e,t)=>{const{__scopeMenu:n,disabled:o=!1,textValue:c,...l}=e,u=q(Q,n),h=N(n),d=(0,i.useRef)(null),f=(0,s.s)(t,d),[p,m]=(0,i.useState)(!1),[g,_]=(0,i.useState)("");return(0,i.useEffect)((()=>{const e=d.current;var t;e&&_((null!==(t=e.textContent)&&void 0!==t?t:"").trim())}),[l.children]),(0,i.createElement)(A.ItemSlot,{scope:n,disabled:o,textValue:null!=c?c:g},(0,i.createElement)(b.q7,(0,r.A)({asChild:!0},h,{focusable:!o}),(0,i.createElement)(v.sG.div,(0,r.A)({role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0},l,{ref:f,onPointerMove:(0,a.m)(e.onPointerMove,we((e=>{o?u.onItemLeave(e):(u.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus())}))),onPointerLeave:(0,a.m)(e.onPointerLeave,we((e=>u.onItemLeave(e)))),onFocus:(0,a.m)(e.onFocus,(()=>m(!0))),onBlur:(0,a.m)(e.onBlur,(()=>m(!1)))}))))})),re=(0,i.forwardRef)(((e,t)=>{const{checked:n=!1,onCheckedChange:o,...s}=e;return(0,i.createElement)(le,{scope:e.__scopeMenu,checked:n},(0,i.createElement)(te,(0,r.A)({role:"menuitemcheckbox","aria-checked":_e(n)?"mixed":n},s,{ref:t,"data-state":ye(n),onSelect:(0,a.m)(s.onSelect,(()=>null==o?void 0:o(!!_e(n)||!n)),{checkForDefaultPrevented:!1})})))})),[ie,ae]=I("MenuRadioGroup",{value:void 0,onValueChange:()=>{}}),oe=(0,i.forwardRef)(((e,t)=>{const{value:n,onValueChange:a,...o}=e,s=(0,y.c)(a);return(0,i.createElement)(ie,{scope:e.__scopeMenu,value:n,onValueChange:s},(0,i.createElement)(Z,(0,r.A)({},o,{ref:t})))})),se=(0,i.forwardRef)(((e,t)=>{const{value:n,...o}=e,s=ae("MenuRadioItem",e.__scopeMenu),c=n===s.value;return(0,i.createElement)(le,{scope:e.__scopeMenu,checked:c},(0,i.createElement)(te,(0,r.A)({role:"menuitemradio","aria-checked":c},o,{ref:t,"data-state":ye(c),onSelect:(0,a.m)(o.onSelect,(()=>{var e;return null===(e=s.onValueChange)||void 0===e?void 0:e.call(s,n)}),{checkForDefaultPrevented:!1})})))})),ce="MenuItemIndicator",[le,ue]=I(ce,{checked:!1}),he=(0,i.forwardRef)(((e,t)=>{const{__scopeMenu:n,forceMount:a,...o}=e,s=ue(ce,n);return(0,i.createElement)(g.C,{present:a||_e(s.checked)||!0===s.checked},(0,i.createElement)(v.sG.span,(0,r.A)({},o,{ref:t,"data-state":ye(s.checked)})))})),de=(0,i.forwardRef)(((e,t)=>{const{__scopeMenu:n,...a}=e;return(0,i.createElement)(v.sG.div,(0,r.A)({role:"separator","aria-orientation":"horizontal"},a,{ref:t}))})),fe=(0,i.forwardRef)(((e,t)=>{const{__scopeMenu:n,...a}=e,o=B(n);return(0,i.createElement)(p.i3,(0,r.A)({},o,a,{ref:t}))})),pe="MenuSub",[me,ge]=I(pe),ve="MenuSubTrigger";function be(e){return e?"open":"closed"}function _e(e){return"indeterminate"===e}function ye(e){return _e(e)?"indeterminate":e?"checked":"unchecked"}function we(e){return t=>"mouse"===t.pointerType?e(t):void 0}const Se=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:o,modal:s=!0}=e,c=B(t),[u,h]=(0,i.useState)(null),d=(0,i.useRef)(!1),f=(0,y.c)(o),m=(0,l.jH)(a);return(0,i.useEffect)((()=>{const e=()=>{d.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>d.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}}),[]),(0,i.createElement)(p.bL,c,(0,i.createElement)(L,{scope:t,open:n,onOpenChange:f,content:u,onContentChange:h},(0,i.createElement)(j,{scope:t,onClose:(0,i.useCallback)((()=>f(!1)),[f]),isUsingKeyboardRef:d,dir:m,modal:s},r)))},ke=F,xe=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,o=D(V,t);return(0,i.createElement)(H,{scope:t,forceMount:n},(0,i.createElement)(g.C,{present:n||o.open},(0,i.createElement)(m.Z,{asChild:!0,container:a},r)))},Me=Y,Ee=Z,Te=J,Ce=te,Ae=re,Oe=oe,Pe=se,Ie=he,Re=de,Be=fe,Ne=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:a}=e,o=D(pe,t),s=B(t),[c,l]=(0,i.useState)(null),[u,h]=(0,i.useState)(null),d=(0,y.c)(a);return(0,i.useEffect)((()=>(!1===o.open&&d(!1),()=>d(!1))),[o.open,d]),(0,i.createElement)(p.bL,s,(0,i.createElement)(L,{scope:t,open:r,onOpenChange:d,content:u,onContentChange:h},(0,i.createElement)(me,{scope:t,contentId:(0,f.B)(),triggerId:(0,f.B)(),trigger:c,onTriggerChange:l},n)))},Le=(0,i.forwardRef)(((e,t)=>{const n=D(ve,e.__scopeMenu),o=z(ve,e.__scopeMenu),c=ge(ve,e.__scopeMenu),l=q(ve,e.__scopeMenu),u=(0,i.useRef)(null),{pointerGraceTimerRef:h,onPointerGraceIntentChange:d}=l,f={__scopeMenu:e.__scopeMenu},p=(0,i.useCallback)((()=>{u.current&&window.clearTimeout(u.current),u.current=null}),[]);return(0,i.useEffect)((()=>p),[p]),(0,i.useEffect)((()=>{const e=h.current;return()=>{window.clearTimeout(e),d(null)}}),[h,d]),(0,i.createElement)(F,(0,r.A)({asChild:!0},f),(0,i.createElement)(ne,(0,r.A)({id:c.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":c.contentId,"data-state":be(n.open)},e,{ref:(0,s.t)(t,c.onTriggerChange),onClick:t=>{var r;null===(r=e.onClick)||void 0===r||r.call(e,t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:(0,a.m)(e.onPointerMove,we((t=>{l.onItemEnter(t),t.defaultPrevented||e.disabled||n.open||u.current||(l.onPointerGraceIntentChange(null),u.current=window.setTimeout((()=>{n.onOpenChange(!0),p()}),100))}))),onPointerLeave:(0,a.m)(e.onPointerLeave,we((e=>{var t;p();const r=null===(t=n.content)||void 0===t?void 0:t.getBoundingClientRect();if(r){var i;const t=null===(i=n.content)||void 0===i?void 0:i.dataset.side,a="right"===t,o=a?-5:5,s=r[a?"left":"right"],c=r[a?"right":"left"];l.onPointerGraceIntentChange({area:[{x:e.clientX+o,y:e.clientY},{x:s,y:r.top},{x:c,y:r.top},{x:c,y:r.bottom},{x:s,y:r.bottom}],side:t}),window.clearTimeout(h.current),h.current=window.setTimeout((()=>l.onPointerGraceIntentChange(null)),300)}else{if(l.onTriggerLeave(e),e.defaultPrevented)return;l.onPointerGraceIntentChange(null)}}))),onKeyDown:(0,a.m)(e.onKeyDown,(t=>{const r=""!==l.searchRef.current;var i;e.disabled||r&&" "===t.key||E[o.dir].includes(t.key)&&(n.onOpenChange(!0),null===(i=n.content)||void 0===i||i.focus(),t.preventDefault())}))})))})),De=(0,i.forwardRef)(((e,t)=>{const n=W(U,e.__scopeMenu),{forceMount:o=n.forceMount,...c}=e,l=D(U,e.__scopeMenu),u=z(U,e.__scopeMenu),h=ge("MenuSubContent",e.__scopeMenu),d=(0,i.useRef)(null),f=(0,s.s)(t,d);return(0,i.createElement)(A.Provider,{scope:e.__scopeMenu},(0,i.createElement)(g.C,{present:o||l.open},(0,i.createElement)(A.Slot,{scope:e.__scopeMenu},(0,i.createElement)($,(0,r.A)({id:h.contentId,"aria-labelledby":h.triggerId},c,{ref:f,align:"start",side:"rtl"===u.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{var t;u.isUsingKeyboardRef.current&&(null===(t=d.current)||void 0===t||t.focus()),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:(0,a.m)(e.onFocusOutside,(e=>{e.target!==h.trigger&&l.onOpenChange(!1)})),onEscapeKeyDown:(0,a.m)(e.onEscapeKeyDown,(e=>{u.onClose(),e.preventDefault()})),onKeyDown:(0,a.m)(e.onKeyDown,(e=>{const t=e.currentTarget.contains(e.target),n=T[u.dir].includes(e.key);var r;t&&n&&(l.onOpenChange(!1),null===(r=h.trigger)||void 0===r||r.focus(),e.preventDefault())}))})))))}))},39397:(e,t,n)=>{"use strict";n.d(t,{UC:()=>z,ZL:()=>j,bL:()=>L,l9:()=>D});var r=n(68102),i=n(63696),a=n(18707),o=n(44853),s=n(98303),c=n(3844),l=n(50181),u=n(58597),h=n(57573),d=n(98258),f=n(22538),p=n(82541),m=n(29409),g=n(28780),v=n(42545),b=n(36077),_=n(12202);const y="Popover",[w,S]=(0,s.A)(y,[d.Bk]),k=(0,d.Bk)(),[x,M]=w(y),E=(0,i.forwardRef)(((e,t)=>{const{__scopePopover:n,...s}=e,c=M("PopoverTrigger",n),l=k(n),u=(0,o.s)(t,c.triggerRef),h=(0,i.createElement)(m.sG.button,(0,r.A)({type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":N(c.open)},s,{ref:u,onClick:(0,a.m)(e.onClick,c.onOpenToggle)}));return c.hasCustomAnchor?h:(0,i.createElement)(d.Mz,(0,r.A)({asChild:!0},l),h)})),T="PopoverPortal",[C,A]=w(T,{forceMount:void 0}),O="PopoverContent",P=(0,i.forwardRef)(((e,t)=>{const n=A(O,e.__scopePopover),{forceMount:a=n.forceMount,...o}=e,s=M(O,e.__scopePopover);return(0,i.createElement)(p.C,{present:a||s.open},s.modal?(0,i.createElement)(I,(0,r.A)({},o,{ref:t})):(0,i.createElement)(R,(0,r.A)({},o,{ref:t})))})),I=(0,i.forwardRef)(((e,t)=>{const n=M(O,e.__scopePopover),s=(0,i.useRef)(null),c=(0,o.s)(t,s),l=(0,i.useRef)(!1);return(0,i.useEffect)((()=>{const e=s.current;if(e)return(0,b.Eq)(e)}),[]),(0,i.createElement)(_.A,{as:g.DX,allowPinchZoom:!0},(0,i.createElement)(B,(0,r.A)({},e,{ref:c,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.m)(e.onCloseAutoFocus,(e=>{var t;e.preventDefault(),l.current||null===(t=n.triggerRef.current)||void 0===t||t.focus()})),onPointerDownOutside:(0,a.m)(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;l.current=r}),{checkForDefaultPrevented:!1}),onFocusOutside:(0,a.m)(e.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1})})))})),R=(0,i.forwardRef)(((e,t)=>{const n=M(O,e.__scopePopover),a=(0,i.useRef)(!1),o=(0,i.useRef)(!1);return(0,i.createElement)(B,(0,r.A)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var r,i;null===(r=e.onCloseAutoFocus)||void 0===r||r.call(e,t),t.defaultPrevented||(a.current||null===(i=n.triggerRef.current)||void 0===i||i.focus(),t.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:t=>{var r,i;null===(r=e.onInteractOutside)||void 0===r||r.call(e,t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(o.current=!0));const s=t.target;(null===(i=n.triggerRef.current)||void 0===i?void 0:i.contains(s))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}}))})),B=(0,i.forwardRef)(((e,t)=>{const{__scopePopover:n,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:h,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:g,...v}=e,b=M(O,n),_=k(n);return(0,l.Oh)(),(0,i.createElement)(u.n,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:s},(0,i.createElement)(c.qW,{asChild:!0,disableOutsidePointerEvents:h,onInteractOutside:g,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:m,onDismiss:()=>b.onOpenChange(!1)},(0,i.createElement)(d.UC,(0,r.A)({"data-state":N(b.open),role:"dialog",id:b.contentId},_,v,{ref:t,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))}));function N(e){return e?"open":"closed"}const L=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:s=!1}=e,c=k(t),l=(0,i.useRef)(null),[u,f]=(0,i.useState)(!1),[p=!1,m]=(0,v.i)({prop:r,defaultProp:a,onChange:o});return(0,i.createElement)(d.bL,c,(0,i.createElement)(x,{scope:t,contentId:(0,h.B)(),triggerRef:l,open:p,onOpenChange:m,onOpenToggle:(0,i.useCallback)((()=>m((e=>!e))),[m]),hasCustomAnchor:u,onCustomAnchorAdd:(0,i.useCallback)((()=>f(!0)),[]),onCustomAnchorRemove:(0,i.useCallback)((()=>f(!1)),[]),modal:s},n))},D=E,j=e=>{const{__scopePopover:t,forceMount:n,children:r,container:a}=e,o=M(T,t);return(0,i.createElement)(C,{scope:t,forceMount:n},(0,i.createElement)(p.C,{present:n||o.open},(0,i.createElement)(f.Z,{asChild:!0,container:a},r)))},z=P},99245:(e,t,n)=>{"use strict";n.d(t,{CC:()=>H,Q6:()=>W,bL:()=>V,zi:()=>U});var r=n(68102),i=n(63696),a=n(81419),o=n(18707),s=n(44853),c=n(98303),l=n(42545),u=n(82937),h=n(86811),d=n(99679),f=n(29409),p=n(16604);const m=["PageUp","PageDown"],g=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],v={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},b="Slider",[_,y,w]=(0,p.N)(b),[S,k]=(0,c.A)(b,[w]),[x,M]=S(b),E=(0,i.forwardRef)(((e,t)=>{const{name:n,min:c=0,max:u=100,step:h=1,orientation:d="horizontal",disabled:f=!1,minStepsBetweenThumbs:p=0,defaultValue:v=[c],value:b,onValueChange:y=(()=>{}),onValueCommit:w=(()=>{}),inverted:S=!1,...k}=e,[M,E]=(0,i.useState)(null),T=(0,s.s)(t,(e=>E(e))),C=(0,i.useRef)(new Set),P=(0,i.useRef)(0),I="horizontal"===d,R=!M||Boolean(M.closest("form")),B=I?A:O,[N=[],L]=(0,l.i)({prop:b,defaultProp:v,onChange:e=>{var t;null===(t=[...C.current][P.current])||void 0===t||t.focus(),y(e)}}),D=(0,i.useRef)(N);function z(e,t,{commit:n}={commit:!1}){const r=function(e){return(String(e).split(".")[1]||"").length}(h),i=function(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}(Math.round((e-c)/h)*h+c,r),o=(0,a.q)(i,[c,u]);L(((e=[])=>{const r=function(e=[],t,n){const r=[...e];return r[n]=t,r.sort(((e,t)=>e-t))}(e,o,t);if(function(e,t){if(t>0){const n=function(e){return e.slice(0,-1).map(((t,n)=>e[n+1]-t))}(e);return Math.min(...n)>=t}return!0}(r,p*h)){P.current=r.indexOf(o);const t=String(r)!==String(e);return t&&n&&w(r),t?r:e}return e}))}return(0,i.createElement)(x,{scope:e.__scopeSlider,disabled:f,min:c,max:u,valueIndexToChangeRef:P,thumbs:C.current,values:N,orientation:d},(0,i.createElement)(_.Provider,{scope:e.__scopeSlider},(0,i.createElement)(_.Slot,{scope:e.__scopeSlider},(0,i.createElement)(B,(0,r.A)({"aria-disabled":f,"data-disabled":f?"":void 0},k,{ref:T,onPointerDown:(0,o.m)(k.onPointerDown,(()=>{f||(D.current=N)})),min:c,max:u,inverted:S,onSlideStart:f?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const n=e.map((e=>Math.abs(e-t))),r=Math.min(...n);return n.indexOf(r)}(N,e);z(e,t)},onSlideMove:f?void 0:function(e){z(e,P.current)},onSlideEnd:f?void 0:function(){const e=D.current[P.current];N[P.current]!==e&&w(N)},onHomeKeyDown:()=>!f&&z(c,0,{commit:!0}),onEndKeyDown:()=>!f&&z(u,N.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!f){const n=m.includes(e.key)||e.shiftKey&&g.includes(e.key)?10:1,r=P.current;z(N[r]+h*n*t,r,{commit:!0})}}})))),R&&N.map(((e,t)=>(0,i.createElement)(j,{key:t,name:n?n+(N.length>1?"[]":""):void 0,value:e}))))})),[T,C]=S(b,{startEdge:"left",endEdge:"right",size:"width",direction:1}),A=(0,i.forwardRef)(((e,t)=>{const{min:n,max:a,dir:o,inverted:c,onSlideStart:l,onSlideMove:h,onSlideEnd:d,onStepKeyDown:f,...p}=e,[m,g]=(0,i.useState)(null),b=(0,s.s)(t,(e=>g(e))),_=(0,i.useRef)(),y=(0,u.jH)(o),w="ltr"===y,S=w&&!c||!w&&c;function k(e){const t=_.current||m.getBoundingClientRect(),r=F([0,t.width],S?[n,a]:[a,n]);return _.current=t,r(e-t.left)}return(0,i.createElement)(T,{scope:e.__scopeSlider,startEdge:S?"left":"right",endEdge:S?"right":"left",direction:S?1:-1,size:"width"},(0,i.createElement)(P,(0,r.A)({dir:y,"data-orientation":"horizontal"},p,{ref:b,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const t=k(e.clientX);null==l||l(t)},onSlideMove:e=>{const t=k(e.clientX);null==h||h(t)},onSlideEnd:()=>{_.current=void 0,null==d||d()},onStepKeyDown:e=>{const t=v[S?"from-left":"from-right"].includes(e.key);null==f||f({event:e,direction:t?-1:1})}})))})),O=(0,i.forwardRef)(((e,t)=>{const{min:n,max:a,inverted:o,onSlideStart:c,onSlideMove:l,onSlideEnd:u,onStepKeyDown:h,...d}=e,f=(0,i.useRef)(null),p=(0,s.s)(t,f),m=(0,i.useRef)(),g=!o;function b(e){const t=m.current||f.current.getBoundingClientRect(),r=F([0,t.height],g?[a,n]:[n,a]);return m.current=t,r(e-t.top)}return(0,i.createElement)(T,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1},(0,i.createElement)(P,(0,r.A)({"data-orientation":"vertical"},d,{ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const t=b(e.clientY);null==c||c(t)},onSlideMove:e=>{const t=b(e.clientY);null==l||l(t)},onSlideEnd:()=>{m.current=void 0,null==u||u()},onStepKeyDown:e=>{const t=v[g?"from-bottom":"from-top"].includes(e.key);null==h||h({event:e,direction:t?-1:1})}})))})),P=(0,i.forwardRef)(((e,t)=>{const{__scopeSlider:n,onSlideStart:a,onSlideMove:s,onSlideEnd:c,onHomeKeyDown:l,onEndKeyDown:u,onStepKeyDown:h,...d}=e,p=M(b,n);return(0,i.createElement)(f.sG.span,(0,r.A)({},d,{ref:t,onKeyDown:(0,o.m)(e.onKeyDown,(e=>{"Home"===e.key?(l(e),e.preventDefault()):"End"===e.key?(u(e),e.preventDefault()):m.concat(g).includes(e.key)&&(h(e),e.preventDefault())})),onPointerDown:(0,o.m)(e.onPointerDown,(e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),p.thumbs.has(t)?t.focus():a(e)})),onPointerMove:(0,o.m)(e.onPointerMove,(e=>{e.target.hasPointerCapture(e.pointerId)&&s(e)})),onPointerUp:(0,o.m)(e.onPointerUp,(e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),c(e))}))}))})),I=(0,i.forwardRef)(((e,t)=>{const{__scopeSlider:n,...a}=e,o=M("SliderTrack",n);return(0,i.createElement)(f.sG.span,(0,r.A)({"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation},a,{ref:t}))})),R="SliderRange",B=(0,i.forwardRef)(((e,t)=>{const{__scopeSlider:n,...a}=e,o=M(R,n),c=C(R,n),l=(0,i.useRef)(null),u=(0,s.s)(t,l),h=o.values.length,d=o.values.map((e=>z(e,o.min,o.max))),p=h>1?Math.min(...d):0,m=100-Math.max(...d);return(0,i.createElement)(f.sG.span,(0,r.A)({"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0},a,{ref:u,style:{...e.style,[c.startEdge]:p+"%",[c.endEdge]:m+"%"}}))})),N="SliderThumb",L=(0,i.forwardRef)(((e,t)=>{const n=y(e.__scopeSlider),[a,o]=(0,i.useState)(null),c=(0,s.s)(t,(e=>o(e))),l=(0,i.useMemo)((()=>a?n().findIndex((e=>e.ref.current===a)):-1),[n,a]);return(0,i.createElement)(D,(0,r.A)({},e,{ref:c,index:l}))})),D=(0,i.forwardRef)(((e,t)=>{const{__scopeSlider:n,index:a,...c}=e,l=M(N,n),u=C(N,n),[h,p]=(0,i.useState)(null),m=(0,s.s)(t,(e=>p(e))),g=(0,d.X)(h),v=l.values[a],b=void 0===v?0:z(v,l.min,l.max),y=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(a,l.values.length),w=null==g?void 0:g[u.size],S=w?function(e,t,n){const r=e/2;return(r-F([0,50],[0,r])(t)*n)*n}(w,b,u.direction):0;return(0,i.useEffect)((()=>{if(h)return l.thumbs.add(h),()=>{l.thumbs.delete(h)}}),[h,l.thumbs]),(0,i.createElement)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${b}% + ${S}px)`}},(0,i.createElement)(_.ItemSlot,{scope:e.__scopeSlider},(0,i.createElement)(f.sG.span,(0,r.A)({role:"slider","aria-label":e["aria-label"]||y,"aria-valuemin":l.min,"aria-valuenow":v,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0},c,{ref:m,style:void 0===v?{display:"none"}:e.style,onFocus:(0,o.m)(e.onFocus,(()=>{l.valueIndexToChangeRef.current=a}))}))))})),j=e=>{const{value:t,...n}=e,a=(0,i.useRef)(null),o=(0,h.Z)(t);return(0,i.useEffect)((()=>{const e=a.current,n=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(n,"value").set;if(o!==t&&r){const n=new Event("input",{bubbles:!0});r.call(e,t),e.dispatchEvent(n)}}),[o,t]),(0,i.createElement)("input",(0,r.A)({style:{display:"none"}},n,{ref:a,defaultValue:t}))};function z(e,t,n){const r=100/(n-t)*(e-t);return(0,a.q)(r,[0,100])}function F(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}const V=E,H=I,W=B,U=L},28780:(e,t,n)=>{"use strict";n.d(t,{DX:()=>o,xV:()=>c});var r=n(68102),i=n(63696),a=n(44853);const o=(0,i.forwardRef)(((e,t)=>{const{children:n,...a}=e,o=i.Children.toArray(n),c=o.find(l);if(c){const e=c.props.children,n=o.map((t=>t===c?i.Children.count(e)>1?i.Children.only(null):(0,i.isValidElement)(e)?e.props.children:null:t));return(0,i.createElement)(s,(0,r.A)({},a,{ref:t}),(0,i.isValidElement)(e)?(0,i.cloneElement)(e,void 0,n):null)}return(0,i.createElement)(s,(0,r.A)({},a,{ref:t}),n)}));o.displayName="Slot";const s=(0,i.forwardRef)(((e,t)=>{const{children:n,...r}=e;return(0,i.isValidElement)(n)?(0,i.cloneElement)(n,{...u(r,n.props),ref:t?(0,a.t)(t,n.ref):n.ref}):i.Children.count(n)>1?i.Children.only(null):null}));s.displayName="SlotClone";const c=({children:e})=>(0,i.createElement)(i.Fragment,null,e);function l(e){return(0,i.isValidElement)(e)&&e.type===c}function u(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...e)=>{a(...e),i(...e)}:i&&(n[r]=i):"style"===r?n[r]={...i,...a}:"className"===r&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}},70791:(e,t,n)=>{"use strict";n.d(t,{Kq:()=>j,UC:()=>H,ZL:()=>V,bL:()=>z,l9:()=>F});var r=n(68102),i=n(63696),a=n(18707),o=n(44853),s=n(98303),c=n(3844),l=n(57573),u=n(98258),h=n(22538),d=n(82541),f=n(29409),p=n(28780),m=n(42545),g=n(17838);const[v,b]=(0,s.A)("Tooltip",[u.Bk]),_=(0,u.Bk)(),y=700,w="tooltip.open",[S,k]=v("TooltipProvider"),x="Tooltip",[M,E]=v(x),T="TooltipTrigger",C=(0,i.forwardRef)(((e,t)=>{const{__scopeTooltip:n,...s}=e,c=E(T,n),l=k(T,n),h=_(n),d=(0,i.useRef)(null),p=(0,o.s)(t,d,c.onTriggerChange),m=(0,i.useRef)(!1),g=(0,i.useRef)(!1),v=(0,i.useCallback)((()=>m.current=!1),[]);return(0,i.useEffect)((()=>()=>document.removeEventListener("pointerup",v)),[v]),(0,i.createElement)(u.Mz,(0,r.A)({asChild:!0},h),(0,i.createElement)(f.sG.button,(0,r.A)({"aria-describedby":c.open?c.contentId:void 0,"data-state":c.stateAttribute},s,{ref:p,onPointerMove:(0,a.m)(e.onPointerMove,(e=>{"touch"!==e.pointerType&&(g.current||l.isPointerInTransitRef.current||(c.onTriggerEnter(),g.current=!0))})),onPointerLeave:(0,a.m)(e.onPointerLeave,(()=>{c.onTriggerLeave(),g.current=!1})),onPointerDown:(0,a.m)(e.onPointerDown,(()=>{m.current=!0,document.addEventListener("pointerup",v,{once:!0})})),onFocus:(0,a.m)(e.onFocus,(()=>{m.current||c.onOpen()})),onBlur:(0,a.m)(e.onBlur,c.onClose),onClick:(0,a.m)(e.onClick,c.onClose)})))})),A="TooltipPortal",[O,P]=v(A,{forceMount:void 0}),I="TooltipContent",R=(0,i.forwardRef)(((e,t)=>{const n=P(I,e.__scopeTooltip),{forceMount:a=n.forceMount,side:o="top",...s}=e,c=E(I,e.__scopeTooltip);return(0,i.createElement)(d.C,{present:a||c.open},c.disableHoverableContent?(0,i.createElement)(D,(0,r.A)({side:o},s,{ref:t})):(0,i.createElement)(B,(0,r.A)({side:o},s,{ref:t})))})),B=(0,i.forwardRef)(((e,t)=>{const n=E(I,e.__scopeTooltip),a=k(I,e.__scopeTooltip),s=(0,i.useRef)(null),c=(0,o.s)(t,s),[l,u]=(0,i.useState)(null),{trigger:h,onClose:d}=n,f=s.current,{onPointerInTransitChange:p}=a,m=(0,i.useCallback)((()=>{u(null),p(!1)}),[p]),g=(0,i.useCallback)(((e,t)=>{const n=e.currentTarget,r={x:e.clientX,y:e.clientY},i=function(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n})}return r}(r,function(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}(r,n.getBoundingClientRect())),a=function(e){const t=e.slice();return t.sort(((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0)),function(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const r=e[n];for(;t.length>=2;){const e=t[t.length-1],n=t[t.length-2];if(!((e.x-n.x)*(r.y-n.y)>=(e.y-n.y)*(r.x-n.x)))break;t.pop()}t.push(r)}t.pop();const n=[];for(let t=e.length-1;t>=0;t--){const r=e[t];for(;n.length>=2;){const e=n[n.length-1],t=n[n.length-2];if(!((e.x-t.x)*(r.y-t.y)>=(e.y-t.y)*(r.x-t.x)))break;n.pop()}n.push(r)}return n.pop(),1===t.length&&1===n.length&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}(t)}([...i,...function(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}(t.getBoundingClientRect())]);u(a),p(!0)}),[p]);return(0,i.useEffect)((()=>()=>m()),[m]),(0,i.useEffect)((()=>{if(h&&f){const e=e=>g(e,f),t=e=>g(e,h);return h.addEventListener("pointerleave",e),f.addEventListener("pointerleave",t),()=>{h.removeEventListener("pointerleave",e),f.removeEventListener("pointerleave",t)}}}),[h,f,g,m]),(0,i.useEffect)((()=>{if(l){const e=e=>{const t=e.target,n={x:e.clientX,y:e.clientY},r=(null==h?void 0:h.contains(t))||(null==f?void 0:f.contains(t)),i=!function(e,t){const{x:n,y:r}=e;let i=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){const o=t[e].x,s=t[e].y,c=t[a].x,l=t[a].y;s>r!=l>r&&n<(c-o)*(r-s)/(l-s)+o&&(i=!i)}return i}(n,l);r?m():i&&(m(),d())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}}),[h,f,l,d,m]),(0,i.createElement)(D,(0,r.A)({},e,{ref:c}))})),[N,L]=v(x,{isInside:!1}),D=(0,i.forwardRef)(((e,t)=>{const{__scopeTooltip:n,children:a,"aria-label":o,onEscapeKeyDown:s,onPointerDownOutside:l,...h}=e,d=E(I,n),f=_(n),{onClose:m}=d;return(0,i.useEffect)((()=>(document.addEventListener(w,m),()=>document.removeEventListener(w,m))),[m]),(0,i.useEffect)((()=>{if(d.trigger){const e=e=>{const t=e.target;null!=t&&t.contains(d.trigger)&&m()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}}),[d.trigger,m]),(0,i.createElement)(c.qW,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:e=>e.preventDefault(),onDismiss:m},(0,i.createElement)(u.UC,(0,r.A)({"data-state":d.stateAttribute},f,h,{ref:t,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),(0,i.createElement)(p.xV,null,a),(0,i.createElement)(N,{scope:n,isInside:!0},(0,i.createElement)(g.b,{id:d.contentId,role:"tooltip"},o||a))))})),j=e=>{const{__scopeTooltip:t,delayDuration:n=y,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:o}=e,[s,c]=(0,i.useState)(!0),l=(0,i.useRef)(!1),u=(0,i.useRef)(0);return(0,i.useEffect)((()=>{const e=u.current;return()=>window.clearTimeout(e)}),[]),(0,i.createElement)(S,{scope:t,isOpenDelayed:s,delayDuration:n,onOpen:(0,i.useCallback)((()=>{window.clearTimeout(u.current),c(!1)}),[]),onClose:(0,i.useCallback)((()=>{window.clearTimeout(u.current),u.current=window.setTimeout((()=>c(!0)),r)}),[r]),isPointerInTransitRef:l,onPointerInTransitChange:(0,i.useCallback)((e=>{l.current=e}),[]),disableHoverableContent:a},o)},z=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:a=!1,onOpenChange:o,disableHoverableContent:s,delayDuration:c}=e,h=k(x,e.__scopeTooltip),d=_(t),[f,p]=(0,i.useState)(null),g=(0,l.B)(),v=(0,i.useRef)(0),b=null!=s?s:h.disableHoverableContent,y=null!=c?c:h.delayDuration,S=(0,i.useRef)(!1),[E=!1,T]=(0,m.i)({prop:r,defaultProp:a,onChange:e=>{e?(h.onOpen(),document.dispatchEvent(new CustomEvent(w))):h.onClose(),null==o||o(e)}}),C=(0,i.useMemo)((()=>E?S.current?"delayed-open":"instant-open":"closed"),[E]),A=(0,i.useCallback)((()=>{window.clearTimeout(v.current),S.current=!1,T(!0)}),[T]),O=(0,i.useCallback)((()=>{window.clearTimeout(v.current),T(!1)}),[T]),P=(0,i.useCallback)((()=>{window.clearTimeout(v.current),v.current=window.setTimeout((()=>{S.current=!0,T(!0)}),y)}),[y,T]);return(0,i.useEffect)((()=>()=>window.clearTimeout(v.current)),[]),(0,i.createElement)(u.bL,d,(0,i.createElement)(M,{scope:t,contentId:g,open:E,stateAttribute:C,trigger:f,onTriggerChange:p,onTriggerEnter:(0,i.useCallback)((()=>{h.isOpenDelayed?P():A()}),[h.isOpenDelayed,P,A]),onTriggerLeave:(0,i.useCallback)((()=>{b?O():window.clearTimeout(v.current)}),[O,b]),onOpen:A,onClose:O,disableHoverableContent:b},n))},F=C,V=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:a}=e,o=E(A,t);return(0,i.createElement)(O,{scope:t,forceMount:n},(0,i.createElement)(d.C,{present:n||o.open},(0,i.createElement)(h.Z,{asChild:!0,container:a},r)))},H=R},86811:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(63696);function i(e){const t=(0,r.useRef)({value:e,previous:e});return(0,r.useMemo)((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}},17838:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(68102),i=n(63696),a=n(29409);const o=(0,i.forwardRef)(((e,t)=>(0,i.createElement)(a.sG.span,(0,r.A)({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))))},15172:(e,t,n)=>{"use strict";n.d(t,{AM:()=>K,Mf:()=>r,b7:()=>m});const r=e=>{const t=new AudioBuffer({length:e.length,sampleRate:e.sampleRate,numberOfChannels:2});return t.copyToChannel(new Float32Array(e.leftData),0),t.copyToChannel(new Float32Array(e.rightData),1),t},i=new class{enabled=!0;log(...e){this.enabled&&console.log(...e)}warn(...e){this.enabled&&console.warn(...e)}error(...e){this.enabled&&console.error(...e)}};i.enabled=!1;class a{samples={};sampleParameters={};addSample(e,t){this.samples[t]=e}addSampleParameter(e,t){const{bank:n,instrument:r,keyRange:i,velRange:a}=t;for(let t=i[0];t<=i[1];t++)void 0===this.sampleParameters[n]&&(this.sampleParameters[n]={}),void 0===this.sampleParameters[n][r]&&(this.sampleParameters[n][r]={}),void 0===this.sampleParameters[n][r][t]&&(this.sampleParameters[n][r][t]=[]),this.sampleParameters[n][r][t].push({...e,velRange:a})}getSamples(e,t,n,r){const i=this.sampleParameters[e]?.[t]??this.sampleParameters[0]?.[t]??null,a=i?.[n]?.filter((e=>r>=e.velRange[0]&&r<=e.velRange[1]))??[],o=[];for(const e of a){const t=this.samples[e.sampleID];void 0!==t?o.push({...e,buffer:t}):console.warn(`sample not found: ${e.sampleID}`)}return o}}var o;!function(){function e(){this.data=[],this.position=0}Object.defineProperty(e.prototype,"length",{get:function(){return this.data.length},enumerable:!1,configurable:!0}),e.prototype.writeByte=function(e){this.data.push(e),this.position++},e.prototype.writeStr=function(e){this.writeBytes(function(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n));return t}(e))},e.prototype.writeInt32=function(e){this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.writeInt16=function(e){this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.writeBytes=function(e){var t=this;e.forEach((function(e){return t.writeByte(e)}))},e.prototype.writeChunk=function(t,n){this.writeStr(t);var r=new e;n(r),this.writeInt32(r.length),this.writeBytes(r.data)},e.prototype.toBytes=function(){return new Uint8Array(this.data)}}();class s{processor;rpnEvents={};bankSelectMSB={};constructor(e){this.processor=e}handleImmediateEvent(e){switch(e.type){case"sampleParameter":this.processor.addSampleParameter(e.parameter,e.range);break;case"loadSample":this.processor.addSample(e.data,e.sampleID)}}handleDelayableEvent(e){if(i.log("handle delayable event",e),"channel"===e.type)switch(e.subtype){case"noteOn":this.processor.noteOn(e.channel,e.noteNumber,e.velocity);break;case"noteOff":this.processor.noteOff(e.channel,e.noteNumber);break;case"pitchBend":this.processor.pitchBend(e.channel,e.value);break;case"programChange":this.processor.programChange(e.channel,e.value);break;case"controller":switch(e.controllerType){case 99:case 98:delete this.rpnEvents[e.channel];break;case 101:127===e.value?delete this.rpnEvents[e.channel]:this.rpnEvents[e.channel]={...this.rpnEvents[e.channel],rpnMSB:e};break;case 100:127===e.value?delete this.rpnEvents[e.channel]:this.rpnEvents[e.channel]={...this.rpnEvents[e.channel],rpnLSB:e};break;case 6:{const t={...this.rpnEvents[e.channel],dataMSB:e};this.rpnEvents[e.channel]=t,0===t.rpnLSB?.value&&this.processor.setPitchBendSensitivity(e.channel,t.dataMSB.value);break}case 38:this.rpnEvents[e.channel]={...this.rpnEvents[e.channel],dataLSB:e};break;case 7:this.processor.setMainVolume(e.channel,e.value);break;case 11:this.processor.expression(e.channel,e.value);break;case 120:this.processor.allSoundsOff(e.channel);break;case 123:this.processor.allNotesOff(e.channel);break;case 64:this.processor.hold(e.channel,e.value);break;case 10:this.processor.setPan(e.channel,e.value);break;case 1:this.processor.modulation(e.channel,e.value);break;case 0:this.bankSelectMSB[e.channel]=e.value;break;case 32:{const t=this.bankSelectMSB[e.channel];if(void 0!==t){const n=(t<<7)+e.value;this.processor.bankSelect(e.channel,n)}break}case 121:this.processor.resetChannel(e.channel)}}}}class c{getCurrentFrame;onImmediateEvent;onDelayableEvent;scheduledEvents=[];currentEvents=[];constructor(e,t,n){this.getCurrentFrame=e,this.onImmediateEvent=t,this.onDelayableEvent=n}get currentFrame(){return this.getCurrentFrame()}addEvent(e){i.log(e),"delayTime"in e?function(e,t,n){let r,i=0,a=e.length;for(;i<a;)r=i+a>>>1,e[r][n]<t[n]?i=r+1:a=r;e.splice(i,0,t)}(this.scheduledEvents,{...e,scheduledFrame:this.currentFrame+e.delayTime},"scheduledFrame"):this.onImmediateEvent(e)}processScheduledEvents(){if(0!==this.scheduledEvents.length){for(;;){const e=this.scheduledEvents[0];if(void 0===e||e.scheduledFrame>this.currentFrame)break;this.scheduledEvents.shift(),this.currentEvents.push(e)}for(this.currentEvents.sort(l);;){const e=this.currentEvents.shift();if(void 0===e)break;this.onDelayableEvent(e.midi)}}}removeScheduledEvents(e){this.scheduledEvents=this.scheduledEvents.filter((t=>t.midi.channel!==e)),this.currentEvents=this.currentEvents.filter((t=>t.midi.channel!==e))}}function l(e,t){return e.scheduledFrame<t.scheduledFrame?-1:e.scheduledFrame>t.scheduledFrame?1:e.sequenceNumber<t.sequenceNumber?-1:e.sequenceNumber>t.sequenceNumber?1:0}!function(e){e[e.attack=0]="attack",e[e.decay=1]="decay",e[e.sustain=2]="sustain",e[e.release=3]="release",e[e.forceStop=4]="forceStop",e[e.stopped=5]="stopped"}(o||(o={}));class u{parameter;phase=o.attack;lastAmplitude=0;sampleRate;constructor(e,t){this.parameter=e,this.sampleRate=t}noteOn(){this.phase=o.attack}noteOff(){this.phase!==o.forceStop&&(this.phase=o.release)}forceStop(){this.phase=o.forceStop}getAmplitude(e){const{attackTime:t,decayTime:n,sustainLevel:r,releaseTime:i}=this.parameter,{sampleRate:a}=this;switch(this.phase){case o.attack:{const n=1/(t*a)*e,r=this.lastAmplitude+n;return r>=1?(this.phase=o.decay,this.lastAmplitude=1,1):(this.lastAmplitude=r,r)}case o.decay:{const t=1/(n*a)*e,i=this.lastAmplitude-t;return i<=r?r<=0?(this.phase=o.stopped,this.lastAmplitude=0,0):(this.phase=o.sustain,this.lastAmplitude=r,r):(this.lastAmplitude=i,i)}case o.sustain:return r;case o.release:{const t=1/(i*a)*e,n=this.lastAmplitude-t;return n<=0?(this.phase=o.stopped,this.lastAmplitude=0,0):(this.lastAmplitude=n,n)}case o.forceStop:{const t=1/(.1*a)*e,n=this.lastAmplitude-t;return n<=0?(this.phase=o.stopped,this.lastAmplitude=0,0):(this.lastAmplitude=n,n)}case o.stopped:return 0}}get isPlaying(){return this.phase!==o.stopped}}class h{frequency=5;phase=0;sampleRate;constructor(e){this.sampleRate=e}getValue(e){const t=this.phase;return this.phase+=2*Math.PI*this.frequency/this.sampleRate*e,Math.sin(t)}}class d{sample;sampleIndex=0;_isPlaying=!1;_isNoteOff=!1;baseSpeed=1;envelope;pitchLFO;sampleRate;speed=1;velocity=1;volume=1;modulation=0;modulationDepthRange=50;pan=0;isHold=!1;constructor(e,t){this.sample=e,this.sampleRate=t,this.envelope=new u(e.amplitudeEnvelope,t),this.pitchLFO=new h(t)}noteOn(e,t){this.velocity=t,this._isPlaying=!0,this.sampleIndex=this.sample.sampleStart,this.baseSpeed=Math.pow(2,(e-this.sample.pitch)/12*this.sample.scaleTuning),this.pitchLFO.frequency=5,this.envelope.noteOn()}noteOff(){this.envelope.noteOff(),this._isNoteOff=!0}forceStop(){this.envelope.forceStop()}process(e){if(!this._isPlaying)return;const t=this.baseSpeed*this.speed*this.sample.sampleRate/this.sampleRate,n=this.velocity*this.volume*this.sample.volume,r=(Math.min(1,Math.max(-1,this.pan+this.sample.pan))+1)*Math.PI/4,i=Math.cos(r),a=Math.sin(r),o=this.envelope.getAmplitude(e[0].length),s=o*n*i,c=o*n*a,l=t*(1+this.pitchLFO.getValue(e[0].length)*this.modulation*(this.modulationDepthRange/1200));for(let t=0;t<e[0].length;++t){const n=Math.floor(this.sampleIndex),r=this.sampleIndex+l;let i=null;null!==this.sample.loop&&r>=this.sample.loop.end&&(i=this.sample.loop.start+(r-Math.floor(r)));const a=null!==i?Math.floor(i):Math.min(n+1,this.sample.sampleEnd-1),o=this.sample.buffer[n],u=o+(this.sample.buffer[a]-o)*(this.sampleIndex-n);if(e[0][t]+=u*s,e[1][t]+=u*c,this.sampleIndex=i??r,this.sampleIndex>=this.sample.sampleEnd){this._isPlaying=!1;break}}}get isPlaying(){return this._isPlaying&&this.envelope.isPlaying}get isNoteOff(){return this._isNoteOff}get exclusiveClass(){return this.sample.exclusiveClass}}class f{sampleRate;getCurrentFrame;sampleTable=new a;channels={};eventScheduler;constructor(e,t){this.sampleRate=e,this.getCurrentFrame=t;const n=new s(this);this.eventScheduler=new c(t,(e=>n.handleImmediateEvent(e)),(e=>n.handleDelayableEvent(e))),this.sampleRate=e,this.getCurrentFrame=t}get currentFrame(){return this.getCurrentFrame()}getSamples(e,t,n){const r=this.getChannelState(e),i=9===e?128:r.bank;return this.sampleTable.getSamples(i,r.instrument,t,n)}addSample(e,t){this.sampleTable.addSample(new Float32Array(e),t)}addSampleParameter(e,t){this.sampleTable.addSampleParameter(e,t)}addEvent(e){this.eventScheduler.addEvent(e)}noteOn(e,t,n){const r=this.getChannelState(e),a=this.getSamples(e,t,n);if(0!==a.length)for(const e of a){const i=new d(e,this.sampleRate),a=n/128;if(i.noteOn(t,a),void 0===r.oscillators[t]&&(r.oscillators[t]=[]),void 0!==e.exclusiveClass)for(const t in r.oscillators)for(const n of r.oscillators[t])n.exclusiveClass===e.exclusiveClass&&n.forceStop();r.oscillators[t].push(i)}else i.warn(`There is no sample for noteNumber ${t} in instrument ${r.instrument} in bank ${r.bank}`)}noteOff(e,t){const n=this.getChannelState(e);if(void 0!==n.oscillators[t])for(const e of n.oscillators[t])e.isNoteOff||(n.hold?e.isHold=!0:e.noteOff())}pitchBend(e,t){const n=this.getChannelState(e);n.pitchBend=(t/8192-1)*n.pitchBendSensitivity}programChange(e,t){this.getChannelState(e).instrument=t}setPitchBendSensitivity(e,t){this.getChannelState(e).pitchBendSensitivity=t}setMainVolume(e,t){this.getChannelState(e).volume=t/128}expression(e,t){this.getChannelState(e).expression=t/128}allSoundsOff(e){this.eventScheduler.removeScheduledEvents(e);const t=this.getChannelState(e);for(const e in t.oscillators)for(const n of t.oscillators[e])n.forceStop()}allNotesOff(e){const t=this.getChannelState(e);for(const e in t.oscillators)for(const n of t.oscillators[e])n.noteOff()}hold(e,t){const n=t>=64,r=this.getChannelState(e);if(r.hold=n,!n)for(const e in r.oscillators)for(const t of r.oscillators[e])t.isHold&&t.noteOff()}setPan(e,t){this.getChannelState(e).pan=2*(t/127-.5)}bankSelect(e,t){this.getChannelState(e).bank=t}modulation(e,t){this.getChannelState(e).modulation=t/128}resetChannel(e){delete this.channels[e]}getChannelState(e){const t=this.channels[e];if(void 0!==t)return t;const n={volume:1,bank:0,instrument:0,pitchBend:0,pitchBendSensitivity:2,oscillators:{},expression:1,pan:0,modulation:0,hold:!1};return this.channels[e]=n,n}process(e){this.eventScheduler.processScheduledEvents();for(const t in this.channels){const n=this.channels[t];for(let t in n.oscillators)n.oscillators[t]=n.oscillators[t].filter((t=>(t.speed=Math.pow(2,n.pitchBend/12),t.volume=n.volume*n.expression,t.pan=n.pan,t.modulation=n.modulation,t.process([e[0],e[1]]),!!t.isPlaying)))}for(let t=0;t<e[0].length;++t)e[0][t]*=.3,e[1][t]*=.3}}const p=e=>{for(let t=0;t<e.length;t++)if(0!==e[t])return!1;return!0},m=async(e,t,n)=>{let r=0;const i=n?.sampleRate??44100,a=n?.bufferSize??500,o=new f(i,(()=>r));let s=0;e.forEach((e=>o.addEvent({...e,sequenceNumber:s++}))),t.forEach((e=>o.addEvent({...e,sequenceNumber:s++})));const c=(e=>function(e){if(0===e.length)return;let t=e[0];for(let n=1;n<e.length;n++)e[n]>t&&(t=e[n]);return t}(e.map((e=>"midi"===e.type?e.delayTime:0)))??0)(t),l=Math.ceil(c/a),u=Math.ceil(5*i/a),h=l+u,d=h*a,m=new Float32Array(d),g=new Float32Array(d),v=[new Float32Array(a),new Float32Array(a)];for(let e=0;e<h;e++){v[0].fill(0),v[1].fill(0),o.process(v);const t=e*a;if(m.set(v[0],t),g.set(v[1],t),r+=a,e>l&&p(v[0])&&p(v[1])){console.log(`early break ${e} in ${l+u}`);break}if(e%1e3==0&&(await(n?.waitForEventLoop?.()),n?.onProgress?.(t,d),n?.cancel?.()))throw new Error("renderAudio cancelled")}const b=m.slice(0,r),_=g.slice(0,r);return{length:b.length,leftData:b.buffer,rightData:_.buffer,sampleRate:i}};class g{constructor(e,t){this.data=e,this.ip=t}readString(e){const t=String.fromCharCode.apply(null,this.data.subarray(this.ip,this.ip+=e)),n=t.indexOf("\0");return n>0?t.substr(0,n):t}readWORD(){return this.data[this.ip++]|this.data[this.ip++]<<8}readDWORD(e=!1){return e?(this.data[this.ip++]<<24|this.data[this.ip++]<<16|this.data[this.ip++]<<8|this.data[this.ip++])>>>0:(this.data[this.ip++]|this.data[this.ip++]<<8|this.data[this.ip++]<<16|this.data[this.ip++]<<24)>>>0}readByte(){return this.data[this.ip++]}readAt(e){return this.data[this.ip+e]}readUInt8(){return this.readByte()}readInt8(){return this.readByte()<<24>>24}readUInt16(){return this.readWORD()}readInt16(){return this.readWORD()<<16>>16}readUInt32(){return this.readDWORD()}}function v(e,t,n){const r=new g(e,t),i=r.readString(4),a=r.readDWORD(n);return new _(i,a,r.ip)}function b(e,t=0,n,{padding:r=!0,bigEndian:i=!1}={}){const a=[],o=n+t;let s=t;for(;s<o;){const n=v(e,s,i);s=n.offset+n.size,r&&1==(s-t&1)&&s++,a.push(n)}return a}class _{constructor(e,t,n){this.type=e,this.size=t,this.offset=n}}const y=["startAddrsOffset","endAddrsOffset","startloopAddrsOffset","endloopAddrsOffset","startAddrsCoarseOffset","modLfoToPitch","vibLfoToPitch","modEnvToPitch","initialFilterFc","initialFilterQ","modLfoToFilterFc","modEnvToFilterFc","endAddrsCoarseOffset","modLfoToVolume",void 0,"chorusEffectsSend","reverbEffectsSend","pan",void 0,void 0,void 0,"delayModLFO","freqModLFO","delayVibLFO","freqVibLFO","delayModEnv","attackModEnv","holdModEnv","decayModEnv","sustainModEnv","releaseModEnv","keynumToModEnvHold","keynumToModEnvDecay","delayVolEnv","attackVolEnv","holdVolEnv","decayVolEnv","sustainVolEnv","releaseVolEnv","keynumToVolEnvHold","keynumToVolEnvDecay","instrument",void 0,"keyRange","velRange","startloopAddrsCoarseOffset","keynum","velocity","initialAttenuation",void 0,"endloopAddrsCoarseOffset","coarseTune","fineTune","sampleID","sampleModes",void 0,"scaleTuning","exclusiveClass","overridingRootKey"];class w{static parse(e){const t=new w;return t.major=e.readInt8(),t.minor=e.readInt8(),t}}class S{static parse(e,t){function n(e){return t.find((t=>t.type===e))}function r(t){return new g(e,t.offset)}function i(e){const t=n(e);return t?r(t).readString(t.size):null}function a(e){const t=n(e);return t?w.parse(r(t)):null}const o=new S;return o.comment=i("ICMT"),o.copyright=i("ICOP"),o.creationDate=i("ICRD"),o.engineer=i("IENG"),o.name=i("INAM"),o.product=i("IPRD"),o.software=i("ISFT"),o.version=a("ifil"),o.soundEngine=i("isng"),o.romName=i("irom"),o.romVersion=a("iver"),o}}class k{get isEnd(){return"EOP"===this.presetName}static parse(e){const t=new k;return t.presetName=e.readString(20),t.preset=e.readWORD(),t.bank=e.readWORD(),t.presetBagIndex=e.readWORD(),t.library=e.readDWORD(),t.genre=e.readDWORD(),t.morphology=e.readDWORD(),t}}class x{static parse(e){const t=new x;return t.presetGeneratorIndex=e.readWORD(),t.presetModulatorIndex=e.readWORD(),t}}class M{constructor(e,t){this.lo=e,this.hi=t}static parse(e){return new M(e.readByte(),e.readByte())}}class E{get type(){return y[this.destinationOper]}get isEnd(){return 0===this.sourceOper&&0===this.destinationOper&&0===this.value&&0===this.amountSourceOper&&0===this.transOper}static parse(e){const t=new E;switch(t.sourceOper=e.readWORD(),t.destinationOper=e.readWORD(),t.type){case"keyRange":case"velRange":case"keynum":case"velocity":t.value=M.parse(e);break;default:t.value=e.readInt16()}return t.amountSourceOper=e.readWORD(),t.transOper=e.readWORD(),t}}class T{get type(){return y[this.code]}get isEnd(){return 0===this.code&&0===this.value}static parse(e){const t=new T;switch(t.code=e.readWORD(),t.type){case"keynum":case"keyRange":case"velRange":case"velocity":t.value=M.parse(e);break;default:t.value=e.readInt16()}return t}}class C{get isEnd(){return"EOI"===this.instrumentName}static parse(e){const t=new C;return t.instrumentName=e.readString(20),t.instrumentBagIndex=e.readWORD(),t}}class A{static parse(e){const t=new A;return t.instrumentGeneratorIndex=e.readWORD(),t.instrumentModulatorIndex=e.readWORD(),t}}class O{get isEnd(){return"EOS"===this.sampleName}static parse(e){const t=new O;return t.sampleName=e.readString(20),t.start=e.readDWORD(),t.end=e.readDWORD(),t.loopStart=e.readDWORD(),t.loopEnd=e.readDWORD(),t.sampleRate=e.readDWORD(),t.originalPitch=e.readByte(),t.pitchCorrection=e.readInt8(),t.sampleLink=e.readWORD(),t.sampleType=e.readWORD(),t.loopStart-=t.start,t.loopEnd-=t.start,t}}function P(e,t,n,r){if(e.type!==n)throw new Error("invalid chunk type:"+e.type);const i=new g(t,e.offset),a=i.readString(4);if(a!==r)throw new Error("invalid signature:"+a);return b(t,i.ip,e.size-4)}function I(e,t){const n=P(e,t,"LIST","INFO");return S.parse(t,n)}function R(e,t){var n;const r=P(e,t,"LIST","sdta");return{offsetMSB:r[0].offset,offsetLSB:null===(n=r[1])||void 0===n?void 0:n.offset}}function B(e,t,n,r,i){const a=[];if(e.type!==n)throw new Error("invalid chunk type:"+e.type);const o=new g(t,e.offset),s=e.offset+e.size;for(;o.ip<s;){const e=r.parse(o);if(i&&i(e))break;a.push(e)}return a}const N=(e,t)=>B(e,t,"phdr",k,(e=>e.isEnd)),L=(e,t)=>B(e,t,"pbag",x),D=(e,t)=>B(e,t,"inst",C,(e=>e.isEnd)),j=(e,t)=>B(e,t,"ibag",A),z=(e,t)=>B(e,t,"pmod",E,(e=>e.isEnd)),F=(e,t)=>B(e,t,"imod",E,(e=>e.isEnd)),V=(e,t)=>B(e,t,"pgen",T,(e=>e.isEnd)),H=(e,t)=>B(e,t,"igen",T),W=(e,t)=>B(e,t,"shdr",O,(e=>e.isEnd));function U(e){const t={};for(const n of e){const e=n.type;void 0!==e&&(t[e]=n.value)}return t}const G={keynum:void 0,instrument:void 0,velocity:void 0,exclusiveClass:void 0,keyRange:new M(0,127),velRange:new M(0,127),sampleID:void 0,delayVolEnv:-12e3,attackVolEnv:-12e3,decayVolEnv:-12e3,holdVolEnv:-12e3,sustainVolEnv:0,releaseVolEnv:-12e3,delayModEnv:-12e3,attackModEnv:-12e3,decayModEnv:-12e3,holdModEnv:-12e3,sustainModEnv:0,releaseModEnv:-12e3,modEnvToPitch:0,modEnvToFilterFc:0,modLfoToFilterFc:0,modLfoToPitch:0,modLfoToVolume:0,vibLfoToPitch:0,chorusEffectsSend:0,reverbEffectsSend:0,delayModLFO:0,freqModLFO:0,delayVibLFO:0,keynumToModEnvDecay:0,keynumToModEnvHold:0,keynumToVolEnvDecay:0,keynumToVolEnvHold:0,coarseTune:0,fineTune:0,scaleTuning:100,freqVibLFO:0,startAddrsOffset:0,startAddrsCoarseOffset:0,endAddrsOffset:0,endAddrsCoarseOffset:0,startloopAddrsOffset:0,startloopAddrsCoarseOffset:0,initialAttenuation:0,endloopAddrsOffset:0,endloopAddrsCoarseOffset:0,overridingRootKey:void 0,initialFilterQ:1,initialFilterFc:13500,sampleModes:0,pan:void 0};function q(e,t){return function(e,t){const n=e.instruments[t],r=e.instruments[t+1];return i=n.instrumentBagIndex,a=r?r.instrumentBagIndex:e.instrumentZone.length,Array.from({length:a-i},((e,t)=>t+i));var i,a}(e,t).map((t=>function(e,t){const n=e.instrumentZone[t],r=e.instrumentZone[t+1],i=n.instrumentGeneratorIndex,a=r?r.instrumentGeneratorIndex:e.instrumentGenerators.length;return e.instrumentGenerators.slice(i,a)}(e,t)))}function Y(e,t){let n;const r=e.presetHeaders[t],i=e.presetZone[r.presetBagIndex],a=t+1;if(a<e.presetHeaders.length){const t=e.presetHeaders[a],r=e.presetZone[t.presetBagIndex];n=e.presetGenerators.slice(i.presetGeneratorIndex,r.presetGeneratorIndex)}else n=e.presetGenerators.slice(i.presetGeneratorIndex,e.presetGenerators.length);return n}function X(e){let t={};const n=[];let r={},i=0;for(const a of e){const e=a.type;void 0!==e&&("keyRange"!==e&&"velRange"!==e||(1===i&&0===n.length&&(t=r),r={},i++),"instrument"===e&&n.push({...r,instrument:a.value}),r[e]=a.value)}return{instruments:n,instrumentsGlobal:t}}const K=e=>{const{samples:t,parameters:n}=(e=>{const t=function(e,t={}){const n=b(e,0,e.length,t);if(1!==n.length)throw new Error("wrong chunk length");const r=n[0];if(null===r)throw new Error("chunk not found");const i=function(e,t){const n=P(e,t,"RIFF","sfbk");if(3!==n.length)throw new Error("invalid sfbk structure");return Object.assign({info:I(n[0],t),samplingData:R(n[1],t)},function(e,t){const n=P(e,t,"LIST","pdta");if(9!==n.length)throw new Error("invalid pdta chunk");return{presetHeaders:N(n[0],t),presetZone:L(n[1],t),presetModulators:z(n[2],t),presetGenerators:V(n[3],t),instruments:D(n[4],t),instrumentZone:j(n[5],t),instrumentModulators:F(n[6],t),instrumentGenerators:H(n[7],t),sampleHeaders:W(n[8],t)}}(n[2],t))}(r,e);return Object.assign(Object.assign({},i),{samples:(a=i.sampleHeaders,o=i.samplingData.offsetMSB,i.samplingData.offsetLSB,s=e,a.map((e=>{let t=new Int16Array(new Uint8Array(s.subarray(o+2*e.start,o+2*e.end)).buffer);if(e.sampleRate>0){const n=function(e,t){let n=1;for(;t<22050;){const r=new Int16Array(2*e.length);for(let t=0,n=0,i=e.length;t<i;++t)r[n++]=e[t],r[n++]=e[t];e=r,n*=2,t*=2}return{sample:e,multiply:n}}(t,e.sampleRate);t=n.sample,e.sampleRate*=n.multiply,e.loopStart*=n.multiply,e.loopEnd*=n.multiply}return t})))});var a,o,s}(e),n=[],r={};function i(e){const n=r[e];if(n)return n;const i=t.samples[e],a=new Float32Array(i.length);for(let e=0;e<i.length;e++)a[e]=i[e]/32767;return r[e]=a,a}for(let e=0;e<t.presetHeaders.length;e++){const r=t.presetHeaders[e],a=X(Y(t,e));for(const e of a.instruments){const a=e.instrument,o=q(t,a).map(U);let s;void 0===o[0].sampleID&&(s=o[0]);for(const a of o.filter((e=>void 0!==e.sampleID))){const o=a.sampleID,c=t.sampleHeaders[o],{velRange:l,...u}=G,h={...u,...Z(s??{}),...Z(a)};h.velRange=h.velRange??e.velRange??l;for(const t of Object.keys(h))t in e&&"number"==typeof h[t]&&"number"==typeof e[t]&&(h[t]+=e[t]);const d=h.coarseTune+h.fineTune/100+c.pitchCorrection/100-(h.overridingRootKey??c.originalPitch),f=32768*h.startAddrsCoarseOffset+h.startAddrsOffset,p=32768*h.endAddrsCoarseOffset+h.endAddrsOffset,m=c.loopStart+32768*h.startloopAddrsCoarseOffset+h.startloopAddrsOffset,g=c.loopEnd+32768*h.endloopAddrsCoarseOffset+h.endloopAddrsOffset,v=i(o),b={attackTime:$(h.attackVolEnv),decayTime:$(h.decayVolEnv)/4,sustainLevel:1-h.sustainVolEnv/1e3,releaseTime:$(h.releaseVolEnv)/4},_={sampleID:o,pitch:-d,name:c.sampleName,sampleStart:f,sampleEnd:0===p?v.length:p,loop:1===h.sampleModes&&g>0?{start:m,end:g}:null,sampleRate:c.sampleRate,amplitudeEnvelope:b,scaleTuning:h.scaleTuning/100,pan:(h.pan??0)/500,exclusiveClass:h.exclusiveClass,volume:1-h.initialAttenuation/1e3},y={instrument:r.preset,bank:r.bank,keyRange:[h.keyRange.lo,h.keyRange.hi],velRange:[h.velRange.lo,h.velRange.hi]};n.push({parameter:_,range:y})}}}return{parameters:n,samples:r}})(e),r=Object.entries(t).map((([e,t])=>({type:"loadSample",sampleID:Number(e),data:t.buffer}))),i=n.map((({parameter:e,range:t})=>({type:"sampleParameter",parameter:e,range:t})));return[...r.map((e=>({event:e,transfer:[e.data]}))),...i.map((e=>({event:e})))]};function $(e){return e<=-32768?0:(e<-12e3&&(e=-12e3),e>8e3&&(e=8e3),function(e){return Math.pow(2,e/1200)}(e))}function Z(e){const t={};for(let n in e)void 0!==e[n]&&(t[n]=e[n]);return t}},47547:(e,t,n)=>{"use strict";n.d(t,{FX:()=>I,I1:()=>d,Mt:()=>k,QB:()=>A,Z7:()=>y,dL:()=>R,fz:()=>_,oW:()=>m,om:()=>p,pl:()=>g,rE:()=>E,z$:()=>b});var r=n(62540),i=n(96604),a=n(50416),o=n(70429),s=n(51080),c=n(63696);class l{_isDirty;_value;isEqual;constructor(e,t=((e,t)=>e===t)){this._value=e,this._isDirty=!0,this.isEqual=t}get isDirty(){return this._isDirty}set value(e){this.isEqual(this._value,e)||(this._isDirty=!0,this._value=e)}get value(){return this._value}mark(){this._isDirty=!1}}class u{gl;viewSize=new l({width:0,height:0},((e,t)=>e.width===t.width&&e.height===t.height));objects=[];isQueued=!1;constructor(e){this.gl=e}setNeedsDisplay(){this.isQueued||(this.isQueued=!0,requestAnimationFrame((()=>{this.isQueued=!1,this.render()})))}setObjects(e){this.objects=e}addObject(e){this.objects.push(e)}removeObject(e){this.objects=this.objects.filter((t=>t!==e))}clear(){const{gl:e}=this;e.clearColor(0,0,0,0),e.clearDepth(1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}render(){const{gl:e}=this;this.viewSize.value={width:e.canvas.width,height:e.canvas.height},this.viewSize.isDirty&&e.viewport(0,0,e.canvas.width,e.canvas.height),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.DITHER),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.disable(e.SAMPLE_COVERAGE),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),this.clear(),this.objects.sort(((e,t)=>(e.zIndex??0)-(t.zIndex??0))).forEach((e=>e.draw()))}createProjectionMatrix(){const e=a.vt(),t=this.gl.canvas,n=t.clientWidth/t.width;return a.hs(e,e,o.fA(n,n,n)),a.v3(e,0,t.clientWidth,t.clientHeight,0,0,100),e}}const h=(0,c.createContext)(null),d=()=>(0,c.useContext)(h),f=(0,c.createContext)(null),p=(0,c.forwardRef)((({width:e,height:t,style:n,children:o,...s},l)=>{const d=(0,c.useRef)(null);(0,c.useImperativeHandle)(l,(()=>d.current));const[p,m]=(0,c.useState)(null),g=i(d);(0,c.useEffect)((()=>{const e=d.current;if(null===e)throw new Error("canvas is not mounted");const t=e.getContext("webgl2",{alpha:!0,antialias:!1,depth:!1,desynchronized:!0,powerPreference:"high-performance",premultipliedAlpha:!0,preserveDrawingBuffer:!1});if(null===t)return void alert("WebGL can't be initialized. May be browser doesn't support");const n=new u(t);m(n)}),[]);const v=(0,c.useMemo)((()=>p?.createProjectionMatrix()??a.vt()),[p,g.width,g.height]),b=window.devicePixelRatio;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("canvas",{...s,ref:d,width:e*b,height:t*b,style:{...n,width:e,height:t}}),p&&(0,r.jsx)(f.Provider,{value:p,children:(0,r.jsx)(h.Provider,{value:v,children:o})})]})}));class m extends c.Component{shader=null;buffer=null;constructor(e){super(e)}static contextType=f;componentDidUpdate(){this.buffer?.update(this.props.buffer),this.context.setNeedsDisplay()}componentDidMount(){if(null===this.context)throw new Error("Must provide RendererContext");const e=this.context.gl;this.shader=this.props.createShader(e);const t=this.shader.createVertexArray();this.buffer=this.props.createBuffer(t),this.buffer.update(this.props.buffer),this.context.addObject(this),this.context.setNeedsDisplay()}componentWillUnmount(){this.context.removeObject(this)}shouldComponentUpdate(e){return this.props.buffer!==e.buffer||this.props.uniforms!==e.uniforms||this.props.zIndex!==e.zIndex}draw(){null!==this.shader&&null!==this.buffer&&(this.shader.setUniforms(this.props.uniforms),this.shader.draw(this.buffer))}render(){return(0,r.jsx)(r.Fragment,{})}get zIndex(){return this.props.zIndex??0}}function g(e){return[e.x,e.y,e.x+e.width,e.y,e.x,e.y+e.height,e.x+e.width,e.y,e.x+e.width,e.y+e.height,e.x,e.y+e.height]}class v{location;prop;uploadFunc;constructor(e,t,n,r,i){const a=e.getUniformLocation(t,n);if(null===a)throw new Error(`failed to getUniformLocation ${n}`);this.location=a,this.prop=r,this.uploadFunc=i}set value(e){this.prop.value=e}get value(){return this.prop.value}upload(e){this.prop.isDirty&&(this.uploadFunc(e,this.location,this.prop.value),this.prop.mark())}}const b=(e=a.vt())=>({initialValue:e,isEqual:a.aI,upload:(e,t,n)=>e.uniformMatrix4fv(t,!1,n)}),_=(e=s.vt())=>({initialValue:e,isEqual:s.aI,upload:(e,t,n)=>e.uniform4fv(t,n)}),y=(e=0)=>({initialValue:e,isEqual:(e,t)=>e===t,upload:(e,t,n)=>e.uniform1f(t,n)});class w{gl;vao;buffers;constructor(e,t,n){this.gl=e,e.useProgram(t),this.vao=e.createVertexArray();const r={};e.bindVertexArray(this.vao),Object.keys(n).forEach((i=>{const a=n[i],o=e.getAttribLocation(t,i);if(o<0)throw new Error(`failed to getAttribLocation ${i}`);const s=e.createBuffer();r[i]=s,e.bindBuffer(e.ARRAY_BUFFER,s),e.enableVertexAttribArray(o),e.vertexAttribPointer(o,a.size,a.type,!1,0,0),void 0!==a.divisor&&e.vertexAttribDivisor(o,a.divisor)})),e.bindVertexArray(null),this.buffers=r}updateBuffer(e,t){const{gl:n}=this;n.bindBuffer(n.ARRAY_BUFFER,this.buffers[e]),n.bufferData(n.ARRAY_BUFFER,t,n.STATIC_DRAW)}updateAllBuffers(e){Object.keys(e).forEach((t=>{this.updateBuffer(t,e[t])}))}bind(){this.gl.bindVertexArray(this.vao)}unbind(){this.gl.bindVertexArray(null)}}function S(e,t,n){const r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){const t=e.getShaderInfoLog(r);throw e.deleteShader(r),new Error("An error occurred compiling the shaders: "+t)}return r}class k{gl;inputs;program;uniforms;constructor(e,t,n,r,i){this.gl=e,this.inputs=r,this.program=function(e,t,n){const r=S(e,e.VERTEX_SHADER,t),i=S(e,e.FRAGMENT_SHADER,n),a=e.createProgram();if(e.attachShader(a,r),e.attachShader(a,i),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS)){const t=e.getProgramInfoLog(a);throw e.deleteProgram(a),new Error("Unable to initialize the shader program: "+t)}return a}(e,t,n),this.uniforms=Object.fromEntries(Object.keys(i).map((t=>{const n=t,r=i[n];return[n,new v(e,this.program,t,new l(r.initialValue,r.isEqual),r.upload)]})))}setUniforms(e){for(let t in e)this.uniforms[t].value=e[t]}createVertexArray(){return new w(this.gl,this.program,this.inputs)}draw(e){if(0===e.vertexCount)return;if("instanceCount"in e&&0===e.instanceCount)return;const{gl:t}=this;t.useProgram(this.program),e.vertexArray.bind(),Object.keys(this.uniforms).forEach((e=>this.uniforms[e].upload(t))),"instanceCount"in e?t.drawArraysInstanced(t.TRIANGLES,0,e.vertexCount,e.instanceCount):t.drawArrays(t.TRIANGLES,0,e.vertexCount),e.vertexArray.unbind()}}class x{vertexArray;_instanceCount=0;constructor(e){this.vertexArray=e,this.vertexArray.updateBuffer("position",new Float32Array(g({x:0,y:0,width:1,height:1})))}update(e){this.vertexArray.updateBuffer("bounds",new Float32Array(e.flatMap((e=>[e.x,e.y,e.width,e.height])))),this._instanceCount=e.length}get vertexCount(){return 6}get instanceCount(){return this._instanceCount}}const M=e=>new k(e,"#version 300 es\n      precision lowp float;\n      in vec4 position;\n      in vec4 bounds;  // x, y, width, height\n\n      uniform mat4 projectionMatrix;\n      out vec4 vBounds;\n      out vec2 vPosition;\n\n      void main() {\n        vec4 transformedPosition = vec4((position.xy * bounds.zw + bounds.xy), position.zw);\n        gl_Position = projectionMatrix * transformedPosition;\n        vBounds = bounds;\n        vPosition = transformedPosition.xy;\n      }\n    ","#version 300 es\n      precision lowp float;\n\n      uniform vec4 fillColor;\n      uniform vec4 strokeColor;\n\n      in vec4 vBounds;\n      in vec2 vPosition;\n\n      out vec4 outColor;\n\n      void main() {\n        float border = 1.0;\n        \n        float r = vBounds.w / 2.0;\n        vec2 center = vBounds.xy + vBounds.zw / 2.0;\n        float len = length(vPosition - center);\n\n        if (len < r - border) {\n          outColor = fillColor;\n        } else if (len < r) {\n          outColor = strokeColor;\n        }\n      }\n    ",{position:{size:2,type:e.FLOAT},bounds:{size:4,type:e.FLOAT,divisor:1}},{projectionMatrix:b(),fillColor:_(),strokeColor:_()}),E=({rects:e,fillColor:t,strokeColor:n,zIndex:i})=>{const a=d(),o=(0,c.useMemo)((()=>({projectionMatrix:a,fillColor:t,strokeColor:n})),[a,t,n]);return(0,r.jsx)(m,{createShader:M,createBuffer:e=>new x(e),uniforms:o,buffer:e,zIndex:i})},T=x,C=e=>new k(e,"#version 300 es\n      precision lowp float;\n      in vec4 position;\n      in vec4 bounds;  // x, y, width, height\n\n      uniform mat4 projectionMatrix;\n      out vec4 vBounds;\n      out vec2 vPosition;\n\n      void main() {\n        vec4 transformedPosition = vec4((position.xy * bounds.zw + bounds.xy), position.zw);\n        gl_Position = projectionMatrix * transformedPosition;\n        vBounds = bounds;\n        vPosition = transformedPosition.xy;\n      }\n    ","#version 300 es\n      precision lowp float;\n\n      uniform vec4 fillColor;\n      uniform vec4 strokeColor;\n\n      in vec4 vBounds;\n      in vec2 vPosition;\n\n      out vec4 outColor;\n\n      void main() {\n        float border = 1.0;\n        float localX = vPosition.x - vBounds.x;\n        float localY = vPosition.y - vBounds.y;\n\n        if ((localX < border) || (localX >= (vBounds.z - border)) || (localY < border) || (localY > (vBounds.w - border))) {\n          // draw outline\n          outColor = strokeColor;\n        } else {\n          outColor = fillColor;\n        }\n      }\n    ",{position:{size:2,type:e.FLOAT},bounds:{size:4,type:e.FLOAT,divisor:1}},{projectionMatrix:b(),fillColor:_(),strokeColor:_()}),A=({rects:e,fillColor:t,strokeColor:n,zIndex:i})=>{const a=d(),o=(0,c.useMemo)((()=>({projectionMatrix:a,fillColor:t,strokeColor:n})),[a,t,n]);return(0,r.jsx)(m,{createShader:C,createBuffer:e=>new T(e),uniforms:o,buffer:e,zIndex:i})};class O{vertexArray;_instanceCount=0;constructor(e){this.vertexArray=e,this.vertexArray.updateBuffer("position",new Float32Array(g({x:0,y:0,width:1,height:1})))}update(e){this.vertexArray.updateBuffer("bounds",new Float32Array(e.flatMap((e=>[e.x,e.y,e.width,e.height])))),this._instanceCount=e.length}get vertexCount(){return 6}get instanceCount(){return this._instanceCount}}const P=e=>new k(e,"#version 300 es\n    precision lowp float;\n    layout (location = 0) in vec4 position;\n    layout (location = 1) in vec4 bounds; // x, y, width, height\n    uniform mat4 projectionMatrix;\n\n    void main() {\n      vec4 transformedPosition = vec4((position.xy * bounds.zw + bounds.xy), position.zw);\n      gl_Position = projectionMatrix * transformedPosition;\n    }\n    ","#version 300 es\n    precision lowp float;\n    uniform vec4 color;\n    out vec4 outColor;\n\n    void main() {\n      outColor = color;\n    }\n    ",{position:{size:2,type:e.FLOAT},bounds:{size:4,type:e.FLOAT,divisor:1}},{projectionMatrix:b(),color:_()}),I=({rects:e,color:t,zIndex:n})=>{const i=d(),a=(0,c.useMemo)((()=>({projectionMatrix:i,color:t})),[i,t]);return(0,r.jsx)(m,{createShader:P,createBuffer:e=>new O(e),uniforms:a,buffer:e,zIndex:n})},R=({matrix:e,children:t})=>{const n=d(),i=a.vt();return a.lw(i,n,e),(0,r.jsx)(h.Provider,{value:i,children:t})}},44248:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});const r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},63215:(e,t,n)=>{"use strict";n.d(t,{qd:()=>c,y7:()=>l});var r=n(60379),i=n(79747),a=n(44248),o=n(40103);const s={};function c(e){const t=s[e];if(t)return t;let n=o.j[e];if((0,r.a3)(n))return s[e]=n.bind(o.j);const c=o.j.document;if(c&&"function"==typeof c.createElement)try{const t=c.createElement("iframe");t.hidden=!0,c.head.appendChild(t);const r=t.contentWindow;r&&r[e]&&(n=r[e]),c.head.removeChild(t)}catch(t){a.T&&i.vF.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,t)}return n?s[e]=n.bind(o.j):n}function l(e){s[e]=void 0}},53762:(e,t,n)=>{"use strict";n.d(t,{i:()=>h});var r=n(55024),i=n(91324),a=n(90719),o=n(40103);const s=1e3;let c,l,u;function h(e){(0,r.s5)("dom",e),(0,r.AS)("dom",d)}function d(){if(!o.j.document)return;const e=r.aj.bind(null,"dom"),t=f(e,!0);o.j.document.addEventListener("click",t,!1),o.j.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=o.j[t]&&o.j[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,i.GS)(n,"addEventListener",(function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{const r=this,a=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},o=a[n]=a[n]||{refCount:0};if(!o.handler){const r=f(e);o.handler=r,t.call(this,n,r,i)}o.refCount++}catch(e){}return t.call(this,n,r,i)}})),(0,i.GS)(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,i=n.__sentry_instrumentation_handlers__||{},a=i[t];a&&(a.refCount--,a.refCount<=0&&(e.call(this,t,a.handler,r),a.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}function f(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(e){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;(0,i.my)(n,"_sentryCaptured",!0),r&&!r._sentryId&&(0,i.my)(r,"_sentryId",(0,a.eJ)());const h="keypress"===n.type?"input":n.type;(function(e){if(e.type!==l)return!1;try{if(!e.target||e.target._sentryId!==u)return!1}catch(e){}return!0})(n)||(e({event:n,name:h,global:t}),l=n.type,u=r?r._sentryId:void 0),clearTimeout(c),c=o.j.setTimeout((()=>{u=void 0,l=void 0}),s)}}},16630:(e,t,n)=>{"use strict";n.d(t,{_:()=>c});var r=n(55024),i=n(25970),a=n(91324),o=n(40103);let s;function c(e){const t="history";(0,r.s5)(t,e),(0,r.AS)(t,l)}function l(){if(!(0,i.N)())return;const e=o.j.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=s,t=String(n);s=t;const i={from:e,to:t};(0,r.aj)("history",i)}return e.apply(this,t)}}o.j.onpopstate=function(...t){const n=o.j.location.href,i=s;s=n;const a={from:i,to:n};if((0,r.aj)("history",a),e)try{return e.apply(this,t)}catch(e){}},(0,a.GS)(o.j.history,"pushState",t),(0,a.GS)(o.j.history,"replaceState",t)}},91128:(e,t,n)=>{"use strict";n.d(t,{Er:()=>c,Mn:()=>l});var r=n(55024),i=n(91324),a=n(60986),o=n(88887),s=n(40103);const c="__sentry_xhr_v3__";function l(e){(0,r.s5)("xhr",e),(0,r.AS)("xhr",u)}function u(){if(!s.j.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;(0,i.GS)(e,"open",(function(e){return function(...t){const n=1e3*(0,a.zf)(),s=(0,o.Kg)(t[0])?t[0].toUpperCase():void 0,l=function(e){if((0,o.Kg)(e))return e;try{return e.toString()}catch(e){}}(t[1]);if(!s||!l)return e.apply(this,t);this[c]={method:s,url:l,request_headers:{}},"POST"===s&&l.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const u=()=>{const e=this[c];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}const t={endTimestamp:1e3*(0,a.zf)(),startTimestamp:n,xhr:this};(0,r.aj)("xhr",t)}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?(0,i.GS)(this,"onreadystatechange",(function(e){return function(...t){return u(),e.apply(this,t)}})):this.addEventListener("readystatechange",u),(0,i.GS)(this,"setRequestHeader",(function(e){return function(...t){const[n,r]=t,i=this[c];return i&&(0,o.Kg)(n)&&(0,o.Kg)(r)&&(i.request_headers[n.toLowerCase()]=r),e.apply(this,t)}})),e.apply(this,t)}})),(0,i.GS)(e,"send",(function(e){return function(...t){const n=this[c];if(!n)return e.apply(this,t);void 0!==t[0]&&(n.body=t[0]);const i={startTimestamp:1e3*(0,a.zf)(),xhr:this};return(0,r.aj)("xhr",i),e.apply(this,t)}}))}},8747:(e,t,n)=>{"use strict";n.d(t,{DI:()=>x,QU:()=>M,bk:()=>S,c8:()=>k});var r=n(92978),i=n(69949),a=n(92936),o=n(6348),s=n(60986),c=n(8455),l=n(79747),u=n(17682),h=n(44248),d=n(40103),f=n(57371),p=n(46453),m=n(74013),g=n(10131);const v=2147483647;let b,_,y=0,w={};function S(){const e=(0,p.D)();if(e&&s.k3){e.mark&&d.j.performance.mark("sentry-tracing-init");const t=(0,f.T5)((({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=(0,p.rv)(s.k3),r=(0,p.rv)(t.startTime);h.T&&l.vF.log("[Measurements] Adding FID"),w.fid={value:e.value,unit:"millisecond"},w["mark.fid"]={value:n+r,unit:"second"}})),n=(0,f.a9)((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(h.T&&l.vF.log("[Measurements] Adding CLS"),w.cls={value:e.value,unit:""},_=t)}),!0),r=(0,f.Pt)((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(h.T&&l.vF.log("[Measurements] Adding LCP"),w.lcp={value:e.value,unit:"millisecond"},b=t)}),!0),i=(0,f.YG)((({metric:e})=>{e.entries[e.entries.length-1]&&(h.T&&l.vF.log("[Measurements] Adding TTFB"),w.ttfb={value:e.value,unit:"millisecond"})}));return()=>{t(),n(),r(),i()}}return()=>{}}function k(){(0,f.wv)("longtask",(({entries:e})=>{for(const t of e){if(!(0,r.Bk)())return;const e=(0,p.rv)(s.k3+t.startTime),n=(0,p.rv)(t.duration),o=(0,i.Uk)({name:"Main UI thread blocked",op:"ui.long-task",startTime:e,attributes:{[a.JD]:"auto.ui.browser.metrics"}});o&&o.end(e+n)}}))}function x(){(0,f.wv)("event",(({entries:e})=>{for(const t of e){if(!(0,r.Bk)())return;if("click"===t.name){const e=(0,p.rv)(s.k3+t.startTime),n=(0,p.rv)(t.duration),r={name:(0,c.Hd)(t.target),op:`ui.interaction.${t.name}`,startTime:e,attributes:{[a.JD]:"auto.ui.browser.metrics"}},o=(0,c.xE)(t.target);o&&(r.attributes["ui.component_name"]=o);const l=(0,i.Uk)(r);l&&l.end(e+n)}}}))}function M(e){const t=(0,p.D)();if(!t||!d.j.performance.getEntries||!s.k3)return;h.T&&l.vF.log("[Tracing] Adding & adjusting spans using Performance API");const n=(0,p.rv)(s.k3),i=t.getEntries(),{op:f,start_timestamp:v}=(0,r.et)(e);if(i.slice(y).forEach((t=>{const r=(0,p.rv)(t.startTime),i=(0,p.rv)(t.duration);if(!("navigation"===f&&v&&n+r<v))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{E(e,t,r,n)})),E(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),E(e,t,"fetch",n,"cache","domainLookupStart"),E(e,t,"domainLookup",n,"DNS"),function(e,t,n){t.responseEnd&&((0,p.Tn)(e,n+(0,p.rv)(t.requestStart),n+(0,p.rv)(t.responseEnd),{op:"browser",name:"request",attributes:{[a.JD]:"auto.ui.browser.metrics"}}),(0,p.Tn)(e,n+(0,p.rv)(t.responseStart),n+(0,p.rv)(t.responseEnd),{op:"browser",name:"response",attributes:{[a.JD]:"auto.ui.browser.metrics"}}))}(e,t,n)}(e,t,n);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,i){const o=i+n,s=o+r;(0,p.Tn)(e,o,s,{name:t.name,op:t.entryType,attributes:{[a.JD]:"auto.resource.browser.metrics"}})}(e,t,r,i,n);const o=(0,g.N)(),s=t.startTime<o.firstHiddenTime;"first-paint"===t.name&&s&&(h.T&&l.vF.log("[Measurements] Adding FP"),w.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&s&&(h.T&&l.vF.log("[Measurements] Adding FCP"),w.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":!function(e,t,n,r,i,o){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const s=(0,u.Dl)(n),c={[a.JD]:"auto.resource.browser.metrics"};T(c,t,"transferSize","http.response_transfer_size"),T(c,t,"encodedBodySize","http.response_content_length"),T(c,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(c["resource.render_blocking_status"]=t.renderBlockingStatus),s.protocol&&(c["url.scheme"]=s.protocol.split(":").pop()),s.host&&(c["server.address"]=s.host),c["url.same_origin"]=n.includes(d.j.location.origin);const l=o+r,h=l+i;(0,p.Tn)(e,l,h,{name:n.replace(d.j.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:c})}(e,t,t.name,r,i,n)}})),y=Math.max(i.length-1,0),function(e){const t=d.j.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),(0,p.Kk)(n.rtt)&&(w["connection.rtt"]={value:n.rtt,unit:"millisecond"})),(0,p.Kk)(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),(0,p.Kk)(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===f){!function(e){const t=(0,m.z)();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(h.T&&l.vF.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}(w),["fcp","fp","lcp"].forEach((e=>{if(!w[e]||!v||n>=v)return;const t=w[e].value,r=n+(0,p.rv)(t),i=Math.abs(1e3*(r-v)),a=i-t;h.T&&l.vF.log(`[Measurements] Normalized ${e} from ${t} to ${i} (${a})`),w[e].value=i}));const t=w["mark.fid"];t&&w.fid&&((0,p.Tn)(e,t.value,t.value+(0,p.rv)(w.fid.value),{name:"first input delay",op:"ui.action",attributes:{[a.JD]:"auto.ui.browser.metrics"}}),delete w["mark.fid"]),"fcp"in w||delete w.cls,Object.keys(w).forEach((e=>{(0,o.X)(e,w[e].value,w[e].unit)})),function(e){b&&(h.T&&l.vF.log("[Measurements] Adding LCP Data"),b.element&&e.setAttribute("lcp.element",(0,c.Hd)(b.element)),b.id&&e.setAttribute("lcp.id",b.id),b.url&&e.setAttribute("lcp.url",b.url.trim().slice(0,200)),e.setAttribute("lcp.size",b.size)),_&&_.sources&&(h.T&&l.vF.log("[Measurements] Adding CLS Data"),_.sources.forEach(((t,n)=>e.setAttribute(`cls.source.${n+1}`,(0,c.Hd)(t.node)))))}(e)}b=void 0,_=void 0,w={}}function E(e,t,n,r,i,o){const s=o?t[o]:t[`${n}End`],c=t[`${n}Start`];c&&s&&(0,p.Tn)(e,r+(0,p.rv)(c),r+(0,p.rv)(s),{op:"browser",name:i||n,attributes:{[a.JD]:"auto.ui.browser.metrics"}})}function T(e,t,n,r){const i=t[n];null!=i&&i<v&&(e[r]=i)}},7529:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(65021),i=n(92978),a=n(92936),o=n(69949),s=n(60986),c=n(8455),l=n(91324),u=n(57371),h=n(46453);function d(){if((0,h.D)()&&s.k3){const e=(0,u.hT)((({metric:e})=>{const t=(0,r.KU)();if(!t||null==e.value)return;const n=e.entries.find((t=>t.duration===e.value&&f[t.name]));if(!n)return;const u=f[n.name],d=t.getOptions(),p=(0,h.rv)(s.k3+n.startTime),m=(0,h.rv)(e.value),g=(0,r.o5)(),v=(0,i.Bk)(),b=v?(0,i.zU)(v):void 0,_=b?(0,i.et)(b).description:void 0,y=g.getUser(),w=t.getIntegrationByName("Replay"),S=w&&w.getReplayId(),k=void 0!==y?y.email||y.id||y.ip_address:void 0;let x;try{x=g.getScopeData().contexts.profile.profile_id}catch(e){}const M=(0,c.Hd)(n.target),E=(0,l.Ce)({release:d.release,environment:d.environment,transaction:_,[a.jG]:e.value,user:k||void 0,profile_id:x||void 0,replay_id:S||void 0}),T=(0,o.Uk)({name:M,op:`ui.interaction.${u}`,attributes:E,startTime:p,experimental:{standalone:!0}});T.addEvent("inp",{[a.Sn]:"millisecond",[a.xc]:e.value}),T.end(p+m)}));return()=>{e()}}return()=>{}}const f={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"}},57371:(e,t,n)=>{"use strict";n.d(t,{Pt:()=>y,T5:()=>w,YG:()=>S,a9:()=>_,hT:()=>k,wv:()=>x});var r=n(79747),i=n(9362),a=n(44248),o=n(90971),s=n(17460),c=n(35774),l=n(15644),u=n(14879),h=n(6842);const d={},f={};let p,m,g,v,b;function _(e,t=!1){return P("cls",e,E,p,t)}function y(e,t=!1){return P("lcp",e,C,g,t)}function w(e){return P("fid",e,T,m)}function S(e){return P("ttfb",e,A,v)}function k(e){return P("inp",e,O,b)}function x(e,t){return I(e,t),f[e]||(function(e){const t={};"event"===e&&(t.durationThreshold=0),(0,u.l)(e,(t=>{M(e,{entries:t})}),t)}(e),f[e]=!0),R(e,t)}function M(e,t){const n=d[e];if(n&&n.length)for(const o of n)try{o(t)}catch(t){a.T&&r.vF.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${(0,i.qQ)(o)}\nError:`,t)}}function E(){return(0,o.I)((e=>{M("cls",{metric:e}),p=e}),{reportAllChanges:!0})}function T(){return(0,s.l)((e=>{M("fid",{metric:e}),m=e}))}function C(){return(0,l.f)((e=>{M("lcp",{metric:e}),g=e}))}function A(){return(0,h.C)((e=>{M("ttfb",{metric:e}),v=e}))}function O(){return(0,c.r)((e=>{M("inp",{metric:e}),b=e}))}function P(e,t,n,r,i=!1){let a;return I(e,t),f[e]||(a=n(),f[e]=!0),r&&t({metric:r}),R(e,t,i?a:void 0)}function I(e,t){d[e]=d[e]||[],d[e].push(t)}function R(e,t,n){return()=>{n&&n();const r=d[e];if(!r)return;const i=r.indexOf(t);-1!==i&&r.splice(i,1)}}},46453:(e,t,n)=>{"use strict";n.d(t,{D:()=>c,Kk:()=>o,Tn:()=>s,rv:()=>l});var r=n(92978),i=n(69949),a=n(40103);function o(e){return"number"==typeof e&&isFinite(e)}function s(e,t,n,{...a}){const o=(0,r.et)(e).start_timestamp;return o&&o>t&&"function"==typeof e.updateStartTime&&e.updateStartTime(t),(0,i.hb)(e,(()=>{const e=(0,i.Uk)({startTime:t,...a});return e&&e.end(n),e}))}function c(){return a.j&&a.j.addEventListener&&a.j.performance}function l(e){return e/1e3}},90971:(e,t,n)=>{"use strict";n.d(t,{I:()=>u});var r=n(42097),i=n(7261),a=n(14879),o=n(65882),s=n(33863),c=n(44629);const l=[.1,.25],u=(e,t={})=>{(0,c.z)((0,s.J)((()=>{const n=(0,i.X)("CLS",0);let s,c=0,u=[];const h=e=>{e.forEach((e=>{if(!e.hadRecentInput){const t=u[0],n=u[u.length-1];c&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(c+=e.value,u.push(e)):(c=e.value,u=[e])}})),c>n.value&&(n.value=c,n.entries=u,s())},d=(0,a.l)("layout-shift",h);d&&(s=(0,r.R)(e,n,l,t.reportAllChanges),(0,o.Q)((()=>{h(d.takeRecords()),s(!0)})),setTimeout(s,0))})))}},17460:(e,t,n)=>{"use strict";n.d(t,{l:()=>h});var r=n(42097),i=n(10131),a=n(7261),o=n(14879),s=n(65882),c=n(33863),l=n(13312);const u=[100,300],h=(e,t={})=>{(0,l.I)((()=>{const n=(0,i.N)(),l=(0,a.X)("FID");let h;const d=e=>{e.startTime<n.firstHiddenTime&&(l.value=e.processingStart-e.startTime,l.entries.push(e),h(!0))},f=e=>{e.forEach(d)},p=(0,o.l)("first-input",f);h=(0,r.R)(e,l,u,t.reportAllChanges),p&&(0,s.Q)((0,c.J)((()=>{f(p.takeRecords()),p.disconnect()})))}))}},35774:(e,t,n)=>{"use strict";n.d(t,{r:()=>m});var r=n(40103),i=n(42097),a=n(7261),o=n(14879),s=n(65882),c=n(21418),l=n(13312);const u=[200,500],h=()=>(0,c.O)()-0,d=[],f={},p=e=>{const t=d[d.length-1],n=f[e.interactionId];if(n||d.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const t={id:e.interactionId,latency:e.duration,entries:[e]};f[t.id]=t,d.push(t)}d.sort(((e,t)=>t.latency-e.latency)),d.splice(10).forEach((e=>{delete f[e.id]}))}},m=(e,t={})=>{(0,l.I)((()=>{(0,c.D)();const n=(0,a.X)("INP");let l;const f=e=>{e.forEach((e=>{e.interactionId&&p(e),"first-input"===e.entryType&&!d.some((t=>t.entries.some((t=>e.duration===t.duration&&e.startTime===t.startTime))))&&p(e)}));const t=(()=>{const e=Math.min(d.length-1,Math.floor(h()/50));return d[e]})();t&&t.latency!==n.value&&(n.value=t.latency,n.entries=t.entries,l())},m=(0,o.l)("event",f,{durationThreshold:null!=t.durationThreshold?t.durationThreshold:40});l=(0,i.R)(e,n,u,t.reportAllChanges),m&&("PerformanceEventTiming"in r.j&&"interactionId"in PerformanceEventTiming.prototype&&m.observe({type:"first-input",buffered:!0}),(0,s.Q)((()=>{f(m.takeRecords()),n.value<0&&h()>0&&(n.value=0,n.entries=[]),l(!0)})))}))}},15644:(e,t,n)=>{"use strict";n.d(t,{f:()=>p});var r=n(40103),i=n(42097),a=n(41763),o=n(10131),s=n(7261),c=n(14879),l=n(65882),u=n(33863),h=n(13312);const d=[2500,4e3],f={},p=(e,t={})=>{(0,h.I)((()=>{const n=(0,o.N)(),h=(0,s.X)("LCP");let p;const m=e=>{const t=e[e.length-1];t&&t.startTime<n.firstHiddenTime&&(h.value=Math.max(t.startTime-(0,a.b)(),0),h.entries=[t],p())},g=(0,c.l)("largest-contentful-paint",m);if(g){p=(0,i.R)(e,h,d,t.reportAllChanges);const n=(0,u.J)((()=>{f[h.id]||(m(g.takeRecords()),g.disconnect(),f[h.id]=!0,p(!0))}));["keydown","click"].forEach((e=>{r.j.document&&addEventListener(e,(()=>setTimeout(n,0)),!0)})),(0,l.Q)(n)}}))}},42097:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});const r=(e,t,n,r)=>{let i,a;return o=>{t.value>=0&&(o||r)&&(a=t.value-(i||0),(a||void 0===i)&&(i=t.value,t.delta=a,t.rating=((e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good")(t.value,n),e(t)))}}},58998:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});const r=()=>`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`},41763:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var r=n(74013);const i=()=>{const e=(0,r.z)();return e&&e.activationStart||0}},74013:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var r=n(40103);const i=()=>r.j.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},10131:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var r=n(40103);let i=-1;const a=e=>{"hidden"===r.j.document.visibilityState&&i>-1&&(i="visibilitychange"===e.type?e.timeStamp:0,removeEventListener("visibilitychange",a,!0),removeEventListener("prerenderingchange",a,!0))},o=()=>(r.j.document&&i<0&&(i="hidden"!==r.j.document.visibilityState||r.j.document.prerendering?1/0:0,addEventListener("visibilitychange",a,!0),addEventListener("prerenderingchange",a,!0)),{get firstHiddenTime(){return i}})},7261:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});var r=n(40103),i=n(58998),a=n(41763),o=n(74013);const s=(e,t)=>{const n=(0,o.z)();let s="navigate";return n&&(r.j.document&&r.j.document.prerendering||(0,a.b)()>0?s="prerender":r.j.document&&r.j.document.wasDiscarded?s="restore":n.type&&(s=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:(0,i.W)(),navigationType:s}}},14879:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});const r=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((e=>{Promise.resolve().then((()=>{t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}}},65882:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i});var r=n(40103);const i=e=>{const t=t=>{("pagehide"===t.type||r.j.document&&"hidden"===r.j.document.visibilityState)&&e(t)};r.j.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))}},21418:(e,t,n)=>{"use strict";n.d(t,{D:()=>u,O:()=>l});var r=n(14879);let i=0,a=1/0,o=0;const s=e=>{e.forEach((e=>{e.interactionId&&(a=Math.min(a,e.interactionId),o=Math.max(o,e.interactionId),i=o?(o-a)/7+1:0)}))};let c;const l=()=>c?i:performance.interactionCount||0,u=()=>{"interactionCount"in performance||c||(c=(0,r.l)("event",s,{type:"event",buffered:!0,durationThreshold:0}))}},33863:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});const r=e=>{let t=!1;return n=>{t||(e(n),t=!0)}}},13312:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var r=n(40103);const i=e=>{r.j.document&&r.j.document.prerendering?addEventListener("prerenderingchange",(()=>e()),!0):e()}},44629:(e,t,n)=>{"use strict";n.d(t,{z:()=>u});var r=n(42097),i=n(41763),a=n(10131),o=n(7261),s=n(14879),c=n(13312);const l=[1800,3e3],u=(e,t={})=>{(0,c.I)((()=>{const n=(0,a.N)(),c=(0,o.X)("FCP");let u;const h=(0,s.l)("paint",(e=>{e.forEach((e=>{"first-contentful-paint"===e.name&&(h.disconnect(),e.startTime<n.firstHiddenTime&&(c.value=Math.max(e.startTime-(0,i.b)(),0),c.entries.push(e),u(!0)))}))}));h&&(u=(0,r.R)(e,c,l,t.reportAllChanges))}))}},6842:(e,t,n)=>{"use strict";n.d(t,{C:()=>h});var r=n(40103),i=n(42097),a=n(41763),o=n(74013),s=n(7261),c=n(13312);const l=[800,1800],u=e=>{r.j.document&&r.j.document.prerendering?(0,c.I)((()=>u(e))):r.j.document&&"complete"!==r.j.document.readyState?addEventListener("load",(()=>u(e)),!0):setTimeout(e,0)},h=(e,t={})=>{const n=(0,s.X)("TTFB"),r=(0,i.R)(e,n,l,t.reportAllChanges);u((()=>{const e=(0,o.z)();if(e){const t=e.responseStart;if(t<=0||t>performance.now())return;n.value=Math.max(t-(0,a.b)(),0),n.entries=[e],r(!0)}}))}},40103:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});const r=n(66528).O},80691:(e,t,n)=>{"use strict";n.d(t,{y:()=>f});var r=n(63123),i=n(71294),a=n(69868),o=n(79747),s=n(47074),c=n(84538),l=n(83736),u=n(65259),h=n(11931),d=n(332);class f extends r.V{constructor(e){const t={parentSpanIsAlwaysRootSpan:!0,...e},n=h.jf.SENTRY_SDK_SOURCE||(0,a.e)();(0,i.K)(t,"browser",["browser"],n),super(t),t.sendClientReports&&h.jf.document&&h.jf.document.addEventListener("visibilitychange",(()=>{"hidden"===h.jf.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return(0,u.u)(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return(0,u.qv)(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(l.T&&o.vF.warn("SDK not enabled, will not capture user feedback."));const t=(0,d.L)(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(l.T&&o.vF.log("No outcomes to send"));if(!this._dsn)return void(l.T&&o.vF.log("No dsn provided, will not send outcomes"));l.T&&o.vF.log("Sending outcomes:",e);const t=(0,s.m)(e,this._options.tunnel&&(0,c.SB)(this._dsn));this.sendEnvelope(t)}}},83736:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});const r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},65259:(e,t,n)=>{"use strict";n.d(t,{H7:()=>g,K8:()=>l,qv:()=>m,u:()=>p});var r=n(65021),i=n(82480),a=n(88887),o=n(90719),s=n(21919),c=n(91324);function l(e,t){const n=h(e,t),r={type:t&&t.name,value:f(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function u(e,t){return{exception:{values:[l(e,t)]}}}function h(e,t){const n=t.stacktrace||t.stack||"",r=function(e){return e&&d.test(e.message)?1:0}(t),i=function(e){return"number"==typeof e.framesToPop?e.framesToPop:0}(t);try{return e(n,r,i)}catch(e){}return[]}const d=/Minified React error #\d+;/i;function f(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function p(e,t,n,r){const i=g(e,t,n&&n.syntheticException||void 0,r);return(0,o.M6)(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),(0,s.XW)(i)}function m(e,t,n="info",r,i){const a=v(e,t,r&&r.syntheticException||void 0,i);return a.level=n,r&&r.event_id&&(a.event_id=r.event_id),(0,s.XW)(a)}function g(e,t,n,s,c){let d;if((0,a.T2)(t)&&t.error)return u(e,t.error);if((0,a.BD)(t)||(0,a.W6)(t)){const r=t;if("stack"in t)d=u(e,t);else{const t=r.name||((0,a.BD)(r)?"DOMError":"DOMException"),i=r.message?`${t}: ${r.message}`:t;d=v(e,i,n,s),(0,o.gO)(d,i)}return"code"in r&&(d.tags={...d.tags,"DOMException.code":`${r.code}`}),d}return(0,a.bJ)(t)?u(e,t):(0,a.Qd)(t)||(0,a.xH)(t)?(d=function(e,t,n,o){const s=(0,r.KU)(),c=s&&s.getOptions().normalizeDepth,u=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}(t),d={__serialized__:(0,i.cd)(t,c)};if(u)return{exception:{values:[l(e,u)]},extra:d};const f={exception:{values:[{type:(0,a.xH)(t)?t.constructor.name:o?"UnhandledRejection":"Error",value:b(t,{isUnhandledRejection:o})}]},extra:d};if(n){const t=h(e,n);t.length&&(f.exception.values[0].stacktrace={frames:t})}return f}(e,t,n,c),(0,o.M6)(d,{synthetic:!0}),d):(d=v(e,t,n,s),(0,o.gO)(d,`${t}`,void 0),(0,o.M6)(d,{synthetic:!0}),d)}function v(e,t,n,r){const i={};if(r&&n){const r=h(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]})}if((0,a.NF)(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return i.logentry={message:e,params:n},i}return i.message=t,i}function b(e,{isUnhandledRejection:t}){const n=(0,c.HF)(e),r=t?"promise rejection":"exception";return(0,a.T2)(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:(0,a.xH)(e)?`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}},11931:(e,t,n)=>{"use strict";n.d(t,{LV:()=>h,jN:()=>u,jf:()=>c});var r=n(65021),i=n(84150),a=n(66528),o=n(91324),s=n(90719);const c=a.O;let l=0;function u(){return l>0}function h(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return t;if((0,o.sp)(e))return e}catch(t){return e}const a=function(){const a=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const r=a.map((e=>h(e,t)));return e.apply(this,r)}catch(e){throw l++,setTimeout((()=>{l--})),(0,r.v4)((n=>{n.addEventProcessor((e=>(t.mechanism&&((0,s.gO)(e,void 0,void 0),(0,s.M6)(e,t.mechanism)),e.extra={...e.extra,arguments:a},e))),(0,i.Cp)(e)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}catch(e){}(0,o.pO)(a,e),(0,o.my)(e,"__sentry_wrapped__",a);try{Object.getOwnPropertyDescriptor(a,"name").configurable&&Object.defineProperty(a,"name",{get:()=>e.name})}catch(e){}return a}},64718:(e,t,n)=>{"use strict";n.d(t,{F:()=>_});var r=n(53762),i=n(91128),a=n(16630),o=n(24863),s=n(65021),c=n(37839),l=n(43888),u=n(20097),h=n(90719),d=n(79747),f=n(8455),p=n(51956),m=n(7226),g=n(17682),v=n(83736),b=n(11931);const _=(0,o._C)(((e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(e){t.console&&(0,l.P)(function(e){return function(t){if((0,s.KU)()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:(0,p.t)(t.level),message:(0,m.gt)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${(0,m.gt)(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}(0,c.Z)(n,{input:t.args,level:t.level})}}(e)),t.dom&&(0,r.i)(function(e,t){return function(n){if((0,s.KU)()!==e)return;let r,i,a="object"==typeof t?t.serializeAttribute:void 0,o="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;o&&o>1024&&(v.T&&d.vF.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${o} was configured. Sentry will use 1024 instead.`),o=1024),"string"==typeof a&&(a=[a]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=(0,f.Hd)(t,{keyAttrs:a,maxStringLength:o}),i=(0,f.xE)(t)}catch(e){r="<unknown>"}if(0===r.length)return;const l={category:`ui.${n.name}`,message:r};i&&(l.data={"ui.component_name":i}),(0,c.Z)(l,{event:n.event,name:n.name,global:n.global})}}(e,t.dom)),t.xhr&&(0,i.Mn)(function(e){return function(t){if((0,s.KU)()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,a=t.xhr[i.Er];if(!n||!r||!a)return;const{method:o,url:l,status_code:u,body:h}=a,d={method:o,url:l,status_code:u},f={xhr:t.xhr,input:h,startTimestamp:n,endTimestamp:r};(0,c.Z)({category:"xhr",data:d,type:"http"},f)}}(e)),t.fetch&&(0,u.u)(function(e){return function(t){if((0,s.KU)()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){const e=t.fetchData,i={data:t.error,input:t.args,startTimestamp:n,endTimestamp:r};(0,c.Z)({category:"fetch",data:e,level:"error",type:"http"},i)}else{const e=t.response,i={...t.fetchData,status_code:e&&e.status},a={input:t.args,response:e,startTimestamp:n,endTimestamp:r};(0,c.Z)({category:"fetch",data:i,type:"http"},a)}}}(e)),t.history&&(0,a._)(function(e){return function(t){if((0,s.KU)()!==e)return;let n=t.from,r=t.to;const i=(0,g.Dl)(b.jf.location.href);let a=n?(0,g.Dl)(n):void 0;const o=(0,g.Dl)(r);a&&a.path||(a=i),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),i.protocol===a.protocol&&i.host===a.host&&(n=a.relative),(0,c.Z)({category:"navigation",data:{from:n,to:r}})}}(e)),t.sentry&&e.on("beforeSendEvent",function(e){return function(t){(0,s.KU)()===e&&(0,c.Z)({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,h.$X)(t)},{event:t})}}(e))}}}))},55873:(e,t,n)=>{"use strict";n.d(t,{G:()=>c});var r=n(24863),i=n(91324),a=n(9362),o=n(11931);const s=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],c=(0,r._C)(((e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&(0,i.GS)(o.jf,"setTimeout",l),t.setInterval&&(0,i.GS)(o.jf,"setInterval",l),t.requestAnimationFrame&&(0,i.GS)(o.jf,"requestAnimationFrame",u),t.XMLHttpRequest&&"XMLHttpRequest"in o.jf&&(0,i.GS)(XMLHttpRequest.prototype,"send",h);const e=t.eventTarget;e&&(Array.isArray(e)?e:s).forEach(d)}}}));function l(e){return function(...t){const n=t[0];return t[0]=(0,o.LV)(n,{mechanism:{data:{function:(0,a.qQ)(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function u(e){return function(t){return e.apply(this,[(0,o.LV)(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,a.qQ)(e)},handled:!1,type:"instrument"}})])}}function h(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&(0,i.GS)(n,e,(function(t){const n={mechanism:{data:{function:e,handler:(0,a.qQ)(t)},handled:!1,type:"instrument"}},r=(0,i.sp)(t);return r&&(n.mechanism.data.handler=(0,a.qQ)(r)),(0,o.LV)(t,n)}))})),e.apply(this,t)}}function d(e){const t=o.jf,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,i.GS)(n,"addEventListener",(function(t){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=(0,o.LV)(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,a.qQ)(r),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,(0,o.LV)(r,{mechanism:{data:{function:"addEventListener",handler:(0,a.qQ)(r),target:e},handled:!1,type:"instrument"}}),i])}})),(0,i.GS)(n,"removeEventListener",(function(e){return function(t,n,r){const i=n;try{const n=i&&i.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(e){}return e.call(this,t,i,r)}})))}},1116:(e,t,n)=>{"use strict";n.d(t,{L:()=>m});var r=n(24863),i=n(65021),a=n(84150),o=n(45338),s=n(844),c=n(88887),l=n(8455),u=n(9362),h=n(79747),d=n(83736),f=n(65259),p=n(11931);const m=(0,r._C)(((e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(function(e){(0,o.L)((t=>{const{stackParser:n,attachStacktrace:r}=v();if((0,i.KU)()!==e||(0,p.jN)())return;const{msg:o,url:s,line:h,column:d,error:m}=t,g=function(e,t,n,r){const i=e.exception=e.exception||{},a=i.values=i.values||[],o=a[0]=a[0]||{},s=o.stacktrace=o.stacktrace||{},h=s.frames=s.frames||[],d=isNaN(parseInt(r,10))?void 0:r,f=isNaN(parseInt(n,10))?void 0:n,p=(0,c.Kg)(t)&&t.length>0?t:(0,l.$N)();return 0===h.length&&h.push({colno:d,filename:p,function:u.yF,in_app:!0,lineno:f}),e}((0,f.H7)(n,m||o,void 0,r,!1),s,h,d);g.level="error",(0,a.r)(g,{originalException:m,mechanism:{handled:!1,type:"onerror"}})}))}(e),g("onerror")),t.onunhandledrejection&&(function(e){(0,s.r)((t=>{const{stackParser:n,attachStacktrace:r}=v();if((0,i.KU)()!==e||(0,p.jN)())return;const o=function(e){if((0,c.sO)(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(e){}return e}(t),s=(0,c.sO)(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:(0,f.H7)(n,o,void 0,r,!0);s.level="error",(0,a.r)(s,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(e),g("onunhandledrejection"))}}}));function g(e){d.T&&h.vF.log(`Global Handler attached: ${e}`)}function v(){const e=(0,i.KU)();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}},34251:(e,t,n)=>{"use strict";n.d(t,{M:()=>a});var r=n(24863),i=n(11931);const a=(0,r._C)((()=>({name:"HttpContext",preprocessEvent(e){if(!i.jf.navigator&&!i.jf.location&&!i.jf.document)return;const t=e.request&&e.request.url||i.jf.location&&i.jf.location.href,{referrer:n}=i.jf.document||{},{userAgent:r}=i.jf.navigator||{},a={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:a};e.request=o}})))},29575:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});var r=n(24863),i=n(90230),a=n(65259);const o=(0,r._C)(((e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,r,o){const s=o.getOptions();(0,i.Q)(a.K8,s.stackParser,s.maxValueLength,n,t,e,r)}}}))},36206:(e,t,n)=>{"use strict";n.d(t,{Ts:()=>k});var r=n(92810),i=n(76249),a=n(62114),o=n(24863),s=n(8049),c=n(84150),l=n(79747),u=n(60379),h=n(9362),d=n(16630),f=n(80691),p=n(83736),m=n(11931),g=n(64718),v=n(55873),b=n(1116),_=n(34251),y=n(29575),w=n(40675),S=n(39585);function k(e={}){const t=function(e={}){return{defaultIntegrations:[(0,r.D)(),(0,i.Z)(),(0,v.G)(),(0,g.F)(),(0,b.L)(),(0,y.p)(),(0,a.s)(),(0,_.M)()],release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:m.jf.SENTRY_RELEASE&&m.jf.SENTRY_RELEASE.id?m.jf.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0,...e}}(e);if(function(){const e=m.jf,t=e[e.chrome?"chrome":"browser"],n=t&&t.runtime&&t.runtime.id,r=m.jf.location&&m.jf.location.href||"",i=!!n&&m.jf===m.jf.top&&["chrome-extension:","moz-extension:","ms-browser-extension:"].some((e=>r.startsWith(`${e}//`)));return!!n&&!i}())return void(0,l.pq)((()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}));p.T&&((0,u.vm)()||l.vF.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:(0,h.vk)(t.stackParser||w.lG),integrations:(0,o.mH)(t),transport:t.transport||S._};(0,s.J)(f.y,n),t.autoSessionTracking&&(void 0!==m.jf.document?((0,c.J0)({ignoreDuration:!0}),(0,c.J5)(),(0,d._)((({from:e,to:t})=>{void 0!==e&&e!==t&&((0,c.J0)({ignoreDuration:!0}),(0,c.J5)())}))):p.T&&l.vF.warn("Session tracking in non-browser environment with @sentry/browser is not supported."))}},40675:(e,t,n)=>{"use strict";n.d(t,{lG:()=>u});var r=n(9362);function i(e,t,n,i){const a={filename:e,function:"<anonymous>"===t?r.yF:t,in_app:!0};return void 0!==n&&(a.lineno=n),void 0!==i&&(a.colno=i),a}const a=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o=/\((\S*)(?::(\d+))(?::(\d+))\)/,s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,c=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,l=[[30,e=>{const t=a.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=o.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=h(t[1]||r.yF,t[2]);return i(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{const t=s.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=c.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||r.yF;return[n,e]=h(n,e),i(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]],u=(0,r.gd)(...l),h=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),i=-1!==e.indexOf("safari-web-extension");return n||i?[-1!==e.indexOf("@")?e.split("@")[0]:r.yF,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]}},43612:(e,t,n)=>{"use strict";n.d(t,{i:()=>c});var r=n(92978),i=n(62492),a=n(79747),o=n(83736),s=n(11931);function c(){s.jf&&s.jf.document?s.jf.document.addEventListener("visibilitychange",(()=>{const e=(0,r.Bk)();if(!e)return;const t=(0,r.zU)(e);if(s.jf.document.hidden&&t){const e="cancelled",{op:n,status:s}=(0,r.et)(t);o.T&&a.vF.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${n}`),s||t.setStatus({code:i.TJ,message:e}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}})):o.T&&a.vF.warn("[Tracing] Could not set up background tab detection due to lack of global document")}},64687:(e,t,n)=>{"use strict";n.d(t,{dp:()=>S});var r=n(8747),i=n(7529),a=n(16630),o=n(24056),s=n(9365),c=n(92936),l=n(65021),u=n(92978),h=n(91717),d=n(79747),f=n(91805),p=n(60986),m=n(30530),g=n(8455),v=n(83736),b=n(11931),_=n(43612),y=n(25086);const w={...o.C,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!0,_experiments:{},...y.h$},S=(e={})=>{(0,s.s)();const{enableInp:t,enableLongTask:n,_experiments:{enableInteractions:g},beforeStartSpan:S,idleTimeout:x,finalTimeout:M,childSpanTimeout:E,markBackgroundSpan:T,traceFetch:C,traceXHR:A,shouldCreateSpanForRequest:O,enableHTTPTimings:P,instrumentPageLoad:I,instrumentNavigation:R}={...w,...e},B=(0,r.bk)();t&&(0,i.Z)(),n&&(0,r.c8)(),g&&(0,r.DI)();const N={name:void 0,source:void 0};function L(e,t){const n="pageload"===t.op,i=S?S(t):t,a=i.attributes||{};t.name!==i.name&&(a[c.i_]="custom",i.attributes=a),N.name=i.name,N.source=a[c.i_];const s=(0,o.D)(i,{idleTimeout:x,finalTimeout:M,childSpanTimeout:E,disableAutoFinish:n,beforeSpanEnd:e=>{B(),(0,r.QU)(e)}});function l(){["interactive","complete"].includes(b.jf.document.readyState)&&e.emit("idleSpanEnableAutoFinish",s)}return n&&b.jf.document&&(b.jf.document.addEventListener("readystatechange",(()=>{l()})),l()),s}return{name:"BrowserTracing",afterAllSetup(e){let t,n=b.jf.location&&b.jf.location.href;e.on("startNavigationSpan",(n=>{(0,l.KU)()===e&&(t&&(v.T&&d.vF.log(`[Tracing] Finishing current root span with op: ${(0,u.et)(t).op}`),t.end()),t=L(e,{op:"navigation",...n}))})),e.on("startPageLoadSpan",((n,r={})=>{if((0,l.KU)()!==e)return;t&&(v.T&&d.vF.log(`[Tracing] Finishing current root span with op: ${(0,u.et)(t).op}`),t.end());const i=r.sentryTrace||k("sentry-trace"),a=r.baggage||k("baggage"),o=(0,f.kM)(i,a);(0,l.o5)().setPropagationContext(o),t=L(e,{op:"pageload",...n})})),e.on("spanEnd",(e=>{const t=(0,u.et)(e).op;if(e!==(0,u.zU)(e)||"navigation"!==t&&"pageload"!==t)return;const n=(0,l.o5)(),r=n.getPropagationContext();n.setPropagationContext({...r,sampled:void 0!==r.sampled?r.sampled:(0,u.pK)(e),dsc:r.dsc||(0,h.k1)(e)})})),b.jf.location&&(I&&function(e,t,n){e.emit("startPageLoadSpan",t,void 0),(0,l.o5)().setTransactionName(t.name);const r=(0,u.Bk)();r&&(0,u.et)(r).op}(e,{name:b.jf.location.pathname,startTime:p.k3?p.k3/1e3:void 0,attributes:{[c.i_]:"url",[c.JD]:"auto.pageload.browser"}}),R&&(0,a._)((({to:t,from:r})=>{void 0===r&&n&&-1!==n.indexOf(t)?n=void 0:r!==t&&(n=void 0,function(e,t){(0,l.rm)().setPropagationContext((0,m.J)()),(0,l.o5)().setPropagationContext((0,m.J)()),e.emit("startNavigationSpan",t),(0,l.o5)().setTransactionName(t.name);const n=(0,u.Bk)();n&&(0,u.et)(n).op}(e,{name:b.jf.location.pathname,attributes:{[c.i_]:"url",[c.JD]:"auto.navigation.browser"}}))}))),T&&(0,_.i)(),g&&function(e,t,n,r){let i;b.jf.document&&addEventListener("click",(()=>{const a="ui.action.click",s=(0,u.Bk)(),l=s&&(0,u.zU)(s);if(l){const e=(0,u.et)(l).op;if(["navigation","pageload"].includes(e))return void(v.T&&d.vF.warn(`[Tracing] Did not create ${a} span because a pageload or navigation span is in progress.`))}i&&(i.setAttribute(c.fs,"interactionInterrupted"),i.end(),i=void 0),r.name?i=(0,o.D)({name:r.name,op:a,attributes:{[c.i_]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n}):v.T&&d.vF.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`)}),{once:!1,capture:!0})}(x,M,E,N),(0,y.Qb)({traceFetch:C,traceXHR:A,tracePropagationTargets:e.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:O,enableHTTPTimings:P})}}};function k(e){const t=(0,g.NX)(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}},25086:(e,t,n)=>{"use strict";n.d(t,{Qb:()=>S,h$:()=>w});var r=n(91128),i=n(57371),a=n(93909),o=n(92978),s=n(22272),c=n(62492),l=n(69949),u=n(92936),h=n(30735),d=n(65021),f=n(91717),p=n(20097),m=n(17682),g=n(60986),v=n(7226),b=n(91805),_=n(13629),y=n(11931);const w={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function S(e){const{traceFetch:t,traceXHR:n,shouldCreateSpanForRequest:i,enableHTTPTimings:g,tracePropagationTargets:S}={traceFetch:w.traceFetch,traceXHR:w.traceXHR,...e},x="function"==typeof i?i:e=>!0,E=e=>function(e,t){const n=y.jf.location&&y.jf.location.href;if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch(e){return!1}const a=r.origin===i;return t?(0,v.Xr)(r.toString(),t)||a&&(0,v.Xr)(r.pathname,t):a}{const n=!!e.match(/^\/(?!\/)/);return t?(0,v.Xr)(e,t):n}}(e,S),T={};t&&(0,p.u)((e=>{const t=(0,a.v)(e,x,E,T);if(t){const n=M(e.fetchData.url),r=n?(0,m.Dl)(n).host:void 0;t.setAttributes({"http.url":n,"server.address":r})}g&&t&&k(t)})),n&&(0,r.Mn)((e=>{const t=function(e,t,n,i){const a=e.xhr,p=a&&a[r.Er];if(!a||a.__sentry_own_request__||!p)return;const g=(0,s.w)()&&t(p.url);if(e.endTimestamp&&g){const e=a.__sentry_xhr_span_id__;if(!e)return;const t=i[e];return void(t&&void 0!==p.status_code&&((0,c.N8)(t,p.status_code),t.end(),delete i[e]))}const v=M(p.url),y=v?(0,m.Dl)(v).host:void 0,w=!!(0,o.Bk)(),S=g&&w?(0,l.Uk)({name:`${p.method} ${p.url}`,attributes:{type:"xhr","http.method":p.method,"http.url":v,url:p.url,"server.address":y,[u.JD]:"auto.http.browser",[u.uT]:"http.client"}}):new h.w;a.__sentry_xhr_span_id__=S.spanContext().spanId,i[a.__sentry_xhr_span_id__]=S;const k=(0,d.KU)();return a.setRequestHeader&&n(p.url)&&k&&function(e,t,n){const r=(0,d.o5)(),i=(0,d.rm)(),{traceId:a,spanId:c,sampled:l,dsc:u}={...i.getPropagationContext(),...r.getPropagationContext()};!function(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(_.hF,n)}catch(e){}}(e,n&&(0,s.w)()?(0,o.Qh)(n):(0,b.TC)(a,c,l),(0,_.De)(u||(n?(0,f.k1)(n):(0,f.lF)(a,t))))}(a,k,(0,s.w)()&&w?S:void 0),S}(e,x,E,T);g&&t&&k(t)}))}function k(e){const{url:t}=(0,o.et)(e).data||{};if(!t||"string"!=typeof t)return;const n=(0,i.wv)("resource",(({entries:r})=>{r.forEach((r=>{(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"==typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)})(r)&&r.name.endsWith(t)&&(function(e){const{name:t,version:n}=function(e){let t="unknown",n="unknown",r="";for(const i of e){if("/"===i){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),g.k3?[...r,["http.request.redirect_start",x(e.redirectStart)],["http.request.fetch_start",x(e.fetchStart)],["http.request.domain_lookup_start",x(e.domainLookupStart)],["http.request.domain_lookup_end",x(e.domainLookupEnd)],["http.request.connect_start",x(e.connectStart)],["http.request.secure_connection_start",x(e.secureConnectionStart)],["http.request.connection_end",x(e.connectEnd)],["http.request.request_start",x(e.requestStart)],["http.request.response_start",x(e.responseStart)],["http.request.response_end",x(e.responseEnd)]]:r}(r).forEach((t=>e.setAttribute(...t))),setTimeout(n))}))}))}function x(e=0){return((g.k3||performance.timeOrigin)+e)/1e3}function M(e){try{return new URL(e,y.jf.location.origin).href}catch(e){return}}},39585:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var r=n(63215),i=n(83199),a=n(21919);function o(e,t=(0,r.qd)("fetch")){let n=0,o=0;return(0,i.o)(e,(function(i){const s=i.body.length;n+=s,o++;const c={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&o<15,...e.fetchOptions};if(!t)return(0,r.y7)("fetch"),(0,a.xg)("No fetch implementation available");try{return t(e.url,c).then((e=>(n-=s,o--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return(0,r.y7)("fetch"),n-=s,o--,(0,a.xg)(e)}}))}},332:(e,t,n)=>{"use strict";n.d(t,{L:()=>a});var r=n(84538),i=n(80331);function a(e,{metadata:t,tunnel:n,dsn:a}){const o={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!a&&{dsn:(0,r.SB)(a)}},s=function(e){return[{type:"user_report"},e]}(e);return(0,i.h4)(o,[s])}},70933:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(91324);const i="7";function a(e,t,n){return t||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return(0,r.u4)({sentry_key:e.publicKey,sentry_version:i,...t&&{sentry_client:`${t.name}/${t.version}`}})}(e,n)}`}},19421:(e,t,n)=>{"use strict";n.d(t,{h:()=>a});var r=n(59881),i=n(61612);function a(e){const t=(0,r.S)(e);return t.acs?t.acs:(0,i.z)()}},61612:(e,t,n)=>{"use strict";n.d(t,{z:()=>d});var r=n(88887),i=n(1841),a=n(38533),o=n(59881);class s{constructor(e,t){let n,r;n=e||new a.H,r=t||new a.H,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){const t=this._pushScope();let n;try{n=e(t)}catch(e){throw this._popScope(),e}return(0,r.Qg)(n)?n.then((e=>(this._popScope(),e)),(e=>{throw this._popScope(),e})):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}_popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}}function c(){const e=(0,o.E)(),t=(0,o.S)(e);return t.hub||(t.hub=new s((0,i.r)(),(0,i.q)())),t.hub}function l(e){return c().withScope(e)}function u(e,t){const n=c();return n.withScope((()=>(n.getStackTop().scope=e,t(e))))}function h(e){return c().withScope((()=>e(c().getIsolationScope())))}function d(){return{withIsolationScope:h,withScope:l,withSetScope:u,withSetIsolationScope:(e,t)=>h(t),getCurrentScope:()=>c().getScope(),getIsolationScope:()=>c().getIsolationScope()}}},63123:(e,t,n)=>{"use strict";n.d(t,{V:()=>w});var r=n(84538),i=n(79747),a=n(90719),o=n(88887),s=n(21919),c=n(80331),l=n(91324),u=n(83209),h=n(70933),d=n(65021),f=n(86843),p=n(10745),m=n(24863),g=n(2306),v=n(91717),b=n(93920),_=n(72926);const y="Not capturing exception because it's already been captured.";class w{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=(0,r.AD)(e.dsn):f.T&&i.vF.warn("No DSN provided, client will not send events."),this._dsn){const t=(0,h.Z)(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){const r=(0,a.eJ)();if((0,a.GR)(e))return f.T&&i.vF.log(y),r;const o={event_id:r,...t};return this._process(this.eventFromException(e,o).then((e=>this._captureEvent(e,o,n)))),o.event_id}captureMessage(e,t,n,r){const i={event_id:(0,a.eJ)(),...n},s=(0,o.NF)(e)?e:String(e),c=(0,o.sO)(e)?this.eventFromMessage(s,t,i):this.eventFromException(e,i);return this._process(c.then((e=>this._captureEvent(e,i,r)))),i.event_id}captureEvent(e,t,n){const r=(0,a.eJ)();if(t&&t.originalException&&(0,a.GR)(t.originalException))return f.T&&i.vF.log(y),r;const o={event_id:r,...t},s=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,o,s||n)),o.event_id}captureSession(e){"string"!=typeof e.release?f.T&&i.vF.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),(0,g.qO)(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):(0,s.XW)(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.emit("close"),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];(0,m.qm)(this,e,this._integrations),t||(0,m.lc)(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=(0,p.V7)(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=(0,c.W3)(n,(0,c.bm)(e));const r=this.sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=(0,p.LE)(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const n=`${e}:${t}`;f.T&&i.vF.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,(e=>(f.T&&i.vF.error("Error while sending event:",e),e))):(f.T&&i.vF.error("Transport disabled"),(0,s.XW)({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=(0,m.P$)(this,e),(0,m.lc)(this,e)}_updateSessionFromEvent(e,t){let n=!1,r=!1;const i=t.exception&&t.exception.values;if(i){r=!0;for(const e of i){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const a="ok"===e.status;(a&&0===e.errors||a&&n)&&((0,g.qO)(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new s.T2((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r=(0,d.rm)()){const i=this.getOptions(),a=Object.keys(this._integrations);return!t.integrations&&a.length>0&&(t.integrations=a),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),(0,_.mG)(i,e,t,n,this,r).then((e=>{if(null===e)return e;const t={...r.getPropagationContext(),...n?n.getPropagationContext():void 0};if((!e.contexts||!e.contexts.trace)&&t){const{traceId:n,spanId:r,parentSpanId:i,dsc:a}=t;e.contexts={trace:(0,l.Ce)({trace_id:n,span_id:r,parent_span_id:i}),...e.contexts};const o=a||(0,v.lF)(n,this);e.sdkProcessingMetadata={dynamicSamplingContext:o,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if(f.T){const t=e;"log"===t.logLevel?i.vF.log(t.message):i.vF.warn(t)}}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:i}=r,a=k(e),c=S(e),l=e.type||"error",h=`before send for type \`${l}\``,d=void 0===i?void 0:(0,b.i)(i);if(c&&"number"==typeof d&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",e),(0,s.xg)(new u.U(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const f="replay_event"===l?"replay":l,p=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,p).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",f,e),new u.U("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const i=function(e,t,n){const{beforeSend:r,beforeSendTransaction:i,beforeSendSpan:a}=e;if(S(t)&&r)return r(t,n);if(k(t)){if(t.spans&&a){const e=[];for(const n of t.spans){const t=a(n);t&&e.push(t)}t.spans=e}if(i)return i(t,n)}return t}(r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if((0,o.Qg)(e))return e.then((e=>{if(!(0,o.Qd)(e)&&null!==e)throw new u.U(n);return e}),(e=>{throw new u.U(`${t} rejected with ${e}`)}));if(!(0,o.Qd)(e)&&null!==e)throw new u.U(n);return e}(i,h)})).then((r=>{if(null===r)throw this.recordDroppedEvent("before_send",f,e),new u.U(`${h} returned \`null\`, will not send event.`,"log");const i=n&&n.getSession();!a&&i&&this._updateSessionFromEvent(i,r);const o=r.transaction_info;if(a&&o&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...o,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof u.U)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new u.U(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}}function S(e){return void 0===e.type}function k(e){return"transaction"===e.type}},37839:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(60986),i=n(79747),a=n(65021);const o=100;function s(e,t){const n=(0,a.KU)(),s=(0,a.rm)();if(!n)return;const{beforeBreadcrumb:c=null,maxBreadcrumbs:l=o}=n.getOptions();if(l<=0)return;const u={timestamp:(0,r.lu)(),...e},h=c?(0,i.pq)((()=>c(u,t))):u;null!==h&&(n.emit&&n.emit("beforeAddBreadcrumb",h,t),s.addBreadcrumb(h,l))}},59881:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,S:()=>a});var r=n(66528);function i(){return a(r.O),r.O}function a(e){return e.__SENTRY__||(e.__SENTRY__={extensions:{}}),e.__SENTRY__}},69404:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});const r="production"},65021:(e,t,n)=>{"use strict";n.d(t,{KU:()=>h,m6:()=>l,o5:()=>s,rm:()=>c,v4:()=>u});var r=n(66528),i=n(19421),a=n(59881),o=n(38533);function s(){const e=(0,a.E)();return(0,i.h)(e).getCurrentScope()}function c(){const e=(0,a.E)();return(0,i.h)(e).getIsolationScope()}function l(){return(0,r.B)("globalScope",(()=>new o.H))}function u(...e){const t=(0,a.E)(),n=(0,i.h)(t);if(2===e.length){const[t,r]=e;return t?n.withSetScope(t,r):n.withScope(r)}return n.withScope(e[0])}function h(){return s().getClient()}},86843:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});const r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},1841:(e,t,n)=>{"use strict";n.d(t,{q:()=>o,r:()=>a});var r=n(66528),i=n(38533);function a(){return(0,r.B)("defaultCurrentScope",(()=>new i.H))}function o(){return(0,r.B)("defaultIsolationScope",(()=>new i.H))}},10745:(e,t,n)=>{"use strict";n.d(t,{LE:()=>s,V7:()=>c,lu:()=>l});var r=n(80331),i=n(84538),a=n(91717),o=n(92978);function s(e,t,n,a){const o=(0,r.Cj)(n),s={sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!a&&t&&{dsn:(0,i.SB)(t)}},c="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return(0,r.h4)(s,[c])}function c(e,t,n,i){const a=(0,r.Cj)(n),o=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const s=(0,r.n2)(e,a,i,t);delete e.sdkProcessingMetadata;const c=[{type:o},e];return(0,r.h4)(s,[c])}function l(e,t){const n=(0,a.k1)(e[0]),s=t&&t.getDsn(),c=t&&t.getOptions().tunnel,l={sent_at:(new Date).toISOString(),...function(e){return!!e.trace_id&&!!e.public_key}(n)&&{trace:n},...!!c&&s&&{dsn:(0,i.SB)(s)}},u=t&&t.getOptions().beforeSendSpan,h=u?e=>u((0,o.et)(e)):e=>(0,o.et)(e),d=[];for(const t of e){const e=h(t);e&&d.push((0,r.y5)(e))}return(0,r.h4)(l,d)}},716:(e,t,n)=>{"use strict";n.d(t,{j:()=>s});var r=n(21919),i=n(79747),a=n(88887),o=n(86843);function s(e,t,n,c=0){return new r.T2(((r,l)=>{const u=e[c];if(null===t||"function"!=typeof u)r(t);else{const h=u({...t},n);o.T&&u.id&&null===h&&i.vF.log(`Event processor "${u.id}" dropped event`),(0,a.Qg)(h)?h.then((t=>s(e,t,n,c+1).then(r))).then(null,l):s(e,h,n,c+1).then(r).then(null,l)}}))}},84150:(e,t,n)=>{"use strict";n.d(t,{Cp:()=>c,J0:()=>u,J5:()=>f,r:()=>l});var r=n(66528),i=n(69404),a=n(65021),o=n(2306),s=n(72926);function c(e,t){return(0,a.o5)().captureException(e,(0,s.li)(t))}function l(e,t){return(0,a.o5)().captureEvent(e,t)}function u(e){const t=(0,a.KU)(),n=(0,a.rm)(),s=(0,a.o5)(),{release:c,environment:l=i.U}=t&&t.getOptions()||{},{userAgent:u}=r.O.navigator||{},d=(0,o.fj)({release:c,environment:l,user:s.getUser()||n.getUser(),...u&&{userAgent:u},...e}),f=n.getSession();return f&&"ok"===f.status&&(0,o.qO)(f,{status:"exited"}),h(),n.setSession(d),s.setSession(d),d}function h(){const e=(0,a.rm)(),t=(0,a.o5)(),n=t.getSession()||e.getSession();n&&(0,o.Vu)(n),d(),e.setSession(),t.setSession()}function d(){const e=(0,a.rm)(),t=(0,a.o5)(),n=(0,a.KU)(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function f(e=!1){e?h():d()}},93909:(e,t,n)=>{"use strict";n.d(t,{v:()=>m});var r=n(17682),i=n(91805),a=n(13629),o=n(88887),s=n(65021),c=n(92936),l=n(22272),u=n(92978),h=n(30735),d=n(62492),f=n(69949),p=n(91717);function m(e,t,n,m,g="auto.http.browser"){if(!e.fetchData)return;const v=(0,l.w)()&&t(e.fetchData.url);if(e.endTimestamp&&v){const t=e.fetchData.__span;if(!t)return;const n=m[t];return void(n&&(function(e,t){if(t.response){(0,d.N8)(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus({code:d.TJ,message:"internal_error"});e.end()}(n,e),delete m[t]))}const b=(0,s.o5)(),_=(0,s.KU)(),{method:y,url:w}=e.fetchData,S=function(e){try{return new URL(e).href}catch(e){return}}(w),k=S?(0,r.Dl)(S).host:void 0,x=!!(0,u.Bk)(),M=v&&x?(0,f.Uk)({name:`${y} ${w}`,attributes:{url:w,type:"fetch","http.method":y,"http.url":S,"server.address":k,[c.JD]:g,[c.uT]:"http.client"}}):new h.w;if(e.fetchData.__span=M.spanContext().spanId,m[M.spanContext().spanId]=M,n(e.fetchData.url)&&_){const t=e.args[0];e.args[1]=e.args[1]||{};const n=e.args[1];n.headers=function(e,t,n,r,c){const l=(0,s.rm)(),{traceId:h,spanId:d,sampled:f,dsc:m}={...l.getPropagationContext(),...n.getPropagationContext()},g=c?(0,u.Qh)(c):(0,i.TC)(h,d,f),v=(0,a.De)(m||(c?(0,p.k1)(c):(0,p.lF)(h,t))),b=r.headers||("undefined"!=typeof Request&&(0,o.tH)(e,Request)?e.headers:void 0);if(b){if("undefined"!=typeof Headers&&(0,o.tH)(b,Headers)){const e=new Headers(b);return e.append("sentry-trace",g),v&&e.append(a.hF,v),e}if(Array.isArray(b)){const e=[...b,["sentry-trace",g]];return v&&e.push([a.hF,v]),e}{const e="baggage"in b?b.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),v&&t.push(v),{...b,"sentry-trace":g,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":g,baggage:v}}(t,_,b,n,(0,l.w)()&&x?M:void 0)}return M}},24863:(e,t,n)=>{"use strict";n.d(t,{P$:()=>c,_C:()=>h,lc:()=>l,mH:()=>s,qm:()=>u});var r=n(90719),i=n(79747),a=n(86843);const o=[];function s(e){const t=e.defaultIntegrations||[],n=e.integrations;let i;t.forEach((e=>{e.isDefaultInstance=!0})),i=Array.isArray(n)?[...t,...n]:"function"==typeof n?(0,r.k9)(n(t)):t;const a=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.keys(t).map((e=>t[e]))}(i),o=function(e,t){for(let t=0;t<e.length;t++)if(!0==("Debug"===e[t].name))return t;return-1}(a);if(-1!==o){const[e]=a.splice(o,1);a.push(e)}return a}function c(e,t){const n={};return t.forEach((t=>{t&&u(e,t,n)})),n}function l(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function u(e,t,n){if(n[t.name])a.T&&i.vF.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===o.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),o.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if("function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}a.T&&i.vF.log(`Integration installed: ${t.name}`)}}function h(e){return e}},62114:(e,t,n)=>{"use strict";n.d(t,{s:()=>o});var r=n(79747),i=n(24863),a=n(86843);const o=(0,i._C)((()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(e,t){return!!t&&(!!function(e,t){const n=e.message,r=t.message;return!(!n&&!r)&&(!(n&&!r||!n&&r)&&(n===r&&(!!c(e,t)&&!!s(e,t))))}(e,t)||!!function(e,t){const n=l(t),r=l(e);return!(!n||!r)&&(n.type===r.type&&n.value===r.value&&(!!c(e,t)&&!!s(e,t)))}(e,t))}(t,e))return a.T&&r.vF.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}}));function s(e,t){let n=u(e),r=u(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function c(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function l(e){return e.exception&&e.exception.values&&e.exception.values[0]}function u(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}},76249:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(91324),i=n(65021),a=n(24863);let o;const s=new WeakMap,c=(0,a._C)((()=>({name:"FunctionToString",setupOnce(){o=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=(0,r.sp)(this),n=s.has((0,i.KU)())&&void 0!==t?t:this;return o.apply(n,e)}}catch(e){}},setup(e){s.set(e,!0)}})))},92810:(e,t,n)=>{"use strict";n.d(t,{D:()=>l});var r=n(79747),i=n(90719),a=n(7226),o=n(86843),s=n(24863);const c=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],l=(0,s._C)(((e={})=>({name:"InboundFilters",processEvent(t,n,s){const l=s.getOptions(),h=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:c],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,l);return function(e,t){return t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e)?(o.T&&r.vF.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,i.$X)(e)}`),!0):function(e,t){return!(e.type||!t||!t.length)&&function(e){const t=[];let n;e.message&&t.push(e.message);try{n=e.exception.values[e.exception.values.length-1]}catch(e){}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}(e).some((e=>(0,a.Xr)(e,t)))}(e,t.ignoreErrors)?(o.T&&r.vF.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,i.$X)(e)}`),!0):function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&(0,a.Xr)(n,t)}(e,t.ignoreTransactions)?(o.T&&r.vF.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${(0,i.$X)(e)}`),!0):function(e,t){if(!t||!t.length)return!1;const n=u(e);return!!n&&(0,a.Xr)(n,t)}(e,t.denyUrls)?(o.T&&r.vF.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,i.$X)(e)}.\nUrl: ${u(e)}`),!0):!function(e,t){if(!t||!t.length)return!0;const n=u(e);return!n||(0,a.Xr)(n,t)}(e,t.allowUrls)&&(o.T&&r.vF.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,i.$X)(e)}.\nUrl: ${u(e)}`),!0)}(t,h)?null:t}})));function u(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return o.T&&r.vF.error(`Cannot extract url for event ${(0,i.$X)(e)}`),null}}},44218:(e,t,n)=>{"use strict";n.d(t,{g:()=>a});var r=n(91324);let i;function a(e){const t=function(e){return i?i.get(e):void 0}(e);if(!t)return;const n={};for(const[,[e,i]]of t)n[e]||(n[e]=[]),n[e].push((0,r.Ce)(i));return n}},38533:(e,t,n)=>{"use strict";n.d(t,{H:()=>h});var r=n(30530),i=n(88887),a=n(60986),o=n(90719),s=n(79747),c=n(2306),l=n(99608);class u{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=(0,r.J)()}clone(){const e=new u;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,(0,l.r)(e,(0,l.f)(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&(0,c.qO)(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e,[n,r]=t instanceof h?[t.getScopeData(),t.getRequestSession()]:(0,i.Qd)(t)?[e,e.requestSession]:[],{tags:a,extra:o,user:s,contexts:c,level:l,fingerprint:u=[],propagationContext:d}=n||{};return this._tags={...this._tags,...a},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},s&&Object.keys(s).length&&(this._user=s),l&&(this._level=l),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),r&&(this._requestSession=r),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,(0,l.r)(this,void 0),this._attachments=[],this._propagationContext=(0,r.J)(),this._notifyScopeListeners(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:(0,a.lu)(),...e},i=this._breadcrumbs;return i.push(r),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:(0,l.f)(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:(0,o.eJ)();if(!this._client)return s.vF.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n&&n.event_id?n.event_id:(0,o.eJ)();if(!this._client)return s.vF.warn("No client configured on scope - will not capture message!"),r;const i=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:(0,o.eJ)();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(s.vF.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}const h=u},8049:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var r=n(79747),i=n(65021),a=n(59881),o=n(86843);function s(e,t){!0===t.debug&&(o.T?r.vF.enable():(0,r.pq)((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}))),(0,i.o5)().update(t.initialScope);const n=new e(t);!function(e){(0,i.o5)().setClient(e),function(e){const t=(0,a.S)((0,a.E)());t.hub&&"function"==typeof t.hub.getStackTop&&(t.hub.getStackTop().client=e)}(e)}(n),n.init()}},92936:(e,t,n)=>{"use strict";n.d(t,{E1:()=>u,JD:()=>o,Sn:()=>c,fs:()=>s,i_:()=>r,jG:()=>h,sy:()=>i,uT:()=>a,xc:()=>l});const r="sentry.source",i="sentry.sample_rate",a="sentry.op",o="sentry.origin",s="sentry.idle_span_finish_reason",c="sentry.measurement_unit",l="sentry.measurement_value",u="sentry.profile_id",h="sentry.exclusive_time"},2306:(e,t,n)=>{"use strict";n.d(t,{Vu:()=>c,fj:()=>o,qO:()=>s});var r=n(60986),i=n(90719),a=n(91324);function o(e){const t=(0,r.zf)(),n={sid:(0,i.eJ)(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return(0,a.Ce)({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&s(n,e),n}function s(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,r.zf)(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:(0,i.eJ)()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function c(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),s(e,n)}},91717:(e,t,n)=>{"use strict";n.d(t,{LZ:()=>l,k1:()=>h,lF:()=>u});var r=n(91324),i=n(69404),a=n(65021),o=n(92936),s=n(92978);const c="_frozenDsc";function l(e,t){const n=e;(0,r.my)(n,c,t)}function u(e,t){const n=t.getOptions(),{publicKey:a}=t.getDsn()||{},o=(0,r.Ce)({environment:n.environment||i.U,release:n.release,public_key:a,trace_id:e});return t.emit("createDsc",o),o}function h(e){const t=(0,a.KU)();if(!t)return{};const n=u((0,s.et)(e).trace_id||"",t),r=(0,s.zU)(e);if(!r)return n;const i=r[c];if(i)return i;const l=(0,s.et)(r),h=l.data||{},d=h[o.sy];null!=d&&(n.sample_rate=`${d}`);const f=h[o.i_];return f&&"url"!==f&&(n.transaction=l.description),n.sampled=String((0,s.pK)(r)),t.emit("createDsc",n),n}},9365:(e,t,n)=>{"use strict";n.d(t,{s:()=>u});var r=n(45338),i=n(844),a=n(79747),o=n(86843),s=n(92978),c=n(62492);let l=!1;function u(){l||(l=!0,(0,r.L)(h),(0,i.r)(h))}function h(){const e=(0,s.Bk)(),t=e&&(0,s.zU)(e);if(t){const e="internal_error";o.T&&a.vF.log(`[Tracing] Root span: ${e} -> Global error occured`),t.setStatus({code:c.TJ,message:e})}}h.tag="sentry_tracingErrorCallback"},24056:(e,t,n)=>{"use strict";n.d(t,{C:()=>p,D:()=>_});var r=n(60986),i=n(79747),a=n(65021),o=n(86843),s=n(92936),c=n(22272),l=n(99608),u=n(92978),h=n(30735),d=n(62492),f=n(69949);const p={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},m="heartbeatFailed",g="idleTimeout",v="finalTimeout",b="externalFinish";function _(e,t={}){const n=new Map;let _,y=!1,w=b,S=!t.disableAutoFinish;const{idleTimeout:k=p.idleTimeout,finalTimeout:x=p.finalTimeout,childSpanTimeout:M=p.childSpanTimeout,beforeSpanEnd:E}=t,T=(0,a.KU)();if(!T||!(0,c.w)())return new h.w;const C=(0,a.o5)(),A=(0,u.Bk)(),O=function(e){const t=(0,f.Uk)(e);return(0,l.r)((0,a.o5)(),t),o.T&&i.vF.log("[Tracing] Started span is an idle span"),t}(e);function P(e=(0,r.zf)()){const t=(0,u.xO)(O).filter((e=>e!==O));if(!t.length)return void O.end(e);const n=t.map((e=>(0,u.et)(e).timestamp)).filter((e=>!!e)),i=n.length?Math.max(...n):void 0,a=(0,u.cI)(e),o=(0,u.et)(O).start_timestamp,s=Math.min(o?o+x/1e3:1/0,Math.max(o||-1/0,Math.min(a,i||1/0)));O.end(s)}function I(){_&&(clearTimeout(_),_=void 0)}function R(e){I(),_=setTimeout((()=>{!y&&0===n.size&&S&&(w=g,P(e))}),k)}function B(e){_=setTimeout((()=>{!y&&S&&(w=m,P(e))}),M)}return T.on("spanStart",(e=>{var t;y||e===O||(0,u.et)(e).timestamp||(0,u.xO)(O).includes(e)&&(t=e.spanContext().spanId,I(),n.set(t,!0),B((0,r.zf)()+M/1e3))})),T.on("spanEnd",(e=>{var t;y||(t=e.spanContext().spanId,n.has(t)&&n.delete(t),0===n.size&&R((0,r.zf)()+k/1e3),e===O&&function(){y=!0,n.clear(),E&&E(O),(0,l.r)(C,A);const e=(0,u.et)(O),{timestamp:t,start_timestamp:r}=e;if(!t||!r)return;(e.data||{})[s.fs]||O.setAttribute(s.fs,w),i.vF.log(`[Tracing] Idle span "${e.op}" finished`);const a=(0,u.xO)(O).filter((e=>e!==O));let c=0;a.forEach((e=>{e.isRecording()&&(e.setStatus({code:d.TJ,message:"cancelled"}),e.end(t),o.T&&i.vF.log("[Tracing] Cancelling span since span ended early",JSON.stringify(e,void 0,2)));const n=(0,u.et)(e),{timestamp:r=0,start_timestamp:a=0}=n,s=a<=t,l=r-a<(x+k)/1e3;if(o.T){const t=JSON.stringify(e,void 0,2);s?l||i.vF.log("[Tracing] Discarding span since it finished after idle span final timeout",t):i.vF.log("[Tracing] Discarding span since it happened after idle span was finished",t)}l&&s||((0,u.VS)(O,e),c++)})),c>0&&O.setAttribute("sentry.idle_span_discarded_spans",c)}())})),T.on("idleSpanEnableAutoFinish",(e=>{e===O&&(S=!0,R(),n.size&&B())})),t.disableAutoFinish||R(),setTimeout((()=>{y||(O.setStatus({code:d.TJ,message:"deadline_exceeded"}),w=v,P())}),x),O}},67609:(e,t,n)=>{"use strict";n.d(t,{U:()=>s,z:()=>o});var r=n(79747),i=n(86843),a=n(92978);function o(e){if(!i.T)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:o}=(0,a.et)(e),{spanId:s}=e.spanContext(),c=(0,a.pK)(e),l=(0,a.zU)(e),u=l===e,h=`[Tracing] Starting ${c?"sampled":"unsampled"} ${u?"root ":""}span`,d=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(o&&d.push(`parent ID: ${o}`),!u){const{op:e,description:t}=(0,a.et)(l);d.push(`root ID: ${l.spanContext().spanId}`),e&&d.push(`root op: ${e}`),t&&d.push(`root description: ${t}`)}r.vF.log(`${h}\n  ${d.join("\n  ")}`)}function s(e){if(!i.T)return;const{description:t="< unknown name >",op:n="< unknown op >"}=(0,a.et)(e),{spanId:o}=e.spanContext(),s=`[Tracing] Finishing "${n}" ${(0,a.zU)(e)===e?"root ":""}span "${t}" with ID ${o}`;r.vF.log(s)}},6348:(e,t,n)=>{"use strict";n.d(t,{$:()=>o,X:()=>a});var r=n(92936),i=n(92978);function a(e,t,n){const a=(0,i.Bk)(),o=a&&(0,i.zU)(a);o&&o.addEvent(e,{[r.xc]:t,[r.Sn]:n})}function o(e){if(!e||0===e.length)return;const t={};return e.forEach((e=>{const n=e.attributes||{},i=n[r.Sn],a=n[r.xc];"string"==typeof i&&"number"==typeof a&&(t[e.name]={value:a,unit:i})})),t}},24659:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(79747),i=n(86843),a=n(22272),o=n(93920);function s(e,t){if(!(0,a.w)(e))return[!1];let n;n="function"==typeof e.tracesSampler?e.tracesSampler(t):void 0!==t.parentSampled?t.parentSampled:void 0!==e.tracesSampleRate?e.tracesSampleRate:1;const s=(0,o.i)(n);return void 0===s?(i.T&&r.vF.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):s?Math.random()<s?[!0,s]:(i.T&&r.vF.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,s]):(i.T&&r.vF.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,s])}},30735:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(90719),i=n(92978);class a{constructor(e={}){this._traceId=e.traceId||(0,r.eJ)(),this._spanId=e.spanId||(0,r.eJ)().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:i.CC}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,n){return this}}},62689:(e,t,n)=>{"use strict";n.d(t,{W:()=>v});var r=n(90719),i=n(60986),a=n(91324),o=n(79747),s=n(65021),c=n(86843),l=n(10745),u=n(44218),h=n(92936),d=n(92978),f=n(91717),p=n(67609),m=n(6348),g=n(11101);class v{constructor(e={}){this._traceId=e.traceId||(0,r.eJ)(),this._spanId=e.spanId||(0,r.eJ)().substring(16),this._startTime=e.startTimestamp||(0,i.zf)(),this._attributes={},this.setAttributes({[h.JD]:"manual",[h.uT]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?d.aO:d.CC}}setAttribute(e,t){void 0===t?delete this._attributes[e]:this._attributes[e]=t}setAttributes(e){Object.keys(e).forEach((t=>this.setAttribute(t,e[t])))}updateStartTime(e){this._startTime=(0,d.cI)(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this}end(e){this._endTime||(this._endTime=(0,d.cI)(e),(0,p.U)(this),this._onSpanEnded())}getSpanJSON(){return(0,a.Ce)({data:this._attributes,description:this._name,op:this._attributes[h.uT],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:(0,d.yW)(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[h.JD],_metrics_summary:(0,u.g)(this),profile_id:this._attributes[h.E1],exclusive_time:this._attributes[h.jG],measurements:(0,m.$)(this._events),is_segment:this._isStandaloneSpan&&(0,d.zU)(this)===this||void 0,segment_id:this._isStandaloneSpan?(0,d.zU)(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,t,n){c.T&&o.vF.log("[Tracing] Adding an event to span:",e);const r=b(t)?t:n||(0,i.zf)(),a=b(t)?{}:t||{},s={name:e,time:(0,d.cI)(r),attributes:a};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=(0,s.KU)();if(e&&e.emit("spanEnd",this),!this._isStandaloneSpan&&this!==(0,d.zU)(this))return;if(this._isStandaloneSpan)return void function(e){const t=(0,s.KU)();if(!t)return;const n=e[1];if(!n||0===n.length)return void t.recordDroppedEvent("before_send","span");const r=t.getTransport();r&&r.send(e).then(null,(e=>{c.T&&o.vF.error("Error while sending span:",e)}))}((0,l.lu)([this],e));const t=this._convertSpanToTransaction();t&&((0,g.Lb)(this).scope||(0,s.o5)()).captureEvent(t)}_convertSpanToTransaction(){if(!_((0,d.et)(this)))return;this._name||(c.T&&o.vF.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:t}=(0,g.Lb)(this),n=(e||(0,s.o5)()).getClient()||(0,s.KU)();if(!0!==this._sampled)return c.T&&o.vF.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(n&&n.recordDroppedEvent("sample_rate","transaction"));const r=(0,d.xO)(this).filter((e=>e!==this&&!function(e){return e instanceof v&&e.isStandaloneSpan()}(e))).map((e=>(0,d.et)(e))).filter(_),i=this._attributes[h.i_],l={contexts:{trace:(0,d.Ck)(this)},spans:r,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:t,...(0,a.Ce)({dynamicSamplingContext:(0,f.k1)(this)})},_metrics_summary:(0,u.g)(this),...i&&{transaction_info:{source:i}}},p=(0,m.$)(this._events);return p&&Object.keys(p).length&&(c.T&&o.vF.log("[Measurements] Adding measurements to transaction",JSON.stringify(p,void 0,2)),l.measurements=p),l}}function b(e){return e&&"number"==typeof e||e instanceof Date||Array.isArray(e)}function _(e){return!!(e.start_timestamp&&e.timestamp&&e.span_id&&e.trace_id)}},62492:(e,t,n)=>{"use strict";n.d(t,{F3:()=>i,N8:()=>o,TJ:()=>a,a3:()=>r});const r=0,i=1,a=2;function o(e,t){e.setAttribute("http.response.status_code",t);const n=function(e){if(e<400&&e>=100)return{code:i};if(e>=400&&e<500)switch(e){case 401:return{code:a,message:"unauthenticated"};case 403:return{code:a,message:"permission_denied"};case 404:return{code:a,message:"not_found"};case 409:return{code:a,message:"already_exists"};case 413:return{code:a,message:"failed_precondition"};case 429:return{code:a,message:"resource_exhausted"};case 499:return{code:a,message:"cancelled"};default:return{code:a,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:a,message:"unimplemented"};case 503:return{code:a,message:"unavailable"};case 504:return{code:a,message:"deadline_exceeded"};default:return{code:a,message:"internal_error"}}return{code:a,message:"unknown_error"}}(t);"unknown_error"!==n.message&&e.setStatus(n)}},69949:(e,t,n)=>{"use strict";n.d(t,{Uk:()=>v,hb:()=>b});var r=n(59881),i=n(65021),a=n(19421),o=n(92936),s=n(22272),c=n(99608),l=n(92978),u=n(91717),h=n(67609),d=n(24659),f=n(30735),p=n(62689),m=n(11101);const g="__SENTRY_SUPPRESS_TRACING__";function v(e){const t=_();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=function(e){const t={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const n={...t};return n.startTimestamp=(0,l.cI)(e.startTime),delete n.startTime,n}return t}(e),r=e.scope||(0,i.o5)(),a=function(e){const t=(0,c.f)(e);if(!t)return;const n=(0,i.KU)();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?(0,l.zU)(t):t}(r);return e.onlyIfParent&&!a?new f.w:function({parentSpan:e,spanContext:t,forceTransaction:n,scope:r}){if(!(0,s.w)())return new f.w;const a=(0,i.rm)();let o;if(e&&!n)o=function(e,t,n){const{spanId:r,traceId:a}=e.spanContext(),o=!t.getScopeData().sdkProcessingMetadata[g]&&(0,l.pK)(e),s=o?new p.W({...n,parentSpanId:r,traceId:a,sampled:o}):new f.w({traceId:a});(0,l.Hu)(e,s);const c=(0,i.KU)();return c&&(c.emit("spanStart",s),n.endTimestamp&&c.emit("spanEnd",s)),s}(e,r,t),(0,l.Hu)(e,o);else if(e){const n=(0,u.k1)(e),{traceId:i,spanId:a}=e.spanContext(),s=(0,l.pK)(e);o=y({traceId:i,parentSpanId:a,...t},r,s),(0,u.LZ)(o,n)}else{const{traceId:e,dsc:n,parentSpanId:i,sampled:s}={...a.getPropagationContext(),...r.getPropagationContext()};o=y({traceId:e,parentSpanId:i,...t},r,s),n&&(0,u.LZ)(o,n)}return(0,h.z)(o),(0,m.d_)(o,r,a),o}({parentSpan:a,spanContext:n,forceTransaction:e.forceTransaction,scope:r})}function b(e,t){const n=_();return n.withActiveSpan?n.withActiveSpan(e,t):(0,i.v4)((n=>((0,c.r)(n,e||void 0),t(n))))}function _(){const e=(0,r.E)();return(0,a.h)(e)}function y(e,t,n){const r=(0,i.KU)(),a=r&&r.getOptions()||{},{name:s="",attributes:c}=e,[l,u]=t.getScopeData().sdkProcessingMetadata[g]?[!1]:(0,d.Z)(a,{name:s,parentSampled:n,attributes:c,transactionContext:{name:s,parentSampled:n}}),h=new p.W({...e,attributes:{[o.i_]:"custom",...e.attributes},sampled:l});return void 0!==u&&h.setAttribute(o.sy,u),r&&r.emit("spanStart",h),h}},11101:(e,t,n)=>{"use strict";n.d(t,{Lb:()=>s,d_:()=>o});var r=n(91324);const i="_sentryScope",a="_sentryIsolationScope";function o(e,t,n){e&&((0,r.my)(e,a,n),(0,r.my)(e,i,t))}function s(e){return{scope:e[i],isolationScope:e[a]}}},83199:(e,t,n)=>{"use strict";n.d(t,{o:()=>h});var r=n(15788),i=n(80331),a=n(68410),o=n(21919),s=n(79747),c=n(83209),l=n(86843);const u=64;function h(e,t,n=(0,r.C)(e.bufferSize||u)){let h={};return{send:function(r){const u=[];if((0,i.yH)(r,((t,n)=>{const r=(0,i.zk)(n);if((0,a.Jz)(h,r)){const i=d(t,n);e.recordDroppedEvent("ratelimit_backoff",r,i)}else u.push(t)})),0===u.length)return(0,o.XW)({});const f=(0,i.h4)(r[0],u),p=t=>{(0,i.yH)(f,((n,r)=>{const a=d(n,r);e.recordDroppedEvent(t,(0,i.zk)(r),a)}))};return n.add((()=>t({body:(0,i.bN)(f)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&l.T&&s.vF.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),h=(0,a.wq)(h,e),e)),(e=>{throw p("network_error"),e})))).then((e=>e),(e=>{if(e instanceof c.U)return l.T&&s.vF.error("Skipped sending event because buffer is full."),p("queue_overflow"),(0,o.XW)({});throw e}))},flush:e=>n.drain(e)}}function d(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}},95476:(e,t,n)=>{"use strict";n.d(t,{Rg:()=>c,e2:()=>s});var r=n(91324),i=n(90719),a=n(91717),o=n(92978);function s(e,t){const{fingerprint:n,span:s,breadcrumbs:c,sdkProcessingMetadata:l}=t;!function(e,t){const{extra:n,tags:i,user:a,contexts:o,level:s,transactionName:c}=t,l=(0,r.Ce)(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const u=(0,r.Ce)(i);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const h=(0,r.Ce)(a);h&&Object.keys(h).length&&(e.user={...h,...e.user});const d=(0,r.Ce)(o);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),s&&(e.level=s),c&&"transaction"!==e.type&&(e.transaction=c)}(e,t),s&&function(e,t){e.contexts={trace:(0,o.kX)(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:(0,a.k1)(t),...e.sdkProcessingMetadata};const n=(0,o.zU)(t),r=(0,o.et)(n).description;r&&!e.transaction&&"transaction"===e.type&&(e.transaction=r)}(e,s),function(e,t){e.fingerprint=e.fingerprint?(0,i.k9)(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,c),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,l)}function c(e,t){const{extra:n,tags:r,user:i,contexts:a,level:o,sdkProcessingMetadata:s,breadcrumbs:c,fingerprint:u,eventProcessors:h,attachments:d,propagationContext:f,transactionName:p,span:m}=t;l(e,"extra",n),l(e,"tags",r),l(e,"user",i),l(e,"contexts",a),l(e,"sdkProcessingMetadata",s),o&&(e.level=o),p&&(e.transactionName=p),m&&(e.span=m),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),h.length&&(e.eventProcessors=[...e.eventProcessors,...h]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...f}}function l(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}},22272:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});var r=n(65021);function i(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=e||function(){const e=(0,r.KU)();return e&&e.getOptions()}();return!!t&&(t.enableTracing||"tracesSampleRate"in t||"tracesSampler"in t)}},93920:(e,t,n)=>{"use strict";n.d(t,{i:()=>a});var r=n(79747),i=n(86843);function a(e){if("boolean"==typeof e)return Number(e);const t="string"==typeof e?parseFloat(e):e;if(!("number"!=typeof t||isNaN(t)||t<0||t>1))return t;i.T&&r.vF.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`)}},72926:(e,t,n)=>{"use strict";n.d(t,{li:()=>m,mG:()=>f});var r=n(90719),i=n(60986),a=n(7226),o=n(66528),s=n(82480),c=n(69404),l=n(65021),u=n(716),h=n(38533),d=n(95476);function f(e,t,n,f,m,g){const{normalizeDepth:v=3,normalizeMaxBreadth:b=1e3}=e,_={...t,event_id:t.event_id||n.event_id||(0,r.eJ)(),timestamp:t.timestamp||(0,i.lu)()},y=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:i,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?n:c.U),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=(0,a.xv)(e.message,o));const s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=(0,a.xv)(s.value,o));const l=e.request;l&&l.url&&(l.url=(0,a.xv)(l.url,o))}(_,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(_,y),void 0===t.type&&function(e,t){const n=o.O._sentryDebugIds;if(!n)return;let r;const i=p.get(t);i?r=i:(r=new Map,p.set(t,r));const a=Object.keys(n).reduce(((e,i)=>{let a;const o=r.get(i);o?a=o:(a=t(i),r.set(i,a));for(let t=a.length-1;t>=0;t--){const r=a[t];if(r.filename){e[r.filename]=n[i];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=a[e.filename])}))}))}catch(e){}}(_,e.stackParser);const w=function(e,t){if(!t)return e;const n=e?e.clone():new h.H;return n.update(t),n}(f,n.captureContext);n.mechanism&&(0,r.M6)(_,n.mechanism);const S=m?m.getEventProcessors():[],k=(0,l.m6)().getScopeData();if(g){const e=g.getScopeData();(0,d.Rg)(k,e)}if(w){const e=w.getScopeData();(0,d.Rg)(k,e)}const x=[...n.attachments||[],...k.attachments];x.length&&(n.attachments=x),(0,d.e2)(_,k);const M=[...S,...k.eventProcessors];return(0,u.j)(M,_,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach((e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"==typeof v&&v>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:(0,s.S8)(e.data,t,n)}})))},...e.user&&{user:(0,s.S8)(e.user,t,n)},...e.contexts&&{contexts:(0,s.S8)(e.contexts,t,n)},...e.extra&&{extra:(0,s.S8)(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=(0,s.S8)(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map((e=>({...e,...e.data&&{data:(0,s.S8)(e.data,t,n)}})))),r}(e,v,b):e)))}const p=new WeakMap;function m(e){if(e)return function(e){return e instanceof h.H||"function"==typeof e}(e)||function(e){return Object.keys(e).some((e=>g.includes(e)))}(e)?{captureContext:e}:e}const g=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"]},71294:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var r=n(92381);function i(e,t,n=[t],i="npm"){const a=e._metadata||{};a.sdk||(a.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${i}:@sentry/${e}`,version:r.M}))),version:r.M}),e._metadata=a}},99608:(e,t,n)=>{"use strict";n.d(t,{f:()=>o,r:()=>a});var r=n(91324);const i="_sentrySpan";function a(e,t){t?(0,r.my)(e,i,t):delete e[i]}function o(e){return e[i]}},92978:(e,t,n)=>{"use strict";n.d(t,{Bk:()=>A,CC:()=>f,Ck:()=>m,Hu:()=>M,Qh:()=>v,VS:()=>E,aO:()=>p,cI:()=>b,et:()=>y,kX:()=>g,pK:()=>w,xO:()=>T,yW:()=>S,zU:()=>C});var r=n(91324),i=n(91805),a=n(60986),o=n(19421),s=n(59881),c=n(65021),l=n(44218),u=n(92936),h=n(62492),d=n(99608);const f=0,p=1;function m(e){const{spanId:t,traceId:n}=e.spanContext(),{data:i,op:a,parent_span_id:o,status:s,origin:c}=y(e);return(0,r.Ce)({parent_span_id:o,span_id:t,trace_id:n,data:i,op:a,status:s,origin:c})}function g(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:i}=y(e);return(0,r.Ce)({parent_span_id:i,span_id:t,trace_id:n})}function v(e){const{traceId:t,spanId:n}=e.spanContext(),r=w(e);return(0,i.TC)(t,n,r)}function b(e){return"number"==typeof e?_(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?_(e.getTime()):(0,a.zf)()}function _(e){return e>9999999999?e/1e3:e}function y(e){if(function(e){return"function"==typeof e.getSpanJSON}(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(function(e){const t=e;return!!(t.attributes&&t.startTime&&t.name&&t.endTime&&t.status)}(e)){const{attributes:i,startTime:a,name:o,endTime:s,parentSpanId:c,status:h}=e;return(0,r.Ce)({span_id:t,trace_id:n,data:i,description:o,parent_span_id:c,start_timestamp:b(a),timestamp:b(s)||void 0,status:S(h),op:i[u.uT],origin:i[u.JD],_metrics_summary:(0,l.g)(e)})}return{span_id:t,trace_id:n}}catch(e){return{}}}function w(e){const{traceFlags:t}=e.spanContext();return t===p}function S(e){if(e&&e.code!==h.a3)return e.code===h.F3?"ok":e.message||"unknown_error"}const k="_sentryChildSpans",x="_sentryRootSpan";function M(e,t){const n=e[x]||e;(0,r.my)(t,x,n),e[k]&&e[k].size<1e3?e[k].add(t):(0,r.my)(e,k,new Set([t]))}function E(e,t){e[k]&&e[k].delete(t)}function T(e){const t=new Set;return function e(n){if(!t.has(n)&&w(n)){t.add(n);const r=n[k]?Array.from(n[k]):[];for(const t of r)e(t)}}(e),Array.from(t)}function C(e){return e[x]||e}function A(){const e=(0,s.E)(),t=(0,o.h)(e);return t.getActiveSpan?t.getActiveSpan():(0,d.f)((0,c.o5)())}},92381:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});const r="8.5.0"},90230:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a});var r=n(88887),i=n(7226);function a(e,t,n=250,a,s,c,l){if(!(c.exception&&c.exception.values&&l&&(0,r.tH)(l.originalException,Error)))return;const u=c.exception.values.length>0?c.exception.values[c.exception.values.length-1]:void 0;var h,d;u&&(c.exception.values=(h=o(e,t,s,l.originalException,a,c.exception.values,u,0),d=n,h.map((e=>(e.value&&(e.value=(0,i.xv)(e.value,d)),e)))))}function o(e,t,n,i,a,l,u,h){if(l.length>=n+1)return l;let d=[...l];if((0,r.tH)(i[a],Error)){s(u,h);const r=e(t,i[a]),l=d.length;c(r,a,l,h),d=o(e,t,n,i[a],a,[r,...d],r,l)}return Array.isArray(i.errors)&&i.errors.forEach(((i,l)=>{if((0,r.tH)(i,Error)){s(u,h);const r=e(t,i),f=d.length;c(r,`errors[${l}]`,f,h),d=o(e,t,n,i,a,[r,...d],r,f)}})),d}function s(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function c(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}},13629:(e,t,n)=>{"use strict";n.d(t,{De:()=>h,hF:()=>o,yD:()=>u});var r=n(21449),i=n(88887),a=n(79747);const o="baggage",s="sentry-",c=/^sentry-/,l=8192;function u(e){const t=function(e){if(e&&((0,i.Kg)(e)||Array.isArray(e)))return Array.isArray(e)?e.reduce(((e,t)=>{const n=d(t);for(const t of Object.keys(n))e[t]=n[t];return e}),{}):d(e)}(e);if(!t)return;const n=Object.entries(t).reduce(((e,[t,n])=>(t.match(c)&&(e[t.slice(s.length)]=n),e)),{});return Object.keys(n).length>0?n:void 0}function h(e){if(e)return function(e){if(0!==Object.keys(e).length)return Object.entries(e).reduce(((e,[t,n],i)=>{const o=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,s=0===i?o:`${e},${o}`;return s.length>l?(r.T&&a.vF.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):s}),"")}(Object.entries(e).reduce(((e,[t,n])=>(n&&(e[`${s}${t}`]=n),e)),{}))}function d(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(e[t]=n,e)),{})}},8455:(e,t,n)=>{"use strict";n.d(t,{$N:()=>c,Hd:()=>o,NX:()=>l,xE:()=>u});var r=n(88887);const i=n(66528).O,a=80;function o(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let o=0,c=0;const l=" > ",u=l.length;let h;const d=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||a;for(;n&&o++<r&&(h=s(n,d),!("html"===h||o>1&&c+i.length*u+h.length>=f));)i.push(h),c+=h.length,n=n.parentNode;return i.reverse().join(l)}catch(e){return"<unknown>"}}function s(e,t){const n=e,a=[];let o,s,c,l,u;if(!n||!n.tagName)return"";if(i.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}a.push(n.tagName.toLowerCase());const h=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(h&&h.length)h.forEach((e=>{a.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&a.push(`#${n.id}`),o=n.className,o&&(0,r.Kg)(o))for(s=o.split(/\s+/),u=0;u<s.length;u++)a.push(`.${s[u]}`);const d=["aria-label","type","name","title","alt"];for(u=0;u<d.length;u++)c=d[u],l=n.getAttribute(c),l&&a.push(`[${c}="${l}"]`);return a.join("")}function c(){try{return i.document.location.href}catch(e){return""}}function l(e){return i.document&&i.document.querySelector?i.document.querySelector(e):null}function u(e){if(!i.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}},47074:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var r=n(80331),i=n(60986);function a(e,t,n){const a=[{type:"client_report"},{timestamp:n||(0,i.lu)(),discarded_events:e}];return(0,r.h4)(t?{dsn:t}:{},[a])}},21449:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});const r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},84538:(e,t,n)=>{"use strict";n.d(t,{AD:()=>c,SB:()=>o});var r=n(21449),i=n(79747);const a=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function o(e,t=!1){const{host:n,path:r,pass:i,port:a,projectId:o,protocol:s,publicKey:c}=e;return`${s}://${c}${t&&i?`:${i}`:""}@${n}${a?`:${a}`:""}/${r?`${r}/`:r}${o}`}function s(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function c(e){const t="string"==typeof e?function(e){const t=a.exec(e);if(!t)return void(0,i.pq)((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,o="",c,l="",u]=t.slice(1);let h="",d=u;const f=d.split("/");if(f.length>1&&(h=f.slice(0,-1).join("/"),d=f.pop()),d){const e=d.match(/^\d+/);e&&(d=e[0])}return s({host:c,pass:o,path:h,projectId:d,port:l,protocol:n,publicKey:r})}(e):s(e);if(t&&function(e){if(!r.T)return!0;const{port:t,projectId:n,protocol:a}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(i.vF.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(a)?t&&isNaN(parseInt(t,10))&&(i.vF.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(i.vF.error(`Invalid Sentry Dsn: Invalid protocol ${a}`),1):(i.vF.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}},69868:(e,t,n)=>{"use strict";function r(){return"npm"}n.d(t,{e:()=>r})},80331:(e,t,n)=>{"use strict";n.d(t,{Cj:()=>g,W3:()=>c,bN:()=>h,bm:()=>f,h4:()=>s,n2:()=>v,y5:()=>d,yH:()=>l,zk:()=>m});var r=n(84538),i=n(82480),a=n(91324),o=n(66528);function s(e,t=[]){return[e,t]}function c(e,t){const[n,r]=e;return[n,[...r,t]]}function l(e,t){const n=e[1];for(const e of n)if(t(e,e[0].type))return!0;return!1}function u(e){return o.O.__SENTRY__&&o.O.__SENTRY__.encodePolyfill?o.O.__SENTRY__.encodePolyfill(e):(new TextEncoder).encode(e)}function h(e){const[t,n]=e;let r=JSON.stringify(t);function a(e){"string"==typeof r?r="string"==typeof e?r+e:[u(r),e]:r.push("string"==typeof e?u(e):e)}for(const e of n){const[t,n]=e;if(a(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)a(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify((0,i.S8)(n))}a(e)}}return"string"==typeof r?r:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(r)}function d(e){return[{type:"span"},e]}function f(e){const t="string"==typeof e.data?u(e.data):e.data;return[(0,a.Ce)({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const p={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function m(e){return p[e]}function g(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function v(e,t,n,i){const o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&i&&{dsn:(0,r.SB)(i)},...o&&{trace:(0,a.Ce)({...o})}}}},83209:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});class r extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}},43888:(e,t,n)=>{"use strict";n.d(t,{P:()=>s});var r=n(79747),i=n(91324),a=n(66528),o=n(55024);function s(e){const t="console";(0,o.s5)(t,e),(0,o.AS)(t,c)}function c(){"console"in a.O&&r.Ow.forEach((function(e){e in a.O.console&&(0,i.GS)(a.O.console,e,(function(t){return r.Z9[e]=t,function(...t){const n={args:t,level:e};(0,o.aj)("console",n);const i=r.Z9[e];i&&i.apply(a.O.console,t)}}))}))}},20097:(e,t,n)=>{"use strict";n.d(t,{u:()=>c});var r=n(91324),i=n(60379),a=n(60986),o=n(66528),s=n(55024);function c(e){const t="fetch";(0,s.s5)(t,e),(0,s.AS)(t,l)}function l(){(0,i.m7)()&&(0,r.GS)(o.O,"fetch",(function(e){return function(...t){const{method:n,url:r}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:h(t),method:u(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:h(t),method:u(t,"method")?String(t.method).toUpperCase():"GET"}}(t),i={args:t,fetchData:{method:n,url:r},startTimestamp:1e3*(0,a.zf)()};return(0,s.aj)("fetch",{...i}),e.apply(o.O,t).then((e=>{const t={...i,endTimestamp:1e3*(0,a.zf)(),response:e};return(0,s.aj)("fetch",t),e}),(e=>{const t={...i,endTimestamp:1e3*(0,a.zf)(),error:e};throw(0,s.aj)("fetch",t),e}))}}))}function u(e,t){return!!e&&"object"==typeof e&&!!e[t]}function h(e){return"string"==typeof e?e:e?u(e,"url")?e.url:e.toString?e.toString():"":""}},45338:(e,t,n)=>{"use strict";n.d(t,{L:()=>o});var r=n(66528),i=n(55024);let a=null;function o(e){const t="error";(0,i.s5)(t,e),(0,i.AS)(t,s)}function s(){a=r.O.onerror,r.O.onerror=function(e,t,n,r,o){const s={column:r,error:o,line:n,msg:e,url:t};return(0,i.aj)("error",s),!(!a||a.__SENTRY_LOADER__)&&a.apply(this,arguments)},r.O.onerror.__SENTRY_INSTRUMENTED__=!0}},844:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var r=n(66528),i=n(55024);let a=null;function o(e){const t="unhandledrejection";(0,i.s5)(t,e),(0,i.AS)(t,s)}function s(){a=r.O.onunhandledrejection,r.O.onunhandledrejection=function(e){const t=e;return(0,i.aj)("unhandledrejection",t),!(a&&!a.__SENTRY_LOADER__)||a.apply(this,arguments)},r.O.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}},55024:(e,t,n)=>{"use strict";n.d(t,{AS:()=>l,aj:()=>u,s5:()=>c});var r=n(21449),i=n(79747),a=n(9362);const o={},s={};function c(e,t){o[e]=o[e]||[],o[e].push(t)}function l(e,t){s[e]||(t(),s[e]=!0)}function u(e,t){const n=e&&o[e];if(n)for(const o of n)try{o(t)}catch(t){r.T&&i.vF.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${(0,a.qQ)(o)}\nError:`,t)}}},88887:(e,t,n)=>{"use strict";n.d(t,{BD:()=>s,Kg:()=>l,L2:()=>_,NF:()=>u,Qd:()=>d,Qg:()=>g,T2:()=>o,W6:()=>c,bJ:()=>i,gd:()=>m,mE:()=>v,sO:()=>h,tH:()=>b,vq:()=>p,xH:()=>f});const r=Object.prototype.toString;function i(e){switch(r.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return b(e,Error)}}function a(e,t){return r.call(e)===`[object ${t}]`}function o(e){return a(e,"ErrorEvent")}function s(e){return a(e,"DOMError")}function c(e){return a(e,"DOMException")}function l(e){return a(e,"String")}function u(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function h(e){return null===e||u(e)||"object"!=typeof e&&"function"!=typeof e}function d(e){return a(e,"Object")}function f(e){return"undefined"!=typeof Event&&b(e,Event)}function p(e){return"undefined"!=typeof Element&&b(e,Element)}function m(e){return a(e,"RegExp")}function g(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function v(e){return d(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function b(e,t){try{return e instanceof t}catch(e){return!1}}function _(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}},79747:(e,t,n)=>{"use strict";n.d(t,{Ow:()=>a,Z9:()=>o,pq:()=>s,vF:()=>c});var r=n(21449),i=n(66528);const a=["debug","info","warn","error","log","assert","trace"],o={};function s(e){if(!("console"in i.O))return e();const t=i.O.console,n={},r=Object.keys(o);r.forEach((e=>{const r=o[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const c=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return r.T?a.forEach((n=>{t[n]=(...t)=>{e&&s((()=>{i.O.console[n](`Sentry Logger [${n}]:`,...t)}))}})):a.forEach((e=>{t[e]=()=>{}})),t}()},29997:(e,t,n)=>{"use strict";function r(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}n.d(t,{s:()=>r})},90719:(e,t,n)=>{"use strict";n.d(t,{$X:()=>s,GR:()=>u,M6:()=>l,eJ:()=>a,gO:()=>c,k9:()=>h});var r=n(91324),i=n(66528);function a(){const e=i.O,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function o(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function s(e){const{message:t,event_id:n}=e;if(t)return t;const r=o(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function c(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],a=i[0]=i[0]||{};a.value||(a.value=t||""),a.type||(a.type=n||"Error")}function l(e,t){const n=o(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function u(e){if(e&&e.__sentry_captured__)return!0;try{(0,r.my)(e,"__sentry_captured__",!0)}catch(e){}return!1}function h(e){return Array.isArray(e)?e:[e]}},82480:(e,t,n)=>{"use strict";n.d(t,{S8:()=>s,cd:()=>c});var r=n(88887),i=n(29997),a=n(91324),o=n(9362);function s(e,t=100,n=1/0){try{return l("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function c(e,t=3,n=102400){const r=s(e,t);return i=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(i))>n?c(e,t-1,n):r;var i}function l(e,t,n=1/0,s=1/0,c=(0,i.s)()){const[u,h]=c;if(null==t||["number","boolean","string"].includes(typeof t)&&!Number.isNaN(t))return t;const d=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if((0,r.L2)(t))return"[VueViewModel]";if((0,r.mE)(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${(0,o.qQ)(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const n=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!d.startsWith("[object "))return d;if(t.__sentry_skip_normalization__)return t;const f="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===f)return d.replace("object ","");if(u(t))return"[Circular ~]";const p=t;if(p&&"function"==typeof p.toJSON)try{return l("",p.toJSON(),f-1,s,c)}catch(e){}const m=Array.isArray(t)?[]:{};let g=0;const v=(0,a.W4)(t);for(const e in v){if(!Object.prototype.hasOwnProperty.call(v,e))continue;if(g>=s){m[e]="[MaxProperties ~]";break}const t=v[e];m[e]=l(e,t,f-1,s,c),g++}return h(t),m}},91324:(e,t,n)=>{"use strict";n.d(t,{Ce:()=>v,GS:()=>c,HF:()=>g,W4:()=>f,my:()=>l,pO:()=>u,sp:()=>h,u4:()=>d});var r=n(8455),i=n(21449),a=n(88887),o=n(79747),s=n(7226);function c(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);"function"==typeof i&&u(i,r),e[t]=i}function l(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){i.T&&o.vF.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function u(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,l(e,"__sentry_original__",t)}catch(e){}}function h(e){return e.__sentry_original__}function d(e){return Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")}function f(e){if((0,a.bJ)(e))return{message:e.message,name:e.name,stack:e.stack,...m(e)};if((0,a.xH)(e)){const t={type:e.type,target:p(e.target),currentTarget:p(e.currentTarget),...m(e)};return"undefined"!=typeof CustomEvent&&(0,a.tH)(e,CustomEvent)&&(t.detail=e.detail),t}return e}function p(e){try{return(0,a.vq)(e)?(0,r.Hd)(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function m(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function g(e,t=40){const n=Object.keys(f(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return(0,s.xv)(n[0],t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:(0,s.xv)(r,t)}return""}function v(e){return b(e,new Map)}function b(e,t){if(function(e){if(!(0,a.Qd)(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.keys(e))void 0!==e[n]&&(r[n]=b(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(b(e,t))})),r}return e}},15788:(e,t,n)=>{"use strict";n.d(t,{C:()=>a});var r=n(83209),i=n(21919);function a(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(a){if(!(void 0===e||t.length<e))return(0,i.xg)(new r.U("Not adding Promise because buffer limit was reached."));const o=a();return-1===t.indexOf(o)&&t.push(o),o.then((()=>n(o))).then(null,(()=>n(o).then(null,(()=>{})))),o},drain:function(e){return new i.T2(((n,r)=>{let a=t.length;if(!a)return n(!0);const o=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{(0,i.XW)(e).then((()=>{--a||(clearTimeout(o),n(!0))}),r)}))}))}}}},30530:(e,t,n)=>{"use strict";n.d(t,{J:()=>i});var r=n(90719);function i(){return{traceId:(0,r.eJ)(),spanId:(0,r.eJ)().substring(16)}}},68410:(e,t,n)=>{"use strict";n.d(t,{Jz:()=>i,wq:()=>a});const r=6e4;function i(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}function a(e,{statusCode:t,headers:n},i=Date.now()){const a={...e},o=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(o)for(const e of o.trim().split(",")){const[t,n,,,r]=e.split(":",5),o=parseInt(t,10),s=1e3*(isNaN(o)?60:o);if(n)for(const e of n.split(";"))"metric_bucket"===e&&r&&!r.split(";").includes("custom")||(a[e]=i+s);else a.all=i+s}else s?a.all=i+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const i=Date.parse(`${e}`);return isNaN(i)?r:i-t}(s,i):429===t&&(a.all=i+6e4);return a}},51956:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});const r=["fatal","error","warning","log","info","debug"];function i(e){return"warn"===e?"warning":r.includes(e)?e:"log"}},9362:(e,t,n)=>{"use strict";n.d(t,{gd:()=>s,qQ:()=>u,vk:()=>c,yF:()=>i});const r=50,i="?",a=/\(error: (.*)\)/,o=/captureMessage|captureException/;function s(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0,s=0)=>{const c=[],l=e.split("\n");for(let e=n;e<l.length;e++){const n=l[e];if(n.length>1024)continue;const i=a.test(n)?n.replace(a,"$1"):n;if(!i.match(/\S*Error: /)){for(const e of t){const t=e(i);if(t){c.push(t);break}}if(c.length>=r+s)break}}return function(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),o.test(t[t.length-1].function||"")&&(t.pop(),o.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,r).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||i})))}(c.slice(s))}}function c(e){return Array.isArray(e)?s(...e):e}const l="<anonymous>";function u(e){try{return e&&"function"==typeof e&&e.name||l}catch(e){return l}}},7226:(e,t,n)=>{"use strict";n.d(t,{Xr:()=>o,gt:()=>a,xv:()=>i});var r=n(88887);function i(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function a(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const i=e[t];try{(0,r.L2)(i)?n.push("[VueViewModel]"):n.push(String(i))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function o(e,t=[],n=!1){return t.some((t=>function(e,t,n=!1){return!!(0,r.Kg)(e)&&((0,r.gd)(t)?t.test(e):!!(0,r.Kg)(t)&&(n?e===t:e.includes(t)))}(e,t,n)))}},60379:(e,t,n)=>{"use strict";n.d(t,{a3:()=>s,m7:()=>c,vm:()=>o});var r=n(21449),i=n(79747);const a=n(66528).O;function o(){if(!("fetch"in a))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function s(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function c(){if("string"==typeof EdgeRuntime)return!0;if(!o())return!1;if(s(a.fetch))return!0;let e=!1;const t=a.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=s(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){r.T&&i.vF.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}},21919:(e,t,n)=>{"use strict";n.d(t,{T2:()=>s,XW:()=>a,xg:()=>o});var r,i=n(88887);function a(e){return new s((t=>{t(e)}))}function o(e){return new s(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(r||(r={}));class s{constructor(e){s.prototype.__init.call(this),s.prototype.__init2.call(this),s.prototype.__init3.call(this),s.prototype.__init4.call(this),this._state=r.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new s(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new s(((t,n)=>{let r,i;return this.then((t=>{i=!1,r=t,e&&e()}),(t=>{i=!0,r=t,e&&e()})).then((()=>{i?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(r.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(r.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===r.PENDING&&((0,i.Qg)(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===r.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===r.RESOLVED&&e[1](this._value),this._state===r.REJECTED&&e[2](this._value),e[0]=!0)}))}}}},60986:(e,t,n)=>{"use strict";n.d(t,{k3:()=>c,lu:()=>a,zf:()=>o});var r=n(66528);const i=1e3;function a(){return Date.now()/i}const o=function(){const{performance:e}=r.O;if(!e||!e.now)return a;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/i}();let s;const c=(()=>{const{performance:e}=r.O;if(!e||!e.now)return void(s="none");const t=36e5,n=e.now(),i=Date.now(),a=e.timeOrigin?Math.abs(e.timeOrigin+n-i):t,o=a<t,c=e.timing&&e.timing.navigationStart,l="number"==typeof c?Math.abs(c+n-i):t;return o||l<t?a<=l?(s="timeOrigin",e.timeOrigin):(s="navigationStart",c):(s="dateNow",i)})()},91805:(e,t,n)=>{"use strict";n.d(t,{TC:()=>s,kM:()=>o});var r=n(13629),i=n(90719);const a=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function o(e,t){const n=function(e){if(!e)return;const t=e.match(a);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}(e),o=(0,r.yD)(t),{traceId:s,parentSpanId:c,parentSampled:l}=n||{};return n?{traceId:s||(0,i.eJ)(),parentSpanId:c||(0,i.eJ)().substring(16),spanId:(0,i.eJ)().substring(16),sampled:l,dsc:o||{}}:{traceId:s||(0,i.eJ)(),spanId:(0,i.eJ)().substring(16)}}function s(e=(0,i.eJ)(),t=(0,i.eJ)().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}},17682:(e,t,n)=>{"use strict";function r(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}n.d(t,{Dl:()=>r})},25970:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});const r=n(66528).O;function i(){const e=r.chrome,t=e&&e.app&&e.app.runtime,n="history"in r&&!!r.history.pushState&&!!r.history.replaceState;return!t&&n}},66528:(e,t,n)=>{"use strict";n.d(t,{B:()=>i,O:()=>r});const r=globalThis;function i(e,t,n){const i=n||r,a=i.__SENTRY__=i.__SENTRY__||{};return a[e]||(a[e]=t())}},68151:(e,t,n)=>{"use strict";n.r(t),n.d(t,{abcToScientificNotation:()=>c,default:()=>d,distance:()=>h,scientificToAbcNotation:()=>l,tokenize:()=>s,transpose:()=>u});var r=n(18492),i=n(33319),a=(e,t)=>Array(t+1).join(e),o=/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function s(e){const t=o.exec(e);return t?[t[1],t[2],t[3]]:["","",""]}function c(e){const[t,n,r]=s(e);if(""===n)return"";let i=4;for(let e=0;e<r.length;e++)i+=","===r.charAt(e)?-1:1;const a="_"===t[0]?t.replace(/_/g,"b"):"^"===t[0]?t.replace(/\^/g,"#"):"";return n.charCodeAt(0)>96?n.toUpperCase()+a+(i+1):n+a+i}function l(e){const t=(0,i.N4)(e);if(t.empty||!t.oct&&0!==t.oct)return"";const{letter:n,acc:r,oct:o}=t;return("b"===r[0]?r.replace(/b/g,"_"):r.replace(/#/g,"^"))+(o>4?n.toLowerCase():n)+(5===o?"":o>4?a("'",o-5):a(",",4-o))}function u(e,t){return l((0,r.mg)(c(e),t))}function h(e,t){return(0,r.Io)(c(e),c(t))}var d={abcToScientificNotation:c,scientificToAbcNotation:l,tokenize:s,transpose:u,distance:h}},45963:(e,t,n)=>{"use strict";n(33319)},67744:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var r=n(75355),i=n(15185),a=n(33319),o=e=>{const t=e.reduce(((e,t)=>{const n=(0,a.N4)(t).chroma;return void 0!==n&&(e[n]=e[n]||(0,a.N4)(t).name),e}),{});return e=>t[e]};function s(e,t={}){const n=e.map((e=>(0,a.N4)(e).pc)).filter((e=>e));if(0===a.N4.length)return[];const s=function(e,t,n){const s=e[0],c=(0,a.N4)(s).chroma,f=o(e),p=(0,i.nI)(e,!1),m=[];return p.forEach(((e,t)=>{const i=n.assumePerfectFifth&&function(e){const t=parseInt(e,2);return d(t)?e:(16|t).toString(2)}(e);(0,r.Q7)().filter((t=>n.assumePerfectFifth&&function(e){const t=parseInt(e.chroma,2);return l(t)&&u(t)&&h(t)}(t)?t.chroma===i:t.chroma===e)).forEach((e=>{const n=e.aliases[0],r=f(t);t!==c?m.push({weight:.5,name:`${r}${n}/${s}`}):m.push({weight:1,name:`${r}${n}`})}))})),m}(n,0,t);return s.filter((e=>e.weight)).sort(((e,t)=>t.weight-e.weight)).map((e=>e.name))}var c=e=>t=>Boolean(t&e),l=c(384),u=c(16),h=c(3),d=c(40)},75355:(e,t,n)=>{"use strict";n.d(t,{Jt:()=>s,Q7:()=>c});var r=n(15185),i={...r.r$,name:"",quality:"Unknown",intervals:[],aliases:[]},a=[],o={};function s(e){return o[e]||i}function c(){return a.slice()}[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]].forEach((([e,t,n])=>function(e,t,n){const i=function(e){const t=t=>-1!==e.indexOf(t);return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}(e),s={...(0,r.Jt)(e),name:n||"",quality:i,intervals:e,aliases:t};a.push(s),s.name&&(o[s.name]=s),o[s.setNum]=s,o[s.chroma]=s,s.aliases.forEach((e=>function(e,t){o[t]=e}(s,e)))}(e.split(" "),n.split(" "),t))),a.sort(((e,t)=>e.setNum-t.setNum))},30168:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>g,qw:()=>h});var r=n(67744),i=n(75355),a=n(26503),o=n(15185),s=n(18492),c=n(33319),l=n(27895),u={empty:!0,name:"",symbol:"",root:"",bass:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function h(e){const[t,n,r,i]=(0,c.W8)(e);return""===t?d("",e):"A"===t&&"ug"===i?d("","aug"):d(t+n,r+i)}function d(e,t){const n=t.split("/");if(1===n.length)return[e,n[0],""];const[r,i,a,o]=(0,c.W8)(n[1]);return""!==r&&""===a&&""===o?[e,n[0],r+i]:[e,t,""]}function f(e){if(Array.isArray(e))return p(e[1]||"",e[0],e[2]);if(""===e)return u;{const[t,n,r]=h(e),i=p(n,t,r);return i.empty?p(e):i}}function p(e,t,n){const r=(0,i.Jt)(e),o=(0,c.N4)(t||""),l=(0,c.N4)(n||"");if(r.empty||t&&o.empty||n&&l.empty)return u;const h=(0,s.Io)(o.pc,l.pc),d=r.intervals.indexOf(h),f=d>=0,p=f?l:(0,c.N4)(""),m=-1===d?NaN:d+1,g=l.pc&&l.pc!==o.pc,v=Array.from(r.intervals);if(f)for(let e=1;e<m;e++){const e=v[0][0],t=v[0][1],n=parseInt(e,10)+7;v.push(`${n}${t}`),v.shift()}else if(g){const e=(0,a.Re)((0,s.Io)(o.pc,l.pc),"8P");e&&v.unshift(e)}const b=o.empty?[]:v.map((e=>(0,s.mg)(o.pc,e)));e=-1!==r.aliases.indexOf(e)?e:r.aliases[0];const _=`${o.empty?"":o.pc}${e}${f&&m>1?"/"+p.pc:g?"/"+l.pc:""}`,y=`${t?o.pc+" ":""}${r.name}${f&&m>1?" over "+p.pc:g?" over "+l.pc:""}`;return{...r,name:y,symbol:_,tonic:o.pc,type:r.name,root:p.pc,bass:g?l.pc:"",intervals:v,rootDegree:m,notes:b}}var m=f,g={getChord:p,get:f,detect:r.o,chordScales:function(e){const t=f(e),n=(0,o.jn)(t.chroma);return(0,l.Q7)().filter((e=>n(e.chroma))).map((e=>e.name))},extended:function(e){const t=f(e),n=(0,o.jn)(t.chroma);return(0,i.Q7)().filter((e=>n(e.chroma))).map((e=>t.tonic+e.aliases[0]))},reduced:function(e){const t=f(e),n=(0,o.Yy)(t.chroma);return(0,i.Q7)().filter((e=>n(e.chroma))).map((e=>t.tonic+e.aliases[0]))},tokenize:h,transpose:function(e,t){const[n,r,i]=h(e);if(!n)return e;const a=(0,s.mg)(i,t),o=a?"/"+a:"";return(0,s.mg)(n,t)+r+o},degrees:function(e,t){const n=f(e),r=t||n.tonic,i=(0,s.Dk)(n.intervals,r);return e=>e?i(e>0?e-1:e):""},steps:function(e,t){const n=f(e),r=t||n.tonic;return(0,s.Dk)(n.intervals,r)},notes:function(e,t){const n=f(e),r=t||n.tonic;return!r||n.empty?[]:n.intervals.map((e=>(0,s.mg)(r,e)))},chord:m}},29154:(e,t,n)=>{"use strict";function r(e,t){return e<t?function(e,t){const n=[];for(;t--;n[t]=t+e);return n}(e,t-e+1):function(e,t){const n=[];for(;t--;n[t]=e-t);return n}(e,e-t+1)}function i(e,t){const n=t.length,r=(e%n+n)%n;return t.slice(r,n).concat(t.slice(0,r))}function a(e){return e.filter((e=>0===e||e))}n.d(t,{e$:()=>i,oE:()=>a,y1:()=>r})},24113:(e,t,n)=>{"use strict";var r=n(3244);n(18492),n(47630),n(33319),r.kR},80814:(e,t,n)=>{"use strict";var r=[];[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]].forEach((([e,t,n])=>function(e,t,n){r.push({empty:!1,dots:"",name:"",value:1/e,fraction:e<1?[1/e,1]:[1,e],shorthand:t,names:n})}(e,t,n)))},26503:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>f,CR:()=>o,Re:()=>h,wY:()=>d});var r=n(18492),i=n(47630),a=i.YP;function o(e){const t=(0,i.YP)(e);return t.empty?"":t.simple+t.q}var s=[1,2,2,3,3,4,5,5,6,6,7,7],c="P m M m M P d P m M m M".split(" "),l=r.Io,u=p(((e,t)=>[e[0]+t[0],e[1]+t[1]])),h=p(((e,t)=>[e[0]-t[0],e[1]-t[1]]));function d(e,t){const n=a(e);if(n.empty)return"";const[r,o,s]=n.coord;return(0,i.GT)([r+t,o,s]).name}var f={names:function(){return"1P 2M 3M 4P 5P 6m 7m".split(" ")},get:a,name:e=>(0,i.YP)(e).name,num:e=>(0,i.YP)(e).num,semitones:e=>(0,i.YP)(e).semitones,quality:e=>(0,i.YP)(e).q,fromSemitones:function(e){const t=e<0?-1:1,n=Math.abs(e),r=n%12,i=Math.floor(n/12);return t*(s[r]+7*i)+c[r]},distance:l,invert:function(e){const t=(0,i.YP)(e);if(t.empty)return"";const n=(7-t.step)%7,r="perfectable"===t.type?-t.alt:-(t.alt+1);return(0,i.YP)({step:n,alt:r,oct:t.oct,dir:t.dir}).name},simplify:o,add:u,addTo:e=>t=>u(e,t),subtract:h,transposeFifths:d};function p(e){return(t,n)=>{const r=(0,i.YP)(t).coord,a=(0,i.YP)(n).coord;if(r&&a){const t=e(r,a);return(0,i.GT)(t).name}}}},70157:(e,t,n)=>{"use strict";var r=n(86470),i=(n(33319),n(43560)),a=(Object.freeze([]),(e,t,n="")=>t.map(((t,r)=>`${e[r]}${n}${t}`)));function o(e,t,n,o,c){return l=>{const u=e.map((e=>(0,i.Jt)(e).interval||"")),h=u.map((e=>(0,r.mg)(l,e))),d=a(h,n),f=h.map((e=>(0,r.mg)(e,"5P"))).map((e=>h.includes(e)&&!d.includes(e+"7")?e+"7":"")),p=s(f,t),m=f.map((e=>{if(!e)return"";const t=e.slice(0,-1);return(0,r.mg)(t,"5d")+"7"})),g=s(m,t);return{tonic:l,grades:e,intervals:u,scale:h,triads:a(h,t),chords:d,chordsHarmonicFunction:o.slice(),chordScales:a(h,c," "),secondaryDominants:f,secondaryDominantSupertonics:p,substituteDominants:m,substituteDominantSupertonics:g,secondaryDominantsMinorRelative:p,substituteDominantsMinorRelative:g}}}var s=(e,t)=>e.map(((e,n)=>{if(!e)return"";const i=e.slice(0,-1),a=(0,r.mg)(i,"5P");return t[n].endsWith("m")?a+"m7":a+"m7b5"}));o("I II III IV V VI VII".split(" ")," m m   m dim".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),o("I II bIII IV V bVI bVII".split(" "),"m dim  m m  ".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),o("I II bIII IV V bVI VII".split(" "),"m dim aug m   dim".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),o("I II bIII IV V VI VII".split(" "),"m m aug   dim dim".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D  ".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","))},76331:(e,t,n)=>{"use strict";n.r(t),n.d(t,{chroma:()=>f,default:()=>b,freqToMidi:()=>l,isMidi:()=>i,midiToFreq:()=>o,midiToNoteName:()=>d,pcset:()=>p,pcsetDegrees:()=>v,pcsetNearest:()=>m,pcsetSteps:()=>g,toMidi:()=>a});var r=n(33319);function i(e){return+e>=0&&+e<=127}function a(e){if(i(e))return+e;const t=(0,r.N4)(e);return t.empty?null:t.midi}function o(e,t=440){return Math.pow(2,(e-69)/12)*t}var s=Math.log(2),c=Math.log(440);function l(e){const t=12*(Math.log(e)-c)/s+69;return Math.round(100*t)/100}var u="C C# D D# E F F# G G# A A# B".split(" "),h="C Db D Eb E F Gb G Ab A Bb B".split(" ");function d(e,t={}){if(isNaN(e)||e===-1/0||e===1/0)return"";e=Math.round(e);const n=(!0===t.sharps?u:h)[e%12];return t.pitchClass?n:n+(Math.floor(e/12)-1)}function f(e){return e%12}function p(e){return Array.isArray(e)?e.map(f).sort(((e,t)=>e-t)).filter(((e,t,n)=>0===t||e!==n[t-1])):e.split("").reduce(((e,t,n)=>(n<12&&"1"===t&&e.push(n),e)),[])}function m(e){const t=p(e);return e=>{const n=f(e);for(let r=0;r<12;r++){if(t.includes(n+r))return e+r;if(t.includes(n-r))return e-r}}}function g(e,t){const n=p(e),r=n.length;return e=>{const i=e<0?(r- -e%r)%r:e%r,a=Math.floor(e/r);return n[i]+12*a+t}}function v(e,t){const n=g(e,t);return e=>{if(0!==e)return n(e>0?e-1:e)}}var b={chroma:f,freqToMidi:l,isMidi:i,midiToFreq:o,midiToNoteName:d,pcsetNearest:m,pcset:p,pcsetDegrees:v,pcsetSteps:g,toMidi:a}},83357:(e,t,n)=>{"use strict";var r=n(29154),i=(n(26503),n(15185)),a=n(18492),o=n(27895),s=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],c={...i.r$,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},l=s.map((function(e){const[t,n,r,i,a,s,c]=e,l=c?[c]:[],u=Number(n).toString(2);return{empty:!1,intervals:(0,o.Jt)(i).intervals,modeNum:t,chroma:u,normalized:u,name:i,setNum:n,alt:r,triad:a,seventh:s,aliases:l}})),u={};function h(e){return"string"==typeof e?u[e.toLowerCase()]||c:e&&e.name?h(e.name):c}function d(e){return(t,n)=>{const i=h(t);if(i.empty)return[];const o=(0,r.e$)(i.modeNum,e),s=i.intervals.map((e=>(0,a.mg)(n,e)));return o.map(((e,t)=>s[t]+e))}}l.forEach((e=>{u[e.name]=e,e.aliases.forEach((t=>{u[t]=e}))})),d(s.map((e=>e[4]))),d(s.map((e=>e[5])))},86470:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>w,Ci:()=>u,FT:()=>_,di:()=>y,mg:()=>d,wY:()=>g});var r=n(76331),i=n(18492),a=n(33319),o=["C","D","E","F","G","A","B"],s=e=>e.name,c=e=>e.map(a.N4).filter((e=>!e.empty)),l=a.N4;function u(e){return(0,r.midiToNoteName)(e)}var h=i.Io,d=i.mg,f=i.mg,p=e=>t=>d(t,e),m=e=>t=>d(e,t);function g(e,t){return d(e,[t,0])}var v=(e,t)=>e.height-t.height;function b(e,t){return t=t||v,c(e).sort(t).map(s)}function _(e){return b(e,v).filter(((e,t,n)=>0===t||e!==n[t-1]))}function y(e,t){const n=l(e);if(n.empty)return"";const i=l(t||(0,r.midiToNoteName)(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(i.empty||i.chroma!==n.chroma)return"";if(void 0===n.oct)return i.pc;const a=n.chroma-n.alt,o=i.chroma-i.alt,s=a>11||o<0?-1:a<0||o>11?1:0,c=n.oct+s;return i.pc+c}var w={names:function(e){return void 0===e?o.slice():Array.isArray(e)?c(e).map(s):[]},get:l,name:e=>l(e).name,pitchClass:e=>l(e).pc,accidentals:e=>l(e).acc,octave:e=>l(e).oct,midi:e=>l(e).midi,ascending:v,descending:(e,t)=>t.height-e.height,distance:h,sortedNames:b,sortedUniqNames:_,fromMidi:u,fromMidiSharps:function(e){return(0,r.midiToNoteName)(e,{sharps:!0})},freq:e=>l(e).freq,fromFreq:function(e){return(0,r.midiToNoteName)((0,r.freqToMidi)(e))},fromFreqSharps:function(e){return(0,r.midiToNoteName)((0,r.freqToMidi)(e),{sharps:!0})},chroma:e=>l(e).chroma,transpose:d,tr:f,transposeBy:p,trBy:p,transposeFrom:m,trFrom:m,transposeFifths:g,transposeOctaves:function(e,t){return d(e,[0,t])},trFifths:g,simplify:e=>{const t=l(e);return t.empty?"":(0,r.midiToNoteName)(t.midi||t.chroma,{sharps:t.alt>0,pitchClass:null===t.midi})},enharmonic:y}},15185:(e,t,n)=>{"use strict";n.d(t,{Jt:()=>p,V1:()=>m,Yy:()=>b,jn:()=>_,nI:()=>v,r$:()=>o,tx:()=>u});var r=n(29154),i=(n(18492),n(47630)),a=n(33319),o={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},s=e=>Number(e).toString(2).padStart(12,"0"),c=e=>parseInt(e,2),l=/^[01]{12}$/;function u(e){return l.test(e)}var h=e=>"number"==typeof e&&e>=0&&e<=4095,d=e=>e&&u(e.chroma),f={[o.chroma]:o};function p(e){const t=u(e)?e:h(e)?s(e):Array.isArray(e)?function(e){if(0===e.length)return o.chroma;let t;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<e.length;r++)t=(0,a.N4)(e[r]),t.empty&&(t=(0,i.YP)(e[r])),t.empty||(n[t.chroma]=1);return n.join("")}(e):d(e)?e.chroma:o.chroma;return f[t]=f[t]||function(e){const t=c(e),n=function(e){const t=e.split("");return t.map(((e,n)=>(0,r.e$)(n,t).join("")))}(e).map(c).filter((e=>e>=2048)).sort()[0],i=s(n),a=function(e){const t=[];for(let n=0;n<12;n++)"1"===e.charAt(n)&&t.push(g[n]);return t}(e);return{empty:!1,name:"",setNum:t,chroma:e,normalized:i,intervals:a}}(t)}var m=e=>p(e).chroma,g=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function v(e,t=!0){const n=p(e).chroma.split("");return(0,r.oE)(n.map(((e,i)=>{const a=(0,r.e$)(i,n);return t&&"0"===a[0]?null:a.join("")})))}function b(e){const t=p(e).setNum;return e=>{const n=p(e).setNum;return t&&t!==n&&(n&t)===n}}function _(e){const t=p(e).setNum;return e=>{const n=p(e).setNum;return t&&t!==n&&(n|t)===n}}},18492:(e,t,n)=>{"use strict";n.d(t,{Dk:()=>o,Io:()=>s,mg:()=>a});var r=n(47630),i=n(33319);function a(e,t){const n=(0,i.N4)(e),a=Array.isArray(t)?t:(0,r.YP)(t).coord;if(n.empty||!a||a.length<2)return"";const o=n.coord,s=1===o.length?[o[0]+a[0]]:[o[0]+a[0],o[1]+a[1]];return(0,i.vg)(s).name}function o(e,t){const n=e.length;return r=>{if(!t)return"";const i=r<0?(n- -r%n)%n:r%n,o=Math.floor(r/n),s=a(t,[0,o]);return a(s,e[i])}}function s(e,t){const n=(0,i.N4)(e),a=(0,i.N4)(t);if(n.empty||a.empty)return"";const o=n.coord,s=a.coord,c=s[0]-o[0],l=2===o.length&&2===s.length?s[1]-o[1]:-Math.floor(7*c/12),u=a.height===n.height&&null!==a.midi&&n.oct===a.oct&&n.step>a.step;return(0,r.GT)([c,l],u).name}},47630:(e,t,n)=>{"use strict";n.d(t,{GT:()=>h,YP:()=>c});var r=n(3244),i=(e,t)=>Array(Math.abs(t)+1).join(e),a=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),o=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$"),s={};function c(e){return"string"==typeof e?s[e]||(s[e]=function(e){const t=function(e){const t=o.exec(`${e}`);return null===t?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}(e);if(""===t[0])return a;const n=+t[0],i=t[1],s=(Math.abs(n)-1)%7,c=u[s];if("M"===c&&"P"===i)return a;const h="M"===c?"majorable":"perfectable",d=""+n+i,f=n<0?-1:1,p=8===n||-8===n?n:f*(s+1),m=function(e,t){return"M"===t&&"majorable"===e||"P"===t&&"perfectable"===e?0:"m"===t&&"majorable"===e?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*("perfectable"===e?t.length:t.length+1):0}(h,i),g=Math.floor((Math.abs(n)-1)/7);return{empty:!1,name:d,num:n,q:i,step:s,alt:m,dir:f,type:h,simple:p,semitones:f*(l[s]+m+12*g),chroma:(f*(l[s]+m)%12+12)%12,coord:(0,r.G8)({step:s,alt:m,oct:g,dir:f}),oct:g}}(e)):(0,r.jx)(e)?c(function(e){const{step:t,alt:n,oct:r=0,dir:a}=e;if(!a)return"";const o=t+1+7*r;return(a<0?"-":"")+(0===o?t+1:o)+function(e,t){return 0===t?"majorable"===e?"M":"P":-1===t&&"majorable"===e?"m":t>0?i("A",t):i("d","perfectable"===e?t:t+1)}("M"===u[t]?"majorable":"perfectable",n)}(e)):(0,r.kR)(e)?c(e.name):a}var l=[0,2,4,5,7,9,11],u="PMMPPMM";function h(e,t){const[n,i=0]=e,a=t||7*n+12*i<0?[-n,-i,-1]:[n,i,1];return c((0,r.H7)(a))}},33319:(e,t,n)=>{"use strict";n.d(t,{N4:()=>u,W8:()=>d,u3:()=>c,vg:()=>f,y9:()=>l});var r=n(3244),i=(e,t)=>Array(Math.abs(t)+1).join(e),a=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),o=new Map,s=e=>"CDEFGAB".charAt(e),c=e=>e<0?i("b",-e):i("#",e),l=e=>"b"===e[0]?-e.length:e.length;function u(e){const t=JSON.stringify(e),n=o.get(t);if(n)return n;const i="string"==typeof e?function(e){const t=d(e);if(""===t[0]||""!==t[3])return a;const n=t[0],i=t[1],o=t[2],s=(n.charCodeAt(0)+3)%7,c=l(i),u=o.length?+o:void 0,h=(0,r.G8)({step:s,alt:c,oct:u}),f=n+i+o,g=n+i,v=(m[s]+c+120)%12,b=void 0===u?p(m[s]+c,12)-1188:m[s]+c+12*(u+1),_=b>=0&&b<=127?b:null;return{empty:!1,acc:i,alt:c,chroma:v,coord:h,freq:void 0===u?null:440*Math.pow(2,(b-69)/12),height:b,letter:n,midi:_,name:f,oct:u,pc:g,step:s}}(e):(0,r.jx)(e)?u(function(e){const{step:t,alt:n,oct:r}=e,i=s(t);if(!i)return"";const a=i+c(n);return r||0===r?a+r:a}(e)):(0,r.kR)(e)?u(e.name):a;return o.set(t,i),i}var h=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function d(e){const t=h.exec(e);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:["","","",""]}function f(e){return u((0,r.H7)(e))}var p=(e,t)=>(e%t+t)%t,m=[0,2,4,5,7,9,11]},3244:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e&&"name"in e&&"string"==typeof e.name}function i(e){return null!==e&&"object"==typeof e&&"step"in e&&"number"==typeof e.step&&"alt"in e&&"number"==typeof e.alt&&!isNaN(e.step)&&!isNaN(e.alt)}n.d(t,{G8:()=>s,H7:()=>l,jx:()=>i,kR:()=>r});var a=[0,2,4,-1,1,3,5],o=a.map((e=>Math.floor(7*e/12)));function s(e){const{step:t,alt:n,oct:r,dir:i=1}=e,s=a[t]+7*n;return void 0===r?[i*s]:[i*s,i*(r-o[t]-4*n)]}var c=[3,0,4,1,5,2,6];function l(e){const[t,n,r]=e,i=c[function(e){const t=(e+1)%7;return t<0?7+t:t}(t)],a=Math.floor((t+1)/7);return void 0===n?{step:i,alt:a,dir:r}:{step:i,alt:a,oct:n+4*a+o[i],dir:r}}},77249:(e,t,n)=>{"use strict";n(30168),n(18492),n(47630),n(43560)},58607:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>o});var r=n(29154),i=n(76331);function a(e){const t=(0,r.oE)(e.map((e=>"number"==typeof e?e:(0,i.toMidi)(e))));return e.length&&t.length===e.length?t.reduce(((e,t)=>{const n=e[e.length-1];return e.concat((0,r.y1)(n,t).slice(1))}),[t[0]]):[]}var o={numeric:a,chromatic:function(e,t){return a(e).map((e=>(0,i.midiToNoteName)(e,t)))}}},43560:(e,t,n)=>{"use strict";n.d(t,{Jt:()=>c});var r=n(3244),i=n(47630),a=n(33319),o={empty:!0,name:"",chordType:""},s={};function c(e){return"string"==typeof e?s[e]||(s[e]=function(e){const[t,n,r,s]=(c=e,l.exec(c)||["","","",""]);var c;if(!r)return o;const u=r.toUpperCase(),d=h.indexOf(u),f=(0,a.y9)(n);return{empty:!1,name:t,roman:r,interval:(0,i.YP)({step:d,alt:f,dir:1}).name,acc:n,chordType:s,alt:f,step:d,major:r===u,oct:0,dir:1}}(e)):"number"==typeof e?c(h[e]||""):(0,r.jx)(e)?(t=e,c((0,a.u3)(t.alt)+h[t.step])):(0,r.kR)(e)?c(e.name):o;var t}var l=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/,u="I II III IV V VI VII",h=u.split(" ");u.toLowerCase().split(" ")},27895:(e,t,n)=>{"use strict";n.d(t,{Dy:()=>s,Jt:()=>c,Q7:()=>l});var r=n(15185),i={...r.r$,intervals:[],aliases:[]},a=[],o={};function s(){return a.map((e=>e.name))}function c(e){return o[e]||i}function l(){return a.slice()}[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]].forEach((([e,t,...n])=>function(e,t,n=[]){const i={...(0,r.Jt)(e),name:t,intervals:e,aliases:n};return a.push(i),o[i.name]=i,o[i.setNum]=i,o[i.chroma]=i,i.aliases.forEach((e=>function(e,t){o[t]=e}(i,e))),i}(e.split(" "),t,n)))},8676:(e,t,n)=>{"use strict";n(75355),n(29154),n(86470),n(15185),n(18492),n(33319),n(27895).Dy},55564:(e,t,n)=>{},8323:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(86470),i={topNoteDiff:(e,t)=>{if(!t||!t.length)return e[0];const n=e=>r.Ay.midi(e[e.length-1])||0,i=e=>Math.abs(n(t)-n(e));return e.sort(((e,t)=>i(e)-i(t)))[0]}}},98210:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>o});var r=n(30168),i={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},a=i,o={lookup:function(e,t=a){if(t[e])return t[e];const{aliases:n}=r.Ay.get("C"+e),i=Object.keys(t).find((e=>n.includes(e)))||"";return void 0!==i?t[i]:void 0},lefthand:i,triads:{M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]},all:{M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"],m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},defaultDictionary:i}},8327:(e,t,n)=>{"use strict";n(30168),n(26503),n(86470),n(58607);var r=n(8323);n(98210).Ay.all,r.A.topNoteDiff},17354:(e,t,n)=>{"use strict";n.d(t,{Dt:()=>r.Dt,HF:()=>r.HF,LD:()=>r.LD,eN:()=>r.eN,hG:()=>r.hG,hg:()=>r.hg,xI:()=>r.xI});var r=n(22151)},491:(e,t,n)=>{"use strict";n.d(t,{Dc:()=>r.Dc,GG:()=>r.GG,GV:()=>r.GV,H9:()=>r.H9,Ix:()=>r.Ix,My:()=>r.My,O5:()=>r.O5,P:()=>r.P,_M:()=>r._M,aQ:()=>r.aQ,aU:()=>r.aU,c4:()=>r.c4,rJ:()=>r.rJ,x7:()=>r.x7});var r=n(20234)},45271:(e,t,n)=>{"use strict";n.d(t,{Qg:()=>r.Qg,Uz:()=>r.Uz});var r=n(5442)},10962:(e,t,n)=>{"use strict";n.d(t,{LF:()=>l,M$:()=>a,M9:()=>f,Z6:()=>c,ZG:()=>i,ac:()=>s,lK:()=>h});var r={noteOff:8,noteOn:9,noteAftertouch:10,controller:11,programChange:12,channelAftertouch:13,pitchBend:14},i=["Bank Select","Modulation","Breath Controller","Undefined","Foot Pedal","Portamento Time","Data Entry","Volume","Undefined","Balance","Pan","Expression","Effect Control 1","Effect Control 2","Undefined","Undefined","Ribbon Controller or General Purpose Slider 1","Knob 1 or General Purpose Slider 2","General Purpose Slider 3","Knob 2 or General Purpose Slider 4","Knob 3 or Undefined","Knob 4 or Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Bank Select","Modulation Wheel","Breath controller","Undefined","Foot Pedal","Portamento Time","Data Entry","Volume","Balance","Undefined","Pan position","Expression","Effect Control 1","Effect Control 2","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Hold Pedal","Portamento","Sustenuto Pedal","Soft Pedal","Legato Pedal","Hold 2 Pedal","Sound Variation","Resonance","Sound Release Time","Sound Attack Time","Frequency Cutoff","Sound Control 6","Sound Control 7","Sound Control 8","Sound Control 9","Sound Control 10","Decay","High Pass Filter Frequency","General Purpose Button 3","General Purpose Button 4","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Reverb Level","Tremolo Level","Chorus Level","Detune","Phaser Level","Data Button Increment","Data Button Decrement","NRPN (LSB)","NRPN (MSB)","RPN (LSB)","RPN (MSB)","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","All Sound Off","All Controllers Off","Local Keyboard","All Notes Off","Omni Mode Off","Omni Mode On","Mono Operation","Poly Operation"],a={MSB_BANK:0,MSB_MODWHEEL:1,MSB_BREATH:2,MSB_FOOT:4,MSB_PORTAMENTO_TIME:5,MSB_DATA_ENTRY:6,MSB_MAIN_VOLUME:7,MSB_BALANCE:8,MSB_PAN:10,MSB_EXPRESSION:11,MSB_EFFECT1:12,MSB_EFFECT2:13,MSB_GENERAL_PURPOSE1:16,MSB_GENERAL_PURPOSE2:17,MSB_GENERAL_PURPOSE3:18,MSB_GENERAL_PURPOSE4:19,LSB_BANK:32,LSB_MODWHEEL:33,LSB_BREATH:34,LSB_FOOT:36,LSB_PORTAMENTO_TIME:37,LSB_DATA_ENTRY:38,LSB_MAIN_VOLUME:39,LSB_BALANCE:40,LSB_PAN:42,LSB_EXPRESSION:43,LSB_EFFECT1:44,LSB_EFFECT2:45,LSB_GENERAL_PURPOSE1:48,LSB_GENERAL_PURPOSE2:49,LSB_GENERAL_PURPOSE3:50,LSB_GENERAL_PURPOSE4:51,SUSTAIN:64,PORTAMENTO:65,SOSTENUTO:66,SUSTENUTO:66,SOFT_PEDAL:67,LEGATO_FOOTSWITCH:68,HOLD2:69,SC1_SOUND_VARIATION:70,SC2_TIMBRE:71,SC3_RELEASE_TIME:72,SC4_ATTACK_TIME:73,SC5_BRIGHTNESS:74,SC6:75,SC7:76,SC8:77,SC9:78,SC10:79,GENERAL_PURPOSE5:80,GENERAL_PURPOSE6:81,GENERAL_PURPOSE7:82,GENERAL_PURPOSE8:83,PORTAMENTO_CONTROL:84,E1_REVERB_DEPTH:91,E2_TREMOLO_DEPTH:92,E3_CHORUS_DEPTH:93,E4_DETUNE_DEPTH:94,E5_PHASER_DEPTH:95,DATA_INCREMENT:96,DATA_DECREMENT:97,NONREG_PARM_NUM_LSB:98,NONREG_PARM_NUM_MSB:99,REGIST_PARM_NUM_LSB:100,REGIST_PARM_NUM_MSB:101,ALL_SOUNDS_OFF:120,RESET_CONTROLLERS:121,LOCAL_CONTROL_SWITCH:122,ALL_NOTES_OFF:123,OMNI_OFF:124,OMNI_ON:125,MONO1:126,MONO2:127},o={sequenceNumber:0,text:1,copyrightNotice:2,trackName:3,instrumentName:4,lyrics:5,marker:6,cuePoint:7,midiChannelPrefix:32,portPrefix:33,endOfTrack:47,setTempo:81,smpteOffset:84,timeSignature:88,keySignature:89,sequencerSpecific:127};function s(e,t,n,i){void 0===t&&(t=0),void 0===n&&(n=0);var a=e.readInt8();if(240&~a){var s=void 0;128&a?(s=e.readInt8(),null==i||i(a)):(s=a,a=n);var c=15&a;switch(u="channel",a>>4){case r.noteOff:return{deltaTime:t,type:u,channel:c,subtype:"noteOff",noteNumber:s,velocity:e.readInt8()};case r.noteOn:var l=e.readInt8();return{deltaTime:t,type:u,channel:c,subtype:0===l?"noteOff":"noteOn",noteNumber:s,velocity:l};case r.noteAftertouch:return{deltaTime:t,type:u,channel:c,subtype:"noteAftertouch",noteNumber:s,amount:e.readInt8()};case r.controller:return{deltaTime:t,type:u,channel:c,subtype:"controller",controllerType:s,value:e.readInt8()};case r.programChange:return{deltaTime:t,type:u,channel:c,subtype:"programChange",value:s};case r.channelAftertouch:return{deltaTime:t,type:u,channel:c,subtype:"channelAftertouch",amount:s};case r.pitchBend:return{deltaTime:t,type:u,channel:c,subtype:"pitchBend",value:s+(e.readInt8()<<7)};default:return{deltaTime:t,type:u,channel:c,subtype:"unknown",data:e.readInt8()}}}else{if(255!==a){if(240===a)return d=e.readVarInt(),{deltaTime:t,type:"sysEx",data:e.read(d)};if(247===a)return d=e.readVarInt(),{deltaTime:t,type:"dividedSysEx",data:e.read(d)};throw new Error("Unrecognised MIDI event type byte: "+a)}var u="meta",h=e.readInt8(),d=e.readVarInt();switch(h){case o.sequenceNumber:if(2!==d)throw new Error("Expected length for sequenceNumber event is 2, got "+d);return{deltaTime:t,type:u,subtype:"sequenceNumber",number:e.readInt16()};case o.text:return{deltaTime:t,type:u,subtype:"text",text:e.readStr(d)};case o.copyrightNotice:return{deltaTime:t,type:u,subtype:"copyrightNotice",text:e.readStr(d)};case o.trackName:return{deltaTime:t,type:u,subtype:"trackName",text:e.readStr(d)};case o.instrumentName:return{deltaTime:t,type:u,subtype:"instrumentName",text:e.readStr(d)};case o.lyrics:return{deltaTime:t,type:u,subtype:"lyrics",text:e.readStr(d)};case o.marker:return{deltaTime:t,type:u,subtype:"marker",text:e.readStr(d)};case o.cuePoint:return{deltaTime:t,type:u,subtype:"cuePoint",text:e.readStr(d)};case o.midiChannelPrefix:if(1!==d)throw new Error("Expected length for midiChannelPrefix event is 1, got "+d);return{deltaTime:t,type:u,subtype:"midiChannelPrefix",value:e.readInt8()};case o.portPrefix:if(1!==d)throw new Error("Expected length for midiChannelPrefix event is 1, got "+d);return{deltaTime:t,type:u,subtype:"portPrefix",port:e.readInt8()};case o.endOfTrack:if(0!==d)throw new Error("Expected length for endOfTrack event is 0, got "+d);return{deltaTime:t,type:u,subtype:"endOfTrack"};case o.setTempo:if(3!==d)throw new Error("Expected length for setTempo event is 3, got "+d);return{deltaTime:t,type:u,subtype:"setTempo",microsecondsPerBeat:(e.readInt8()<<16)+(e.readInt8()<<8)+e.readInt8()};case o.smpteOffset:if(5!==d)throw new Error("Expected length for smpteOffset event is 5, got "+d);var f=e.readInt8();return{deltaTime:t,type:u,subtype:"smpteOffset",frameRate:{0:24,32:25,64:29,96:30}[96&f],hour:31&f,min:e.readInt8(),sec:e.readInt8(),frame:e.readInt8(),subframe:e.readInt8()};case o.timeSignature:if(4!==d)throw new Error("Expected length for timeSignature event is 4, got "+d);return{deltaTime:t,type:u,subtype:"timeSignature",numerator:e.readInt8(),denominator:Math.pow(2,e.readInt8()),metronome:e.readInt8(),thirtyseconds:e.readInt8()};case o.keySignature:if(2!==d)throw new Error("Expected length for keySignature event is 2, got "+d);return{deltaTime:t,type:u,subtype:"keySignature",key:e.readInt8(!0),scale:e.readInt8()};case o.sequencerSpecific:return{deltaTime:t,type:u,subtype:"sequencerSpecific",data:e.read(d)};default:return{deltaTime:t,type:u,subtype:"unknown",data:e.read(d)}}}}var c=function(){function e(e){if(this.position=0,e instanceof DataView)this.buf=e;else if(e instanceof ArrayBuffer)this.buf=new DataView(e);else if(e instanceof Array)this.buf=new DataView(new Uint8Array(e).buffer);else{if(!(e instanceof Uint8Array))throw new Error("not supported type: "+typeof e);this.buf=new DataView(e.buffer)}}return e.prototype.readByte=function(){return this.buf.getUint8(this.position++)},e.prototype.readStr=function(e){return this.read(e).map((function(e){return String.fromCharCode(e)})).join("")},e.prototype.read=function(e){for(var t=[],n=0;n<e;n++)t.push(this.readByte());return t},e.prototype.readInt32=function(){var e=this.buf.getInt32(this.position,!1);return this.position+=4,e},e.prototype.readInt16=function(){var e=this.buf.getInt16(this.position,!1);return this.position+=2,e},e.prototype.readInt8=function(e){return void 0===e&&(e=!1),e?this.buf.getInt8(this.position++):this.readByte()},e.prototype.eof=function(){return this.position>=this.buf.byteLength},e.prototype.readVarInt=function(){for(var e=0;;){var t=this.readInt8();if(!(128&t))return e+t;e+=127&t,e<<=7}},e}();function l(e){function t(e){var t=e.readStr(4),n=e.readInt32();return{id:t,length:n,data:e.read(n)}}var n=new c(e),r=t(n);if("MThd"!==r.id||6!==r.length)throw new Error("Bad .mid file - header not found");var i=new c(r.data),a=i.readInt16(),o=i.readInt16(),l=i.readInt16();if(32768&l)throw new Error("Expressing time division in SMTPE frames is not supported yet");var u,h={formatType:a,trackCount:o,ticksPerBeat:l};function d(e){return function(e,t,n){void 0===t&&(t=0);var r=e.readVarInt();return s(e,r,t,n)}(e,u,(function(e){return u=e}))}for(var f=[],p=0;p<h.trackCount;p++){f[p]=[];var m=t(n);if("MTrk"!==m.id)throw new Error("Unexpected chunk - expected MTrk, got "+m.id);for(var g=new c(m.data);!g.eof();){var v=d(g);f[p].push(v)}}return{header:h,tracks:f}}function u(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n));return t}function h(e,t){void 0===t&&(t=!0);var n,i=[];function a(e){if(Array.isArray(e))e.forEach(a);else{if(!Number.isInteger(e))throw new Error('"'.concat(e,'" is not integer'));i.push(e)}}function s(e){a(e.length),e.forEach((function(e){return a(e)}))}switch(t&&a(function(e){for(var t=e,n=[127&t];0!=(t>>=7);)n.unshift(128+(127&t));return n}(e.deltaTime)),e.type){case"meta":if(void 0===(l=o[e.subtype]))return[];switch(a(255),a(l),e.subtype){case"sequenceNumber":a(e.number);break;case"text":case"copyrightNotice":case"trackName":case"instrumentName":case"lyrics":case"marker":case"cuePoint":a((n=e.text).length),a(u(n));break;case"midiChannelPrefix":s([e.value]);break;case"portPrefix":s([e.port]);break;case"endOfTrack":a(0);break;case"setTempo":var c=e.microsecondsPerBeat;s([c>>16&255,c>>8&255,255&c]);break;case"smpteOffset":s([{24:0,25:32,29:64,30:96}[e.frameRate]+(31&e.hour),e.min,e.sec,e.frame,e.subframe]);break;case"timeSignature":s([e.numerator,Math.log2(e.denominator),e.metronome,e.thirtyseconds]);break;case"keySignature":s([e.key,e.scale]);break;case"sequencerSpecific":case"unknown":s(e.data)}break;case"sysEx":a(240),s(e.data);break;case"dividedSysEx":a(247),s(e.data);break;case"channel":var l;if(void 0===(l=r[e.subtype]))return[];switch(a((l<<4)+e.channel),e.subtype){case"noteOff":case"noteOn":a(e.noteNumber),a(e.velocity);break;case"noteAftertouch":a(e.noteNumber),a(e.amount);break;case"controller":a(e.controllerType),a(e.value);break;case"programChange":a(e.value);break;case"channelAftertouch":a(e.amount);break;case"pitchBend":a(127&e.value),a(e.value>>7&127);break;case"unknown":a(e.data)}}return i}var d=function(){function e(){this.data=[],this.position=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this.data.length},enumerable:!1,configurable:!0}),e.prototype.writeByte=function(e){this.data.push(e),this.position++},e.prototype.writeStr=function(e){this.writeBytes(u(e))},e.prototype.writeInt32=function(e){this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.writeInt16=function(e){this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.writeBytes=function(e){var t=this;e.forEach((function(e){return t.writeByte(e)}))},e.prototype.writeChunk=function(t,n){this.writeStr(t);var r=new e;n(r),this.writeInt32(r.length),this.writeBytes(r.data)},e.prototype.toBytes=function(){return new Uint8Array(this.data)},e}();function f(e,t){void 0===t&&(t=480);var n=new d;n.writeChunk("MThd",(function(n){n.writeInt16(1),n.writeInt16(e.length),n.writeInt16(t)}));for(var r=function(e){n.writeChunk("MTrk",(function(t){for(var n=0,r=e;n<r.length;n++){var i=r[n];t.writeBytes(h(i))}}))},i=0,a=e;i<a.length;i++)r(a[i]);return n.toBytes()}},38038:(e,t,n)=>{"use strict";n.d(t,{Df:()=>r,IN:()=>i});var r=n(68151),i=(n(45963),n(30168),n(75355),n(29154),n(80814),n(26503),n(70157),n(76331));n(83357),n(86470),n(15185),n(77249),n(58607),n(43560),n(8676),n(27895),n(55564),n(8323),n(8327),n(98210),n(24113)}}]);